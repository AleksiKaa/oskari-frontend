<link rel="import"
      href="libs/polymer/polymer.html">

<link href="libs/vaadin-components/vaadin-components.html" rel="import">

<dom-module id="oskari-statsgrid">

  <template>
    <div id="municipalGrid" class="municipal-grid">
      <vaadin-grid selection-mode="multi">
        <table>
          <!-- Define the columns -->
          <col name="region" header-text="{{selectedLayer}}" width="48">
          <template is="dom-repeat" items="{{indicatorHeaders}}">
            <col name="{{item.id}}" header-text="{{item.header}}" width="54">
          </template>
        </table>
      </vaadin-grid>
      <content></content>
    </div>
  </template>

  <script>
    Polymer({
      "is": "oskari-statsgrid",
      "properties": {
          "selectedLayer": String,
          "layers": Array,
          "indicatorHeaders": Array,
          "rows": Array,
          "selectedIndicators": {
              "type": Array,
              "notify": true
          }
      },
      "observers": [
          "selectedIndicatorsChanged(selectedIndicators.splices)"
      ],
      "selectedIndicatorsChanged": function(splices) {
          console.log("Selected indicators changed to: " + JSON.stringify(splices));
      },
      "handleResponse": function(e) {
          console.log("Got indicators from backend: " + JSON.stringify(e.detail.response));
      }
      
    });
  </script>

</dom-module>

