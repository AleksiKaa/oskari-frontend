/* This is a packed Oskari bundle (bundle script version Tue Jan 10 2012 13:14:39 GMT+0200 (Suomen normaaliaika)) */ 
Oskari.clazz.define("Oskari.mapframework.bundle.DefaultOverviewMapBundleInstance",function(a){this.name="overview";this.mediator=null;this.sandbox=null;this.conf=null;this.impl=null;this.ui=null},{init:function(){},createMapPanel:function(){var a=this.libs.ext;var b=a.create("Ext.Panel",{height:256,region:"center",layout:"fit",items:[]});return b},createMapContainer:function(b){var a=this.libs.ext;var c=a.createWidget("nlsfimappanel",{olmap:b,layout:"absolute"});return c},start:function(){if(this.mediator.getState()=="started"){return}this.libs={ext:Oskari.$("Ext")};var j=Oskari.$("startup");var o=Oskari.$("UI.facade");this.facade=o;var m=o.getSandbox();this.sandbox=m;m.register(this);for(p in this.eventHandlers){m.registerForEventByName(this,p)}this.conf=j;var n=false;var l=false;var b=false;var d=false;var k=Oskari.clazz.create("Oskari.mapframework.ui.module.common.MapModule","Overview",n,l,b,d);k.setStealth(true);this.impl=k;var f=this.createMapPanel();this._panel=f;var a=this.facade.appendExtensionModule(this.impl,this.name,{},this,"E",{fi:{title:""},sv:{title:"?"},en:{title:""}},f);this.def=a;var e=[];e.push("Oskari.mapframework.mapmodule.LayersPlugin");e.push("Oskari.mapframework.mapmodule.WmsLayerPlugin");e.push("Oskari.mapframework.mapmodule.ControlsPlugin");for(var g=0;g<e.length;g++){var h=Oskari.clazz.create(e[g]);k.registerPlugin(h)}var c=this.createMapContainer(this.impl.getMap());this._mapster=c;f.add(c);this.impl.start(m);this.impl.updateCurrentState();this.mediator.setState("started");return this},update:function(d,a,c,e){d.alert("RECEIVED update notification @BUNDLE_INSTANCE: "+e)},stop:function(){this.impl.stop(this.sandbox);this.facade.removeExtensionModule(this.impl,this.name,{},this,this.def);this.def=null;for(p in this.eventHandlers){this.sandbox.unregisterFromEventByName(this,p)}this.sandbox.unregister(this);this.mediator.setState("stopped");return this},onEvent:function(a){return this.eventHandlers[a.getName()].apply(this,[a])},eventHandlers:{MouseHoverEvent:function(a){var c=a.getLat();var b=a.getLon()},AfterMapMoveEvent:function(a){var c=a.getCenterY();var b=a.getCenterX();this.impl.moveMapToLanLot(b,c,a.getZoom());this.mediator.manager.alert("AfterMapMoveEvent "+c+","+b+" @Oskari.mapframework.bundle.DefaultMapModuleBundleInstance "+a.getName())}},getName:function(){return this.__name},__name:"Oskari.mapframework.bundle.DefaultOverviewMapBundleInstance"},{protocol:["Oskari.bundle.BundleInstance","Oskari.mapframework.bundle.extension.Extension"]});