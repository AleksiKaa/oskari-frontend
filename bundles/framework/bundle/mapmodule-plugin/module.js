define([
    "oskari",
    "jquery",
    "bundles/oskari/base/module",
    "bundles/framework/bundle/oskariui/module",
    "bundles/framework/bundle/mapwfs/module",
    "bundles/framework/bundle/mapstats/module",
    "bundles/framework/bundle/mapwmts/module",
    "css!resources/openlayers/theme/default/style.css",
    "./ui/module/map-module",
    "./plugin/Plugin",
    "./plugin/controls/ControlsPlugin",
    "./plugin/controls/PorttiKeyboard",
    "./plugin/controls/PorttiMouse",
    "./request/DisableMapKeyboardMovementRequest",
    "./request/DisableMapMouseMovementRequest",
    "./request/EnableMapKeyboardMovementRequest",
    "./request/EnableMapMouseMovementRequest",
    "./request/MapMovementControlsRequestHandler",
    "./plugin/getinfo/GetFeatureInfoHandler",
    "./request/GetFeatureInfoRequest",
    "./request/GetFeatureInfoActivationRequest",
    "./plugin/getinfo/GetInfoPlugin",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/getinfo/css/getinfo.css",
    "./plugin/markers/MarkersPlugin",
    "./request/RemoveMarkerRequest",
    "./request/MarkerRequestHandler",
    "./plugin/search/SearchPlugin",
    "bundles/framework/bundle/search/service/searchservice",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/search/css/search.css",
    "./plugin/logo/LogoPlugin",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/logo/css/logoplugin.css",
    "./plugin/datasource/DataSourcePlugin",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/datasource/css/datasource.css",
    "./plugin/indexmap/IndexMapPlugin",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/indexmap/css/indexmap.css",
    "./plugin/scalebar/ScaleBarPlugin",
    "./plugin/fullscreen/FullScreen",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/fullscreen/css/fullscreen.css",
    "./plugin/layers/LayerSelectionPlugin",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/layers/css/layersselection.css",
    "./plugin/layers/LayersPlugin",
    "./request/MapLayerVisibilityRequest",
    "./request/MapLayerVisibilityRequestHandler",
    "./request/MapMoveByLayerContentRequest",
    "./request/MapMoveByLayerContentRequestHandler",
    "./event/MapLayerVisibilityChangedEvent",
    "./plugin/wmslayer/WmsLayerPlugin",
    "./plugin/vectorlayer/VectorLayerPlugin",
    "./plugin/location/GeoLocationPlugin",
    "./request/ToolSelectionRequest",
    "./plugin/controls/ToolSelectionHandler",
    "./request/MapLayerUpdateRequest",
    "./request/MapLayerUpdateRequestHandler",
    "./request/MapMoveRequestHandler",
    "./event/MapClickedEvent",
    "./event/EscPressedEvent",
    "./event/GetInfoResultEvent",
    "./event/MapSizeChangedEvent",
    "./request/ClearHistoryRequest",
    "./plugin/controls/ClearHistoryHandler",
    "./plugin/zoombar/Portti2Zoombar",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/portti2zoombar/css/porttizoombar.css",
    "./plugin/panbuttons/PanButtons",
    "css!resources/framework/bundle/mapmodule-plugin/plugin/panbuttons/css/panbuttons.css",
    "css!resources/framework/bundle/mapmodule-plugin/css/mapmodule.css",
    "./locale/fi",
    "./locale/sv",
    "./locale/en"], function(Oskari,jQuery) {
    return Oskari.bundleCls("mapmodule-plugin").category({create: function () {
		return this;
	},update: function (manager, bundle, bi, info) {
		manager.alert("RECEIVED update notification " + info);
	}})
});