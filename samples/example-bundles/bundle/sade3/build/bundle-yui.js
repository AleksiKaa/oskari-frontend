Oskari.clazz.define("Oskari.mapframework.bundle.Sade3Bundle",function(){},{create:function(){this.applyPatches();return Oskari.clazz.create("Oskari.mapframework.bundle.Sade3BundleInstance")},update:function(c,a,b,d){c.alert("RECEIVED update notification "+d)},applyPatches:function(){OpenLayers.Format.WFSDescribeFeatureType.prototype.readers.xsd.element=function(a,f){if(f.elements){var g={};var d=a.attributes;var l;for(var h=0,k=d.length;h<k;++h){l=d[h];g[l.name]=l.value}var m=g.type;if(!m){m={};this.readChildNodes(a,m);g.restriction=m;g.type=m.base}var p=m.base||m;g.localType=p.split(":").pop();f.elements.push(g)}if(f.complexTypes){var b=a.getAttribute("substitutionGroup");var n=null;if(b){var c=b.split(":");var q=c[1];var j=c[0];var e=this.lookupNamespaceURI(a,j);n={featureNS:e,featureName:q}}var m=a.getAttribute("type");var o=m.split(":").pop();f.customTypes[o]={name:a.getAttribute("name"),type:m,substitutionGroup:n}}};OpenLayers.Format.WFSDescribeFeatureType.prototype.readers.xsd.schema=function(d,j){var e=[];var b={};var f={complexTypes:e,customTypes:b};this.readChildNodes(d,f);var g=d.attributes;var l,a;for(var h=0,k=g.length;h<k;++h){l=g[h];a=l.name;if(a.indexOf("xmlns")==0){this.setNamespace(a.split(":")[1]||"",l.value)}else{j[a]=l.value}}j.featureTypes=e;j.targetPrefix=this.namespaceAlias[j.targetNamespace];var m,c;for(var h=0,k=e.length;h<k;++h){m=e[h];c=b[m.typeName];if(b[m.typeName]){m.typeName=c.name;m.substitutionGroup=c.substitutionGroup}}};OpenLayers.Format.WFST.v1_1_0.prototype.filterMap={"&&":"And","||":"Or","!":"Not","==":"PropertyIsEqualTo","!=":"PropertyIsNotEqualTo","<":"PropertyIsLessThan",">":"PropertyIsGreaterThan","<=":"PropertyIsLessThanOrEqualTo",">=":"PropertyIsGreaterThanOrEqualTo","..":"PropertyIsBetween","~":"PropertyIsLike",BBOX:"BBOX",DWITHIN:"DWITHIN",WITHIN:"WITHIN",CONTAINS:"CONTAINS",TOUCHES:"TOUCHES",OVERLAPS:"OVERLAPS",INTERSECTS:"INTERSECTS",EQUALS:"EQUALS"};OpenLayers.Format.WFST.v1_1_0.prototype.getFilterType=function(a){var b=this.filterMap[a.type];if(!b){throw""+this.CLASS_NAME+"Filter writing not supported for rule type: "+a.type}return b};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.writeSpatial=function(c){var e=c.filter;var a=c.name;var f=this.createElementNSPlus("ogc:"+a);this.writeNode("PropertyName",e,f);var g;if(e.value.CLASS_NAME&&e.value.CLASS_NAME.indexOf("OpenLayers.Geometry")!=-1){var b=e.value;var d=this.geometryTypes[b.CLASS_NAME];g=this.writeNode("gml:"+d,b,f);if(this.srsName){g.setAttribute("srsName",this.srsName)}}else{g=this.writeNode("gml:Envelope",e.value)}if(e.projection){g.setAttribute("srsName",e.projection)}f.appendChild(g);return f};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.BBOX=function(a){return this.writeNode("ogc:writeSpatial",{filter:a,name:"BBOX"})};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.DWITHIN=function(a){var b=this.writeNode("ogc:writeSpatial",{filter:a,name:"DWithin"});this.writeNode("Distance",a,b);return b};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.CONTAINS=function(a){return this.writeNode("ogc:writeSpatial",{filter:a,name:"Contains"})};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.WITHIN=function(a){return this.writeNode("ogc:writeSpatial",{filter:a,name:"Within"})};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.TOUCHES=function(a){return this.writeNode("ogc:writeSpatial",{filter:a,name:"Touches"})};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.OVERLAPS=function(a){return this.writeNode("ogc:writeSpatial",{filter:a,name:"Overlaps"})};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.INTERSECTS=function(a){return this.writeNode("ogc:writeSpatial",{filter:a,name:"Intersects"})};OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc.EQUALS=function(a){return this.writeNode("ogc:writeSpatial",{filter:a,name:"Equals"})}}},{protocol:["Oskari.bundle.Bundle","Oskari.mapframework.bundle.extension.ExtensionBundle"],source:{scripts:[{type:"text/css",src:"style.css"},{type:"text/javascript",src:"instance.js"},{type:"text/javascript",src:"layermanager.js"},{type:"text/javascript",src:"Sade3App.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Strategy/TileQueue.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Strategy/QueuedTilesGrid.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Strategy/QueuedTilesStrategy.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Format/GML/ArcInterPoints.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Format/GML/KTJkiiWFS.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Format/GML/WFSResponse.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Format/GML/KTJkiiMappletGML.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Format/GML/KTJkiiAtp.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Format/WFS/WFSCapabilities.js"},{type:"text/javascript",src:"impl/nlsfi-js-lib/NLSFI/OpenLayers/Filter/LogoFilter.js"},{type:"text/javascript",src:"impl/nlsfi-js-app/NLSFI/Worker/Scheduler.js"},{type:"text/javascript",src:"impl/nlsfi-js-app/NLSFI/Worker/WFSWorker.js"},{type:"text/javascript",src:"impl/sade-js-app/SADE/service/KTJkiiWFS.js"},{type:"text/javascript",src:"impl/sade-js-app/SADE/service/NimistoWFS.js"},{type:"text/javascript",src:"impl/sade-js-app/SADE/service/RakennustiedotWFS.js"},{type:"text/javascript",src:"impl/sade-js-app/SADE/service/MaastoWFS.js"},{type:"text/javascript",src:"mapplet.js"},{type:"text/javascript",src:"worker.js"},{type:"text/javascript",src:"locale.js"},{type:"text/javascript",src:"mediator.js"},{type:"text/javascript",src:"ui/form.js"},{type:"text/javascript",src:"ui/ui.js"},{type:"text/javascript",src:"adapter.js"}],resources:[]},bundle:{manifest:{"Bundle-Identifier":"sade3","Bundle-Name":"sade3","Bundle-Icon":{href:"icon.png"},"Bundle-Author":[{Name:"jjk",Organisation:"nls.fi",Temporal:{Start:"2009",End:"2011"},Copyleft:{License:{"License-Name":"EUPL","License-Online-Resource":"http://www.paikkatietoikkuna.fi/license"}}}],"Bundle-Name-Locale":{fi:{Name:"Haku",Title:"Haku"},en:{}},"Bundle-Version":"1.0.0","Import-Namespace":["Oskari","Ext"]}}});
Oskari.bundle_manager.installBundleClass("sade3","Oskari.mapframework.bundle.Sade3Bundle");