/* This is a packed Oskari bundle (bundle script version Wed Nov 30 2011 14:02:48 GMT+0200 (Suomen normaaliaika)) */ 
Proj4js={defaultDatum:"WGS84",transform:function(e,b,a){if(!e.readyToUse||!b.readyToUse){this.reportError("Proj4js initialization for "+e.srsCode+" not yet complete");return a}if((e.srsProjNumber=="900913"&&b.datumCode!="WGS84")||(b.srsProjNumber=="900913"&&e.datumCode!="WGS84")){var d=Proj4js.WGS84;this.transform(e,d,a);e=d}if(e.projName=="longlat"){a.x*=Proj4js.common.D2R;a.y*=Proj4js.common.D2R}else{if(e.to_meter){a.x*=e.to_meter;a.y*=e.to_meter}e.inverse(a)}if(e.from_greenwich){a.x+=e.from_greenwich}a=this.datum_transform(e.datum,b.datum,a);if(b.from_greenwich){a.x-=b.from_greenwich}if(b.projName=="longlat"){a.x*=Proj4js.common.R2D;a.y*=Proj4js.common.R2D}else{b.forward(a);if(b.to_meter){a.x/=b.to_meter;a.y/=b.to_meter}}return a},datum_transform:function(d,b,a){if(d.compare_datums(b)){return a}if(d.datum_type==Proj4js.common.PJD_NODATUM||b.datum_type==Proj4js.common.PJD_NODATUM){return a}if(d.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}if(b.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}if(d.es!=b.es||d.a!=b.a||d.datum_type==Proj4js.common.PJD_3PARAM||d.datum_type==Proj4js.common.PJD_7PARAM||b.datum_type==Proj4js.common.PJD_3PARAM||b.datum_type==Proj4js.common.PJD_7PARAM){d.geodetic_to_geocentric(a);if(d.datum_type==Proj4js.common.PJD_3PARAM||d.datum_type==Proj4js.common.PJD_7PARAM){d.geocentric_to_wgs84(a)}if(b.datum_type==Proj4js.common.PJD_3PARAM||b.datum_type==Proj4js.common.PJD_7PARAM){b.geocentric_from_wgs84(a)}b.geocentric_to_geodetic(a)}if(b.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented yet.")}return a},reportError:function(a){},extend:function(a,e){a=a||{};if(e){for(var d in e){var b=e[d];if(b!==undefined){a[d]=b}}}return a},Class:function(){var b=function(){this.initialize.apply(this,arguments)};var a={};var e;for(var d=0;d<arguments.length;++d){if(typeof arguments[d]=="function"){e=arguments[d].prototype}else{e=arguments[d]}Proj4js.extend(a,e)}b.prototype=a;return b},bind:function(d,b){var a=Array.prototype.slice.apply(arguments,[2]);return function(){var e=a.concat(Array.prototype.slice.apply(arguments,[0]));return d.apply(b,e)}},scriptName:"proj4js-compressed.js",defsLookupService:"http://spatialreference.org/ref",libPath:null,getScriptLocation:function(){if(this.libPath){return this.libPath}var f=this.scriptName;var e=f.length;var a=document.getElementsByTagName("script");for(var d=0;d<a.length;d++){var g=a[d].getAttribute("src");if(g){var b=g.lastIndexOf(f);if((b>-1)&&(b+e==g.length)){this.libPath=g.slice(0,-e);break}}}return this.libPath||""},loadScript:function(e,f,d,a){var b=document.createElement("script");b.defer=false;b.type="text/javascript";b.id=e;b.src=e;b.onload=f;b.onerror=d;b.loadCheck=a;if(/MSIE/.test(navigator.userAgent)){b.onreadystatechange=this.checkReadyState}document.getElementsByTagName("head")[0].appendChild(b)},checkReadyState:function(){if(this.readyState=="loaded"){if(!this.loadCheck()){this.onerror()}else{this.onload()}}}};Proj4js.Proj=Proj4js.Class({readyToUse:false,title:null,projName:null,units:null,datum:null,x0:0,y0:0,initialize:function(d){this.srsCodeInput=d;if(d.indexOf("urn:")==0){var a=d.split(":");if((a[1]=="ogc"||a[1]=="x-ogc")&&(a[2]=="def")&&(a[3]=="crs")){d=a[4]+":"+a[a.length-1]}}else{if(d.indexOf("http://")==0){var b=d.split("#");if(b[0].match(/epsg.org/)){d="EPSG:"+b[1]}else{if(b[0].match(/RIG.xml/)){d="IGNF:"+b[1]}}}}this.srsCode=d.toUpperCase();if(this.srsCode.indexOf("EPSG")==0){this.srsCode=this.srsCode;this.srsAuth="epsg";this.srsProjNumber=this.srsCode.substring(5)}else{if(this.srsCode.indexOf("IGNF")==0){this.srsCode=this.srsCode;this.srsAuth="IGNF";this.srsProjNumber=this.srsCode.substring(5)}else{if(this.srsCode.indexOf("CRS")==0){this.srsCode=this.srsCode;this.srsAuth="CRS";this.srsProjNumber=this.srsCode.substring(4)}else{this.srsAuth="";this.srsProjNumber=this.srsCode}}}this.loadProjDefinition()},loadProjDefinition:function(){if(Proj4js.defs[this.srsCode]){this.defsLoaded();
return}var a=Proj4js.getScriptLocation()+"defs/"+this.srsAuth.toUpperCase()+this.srsProjNumber+".js";Proj4js.loadScript(a,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.loadFromService,this),Proj4js.bind(this.checkDefsLoaded,this))},loadFromService:function(){var a=Proj4js.defsLookupService+"/"+this.srsAuth+"/"+this.srsProjNumber+"/proj4js/";Proj4js.loadScript(a,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.defsFailed,this),Proj4js.bind(this.checkDefsLoaded,this))},defsLoaded:function(){this.parseDefs();this.loadProjCode(this.projName)},checkDefsLoaded:function(){if(Proj4js.defs[this.srsCode]){return true}else{return false}},defsFailed:function(){Proj4js.reportError("failed to load projection definition for: "+this.srsCode);Proj4js.defs[this.srsCode]=Proj4js.defs.WGS84;this.defsLoaded()},loadProjCode:function(b){if(Proj4js.Proj[b]){this.initTransforms();return}var a=Proj4js.getScriptLocation()+"projCode/"+b+".js";Proj4js.loadScript(a,Proj4js.bind(this.loadProjCodeSuccess,this,b),Proj4js.bind(this.loadProjCodeFailure,this,b),Proj4js.bind(this.checkCodeLoaded,this,b))},loadProjCodeSuccess:function(a){if(Proj4js.Proj[a].dependsOn){this.loadProjCode(Proj4js.Proj[a].dependsOn)}else{this.initTransforms()}},loadProjCodeFailure:function(a){Proj4js.reportError("failed to find projection file for: "+a)},checkCodeLoaded:function(a){if(Proj4js.Proj[a]){return true}else{return false}},initTransforms:function(){Proj4js.extend(this,Proj4js.Proj[this.projName]);this.init();this.readyToUse=true},parseDefs:function(){this.defData=Proj4js.defs[this.srsCode];var e,b;if(!this.defData){return}var a=this.defData.split("+");for(var f=0;f<a.length;f++){var d=a[f].split("=");e=d[0].toLowerCase();b=d[1];switch(e.replace(/\s/gi,"")){case"":break;case"title":this.title=b;break;case"proj":this.projName=b.replace(/\s/gi,"");break;case"units":this.units=b.replace(/\s/gi,"");break;case"datum":this.datumCode=b.replace(/\s/gi,"");break;case"nadgrids":this.nagrids=b.replace(/\s/gi,"");break;case"ellps":this.ellps=b.replace(/\s/gi,"");break;case"a":this.a=parseFloat(b);break;case"b":this.b=parseFloat(b);break;case"rf":this.rf=parseFloat(b);break;case"lat_0":this.lat0=b*Proj4js.common.D2R;break;case"lat_1":this.lat1=b*Proj4js.common.D2R;break;case"lat_2":this.lat2=b*Proj4js.common.D2R;break;case"lat_ts":this.lat_ts=b*Proj4js.common.D2R;break;case"lon_0":this.long0=b*Proj4js.common.D2R;break;case"alpha":this.alpha=parseFloat(b)*Proj4js.common.D2R;break;case"lonc":this.longc=b*Proj4js.common.D2R;break;case"x_0":this.x0=parseFloat(b);break;case"y_0":this.y0=parseFloat(b);break;case"k_0":this.k0=parseFloat(b);break;case"k":this.k0=parseFloat(b);break;case"r_a":this.R_A=true;break;case"zone":this.zone=parseInt(b);break;case"south":this.utmSouth=true;break;case"towgs84":this.datum_params=b.split(",");break;case"to_meter":this.to_meter=parseFloat(b);break;case"from_greenwich":this.from_greenwich=b*Proj4js.common.D2R;break;case"pm":b=b.replace(/\s/gi,"");this.from_greenwich=Proj4js.PrimeMeridian[b]?Proj4js.PrimeMeridian[b]:parseFloat(b);this.from_greenwich*=Proj4js.common.D2R;break;case"no_defs":break;default:}}this.deriveConstants()},deriveConstants:function(){if(this.nagrids=="@null"){this.datumCode="none"}if(this.datumCode&&this.datumCode!="none"){var a=Proj4js.Datum[this.datumCode];if(a){this.datum_params=a.towgs84?a.towgs84.split(","):null;this.ellps=a.ellipse;this.datumName=a.datumName?a.datumName:this.datumCode}}if(!this.a){var b=Proj4js.Ellipsoid[this.ellps]?Proj4js.Ellipsoid[this.ellps]:Proj4js.Ellipsoid.WGS84;Proj4js.extend(this,b)}if(this.rf&&!this.b){this.b=(1-1/this.rf)*this.a}if(Math.abs(this.a-this.b)<Proj4js.common.EPSLN){this.sphere=true;this.b=this.a}this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=(this.a2-this.b2)/this.a2;this.e=Math.sqrt(this.es);if(this.R_A){this.a*=1-this.es*(Proj4js.common.SIXTH+this.es*(Proj4js.common.RA4+this.es*Proj4js.common.RA6));this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=0}this.ep2=(this.a2-this.b2)/this.b2;if(!this.k0){this.k0=1}this.datum=new Proj4js.datum(this)}});Proj4js.Proj.longlat={init:function(){},forward:function(a){return a
},inverse:function(a){return a}};Proj4js.defs={WGS84:"+title=long/lat:WGS84 +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4326":"+title=long/lat:WGS84 +proj=longlat +a=6378137.0 +b=6356752.31424518 +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4269":"+title=long/lat:NAD83 +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees","EPSG:3785":"+title= Google Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"};Proj4js.defs.GOOGLE=Proj4js.defs["EPSG:3785"];Proj4js.defs["EPSG:900913"]=Proj4js.defs["EPSG:3785"];Proj4js.defs["EPSG:102113"]=Proj4js.defs["EPSG:3785"];Proj4js.common={PI:3.141592653589793,HALF_PI:1.5707963267948966,TWO_PI:6.283185307179586,FORTPI:0.7853981633974483,R2D:57.29577951308232,D2R:0.017453292519943295,SEC_TO_RAD:0.00000484813681109536,EPSLN:1e-10,MAX_ITER:20,COS_67P5:0.3826834323650898,AD_C:1.0026,PJD_UNKNOWN:0,PJD_3PARAM:1,PJD_7PARAM:2,PJD_GRIDSHIFT:3,PJD_WGS84:4,PJD_NODATUM:5,SRS_WGS84_SEMIMAJOR:6378137,SIXTH:0.16666666666666666,RA4:0.04722222222222222,RA6:0.022156084656084655,RV4:0.06944444444444445,RV6:0.04243827160493827,msfnz:function(d,b,e){var a=d*b;return e/(Math.sqrt(1-a*a))},tsfnz:function(f,e,d){var a=f*d;var b=0.5*f;a=Math.pow(((1-a)/(1+a)),b);return(Math.tan(0.5*(this.HALF_PI-e))/a)},phi2z:function(g,f){var e=0.5*g;var a,b;var d=this.HALF_PI-2*Math.atan(f);for(i=0;i<=15;i++){a=g*Math.sin(d);b=this.HALF_PI-2*Math.atan(f*(Math.pow(((1-a)/(1+a)),e)))-d;d+=b;if(Math.abs(b)<=1e-10){return d}}alert("phi2z has NoConvergence");return(-9999)},qsfnz:function(d,b){var a;if(d>1e-7){a=d*b;return((1-d*d)*(b/(1-a*a)-(0.5/d)*Math.log((1-a)/(1+a))))}else{return(2*b)}},asinz:function(a){if(Math.abs(a)>1){a=(a>1)?1:-1}return Math.asin(a)},e0fn:function(a){return(1-0.25*a*(1+a/16*(3+1.25*a)))},e1fn:function(a){return(0.375*a*(1+0.25*a*(1+0.46875*a)))},e2fn:function(a){return(0.05859375*a*a*(1+0.75*a))},e3fn:function(a){return(a*a*a*(35/3072))},mlfn:function(f,e,d,b,a){return(f*a-e*Math.sin(2*a)+d*Math.sin(4*a)-b*Math.sin(6*a))},srat:function(a,b){return(Math.pow((1-a)/(1+a),b))},sign:function(a){if(a<0){return(-1)}else{return(1)}},adjust_lon:function(a){a=(Math.abs(a)<this.PI)?a:(a-(this.sign(a)*this.TWO_PI));return a},adjust_lat:function(a){a=(Math.abs(a)<this.HALF_PI)?a:(a-(this.sign(a)*this.PI));return a},latiso:function(e,d,b){if(Math.abs(d)>this.HALF_PI){return +Number.NaN}if(d==this.HALF_PI){return Number.POSITIVE_INFINITY}if(d==-1*this.HALF_PI){return -1*Number.POSITIVE_INFINITY}var a=e*b;return Math.log(Math.tan((this.HALF_PI+d)/2))+e*Math.log((1-a)/(1+a))/2},fL:function(b,a){return 2*Math.atan(b*Math.exp(a))-this.HALF_PI},invlatiso:function(f,d){var b=this.fL(1,d);var e=0;var a=0;do{e=b;a=f*Math.sin(e);b=this.fL(Math.exp(f*Math.log((1+a)/(1-a))/2),d)}while(Math.abs(b-e)>1e-12);return b},sinh:function(a){var b=Math.exp(a);b=(b-1/b)/2;return b},cosh:function(a){var b=Math.exp(a);b=(b+1/b)/2;return b},tanh:function(a){var b=Math.exp(a);b=(b-1/b)/(b+1/b);return b},asinh:function(a){var b=(a>=0?1:-1);return b*(Math.log(Math.abs(a)+Math.sqrt(a*a+1)))},acosh:function(a){return 2*Math.log(Math.sqrt((a+1)/2)+Math.sqrt((a-1)/2))},atanh:function(a){return Math.log((a-1)/(a+1))/2},gN:function(b,g,f){var d=g*f;return b/Math.sqrt(1-d*d)}};Proj4js.datum=Proj4js.Class({initialize:function(b){this.datum_type=Proj4js.common.PJD_WGS84;if(b.datumCode&&b.datumCode=="none"){this.datum_type=Proj4js.common.PJD_NODATUM}if(b&&b.datum_params){for(var a=0;a<b.datum_params.length;a++){b.datum_params[a]=parseFloat(b.datum_params[a])}if(b.datum_params[0]!=0||b.datum_params[1]!=0||b.datum_params[2]!=0){this.datum_type=Proj4js.common.PJD_3PARAM}if(b.datum_params.length>3){if(b.datum_params[3]!=0||b.datum_params[4]!=0||b.datum_params[5]!=0||b.datum_params[6]!=0){this.datum_type=Proj4js.common.PJD_7PARAM;b.datum_params[3]*=Proj4js.common.SEC_TO_RAD;b.datum_params[4]*=Proj4js.common.SEC_TO_RAD;b.datum_params[5]*=Proj4js.common.SEC_TO_RAD;b.datum_params[6]=(b.datum_params[6]/1000000)+1}}}if(b){this.a=b.a;this.b=b.b;this.es=b.es;
this.ep2=b.ep2;this.datum_params=b.datum_params}},compare_datums:function(a){if(this.datum_type!=a.datum_type){return false}else{if(this.a!=a.a||Math.abs(this.es-a.es)>5e-11){return false}else{if(this.datum_type==Proj4js.common.PJD_3PARAM){return(this.datum_params[0]==a.datum_params[0]&&this.datum_params[1]==a.datum_params[1]&&this.datum_params[2]==a.datum_params[2])}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){return(this.datum_params[0]==a.datum_params[0]&&this.datum_params[1]==a.datum_params[1]&&this.datum_params[2]==a.datum_params[2]&&this.datum_params[3]==a.datum_params[3]&&this.datum_params[4]==a.datum_params[4]&&this.datum_params[5]==a.datum_params[5]&&this.datum_params[6]==a.datum_params[6])}else{if(this.datum_type==Proj4js.common.PJD_GRIDSHIFT){return strcmp(pj_param(this.params,"snadgrids").s,pj_param(a.params,"snadgrids").s)==0}else{return true}}}}}},geodetic_to_geocentric:function(d){var q=d.x;var j=d.y;var e=d.z?d.z:0;var f;var b;var a;var m=0;var o;var l;var h;var g;if(j<-Proj4js.common.HALF_PI&&j>-1.001*Proj4js.common.HALF_PI){j=-Proj4js.common.HALF_PI}else{if(j>Proj4js.common.HALF_PI&&j<1.001*Proj4js.common.HALF_PI){j=Proj4js.common.HALF_PI}else{if((j<-Proj4js.common.HALF_PI)||(j>Proj4js.common.HALF_PI)){Proj4js.reportError("geocent:lat out of range:"+j);return null}}}if(q>Proj4js.common.PI){q-=(2*Proj4js.common.PI)}l=Math.sin(j);g=Math.cos(j);h=l*l;o=this.a/(Math.sqrt(1-this.es*h));f=(o+e)*g*Math.cos(q);b=(o+e)*g*Math.sin(q);a=((o*(1-this.es))+e)*l;d.x=f;d.y=b;d.z=a;return m},geocentric_to_geodetic:function(C){var H=1e-12;var D=(H*H);var g=30;var q;var j;var a;var u;var b;var r;var o;var G;var F;var m;var z;var w;var f;var E;var h=C.x;var e=C.y;var d=C.z?C.z:0;var l;var B;var v;f=false;q=Math.sqrt(h*h+e*e);j=Math.sqrt(h*h+e*e+d*d);if(q/this.a<H){f=true;l=0;if(j/this.a<H){B=Proj4js.common.HALF_PI;v=-this.b;return}}else{l=Math.atan2(e,h)}a=d/j;u=q/j;b=1/Math.sqrt(1-this.es*(2-this.es)*u*u);G=u*(1-this.es)*b;F=a*b;E=0;do{E++;o=this.a/Math.sqrt(1-this.es*F*F);v=q*G+d*F-o*(1-this.es*F*F);r=this.es*o/(o+v);b=1/Math.sqrt(1-r*(2-r)*u*u);m=u*(1-r)*b;z=a*b;w=z*G-m*F;G=m;F=z}while(w*w>D&&E<g);B=Math.atan(z/Math.abs(m));C.x=l;C.y=B;C.z=v;return C},geocentric_to_geodetic_noniter:function(B){var e=B.x;var d=B.y;var a=B.z?B.z:0;var h;var z;var q;var f;var u;var w;var r;var m;var j;var l;var E;var g;var D;var C;var v;var o;var b;e=parseFloat(e);d=parseFloat(d);a=parseFloat(a);b=false;if(e!=0){h=Math.atan2(d,e)}else{if(d>0){h=Proj4js.common.HALF_PI}else{if(d<0){h=-Proj4js.common.HALF_PI}else{b=true;h=0;if(a>0){z=Proj4js.common.HALF_PI}else{if(a<0){z=-Proj4js.common.HALF_PI}else{z=Proj4js.common.HALF_PI;q=-this.b;return}}}}}u=e*e+d*d;f=Math.sqrt(u);w=a*Proj4js.common.AD_C;m=Math.sqrt(w*w+u);l=w/m;g=f/m;E=l*l*l;r=a+this.b*this.ep2*E;o=f-this.a*this.es*g*g*g;j=Math.sqrt(r*r+o*o);D=r/j;C=o/j;v=this.a/Math.sqrt(1-this.es*D*D);if(C>=Proj4js.common.COS_67P5){q=f/C-v}else{if(C<=-Proj4js.common.COS_67P5){q=f/-C-v}else{q=a/D+v*(this.es-1)}}if(b==false){z=Math.atan(D/C)}B.x=h;B.y=z;B.z=q;return B},geocentric_to_wgs84:function(b){if(this.datum_type==Proj4js.common.PJD_3PARAM){b.x+=this.datum_params[0];b.y+=this.datum_params[1];b.z+=this.datum_params[2]}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){var g=this.datum_params[0];var e=this.datum_params[1];var l=this.datum_params[2];var f=this.datum_params[3];var m=this.datum_params[4];var j=this.datum_params[5];var h=this.datum_params[6];var d=h*(b.x-j*b.y+m*b.z)+g;var a=h*(j*b.x+b.y-f*b.z)+e;var o=h*(-m*b.x+f*b.y+b.z)+l;b.x=d;b.y=a;b.z=o}}},geocentric_from_wgs84:function(d){if(this.datum_type==Proj4js.common.PJD_3PARAM){d.x-=this.datum_params[0];d.y-=this.datum_params[1];d.z-=this.datum_params[2]}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){var h=this.datum_params[0];var e=this.datum_params[1];var m=this.datum_params[2];var g=this.datum_params[3];var o=this.datum_params[4];var l=this.datum_params[5];var j=this.datum_params[6];var f=(d.x-h)/j;var b=(d.y-e)/j;var a=(d.z-m)/j;d.x=f+l*b-o*a;d.y=-l*f+b+g*a;d.z=o*f-g*b+a}}}});Proj4js.Point=Proj4js.Class({initialize:function(a,e,d){if(typeof a=="object"){this.x=a[0];
this.y=a[1];this.z=a[2]||0}else{if(typeof a=="string"){var b=a.split(",");this.x=parseFloat(b[0]);this.y=parseFloat(b[1]);this.z=parseFloat(b[2])||0}else{this.x=a;this.y=e;this.z=d||0}}},clone:function(){return new Proj4js.Point(this.x,this.y,this.z)},toString:function(){return("x="+this.x+",y="+this.y)},toShortString:function(){return(this.x+", "+this.y)}});Proj4js.PrimeMeridian={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};Proj4js.Ellipsoid={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},"APL4.":{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS72:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};Proj4js.Datum={WGS84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},GGRS87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},NAD83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},NAD27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},OSGB36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"}};
Proj4js.WGS84=new Proj4js.Proj("WGS84");Proj4js.Datum.OSB36=Proj4js.Datum.OSGB36;Proj4js.Proj.aea={init:function(){if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("aeaInitEqualLatitudes");return}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e3=Math.sqrt(this.es);this.sin_po=Math.sin(this.lat1);this.cos_po=Math.cos(this.lat1);this.t1=this.sin_po;this.con=this.sin_po;this.ms1=Proj4js.common.msfnz(this.e3,this.sin_po,this.cos_po);this.qs1=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat2);this.cos_po=Math.cos(this.lat2);this.t2=this.sin_po;this.ms2=Proj4js.common.msfnz(this.e3,this.sin_po,this.cos_po);this.qs2=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat0);this.cos_po=Math.cos(this.lat0);this.t3=this.sin_po;this.qs0=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);if(Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN){this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1)}else{this.ns0=this.con}this.c=this.ms1*this.ms1+this.ns0*this.qs1;this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0},forward:function(f){var g=f.x;var e=f.y;this.sin_phi=Math.sin(e);this.cos_phi=Math.cos(e);var b=Proj4js.common.qsfnz(this.e3,this.sin_phi,this.cos_phi);var j=this.a*Math.sqrt(this.c-this.ns0*b)/this.ns0;var d=this.ns0*Proj4js.common.adjust_lon(g-this.long0);var a=j*Math.sin(d)+this.x0;var h=this.rh-j*Math.cos(d)+this.y0;f.x=a;f.y=h;return f},inverse:function(f){var h,a,b,d,g,e;f.x-=this.x0;f.y=this.rh-f.y+this.y0;if(this.ns0>=0){h=Math.sqrt(f.x*f.x+f.y*f.y);b=1}else{h=-Math.sqrt(f.x*f.x+f.y*f.y);b=-1}d=0;if(h!=0){d=Math.atan2(b*f.x,b*f.y)}b=h*this.ns0/this.a;a=(this.c-b*b)/this.ns0;if(this.e3>=1e-10){b=1-0.5*(1-this.es)*Math.log((1-this.e3)/(1+this.e3))/this.e3;if(Math.abs(Math.abs(b)-Math.abs(a))>1e-10){e=this.phi1z(this.e3,a)}else{if(a>=0){e=0.5*PI}else{e=-0.5*PI}}}else{e=this.phi1z(e3,a)}g=Proj4js.common.adjust_lon(d/this.ns0+this.long0);f.x=g;f.y=e;return f},phi1z:function(j,a){var b,d,e;var h=Proj4js.common.asinz(0.5*a);if(j<Proj4js.common.EPSLN){return h}var g=j*j;for(var f=1;f<=25;f++){sinphi=Math.sin(h);cosphi=Math.cos(h);b=j*sinphi;d=1-b*b;e=0.5*d*d/cosphi*(a/(1-g)-sinphi/d+0.5/j*Math.log((1-b)/(1+b)));h=h+e;if(Math.abs(e)<=1e-7){return h}}Proj4js.reportError("aea:phi1z:Convergence error");return null}};Proj4js.Proj.sterea={dependsOn:"gauss",init:function(){Proj4js.Proj.gauss.init.apply(this);if(!this.rc){Proj4js.reportError("sterea:init:E_ERROR_0");return}this.sinc0=Math.sin(this.phic0);this.cosc0=Math.cos(this.phic0);this.R2=2*this.rc;if(!this.title){this.title="Oblique Stereographic Alternative"}},forward:function(a){a.x=Proj4js.common.adjust_lon(a.x-this.long0);Proj4js.Proj.gauss.forward.apply(this,[a]);sinc=Math.sin(a.y);cosc=Math.cos(a.y);cosl=Math.cos(a.x);k=this.k0*this.R2/(1+this.sinc0*sinc+this.cosc0*cosc*cosl);a.x=k*cosc*Math.sin(a.x);a.y=k*(this.cosc0*sinc-this.sinc0*cosc*cosl);a.x=this.a*a.x+this.x0;a.y=this.a*a.y+this.y0;return a},inverse:function(b){var d,a;b.x=(b.x-this.x0)/this.a;b.y=(b.y-this.y0)/this.a;b.x/=this.k0;b.y/=this.k0;if((rho=Math.sqrt(b.x*b.x+b.y*b.y))){c=2*Math.atan2(rho,this.R2);sinc=Math.sin(c);cosc=Math.cos(c);a=Math.asin(cosc*this.sinc0+b.y*sinc*this.cosc0/rho);d=Math.atan2(b.x*sinc,rho*this.cosc0*cosc-b.y*this.sinc0*sinc)}else{a=this.phic0;d=0}b.x=d;b.y=a;Proj4js.Proj.gauss.inverse.apply(this,[b]);b.x=Proj4js.common.adjust_lon(b.x+this.long0);return b}};function phi4z(e,l,j,h,g,D,C,B,f){var m,z,v,w,r,q,p,o,d,u;f=D;for(u=1;u<=15;u++){m=Math.sin(f);tanphi=Math.tan(f);B=tanphi*Math.sqrt(1-e*m*m);z=Math.sin(2*f);w=l*f-j*z+h*Math.sin(4*f)-g*Math.sin(6*f);r=l-2*j*Math.cos(2*f)+4*h*Math.cos(4*f)-6*g*Math.cos(6*f);q=2*w+B*(w*w+C)-2*D*(B*w+1);p=e*z*(w*w+C-2*D*w)/(2*B);o=2*(D-w)*(B*r-2/z)-2*r;d=q/(p+o);f+=d;if(Math.abs(d)<=1e-10){return(f)}}Proj4js.reportError("phi4z: No convergence");return null}function e4fn(a){var b,d;b=1+a;d=1-a;return(Math.sqrt((Math.pow(b,b))*(Math.pow(d,d))))}Proj4js.Proj.poly={init:function(){var a;if(this.lat0=0){this.lat0=90}this.temp=this.b/this.a;
this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var a,g;var j;var m;var f,h;var d;var q,o;var b=e.x;var l=e.y;f=Proj4js.common.adjust_lon(b-this.long0);if(Math.abs(l)<=1e-7){q=this.x0+this.a*f;o=this.y0-this.a*this.ml0}else{a=Math.sin(l);g=Math.cos(l);h=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,l);d=Proj4js.common.msfnz(this.e,a,g);f=a;q=this.x0+this.a*d*Math.sin(f)/a;o=this.y0+this.a*(h-this.ml0+d*(1-Math.cos(f))/a)}e.x=q;e.y=o;return e},inverse:function(d){var o,h;var g;var q;var l;var e,f;var m;var a,j;d.x-=this.x0;d.y-=this.y0;g=this.ml0+d.y/this.a;m=0;if(Math.abs(g)<=1e-7){a=d.x/this.a+this.long0;j=0}else{q=g*g+(d.x/this.a)*(d.x/this.a);m=phi4z(this.es,this.e0,this.e1,this.e2,this.e3,this.al,q,l,j);if(m!=1){return(m)}a=Proj4js.common.adjust_lon((Proj4js.common.asinz(d.x*l/this.a)/Math.sin(j))+this.long0)}d.x=a;d.y=j;return d}};Proj4js.Proj.equi={init:function(){if(!this.x0){this.x0=0}if(!this.y0){this.y0=0}if(!this.lat0){this.lat0=0}if(!this.long0){this.long0=0}},forward:function(e){var f=e.x;var d=e.y;var b=Proj4js.common.adjust_lon(f-this.long0);var a=this.x0+this.a*b*Math.cos(this.lat0);var g=this.y0+this.a*d;this.t1=a;this.t2=Math.cos(this.lat0);e.x=a;e.y=g;return e},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var a=b.y/this.a;if(Math.abs(a)>Proj4js.common.HALF_PI){Proj4js.reportError("equi:Inv:DataError")}var d=Proj4js.common.adjust_lon(this.long0+b.x/(this.a*Math.cos(this.lat0)));b.x=d;b.y=a}};Proj4js.Proj.merc={init:function(){if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=Proj4js.common.msfnz(this.es,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}},forward:function(f){var g=f.x;var e=f.y;if(e*Proj4js.common.R2D>90&&e*Proj4js.common.R2D<-90&&g*Proj4js.common.R2D>180&&g*Proj4js.common.R2D<-180){Proj4js.reportError("merc:forward: llInputOutOfRange: "+g+" : "+e);return null}var a,h;if(Math.abs(Math.abs(e)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN){Proj4js.reportError("merc:forward: ll2mAtPoles");return null}else{if(this.sphere){a=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(g-this.long0);h=this.y0+this.a*this.k0*Math.log(Math.tan(Proj4js.common.FORTPI+0.5*e))}else{var d=Math.sin(e);var b=Proj4js.common.tsfnz(this.e,e,d);a=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(g-this.long0);h=this.y0-this.a*this.k0*Math.log(b)}f.x=a;f.y=h;return f}},inverse:function(e){var a=e.x-this.x0;var g=e.y-this.y0;var f,d;if(this.sphere){d=Proj4js.common.HALF_PI-2*Math.atan(Math.exp(-g/this.a*this.k0))}else{var b=Math.exp(-g/(this.a*this.k0));d=Proj4js.common.phi2z(this.e,b);if(d==-9999){Proj4js.reportError("merc:inverse: lat = -9999");return null}}f=Proj4js.common.adjust_lon(this.long0+a/(this.a*this.k0));e.x=f;e.y=d;return e}};Proj4js.Proj.utm={dependsOn:"tmerc",init:function(){if(!this.zone){Proj4js.reportError("utm:init: zone must be specified for UTM");return}this.lat0=0;this.long0=((6*Math.abs(this.zone))-183)*Proj4js.common.D2R;this.x0=500000;this.y0=this.utmSouth?10000000:0;this.k0=0.9996;Proj4js.Proj.tmerc.init.apply(this);this.forward=Proj4js.Proj.tmerc.forward;this.inverse=Proj4js.Proj.tmerc.inverse}};Proj4js.Proj.eqdc={init:function(){if(!this.mode){this.mode=0}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.sinphi=Math.sin(this.lat1);this.cosphi=Math.cos(this.lat1);this.ms1=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi);this.ml1=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1);if(this.mode!=0){if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("eqdc:Init:EqualLatitudes")}this.sinphi=Math.sin(this.lat2);this.cosphi=Math.cos(this.lat2);this.ms2=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi);this.ml2=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2);
if(Math.abs(this.lat1-this.lat2)>=Proj4js.common.EPSLN){this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)}else{this.ns=this.sinphi}}else{this.ns=this.sinphi}this.g=this.ml1+this.ms1/this.ns;this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0);this.rh=this.a*(this.g-this.ml0)},forward:function(e){var f=e.x;var d=e.y;var j=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,d);var h=this.a*(this.g-j);var b=this.ns*Proj4js.common.adjust_lon(f-this.long0);var a=this.x0+h*Math.sin(b);var g=this.y0+this.rh-h*Math.cos(b);e.x=a;e.y=g;return e},inverse:function(e){e.x-=this.x0;e.y=this.rh-e.y+this.y0;var a,h;if(this.ns>=0){var h=Math.sqrt(e.x*e.x+e.y*e.y);var a=1}else{h=-Math.sqrt(e.x*e.x+e.y*e.y);a=-1}var b=0;if(h!=0){b=Math.atan2(a*e.x,a*e.y)}var g=this.g-h/this.a;var d=this.phi3z(this.ml,this.e0,this.e1,this.e2,this.e3);var f=Proj4js.common.adjust_lon(this.long0+b/this.ns);e.x=f;e.y=d;return e},phi3z:function(j,h,g,f,e){var d;var a;d=j;for(var b=0;b<15;b++){a=(j+g*Math.sin(2*d)-f*Math.sin(4*d)+e*Math.sin(6*d))/h-d;d+=a;if(Math.abs(a)<=1e-10){return d}}Proj4js.reportError("PHI3Z-CONV:Latitude failed to converge after 15 iterations");return null}};Proj4js.Proj.tmerc={init:function(){this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.ml0=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(d){var a=d.x;var q=d.y;var g=Proj4js.common.adjust_lon(a-this.long0);var e;var z,v;var w=Math.sin(q);var m=Math.cos(q);if(this.sphere){var u=m*Math.sin(g);if((Math.abs(Math.abs(u)-1))<1e-10){Proj4js.reportError("tmerc:forward: Point projects into infinity");return(93)}else{z=0.5*this.a*this.k0*Math.log((1+u)/(1-u));e=Math.acos(m*Math.cos(g)/Math.sqrt(1-u*u));if(q<0){e=-e}v=this.a*this.k0*(e-this.lat0)}}else{var l=m*g;var j=Math.pow(l,2);var o=this.ep2*Math.pow(m,2);var r=Math.tan(q);var B=Math.pow(r,2);e=1-this.es*Math.pow(w,2);var f=this.a/Math.sqrt(e);var h=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,q);z=this.k0*f*l*(1+j/6*(1-B+o+j/20*(5-18*B+Math.pow(B,2)+72*o-58*this.ep2)))+this.x0;v=this.k0*(h-this.ml0+f*r*(j*(0.5+j/24*(5-B+9*o+4*Math.pow(o,2)+j/30*(61-58*B+Math.pow(B,2)+600*o-330*this.ep2)))))+this.y0}d.x=z;d.y=v;return d},inverse:function(D){var l,e;var M;var F;var q=6;var o,j;if(this.sphere){var I=Math.exp(D.x/(this.a*this.k0));var H=0.5*(I-1/I);var K=this.lat0+D.y/(this.a*this.k0);var G=Math.cos(K);l=Math.sqrt((1-G*G)/(1+H*H));o=Proj4js.common.asinz(l);if(K<0){o=-o}if((H==0)&&(G==0)){j=this.long0}else{j=Proj4js.common.adjust_lon(Math.atan2(H,G)+this.long0)}}else{var v=D.x-this.x0;var u=D.y-this.y0;l=(this.ml0+u/this.k0)/this.a;e=l;for(F=0;true;F++){M=((l+this.e1*Math.sin(2*e)-this.e2*Math.sin(4*e)+this.e3*Math.sin(6*e))/this.e0)-e;e+=M;if(Math.abs(M)<=Proj4js.common.EPSLN){break}if(F>=q){Proj4js.reportError("tmerc:inverse: Latitude failed to converge");return(95)}}if(Math.abs(e)<Proj4js.common.HALF_PI){var b=Math.sin(e);var N=Math.cos(e);var w=Math.tan(e);var L=this.ep2*Math.pow(N,2);var m=Math.pow(L,2);var z=Math.pow(w,2);var a=Math.pow(z,2);l=1-this.es*Math.pow(b,2);var E=this.a/Math.sqrt(l);var B=E*(1-this.es)/l;var J=v/(E*this.k0);var C=Math.pow(J,2);o=e-(E*w*C/B)*(0.5-C/24*(5+3*z+10*L-4*m-9*this.ep2-C/30*(61+90*z+298*L+45*a-252*this.ep2-3*m)));j=Proj4js.common.adjust_lon(this.long0+(J*(1-C/6*(1+2*z+L-C/20*(5-2*L+28*z-3*m+8*this.ep2+24*a)))/N))}else{o=Proj4js.common.HALF_PI*Proj4js.common.sign(u);j=this.long0}}D.x=j;D.y=o;return D}};Proj4js.defs.GOOGLE="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs";Proj4js.defs["EPSG:900913"]=Proj4js.defs.GOOGLE;Proj4js.Proj.gstmerc={init:function(){var a=this.b/this.a;this.e=Math.sqrt(1-a*a);this.lc=this.long0;this.rs=Math.sqrt(1+this.e*this.e*Math.pow(Math.cos(this.lat0),4)/(1-this.e*this.e));var d=Math.sin(this.lat0);var b=Math.asin(d/this.rs);var e=Math.sin(b);this.cp=Proj4js.common.latiso(0,b,e)-this.rs*Proj4js.common.latiso(this.e,this.lat0,d);this.n2=this.k0*this.a*Math.sqrt(1-this.e*this.e)/(1-this.e*this.e*d*d);
this.xs=this.x0;this.ys=this.y0-this.n2*b;if(!this.title){this.title="Gauss Schreiber transverse mercator"}},forward:function(f){var h=f.x;var e=f.y;var a=this.rs*(h-this.lc);var b=this.cp+(this.rs*Proj4js.common.latiso(this.e,e,Math.sin(e)));var g=Math.asin(Math.sin(a)/Proj4js.common.cosh(b));var d=Proj4js.common.latiso(0,g,Math.sin(g));f.x=this.xs+(this.n2*d);f.y=this.ys+(this.n2*Math.atan(Proj4js.common.sinh(b)/Math.cos(a)));return f},inverse:function(e){var b=e.x;var g=e.y;var a=Math.atan(Proj4js.common.sinh((b-this.xs)/this.n2)/Math.cos((g-this.ys)/this.n2));var f=Math.asin(Math.sin((g-this.ys)/this.n2)/Proj4js.common.cosh((b-this.xs)/this.n2));var d=Proj4js.common.latiso(0,f,Math.sin(f));e.x=this.lc+a/this.rs;e.y=Proj4js.common.invlatiso(this.e,(d-this.cp)/this.rs);return e}};Proj4js.Proj.ortho={init:function(a){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0)},forward:function(d){var a,e;var q;var o;var f;var h;var b=d.x;var j=d.y;q=Proj4js.common.adjust_lon(b-this.long0);a=Math.sin(j);e=Math.cos(j);o=Math.cos(q);h=this.sin_p14*a+this.cos_p14*e*o;f=1;if((h>0)||(Math.abs(h)<=Proj4js.common.EPSLN)){var m=this.a*f*e*Math.sin(q);var l=this.y0+this.a*f*(this.cos_p14*a-this.sin_p14*e*o)}else{Proj4js.reportError("orthoFwdPointError")}d.x=m;d.y=l;return d},inverse:function(b){var h;var g;var e,l;var j;var d;var a,f;b.x-=this.x0;b.y-=this.y0;h=Math.sqrt(b.x*b.x+b.y*b.y);if(h>this.a+1e-7){Proj4js.reportError("orthoInvDataError")}g=Proj4js.common.asinz(h/this.a);e=Math.sin(g);l=Math.cos(g);a=this.long0;if(Math.abs(h)<=Proj4js.common.EPSLN){f=this.lat0}f=Proj4js.common.asinz(l*this.sin_p14+(b.y*e*this.cos_p14)/h);d=Math.abs(lat0)-Proj4js.common.HALF_PI;if(Math.abs(d)<=Proj4js.common.EPSLN){if(this.lat0>=0){a=Proj4js.common.adjust_lon(this.long0+Math.atan2(b.x,-b.y))}else{a=Proj4js.common.adjust_lon(this.long0-Math.atan2(-b.x,b.y))}}d=l-this.sin_p14*Math.sin(f);if((Math.abs(d)>=Proj4js.common.EPSLN)||(Math.abs(x)>=Proj4js.common.EPSLN)){a=Proj4js.common.adjust_lon(this.long0+Math.atan2((b.x*e*this.cos_p14),(d*h)))}b.x=a;b.y=f;return b}};Proj4js.Proj.somerc={init:function(){var b=this.lat0;this.lambda0=this.long0;var a=Math.sin(b);var f=this.a;var d=this.rf;var g=1/d;var j=2*g-Math.pow(g,2);var h=this.e=Math.sqrt(j);this.R=f*Math.sqrt(1-j)/(1-j*Math.pow(a,2));this.alpha=Math.sqrt(1+j/(1-j)*Math.pow(Math.cos(b),4));this.b0=Math.asin(a/this.alpha);this.K=Math.log(Math.tan(Math.PI/4+this.b0/2))-this.alpha*Math.log(Math.tan(Math.PI/4+b/2))+this.alpha*h/2*Math.log((1+h*a)/(1-h*a))},forward:function(g){var l=Math.log(Math.tan(Math.PI/4-g.y/2));var h=this.e/2*Math.log((1+this.e*Math.sin(g.y))/(1-this.e*Math.sin(g.y)));var e=-this.alpha*(l+h)+this.K;var a=2*(Math.atan(Math.exp(e))-Math.PI/4);var d=this.alpha*(g.x-this.lambda0);var j=Math.atan(Math.sin(d)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(d)));var f=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(d));g.y=this.R/2*Math.log((1+Math.sin(f))/(1-Math.sin(f)))+this.y0;g.x=this.R*j+this.x0;return g},inverse:function(e){var d=e.x-this.x0;var f=e.y-this.y0;var q=d/this.R;var g=2*(Math.atan(Math.exp(f/this.R))-Math.PI/4);var m=Math.asin(Math.cos(this.b0)*Math.sin(g)+Math.sin(this.b0)*Math.cos(g)*Math.cos(q));var o=Math.atan(Math.sin(q)/(Math.cos(this.b0)*Math.cos(q)-Math.sin(this.b0)*Math.tan(g)));var l=this.lambda0+o/this.alpha;var j=0;var r=m;var a=-1000;var h=0;while(Math.abs(r-a)>1e-7){if(++h>20){Proj4js.reportError("omercFwdInfinity");return}j=1/this.alpha*(Math.log(Math.tan(Math.PI/4+m/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(r))/2));a=r;r=2*Math.atan(Math.exp(j))-Math.PI/2}e.x=l;e.y=r;return e}};Proj4js.Proj.stere={ssfn_:function(a,d,b){d*=b;return(Math.tan(0.5*(Proj4js.common.HALF_PI+a))*Math.pow((1-d)/(1+d),0.5*b))},TOL:1e-8,NITER:8,CONV:1e-10,S_POLE:0,N_POLE:1,OBLIQ:2,EQUIT:3,init:function(){this.phits=this.lat_ts?this.lat_ts:Proj4js.common.HALF_PI;var a=Math.abs(this.lat0);if((Math.abs(a)-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else{this.mode=a>Proj4js.common.EPSLN?this.OBLIQ:this.EQUIT
}this.phits=Math.abs(this.phits);if(this.es){var b;switch(this.mode){case this.N_POLE:case this.S_POLE:if(Math.abs(this.phits-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.akm1=2*this.k0/Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e))}else{a=Math.sin(this.phits);this.akm1=Math.cos(this.phits)/Proj4js.common.tsfnz(this.e,this.phits,a);a*=this.e;this.akm1/=Math.sqrt(1-a*a)}break;case this.EQUIT:this.akm1=2*this.k0;break;case this.OBLIQ:a=Math.sin(this.lat0);b=2*Math.atan(this.ssfn_(this.lat0,a,this.e))-Proj4js.common.HALF_PI;a*=this.e;this.akm1=2*this.k0*Math.cos(this.lat0)/Math.sqrt(1-a*a);this.sinX1=Math.sin(b);this.cosX1=Math.cos(b);break}}else{switch(this.mode){case this.OBLIQ:this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0);case this.EQUIT:this.akm1=2*this.k0;break;case this.S_POLE:case this.N_POLE:this.akm1=Math.abs(this.phits-Proj4js.common.HALF_PI)>=Proj4js.common.EPSLN?Math.cos(this.phits)/Math.tan(Proj4js.common.FORTPI-0.5*this.phits):2*this.k0;break}}},forward:function(d){var b=d.x;b=Proj4js.common.adjust_lon(b-this.long0);var g=d.y;var l,h;if(this.sphere){var a,e,j,f;a=Math.sin(g);e=Math.cos(g);j=Math.cos(b);f=Math.sin(b);switch(this.mode){case this.EQUIT:h=1+e*j;if(h<=Proj4js.common.EPSLN){F_ERROR}h=this.akm1/h;l=h*e*f;h*=a;break;case this.OBLIQ:h=1+this.sinph0*a+this.cosph0*e*j;if(h<=Proj4js.common.EPSLN){F_ERROR}h=this.akm1/h;l=h*e*f;h*=this.cosph0*a-this.sinph0*e*j;break;case this.N_POLE:j=-j;g=-g;case this.S_POLE:if(Math.abs(g-Proj4js.common.HALF_PI)<this.TOL){F_ERROR}h=this.akm1*Math.tan(Proj4js.common.FORTPI+0.5*g);l=f*h;h*=j;break}}else{j=Math.cos(b);f=Math.sin(b);a=Math.sin(g);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){X=2*Math.atan(this.ssfn_(g,a,this.e));sinX=Math.sin(X-Proj4js.common.HALF_PI);cosX=Math.cos(X)}switch(this.mode){case this.OBLIQ:A=this.akm1/(this.cosX1*(1+this.sinX1*sinX+this.cosX1*cosX*j));h=A*(this.cosX1*sinX-this.sinX1*cosX*j);l=A*cosX;break;case this.EQUIT:A=2*this.akm1/(1+cosX*j);h=A*sinX;l=A*cosX;break;case this.S_POLE:g=-g;j=-j;a=-a;case this.N_POLE:l=this.akm1*Proj4js.common.tsfnz(this.e,g,a);h=-l*j;break}l=l*f}d.x=l*this.a+this.x0;d.y=h*this.a+this.y0;return d},inverse:function(d){var v=(d.x-this.x0)/this.a;var q=(d.y-this.y0)/this.a;var b,o;var h,a,u=0,e=0,r,g=0,l=0;var j;if(this.sphere){var m,w,f,z;w=Math.sqrt(v*v+q*q);m=2*Math.atan(w/this.akm1);f=Math.sin(m);z=Math.cos(m);b=0;switch(this.mode){case this.EQUIT:if(Math.abs(w)<=Proj4js.common.EPSLN){o=0}else{o=Math.asin(q*f/w)}if(z!=0||v!=0){b=Math.atan2(v*f,z*w)}break;case this.OBLIQ:if(Math.abs(w)<=Proj4js.common.EPSLN){o=this.phi0}else{o=Math.asin(z*sinph0+q*f*cosph0/w)}m=z-sinph0*Math.sin(o);if(m!=0||v!=0){b=Math.atan2(v*f*cosph0,m*w)}break;case this.N_POLE:q=-q;case this.S_POLE:if(Math.abs(w)<=Proj4js.common.EPSLN){o=this.phi0}else{o=Math.asin(this.mode==this.S_POLE?-z:z)}b=(v==0&&q==0)?0:Math.atan2(v,q);break}}else{r=Math.sqrt(v*v+q*q);switch(this.mode){case this.OBLIQ:case this.EQUIT:u=2*Math.atan2(r*this.cosX1,this.akm1);h=Math.cos(u);a=Math.sin(u);if(r==0){e=Math.asin(h*this.sinX1)}else{e=Math.asin(h*this.sinX1+(q*a*this.cosX1/r))}u=Math.tan(0.5*(Proj4js.common.HALF_PI+e));v*=a;q=r*this.cosX1*h-q*this.sinX1*a;l=Proj4js.common.HALF_PI;g=0.5*this.e;break;case this.N_POLE:q=-q;case this.S_POLE:u=-r/this.akm1;e=Proj4js.common.HALF_PI-2*Math.atan(u);l=-Proj4js.common.HALF_PI;g=-0.5*this.e;break}for(j=this.NITER;j--;e=o){a=this.e*Math.sin(e);o=2*Math.atan(u*Math.pow((1+a)/(1-a),g))-l;if(Math.abs(e-o)<this.CONV){if(this.mode==this.S_POLE){o=-o}b=(v==0&&q==0)?0:Math.atan2(v,q);d.x=Proj4js.common.adjust_lon(b+this.long0);d.y=o;return d}}}}};Proj4js.Proj.nzmg={iterations:1,init:function(){this.A=new Array();this.A[1]=+0.6399175073;this.A[2]=-0.1358797613;this.A[3]=+0.063294409;this.A[4]=-0.02526853;this.A[5]=+0.0117879;this.A[6]=-0.0055161;this.A[7]=+0.0026906;this.A[8]=-0.001333;this.A[9]=+0.00067;this.A[10]=-0.00034;this.B_re=new Array();this.B_im=new Array();this.B_re[1]=+0.7557853228;this.B_im[1]=0;this.B_re[2]=+0.249204646;this.B_im[2]=+0.003371507;this.B_re[3]=-0.001541739;this.B_im[3]=+0.04105856;
this.B_re[4]=-0.10162907;this.B_im[4]=+0.01727609;this.B_re[5]=-0.26623489;this.B_im[5]=-0.36249218;this.B_re[6]=-0.6870983;this.B_im[6]=-1.1651967;this.C_re=new Array();this.C_im=new Array();this.C_re[1]=+1.3231270439;this.C_im[1]=0;this.C_re[2]=-0.577245789;this.C_im[2]=-0.007809598;this.C_re[3]=+0.508307513;this.C_im[3]=-0.112208952;this.C_re[4]=-0.15094762;this.C_im[4]=+0.18200602;this.C_re[5]=+1.01418179;this.C_im[5]=+1.64497696;this.C_re[6]=+1.9660549;this.C_im[6]=+2.5127645;this.D=new Array();this.D[1]=+1.5627014243;this.D[2]=+0.5185406398;this.D[3]=-0.03333098;this.D[4]=-0.1052906;this.D[5]=-0.0368594;this.D[6]=+0.007317;this.D[7]=+0.0122;this.D[8]=+0.00394;this.D[9]=-0.0013},forward:function(d){var b=d.x;var u=d.y;var z=u-this.lat0;var l=b-this.long0;var e=z/Proj4js.common.SEC_TO_RAD*0.00001;var a=l;var o=1;var j=0;for(n=1;n<=10;n++){o=o*e;j=j+this.A[n]*o}var m=j;var g=a;var q=1;var h=0;var w;var f;var v=0;var r=0;for(n=1;n<=6;n++){w=q*m-h*g;f=h*m+q*g;q=w;h=f;v=v+this.B_re[n]*q-this.B_im[n]*h;r=r+this.B_im[n]*q+this.B_re[n]*h}x=(r*this.a)+this.x0;y=(v*this.a)+this.y0;d.x=x;d.y=y;return d},inverse:function(B){var v=B.x;var u=B.y;var F=v-this.x0;var E=u-this.y0;var r=E/this.a;var f=F/this.a;var l=1;var L=0;var g;var I;var m=0;var a=0;for(n=1;n<=6;n++){g=l*r-L*f;I=L*r+l*f;l=g;L=I;m=m+this.C_re[n]*l-this.C_im[n]*L;a=a+this.C_im[n]*l+this.C_re[n]*L}for(i=0;i<this.iterations;i++){var w=m;var j=a;var D;var z;var d=r;var H=f;for(n=2;n<=6;n++){D=w*m-j*a;z=j*m+w*a;w=D;j=z;d=d+(n-1)*(this.B_re[n]*w-this.B_im[n]*j);H=H+(n-1)*(this.B_im[n]*w+this.B_re[n]*j)}w=1;j=0;var b=this.B_re[1];var G=this.B_im[1];for(n=2;n<=6;n++){D=w*m-j*a;z=j*m+w*a;w=D;j=z;b=b+n*(this.B_re[n]*w-this.B_im[n]*j);G=G+n*(this.B_im[n]*w+this.B_re[n]*j)}var e=b*b+G*G;m=(d*b+H*G)/e;a=(H*b-d*G)/e}var C=m;var q=a;var J=1;var K=0;for(n=1;n<=9;n++){J=J*C;K=K+this.D[n]*J}var o=this.lat0+(K*Proj4js.common.SEC_TO_RAD*100000);var h=this.long0+q;B.x=h;B.y=o;return B}};Proj4js.Proj.mill={init:function(){},forward:function(e){var f=e.x;var d=e.y;var b=Proj4js.common.adjust_lon(f-this.long0);var a=this.x0+this.a*b;var g=this.y0+this.a*Math.log(Math.tan((Proj4js.common.PI/4)+(d/2.5)))*1.25;e.x=a;e.y=g;return e},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var d=Proj4js.common.adjust_lon(this.long0+b.x/this.a);var a=2.5*(Math.atan(Math.exp(0.8*b.y/this.a))-Proj4js.common.PI/4);b.x=d;b.y=a;return b}};Proj4js.Proj.gnom={init:function(a){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1000*this.a},forward:function(d){var a,e;var m;var l;var f;var h;var b=d.x;var j=d.y;m=Proj4js.common.adjust_lon(b-this.long0);a=Math.sin(j);e=Math.cos(j);l=Math.cos(m);h=this.sin_p14*a+this.cos_p14*e*l;f=1;if((h>0)||(Math.abs(h)<=Proj4js.common.EPSLN)){x=this.x0+this.a*f*e*Math.sin(m)/h;y=this.y0+this.a*f*(this.cos_p14*a-this.sin_p14*e*l)/h}else{Proj4js.reportError("orthoFwdPointError");x=this.x0+this.infinity_dist*e*Math.sin(m);y=this.y0+this.infinity_dist*(this.cos_p14*a-this.sin_p14*e*l)}d.x=x;d.y=y;return d},inverse:function(f){var a;var h;var b,d;var j;var g,e;f.x=(f.x-this.x0)/this.a;f.y=(f.y-this.y0)/this.a;f.x/=this.k0;f.y/=this.k0;if((a=Math.sqrt(f.x*f.x+f.y*f.y))){j=Math.atan2(a,this.rc);b=Math.sin(j);d=Math.cos(j);e=Proj4js.common.asinz(d*this.sin_p14+(f.y*b*this.cos_p14)/a);g=Math.atan2(f.x*b,a*this.cos_p14*d-f.y*this.sin_p14*b);g=Proj4js.common.adjust_lon(this.long0+g)}else{e=this.phic0;g=0}f.x=g;f.y=e;return f}};Proj4js.Proj.sinu={init:function(){this.R=6370997},forward:function(e){var a,g,b;var f=e.x;var d=e.y;b=Proj4js.common.adjust_lon(f-this.long0);a=this.R*b*Math.cos(d)+this.x0;g=this.R*d+this.y0;e.x=a;e.y=g;return e},inverse:function(d){var b,a,e;d.x-=this.x0;d.y-=this.y0;b=d.y/this.R;if(Math.abs(b)>Proj4js.common.HALF_PI){Proj4js.reportError("sinu:Inv:DataError")}a=Math.abs(b)-Proj4js.common.HALF_PI;if(Math.abs(a)>Proj4js.common.EPSLN){a=this.long0+d.x/(this.R*Math.cos(b));e=Proj4js.common.adjust_lon(a)}else{e=this.long0}d.x=e;d.y=b;return d}};Proj4js.Proj.vandg={init:function(){this.R=6370997},forward:function(d){var a=d.x;var u=d.y;var B=Proj4js.common.adjust_lon(a-this.long0);
var z,v;if(Math.abs(u)<=Proj4js.common.EPSLN){z=this.x0+this.R*B;v=this.y0}var f=Proj4js.common.asinz(2*Math.abs(u/Proj4js.common.PI));if((Math.abs(B)<=Proj4js.common.EPSLN)||(Math.abs(Math.abs(u)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN)){z=this.x0;if(u>=0){v=this.y0+Proj4js.common.PI*this.R*Math.tan(0.5*f)}else{v=this.y0+Proj4js.common.PI*this.R*-Math.tan(0.5*f)}}var q=0.5*Math.abs((Proj4js.common.PI/B)-(B/Proj4js.common.PI));var e=q*q;var r=Math.sin(f);var o=Math.cos(f);var l=o/(r+o-1);var j=l*l;var h=l*(2/r-1);var w=h*h;var b=Proj4js.common.PI*this.R*(q*(l-w)+Math.sqrt(e*(l-w)*(l-w)-(w+e)*(j-w)))/(w+e);if(B<0){b=-b}z=this.x0+b;b=Math.abs(b/(Proj4js.common.PI*this.R));if(u>=0){v=this.y0+Proj4js.common.PI*this.R*Math.sqrt(1-b*b-2*q*b)}else{v=this.y0-Proj4js.common.PI*this.R*Math.sqrt(1-b*b-2*q*b)}d.x=z;d.y=v;return d},inverse:function(f){var w;var a,q,v,l,j,h;var m,g;var e;var u;var b;var r;var o;f.x-=this.x0;f.y-=this.y0;b=Proj4js.common.PI*this.R;a=f.x/b;q=f.y/b;v=a*a+q*q;l=-Math.abs(q)*(1+v);j=l-2*q*q+a*a;h=-2*l+1+2*q*q+v*v;o=q*q/h+(2*j*j*j/h/h/h-9*l*j/h/h)/27;e=(l-j*j/3/h)/h;u=2*Math.sqrt(-e/3);b=((3*o)/e)/u;if(Math.abs(b)>1){if(b>=0){b=1}else{b=-1}}r=Math.acos(b)/3;if(f.y>=0){lat=(-u*Math.cos(r+Proj4js.common.PI/3)-j/3/h)*Proj4js.common.PI}else{lat=-(-u*Math.cos(r+PI/3)-j/3/h)*Proj4js.common.PI}if(Math.abs(a)<Proj4js.common.EPSLN){lon=this.long0}lon=Proj4js.common.adjust_lon(this.long0+Proj4js.common.PI*(v-1+Math.sqrt(1+2*(a*a-q*q)+v*v))/2/a);f.x=lon;f.y=lat;return f}};Proj4js.Proj.cea={init:function(){},forward:function(d){var e=d.x;var b=d.y;dlon=Proj4js.common.adjust_lon(e-this.long0);var a=this.x0+this.a*dlon*Math.cos(this.lat_ts);var f=this.y0+this.a*Math.sin(b)/Math.cos(this.lat_ts);d.x=a;d.y=f;return d},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var d=Proj4js.common.adjust_lon(this.long0+(b.x/this.a)/Math.cos(this.lat_ts));var a=Math.asin((b.y/this.a)*Math.cos(this.lat_ts));b.x=d;b.y=a;return b}};Proj4js.Proj.eqc={init:function(){if(!this.x0){this.x0=0}if(!this.y0){this.y0=0}if(!this.lat0){this.lat0=0}if(!this.long0){this.long0=0}if(!this.lat_ts){this.lat_ts=0}if(!this.title){this.title="Equidistant Cylindrical (Plate Carre)"}this.rc=Math.cos(this.lat_ts)},forward:function(e){var f=e.x;var d=e.y;var b=Proj4js.common.adjust_lon(f-this.long0);var a=Proj4js.common.adjust_lat(d-this.lat0);e.x=this.x0+(this.a*b*this.rc);e.y=this.y0+(this.a*a);return e},inverse:function(b){var a=b.x;var d=b.y;b.x=Proj4js.common.adjust_lon(this.long0+((a-this.x0)/(this.a*this.rc)));b.y=Proj4js.common.adjust_lat(this.lat0+((d-this.y0)/(this.a)));return b}};Proj4js.Proj.cass={init:function(){if(!this.sphere){this.en=this.pj_enfn(this.es);this.m0=this.pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en)}},C1:0.16666666666666666,C2:0.008333333333333333,C3:0.041666666666666664,C4:0.3333333333333333,C5:0.06666666666666667,forward:function(e){var a,f;var b=e.x;var d=e.y;b=Proj4js.common.adjust_lon(b-this.long0);if(this.sphere){a=Math.asin(Math.cos(d)*Math.sin(b));f=Math.atan2(Math.tan(d),Math.cos(b))-this.phi0}else{this.n=Math.sin(d);this.c=Math.cos(d);f=this.pj_mlfn(d,this.n,this.c,this.en);this.n=1/Math.sqrt(1-this.es*this.n*this.n);this.tn=Math.tan(d);this.t=this.tn*this.tn;this.a1=b*this.c;this.c*=this.es*this.c/(1-this.es);this.a2=this.a1*this.a1;a=this.n*this.a1*(1-this.a2*this.t*(this.C1-(8-this.t+8*this.c)*this.a2*this.C2));f-=this.m0-this.n*this.tn*this.a2*(0.5+(5-this.t+6*this.c)*this.a2*this.C3)}e.x=this.a*a+this.x0;e.y=this.a*f+this.y0;return e},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var a=b.x/this.a;var d=b.y/this.a;if(this.sphere){this.dd=d+this.lat0;phi=Math.asin(Math.sin(this.dd)*Math.cos(a));lam=Math.atan2(Math.tan(a),Math.cos(this.dd))}else{ph1=this.pj_inv_mlfn(this.m0+d,this.es,this.en);this.tn=Math.tan(ph1);this.t=this.tn*this.tn;this.n=Math.sin(ph1);this.r=1/(1-this.es*this.n*this.n);this.n=Math.sqrt(this.r);this.r*=(1-this.es)*this.n;this.dd=a/this.n;this.d2=this.dd*this.dd;phi=ph1-(this.n*this.tn/this.r)*this.d2*(0.5-(1+3*this.t)*this.d2*this.C3);lam=this.dd*(1+this.t*this.d2*(-this.C4+(1+3*this.t)*this.d2*this.C5))/Math.cos(ph1)
}b.x=Proj4js.common.adjust_lon(this.long0+lam);b.y=phi;return b},pj_enfn:function(b){en=new Array();en[0]=this.C00-b*(this.C02+b*(this.C04+b*(this.C06+b*this.C08)));en[1]=b*(this.C22-b*(this.C04+b*(this.C06+b*this.C08)));var a=b*b;en[2]=a*(this.C44-b*(this.C46+b*this.C48));a*=b;en[3]=a*(this.C66-b*this.C68);en[4]=a*b*this.C88;return en},pj_mlfn:function(e,a,d,b){d*=a;a*=a;return(b[0]*e-d*(b[1]+a*(b[2]+a*(b[3]+a*b[4]))))},pj_inv_mlfn:function(a,d,b){k=1/(1-d);phi=a;for(i=Proj4js.common.MAX_ITER;i;--i){s=Math.sin(phi);t=1-d*s*s;t=(this.pj_mlfn(phi,s,Math.cos(phi),b)-a)*(t*Math.sqrt(t))*k;phi-=t;if(Math.abs(t)<Proj4js.common.EPSLN){return phi}}Proj4js.reportError("cass:pj_inv_mlfn: Convergence error");return phi},C00:1,C02:0.25,C04:0.046875,C06:0.01953125,C08:0.01068115234375,C22:0.75,C44:0.46875,C46:0.013020833333333334,C48:0.007120768229166667,C66:0.3645833333333333,C68:0.005696614583333333,C88:0.3076171875};Proj4js.Proj.gauss={init:function(){sphi=Math.sin(this.lat0);cphi=Math.cos(this.lat0);cphi*=cphi;this.rc=Math.sqrt(1-this.es)/(1-this.es*sphi*sphi);this.C=Math.sqrt(1+this.es*cphi*cphi/(1-this.es));this.phic0=Math.asin(sphi/this.C);this.ratexp=0.5*this.C*this.e;this.K=Math.tan(0.5*this.phic0+Proj4js.common.FORTPI)/(Math.pow(Math.tan(0.5*this.lat0+Proj4js.common.FORTPI),this.C)*Proj4js.common.srat(this.e*sphi,this.ratexp))},forward:function(b){var d=b.x;var a=b.y;b.y=2*Math.atan(this.K*Math.pow(Math.tan(0.5*a+Proj4js.common.FORTPI),this.C)*Proj4js.common.srat(this.e*Math.sin(a),this.ratexp))-Proj4js.common.HALF_PI;b.x=this.C*d;return b},inverse:function(e){var d=1e-14;var f=e.x/this.C;var b=e.y;num=Math.pow(Math.tan(0.5*b+Proj4js.common.FORTPI)/this.K,1/this.C);for(var a=Proj4js.common.MAX_ITER;a>0;--a){b=2*Math.atan(num*Proj4js.common.srat(this.e*Math.sin(e.y),-0.5*this.e))-Proj4js.common.HALF_PI;if(Math.abs(b-e.y)<d){break}e.y=b}if(!a){Proj4js.reportError("gauss:inverse:convergence failed");return null}e.x=f;e.y=b;return e}};Proj4js.Proj.omerc={init:function(){if(!this.mode){this.mode=0}if(!this.lon1){this.lon1=0;this.mode=1}if(!this.lon2){this.lon2=0}if(!this.lat2){this.lat2=0}var a=this.b/this.a;var d=1-Math.pow(a,2);var b=Math.sqrt(d);this.sin_p20=Math.sin(this.lat0);this.cos_p20=Math.cos(this.lat0);this.con=1-this.es*this.sin_p20*this.sin_p20;this.com=Math.sqrt(1-d);this.bl=Math.sqrt(1+this.es*Math.pow(this.cos_p20,4)/(1-d));this.al=this.a*this.bl*this.k0*this.com/this.con;if(Math.abs(this.lat0)<Proj4js.common.EPSLN){this.ts=1;this.d=1;this.el=1}else{this.ts=Proj4js.common.tsfnz(this.e,this.lat0,this.sin_p20);this.con=Math.sqrt(this.con);this.d=this.bl*this.com/(this.cos_p20*this.con);if((this.d*this.d-1)>0){if(this.lat0>=0){this.f=this.d+Math.sqrt(this.d*this.d-1)}else{this.f=this.d-Math.sqrt(this.d*this.d-1)}}else{this.f=this.d}this.el=this.f*Math.pow(this.ts,this.bl)}if(this.mode!=0){this.g=0.5*(this.f-1/this.f);this.gama=Proj4js.common.asinz(Math.sin(this.alpha)/this.d);this.longc=this.longc-Proj4js.common.asinz(this.g*Math.tan(this.gama))/this.bl;this.con=Math.abs(this.lat0);if((this.con>Proj4js.common.EPSLN)&&(Math.abs(this.con-Proj4js.common.HALF_PI)>Proj4js.common.EPSLN)){this.singam=Math.sin(this.gama);this.cosgam=Math.cos(this.gama);this.sinaz=Math.sin(this.alpha);this.cosaz=Math.cos(this.alpha);if(this.lat0>=0){this.u=(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}else{this.u=-(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}}else{Proj4js.reportError("omerc:Init:DataError")}}else{this.sinphi=Math.sin(this.at1);this.ts1=Proj4js.common.tsfnz(this.e,this.lat1,this.sinphi);this.sinphi=Math.sin(this.lat2);this.ts2=Proj4js.common.tsfnz(this.e,this.lat2,this.sinphi);this.h=Math.pow(this.ts1,this.bl);this.l=Math.pow(this.ts2,this.bl);this.f=this.el/this.h;this.g=0.5*(this.f-1/this.f);this.j=(this.el*this.el-this.l*this.h)/(this.el*this.el+this.l*this.h);this.p=(this.l-this.h)/(this.l+this.h);this.dlon=this.lon1-this.lon2;if(this.dlon<-Proj4js.common.PI){this.lon2=this.lon2-2*Proj4js.common.PI}if(this.dlon>Proj4js.common.PI){this.lon2=this.lon2+2*Proj4js.common.PI}this.dlon=this.lon1-this.lon2;
this.longc=0.5*(this.lon1+this.lon2)-Math.atan(this.j*Math.tan(0.5*this.bl*this.dlon)/this.p)/this.bl;this.dlon=Proj4js.common.adjust_lon(this.lon1-this.longc);this.gama=Math.atan(Math.sin(this.bl*this.dlon)/this.g);this.alpha=Proj4js.common.asinz(this.d*Math.sin(this.gama));if(Math.abs(this.lat1-this.lat2)<=Proj4js.common.EPSLN){Proj4js.reportError("omercInitDataError")}else{this.con=Math.abs(this.lat1)}if((this.con<=Proj4js.common.EPSLN)||(Math.abs(this.con-HALF_PI)<=Proj4js.common.EPSLN)){Proj4js.reportError("omercInitDataError")}else{if(Math.abs(Math.abs(this.lat0)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN){Proj4js.reportError("omercInitDataError")}}this.singam=Math.sin(this.gam);this.cosgam=Math.cos(this.gam);this.sinaz=Math.sin(this.alpha);this.cosaz=Math.cos(this.alpha);if(this.lat0>=0){this.u=(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}else{this.u=-(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}}},forward:function(B){var l;var e,I;var H;var G,u,d;var g,C,E;var z,m,F;var v,D;var w;var a;var h;var f=B.x;var j=B.y;e=Math.sin(j);a=Proj4js.common.adjust_lon(f-this.longc);F=Math.sin(this.bl*a);if(Math.abs(Math.abs(j)-Proj4js.common.HALF_PI)>Proj4js.common.EPSLN){h=Proj4js.common.tsfnz(this.e,j,e);z=this.el/(Math.pow(h,this.bl));w=0.5*(z-1/z);u=0.5*(z+1/z);v=(w*this.singam-F*this.cosgam)/u;g=Math.cos(this.bl*a);if(Math.abs(g)<1e-7){m=this.al*this.bl*a}else{m=this.al*Math.atan((w*this.cosgam+F*this.singam)/g)/this.bl;if(g<0){m=m+Proj4js.common.PI*this.al/this.bl}}}else{if(j>=0){v=this.singam}else{v=-this.singam}m=this.al*j/this.bl}if(Math.abs(Math.abs(v)-1)<=Proj4js.common.EPSLN){Proj4js.reportError("omercFwdInfinity")}D=0.5*this.al*Math.log((1-v)/(1+v))/this.bl;m=m-this.u;var r=this.x0+D*this.cosaz+m*this.sinaz;var o=this.y0+m*this.cosaz-D*this.sinaz;B.x=r;B.y=o;return B},inverse:function(v){var I;var j;var f;var e,H;var G;var E,o,d;var g,w,C;var z,l,u,r,h;var D,m,F;var a;var B;v.x-=this.x0;v.y-=this.y0;B=0;z=v.x*this.cosaz-v.y*this.sinaz;l=v.y*this.cosaz+v.x*this.sinaz;l=l+this.u;u=Math.exp(-this.bl*z/this.al);r=0.5*(u-1/u);o=0.5*(u+1/u);D=Math.sin(this.bl*l/this.al);m=(D*this.cosgam+r*this.singam)/o;if(Math.abs(Math.abs(m)-1)<=Proj4js.common.EPSLN){lon=this.longc;if(m>=0){lat=Proj4js.common.HALF_PI}else{lat=-Proj4js.common.HALF_PI}}else{g=1/this.bl;h=Math.pow((this.el/Math.sqrt((1+m)/(1-m))),g);lat=Proj4js.common.phi2z(this.e,h);j=this.longc-Math.atan2((r*this.cosgam-D*this.singam),g)/this.bl;lon=Proj4js.common.adjust_lon(j)}v.x=lon;v.y=lat;return v}};Proj4js.Proj.lcc={init:function(){if(!this.lat2){this.lat2=this.lat0}if(!this.k0){this.k0=1}if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("lcc:init: Equal Latitudes");return}var m=this.b/this.a;this.e=Math.sqrt(1-m*m);var h=Math.sin(this.lat1);var f=Math.cos(this.lat1);var l=Proj4js.common.msfnz(this.e,h,f);var b=Proj4js.common.tsfnz(this.e,this.lat1,h);var g=Math.sin(this.lat2);var e=Math.cos(this.lat2);var j=Proj4js.common.msfnz(this.e,g,e);var a=Proj4js.common.tsfnz(this.e,this.lat2,g);var d=Proj4js.common.tsfnz(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN){this.ns=Math.log(l/j)/Math.log(b/a)}else{this.ns=h}this.f0=l/(this.ns*Math.pow(b,this.ns));this.rh=this.a*this.f0*Math.pow(d,this.ns);if(!this.title){this.title="Lambert Conformal Conic"}},forward:function(f){var g=f.x;var e=f.y;if(e<=90&&e>=-90&&g<=180&&g>=-180){}else{Proj4js.reportError("lcc:forward: llInputOutOfRange: "+g+" : "+e);return null}var a=Math.abs(Math.abs(e)-Proj4js.common.HALF_PI);var d,h;if(a>Proj4js.common.EPSLN){d=Proj4js.common.tsfnz(this.e,e,Math.sin(e));h=this.a*this.f0*Math.pow(d,this.ns)}else{a=e*this.ns;if(a<=0){Proj4js.reportError("lcc:forward: No Projection");return null}h=0}var b=this.ns*Proj4js.common.adjust_lon(g-this.long0);f.x=this.k0*(h*Math.sin(b))+this.x0;f.y=this.k0*(this.rh-h*Math.cos(b))+this.y0;return f},inverse:function(f){var h,a,d;var e,g;x=(f.x-this.x0)/this.k0;y=(this.rh-(f.y-this.y0)/this.k0);if(this.ns>0){h=Math.sqrt(x*x+y*y);a=1}else{h=-Math.sqrt(x*x+y*y);
a=-1}var b=0;if(h!=0){b=Math.atan2((a*x),(a*y))}if((h!=0)||(this.ns>0)){a=1/this.ns;d=Math.pow((h/(this.a*this.f0)),a);e=Proj4js.common.phi2z(this.e,d);if(e==-9999){return null}}else{e=-Proj4js.common.HALF_PI}g=Proj4js.common.adjust_lon(b/this.ns+this.long0);f.x=g;f.y=e;return f}};Proj4js.Proj.laea={S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4,init:function(){var a=Math.abs(this.lat0);if(Math.abs(a-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else{if(Math.abs(a)<Proj4js.common.EPSLN){this.mode=this.EQUIT}else{this.mode=this.OBLIQ}}if(this.es>0){var b;this.qp=Proj4js.common.qsfnz(this.e,1);this.mmf=0.5/(1-this.es);this.apa=this.authset(this.es);switch(this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(0.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=0.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(0.5*this.qp);b=Math.sin(this.lat0);this.sinb1=Proj4js.common.qsfnz(this.e,b)/this.qp;this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1);this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*b*b)*this.rq*this.cosb1);this.ymf=(this.xmf=this.rq)/this.dd;this.xmf*=this.dd;break}}else{if(this.mode==this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0)}}},forward:function(f){var u,o;var v=f.x;var l=f.y;v=Proj4js.common.adjust_lon(v-this.long0);if(this.sphere){var r,h,d;d=Math.sin(l);h=Math.cos(l);r=Math.cos(v);switch(this.mode){case this.EQUIT:o=(this.mode==this.EQUIT)?1+h*r:1+this.sinph0*d+this.cosph0*h*r;if(o<=Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:y less than eps");return null}o=Math.sqrt(2/o);u=o*h*Math.sin(v);o*=(this.mode==this.EQUIT)?d:this.cosph0*d-this.sinph0*h*r;break;case this.N_POLE:r=-r;case this.S_POLE:if(Math.abs(l+this.phi0)<Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:phi < eps");return null}o=Proj4js.common.FORTPI-l*0.5;o=2*((this.mode==this.S_POLE)?Math.cos(o):Math.sin(o));u=o*Math.sin(v);o*=r;break}}else{var r,j,d,e,g=0,a=0,m=0;r=Math.cos(v);j=Math.sin(v);d=Math.sin(l);e=Proj4js.common.qsfnz(this.e,d);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){g=e/this.qp;a=Math.sqrt(1-g*g)}switch(this.mode){case this.OBLIQ:m=1+this.sinb1*g+this.cosb1*a*r;break;case this.EQUIT:m=1+a*r;break;case this.N_POLE:m=Proj4js.common.HALF_PI+l;e=this.qp-e;break;case this.S_POLE:m=l-Proj4js.common.HALF_PI;e=this.qp+e;break}if(Math.abs(m)<Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:b < eps");return null}switch(this.mode){case this.OBLIQ:case this.EQUIT:m=Math.sqrt(2/m);if(this.mode==this.OBLIQ){o=this.ymf*m*(this.cosb1*g-this.sinb1*a*r)}else{o=(m=Math.sqrt(2/(1+a*r)))*g*this.ymf}u=this.xmf*m*a*j;break;case this.N_POLE:case this.S_POLE:if(e>=0){u=(m=Math.sqrt(e))*j;o=r*((this.mode==this.S_POLE)?m:-m)}else{u=o=0}break}}f.x=this.a*u+this.x0;f.y=this.a*o+this.y0;return f},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var j=b.x/this.a;var g=b.y/this.a;if(this.sphere){var r=0,m,d=0;m=Math.sqrt(j*j+g*g);var f=m*0.5;if(f>1){Proj4js.reportError("laea:Inv:DataError");return null}f=2*Math.asin(f);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){d=Math.sin(f);r=Math.cos(f)}switch(this.mode){case this.EQUIT:f=(Math.abs(m)<=Proj4js.common.EPSLN)?0:Math.asin(g*d/m);j*=d;g=r*m;break;case this.OBLIQ:f=(Math.abs(m)<=Proj4js.common.EPSLN)?this.phi0:Math.asin(r*sinph0+g*d*cosph0/m);j*=d*cosph0;g=(r-Math.sin(f)*sinph0)*m;break;case this.N_POLE:g=-g;f=Proj4js.common.HALF_PI-f;break;case this.S_POLE:f-=Proj4js.common.HALF_PI;break}lam=(g==0&&(this.mode==this.EQUIT||this.mode==this.OBLIQ))?0:Math.atan2(j,g)}else{var l,e,a,h,o=0;switch(this.mode){case this.EQUIT:case this.OBLIQ:j/=this.dd;g*=this.dd;h=Math.sqrt(j*j+g*g);if(h<Proj4js.common.EPSLN){b.x=0;b.y=this.phi0;return b}e=2*Math.asin(0.5*h/this.rq);l=Math.cos(e);j*=(e=Math.sin(e));if(this.mode==this.OBLIQ){o=l*this.sinb1+g*e*this.cosb1/h;a=this.qp*o;g=h*this.cosb1*l-g*this.sinb1*e}else{o=g*e/h;a=this.qp*o;g=h*l}break;case this.N_POLE:g=-g;case this.S_POLE:a=(j*j+g*g);if(!a){b.x=0;b.y=this.phi0;return b}o=1-a/this.qp;if(this.mode==this.S_POLE){o=-o}break}lam=Math.atan2(j,g);f=this.authlat(Math.asin(o),this.apa)
}b.x=Proj4js.common.adjust_lon(this.long0+lam);b.y=f;return b},P00:0.3333333333333333,P01:0.17222222222222222,P02:0.10257936507936508,P10:0.06388888888888888,P11:0.0664021164021164,P20:0.016415012942191543,authset:function(b){var a;var d=new Array();d[0]=b*this.P00;a=b*b;d[0]+=a*this.P01;d[1]=a*this.P10;a*=b;d[0]+=a*this.P02;d[1]+=a*this.P11;d[2]=a*this.P20;return d},authlat:function(b,d){var a=b+b;return(b+d[0]*Math.sin(a)+d[1]*Math.sin(a+a)+d[2]*Math.sin(a+a+a))}};Proj4js.Proj.aeqd={init:function(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0)},forward:function(d){var b=d.x;var l=d.y;var f;var a=Math.sin(d.y);var e=Math.cos(d.y);var o=Proj4js.common.adjust_lon(b-this.long0);var m=Math.cos(o);var h=this.sin_p12*a+this.cos_p12*e*m;if(Math.abs(Math.abs(h)-1)<Proj4js.common.EPSLN){f=1;if(h<0){Proj4js.reportError("aeqd:Fwd:PointError");return}}else{var j=Math.acos(h);f=j/Math.sin(j)}d.x=this.x0+this.a*f*e*Math.sin(o);d.y=this.y0+this.a*f*(this.cos_p12*a-this.sin_p12*e*m);return d},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var h=Math.sqrt(b.x*b.x+b.y*b.y);if(h>(2*Proj4js.common.HALF_PI*this.a)){Proj4js.reportError("aeqdInvDataError");return}var f=h/this.a;var e=Math.sin(f);var l=Math.cos(f);var a=this.long0;var g;if(Math.abs(h)<=Proj4js.common.EPSLN){g=this.lat0}else{g=Proj4js.common.asinz(l*this.sin_p12+(b.y*e*this.cos_p12)/h);var d=Math.abs(this.lat0)-Proj4js.common.HALF_PI;if(Math.abs(d)<=Proj4js.common.EPSLN){if(lat0>=0){a=Proj4js.common.adjust_lon(this.long0+Math.atan2(b.x,-b.y))}else{a=Proj4js.common.adjust_lon(this.long0-Math.atan2(-b.x,b.y))}}else{d=l-this.sin_p12*Math.sin(g);if((Math.abs(d)<Proj4js.common.EPSLN)&&(Math.abs(b.x)<Proj4js.common.EPSLN)){}else{var j=Math.atan2((b.x*e*this.cos_p12),(d*h));a=Proj4js.common.adjust_lon(this.long0+Math.atan2((b.x*e*this.cos_p12),(d*h)))}}}b.x=a;b.y=g;return b}};Proj4js.Proj.moll={init:function(){},forward:function(d){var a=d.x;var j=d.y;var g=Proj4js.common.adjust_lon(a-this.long0);var f=j;var e=Proj4js.common.PI*Math.sin(j);for(var h=0;true;h++){var b=-(f+Math.sin(f)-e)/(1+Math.cos(f));f+=b;if(Math.abs(b)<Proj4js.common.EPSLN){break}if(h>=50){Proj4js.reportError("moll:Fwd:IterationError")}}f/=2;if(Proj4js.common.PI/2-Math.abs(j)<Proj4js.common.EPSLN){g=0}var m=0.900316316158*this.a*g*Math.cos(f)+this.x0;var l=1.4142135623731*this.a*Math.sin(f)+this.y0;d.x=m;d.y=l;return d},inverse:function(e){var b;var a;e.x-=this.x0;var a=e.y/(1.4142135623731*this.a);if(Math.abs(a)>0.999999999999){a=0.999999999999}var b=Math.asin(a);var f=Proj4js.common.adjust_lon(this.long0+(e.x/(0.900316316158*this.a*Math.cos(b))));if(f<(-Proj4js.common.PI)){f=-Proj4js.common.PI}if(f>Proj4js.common.PI){f=Proj4js.common.PI}a=(2*b+Math.sin(2*b))/Proj4js.common.PI;if(Math.abs(a)>1){a=1}var d=Math.asin(a);e.x=f;e.y=d;return e}};var OpenLayers={VERSION_NUMBER:"Release 2.11",singleFile:true,_getScriptLocation:(function(){var f=new RegExp("(^|(.*?\\/))(OpenLayers.js)(\\?|$)"),e=document.getElementsByTagName("script"),g,b,c="";for(var d=0,a=e.length;d<a;d++){g=e[d].getAttribute("src");if(g){var b=g.match(f);if(b){c=b[1];break}}}return(function(){return c})})()};(function(){var c=(typeof OpenLayers=="object"&&OpenLayers.singleFile);var g=(!c)?"lib/OpenLayers.js":"OpenLayers.js";var b=window.OpenLayers;window.OpenLayers={_getScriptLocation:(function(){var p=new RegExp("(^|(.*?\\/))("+g+")(\\?|$)"),o=document.getElementsByTagName("script"),q,j,k="";for(var n=0,h=o.length;n<h;n++){q=o[n].getAttribute("src");if(q){var j=q.match(p);if(j){k=j[1];break}}}return(function(){return k})})()};if(!c){if(!b){b=["OpenLayers/BaseTypes/Class.js","OpenLayers/Util.js","OpenLayers/BaseTypes.js","OpenLayers/BaseTypes/Bounds.js","OpenLayers/BaseTypes/Date.js","OpenLayers/BaseTypes/Element.js","OpenLayers/BaseTypes/LonLat.js","OpenLayers/BaseTypes/Pixel.js","OpenLayers/BaseTypes/Size.js","OpenLayers/Console.js","OpenLayers/Tween.js","OpenLayers/Kinetic.js","Rico/Corner.js","Rico/Color.js","OpenLayers/Ajax.js","OpenLayers/Events.js","OpenLayers/Request.js","OpenLayers/Request/XMLHttpRequest.js","OpenLayers/Projection.js","OpenLayers/Map.js","OpenLayers/Layer.js","OpenLayers/Icon.js","OpenLayers/Marker.js","OpenLayers/Marker/Box.js","OpenLayers/Popup.js","OpenLayers/Tile.js","OpenLayers/Tile/Image.js","OpenLayers/Tile/Image/IFrame.js","OpenLayers/Tile/WFS.js","OpenLayers/Layer/Image.js","OpenLayers/Layer/SphericalMercator.js","OpenLayers/Layer/EventPane.js","OpenLayers/Layer/FixedZoomLevels.js","OpenLayers/Layer/Google.js","OpenLayers/Layer/Google/v3.js","OpenLayers/Layer/VirtualEarth.js","OpenLayers/Layer/Yahoo.js","OpenLayers/Layer/HTTPRequest.js","OpenLayers/Layer/Grid.js","OpenLayers/Layer/MapGuide.js","OpenLayers/Layer/MapServer.js","OpenLayers/Layer/MapServer/Untiled.js","OpenLayers/Layer/KaMap.js","OpenLayers/Layer/KaMapCache.js","OpenLayers/Layer/MultiMap.js","OpenLayers/Layer/Markers.js","OpenLayers/Layer/Text.js","OpenLayers/Layer/WorldWind.js","OpenLayers/Layer/ArcGIS93Rest.js","OpenLayers/Layer/WMS.js","OpenLayers/Layer/WMS/Untiled.js","OpenLayers/Layer/WMS/Post.js","OpenLayers/Layer/WMTS.js","OpenLayers/Layer/ArcIMS.js","OpenLayers/Layer/GeoRSS.js","OpenLayers/Layer/Boxes.js","OpenLayers/Layer/XYZ.js","OpenLayers/Layer/Bing.js","OpenLayers/Layer/TMS.js","OpenLayers/Layer/TileCache.js","OpenLayers/Layer/Zoomify.js","OpenLayers/Layer/ArcGISCache.js","OpenLayers/Popup/Anchored.js","OpenLayers/Popup/AnchoredBubble.js","OpenLayers/Popup/Framed.js","OpenLayers/Popup/FramedCloud.js","OpenLayers/Feature.js","OpenLayers/Feature/Vector.js","OpenLayers/Feature/WFS.js","OpenLayers/Handler.js","OpenLayers/Handler/Click.js","OpenLayers/Handler/Hover.js","OpenLayers/Handler/Point.js","OpenLayers/Handler/Path.js","OpenLayers/Handler/Polygon.js","OpenLayers/Handler/Feature.js","OpenLayers/Handler/Drag.js","OpenLayers/Handler/Pinch.js","OpenLayers/Handler/RegularPolygon.js","OpenLayers/Handler/Box.js","OpenLayers/Handler/MouseWheel.js","OpenLayers/Handler/Keyboard.js","OpenLayers/Control.js","OpenLayers/Control/Attribution.js","OpenLayers/Control/Button.js","OpenLayers/Control/ZoomBox.js","OpenLayers/Control/ZoomToMaxExtent.js","OpenLayers/Control/DragPan.js","OpenLayers/Control/Navigation.js","OpenLayers/Control/PinchZoom.js","OpenLayers/Control/TouchNavigation.js","OpenLayers/Control/MouseDefaults.js","OpenLayers/Control/MousePosition.js","OpenLayers/Control/OverviewMap.js","OpenLayers/Control/KeyboardDefaults.js","OpenLayers/Control/PanZoom.js","OpenLayers/Control/PanZoomBar.js","OpenLayers/Control/ArgParser.js","OpenLayers/Control/Permalink.js","OpenLayers/Control/Scale.js","OpenLayers/Control/ScaleLine.js","OpenLayers/Control/Snapping.js","OpenLayers/Control/Split.js","OpenLayers/Control/LayerSwitcher.js","OpenLayers/Control/DrawFeature.js","OpenLayers/Control/DragFeature.js","OpenLayers/Control/ModifyFeature.js","OpenLayers/Control/Panel.js","OpenLayers/Control/SelectFeature.js","OpenLayers/Control/NavigationHistory.js","OpenLayers/Control/Measure.js","OpenLayers/Control/WMSGetFeatureInfo.js","OpenLayers/Control/WMTSGetFeatureInfo.js","OpenLayers/Control/Graticule.js","OpenLayers/Control/TransformFeature.js","OpenLayers/Control/SLDSelect.js","OpenLayers/Geometry.js","OpenLayers/Geometry/Rectangle.js","OpenLayers/Geometry/Collection.js","OpenLayers/Geometry/Point.js","OpenLayers/Geometry/MultiPoint.js","OpenLayers/Geometry/Curve.js","OpenLayers/Geometry/LineString.js","OpenLayers/Geometry/LinearRing.js","OpenLayers/Geometry/Polygon.js","OpenLayers/Geometry/MultiLineString.js","OpenLayers/Geometry/MultiPolygon.js","OpenLayers/Geometry/Surface.js","OpenLayers/Renderer.js","OpenLayers/Renderer/Elements.js","OpenLayers/Renderer/NG.js","OpenLayers/Renderer/SVG.js","OpenLayers/Renderer/SVG2.js","OpenLayers/Renderer/Canvas.js","OpenLayers/Renderer/VML.js","OpenLayers/Layer/Vector.js","OpenLayers/Layer/PointGrid.js","OpenLayers/Layer/Vector/RootContainer.js","OpenLayers/Strategy.js","OpenLayers/Strategy/Filter.js","OpenLayers/Strategy/Fixed.js","OpenLayers/Strategy/Cluster.js","OpenLayers/Strategy/Paging.js","OpenLayers/Strategy/BBOX.js","OpenLayers/Strategy/Save.js","OpenLayers/Strategy/Refresh.js","OpenLayers/Filter.js","OpenLayers/Filter/FeatureId.js","OpenLayers/Filter/Logical.js","OpenLayers/Filter/Comparison.js","OpenLayers/Filter/Spatial.js","OpenLayers/Filter/Function.js","OpenLayers/Protocol.js","OpenLayers/Protocol/HTTP.js","OpenLayers/Protocol/SQL.js","OpenLayers/Protocol/SQL/Gears.js","OpenLayers/Protocol/WFS.js","OpenLayers/Protocol/WFS/v1.js","OpenLayers/Protocol/WFS/v1_0_0.js","OpenLayers/Protocol/WFS/v1_1_0.js","OpenLayers/Protocol/Script.js","OpenLayers/Protocol/SOS.js","OpenLayers/Protocol/SOS/v1_0_0.js","OpenLayers/Layer/PointTrack.js","OpenLayers/Layer/GML.js","OpenLayers/Style.js","OpenLayers/Style2.js","OpenLayers/StyleMap.js","OpenLayers/Rule.js","OpenLayers/Format.js","OpenLayers/Format/QueryStringFilter.js","OpenLayers/Format/XML.js","OpenLayers/Format/XML/VersionedOGC.js","OpenLayers/Format/Context.js","OpenLayers/Format/ArcXML.js","OpenLayers/Format/ArcXML/Features.js","OpenLayers/Format/GML.js","OpenLayers/Format/GML/Base.js","OpenLayers/Format/GML/v2.js","OpenLayers/Format/GML/v3.js","OpenLayers/Format/Atom.js","OpenLayers/Format/KML.js","OpenLayers/Format/GeoRSS.js","OpenLayers/Format/WFS.js","OpenLayers/Format/WFSCapabilities.js","OpenLayers/Format/WFSCapabilities/v1.js","OpenLayers/Format/WFSCapabilities/v1_0_0.js","OpenLayers/Format/WFSCapabilities/v1_1_0.js","OpenLayers/Format/WFSDescribeFeatureType.js","OpenLayers/Format/WMSDescribeLayer.js","OpenLayers/Format/WMSDescribeLayer/v1_1.js","OpenLayers/Format/WKT.js","OpenLayers/Format/CQL.js","OpenLayers/Format/OSM.js","OpenLayers/Format/GPX.js","OpenLayers/Format/Filter.js","OpenLayers/Format/Filter/v1.js","OpenLayers/Format/Filter/v1_0_0.js","OpenLayers/Format/Filter/v1_1_0.js","OpenLayers/Format/SLD.js","OpenLayers/Format/SLD/v1.js","OpenLayers/Format/SLD/v1_0_0.js","OpenLayers/Format/OWSCommon.js","OpenLayers/Format/OWSCommon/v1.js","OpenLayers/Format/OWSCommon/v1_0_0.js","OpenLayers/Format/OWSCommon/v1_1_0.js","OpenLayers/Format/CSWGetDomain.js","OpenLayers/Format/CSWGetDomain/v2_0_2.js","OpenLayers/Format/CSWGetRecords.js","OpenLayers/Format/CSWGetRecords/v2_0_2.js","OpenLayers/Format/WFST.js","OpenLayers/Format/WFST/v1.js","OpenLayers/Format/WFST/v1_0_0.js","OpenLayers/Format/WFST/v1_1_0.js","OpenLayers/Format/Text.js","OpenLayers/Format/JSON.js","OpenLayers/Format/GeoJSON.js","OpenLayers/Format/WMC.js","OpenLayers/Format/WMC/v1.js","OpenLayers/Format/WMC/v1_0_0.js","OpenLayers/Format/WMC/v1_1_0.js","OpenLayers/Format/WCSGetCoverage.js","OpenLayers/Format/WMSCapabilities.js","OpenLayers/Format/WMSCapabilities/v1.js","OpenLayers/Format/WMSCapabilities/v1_1.js","OpenLayers/Format/WMSCapabilities/v1_1_0.js","OpenLayers/Format/WMSCapabilities/v1_1_1.js","OpenLayers/Format/WMSCapabilities/v1_3.js","OpenLayers/Format/WMSCapabilities/v1_3_0.js","OpenLayers/Format/WMSCapabilities/v1_1_1_WMSC.js","OpenLayers/Format/WMSGetFeatureInfo.js","OpenLayers/Format/SOSCapabilities.js","OpenLayers/Format/SOSCapabilities/v1_0_0.js","OpenLayers/Format/SOSGetFeatureOfInterest.js","OpenLayers/Format/SOSGetObservation.js","OpenLayers/Format/OWSContext.js","OpenLayers/Format/OWSContext/v0_3_1.js","OpenLayers/Format/WMTSCapabilities.js","OpenLayers/Format/WMTSCapabilities/v1_0_0.js","OpenLayers/Format/WPSCapabilities.js","OpenLayers/Format/WPSCapabilities/v1_0_0.js","OpenLayers/Format/WPSDescribeProcess.js","OpenLayers/Format/WPSExecute.js","OpenLayers/Format/XLS.js","OpenLayers/Format/XLS/v1.js","OpenLayers/Format/XLS/v1_1_0.js","OpenLayers/Format/OGCExceptionReport.js","OpenLayers/Layer/WFS.js","OpenLayers/Control/GetFeature.js","OpenLayers/Control/MouseToolbar.js","OpenLayers/Control/NavToolbar.js","OpenLayers/Control/PanPanel.js","OpenLayers/Control/Pan.js","OpenLayers/Control/ZoomIn.js","OpenLayers/Control/ZoomOut.js","OpenLayers/Control/ZoomPanel.js","OpenLayers/Control/EditingToolbar.js","OpenLayers/Control/Geolocate.js","OpenLayers/Symbolizer.js","OpenLayers/Symbolizer/Point.js","OpenLayers/Symbolizer/Line.js","OpenLayers/Symbolizer/Polygon.js","OpenLayers/Symbolizer/Text.js","OpenLayers/Symbolizer/Raster.js","OpenLayers/Lang.js","OpenLayers/Lang/en.js"]
}var f=new Array(b.length);var e=OpenLayers._getScriptLocation()+"lib/";for(var d=0,a=b.length;d<a;d++){f[d]="<script src='"+e+b[d]+"'><\/script>"}if(f.length>0){document.write(f.join(""))}}})();OpenLayers.VERSION_NUMBER="Release 2.11";OpenLayers.String={startsWith:function(b,a){return(b.indexOf(a)==0)},contains:function(b,a){return(b.indexOf(a)!=-1)},trim:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(f){var d=f.split("-");var b=d[0];for(var c=1,a=d.length;c<a;c++){var e=d[c];b+=e.charAt(0).toUpperCase()+e.substring(1)}return b},format:function(d,c,a){if(!c){c=window}var b=function(j,e){var h;var g=e.split(/\.+/);for(var f=0;f<g.length;f++){if(f==0){h=c}h=h[g[f]]}if(typeof h=="function"){h=a?h.apply(null,a):h()}if(typeof h=="undefined"){return"undefined"}else{return h}};return d.replace(OpenLayers.String.tokenRegEx,b)},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(a){return OpenLayers.String.numberRegEx.test(a)},numericIf:function(a){return OpenLayers.String.isNumeric(a)?parseFloat(a):a}};if(!String.prototype.startsWith){String.prototype.startsWith=function(a){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.String.startsWith"}));return OpenLayers.String.startsWith(this,a)}}if(!String.prototype.contains){String.prototype.contains=function(a){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.String.contains"}));return OpenLayers.String.contains(this,a)}}if(!String.prototype.trim){String.prototype.trim=function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.String.trim"}));return OpenLayers.String.trim(this)}}if(!String.prototype.camelize){String.prototype.camelize=function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.String.camelize"}));return OpenLayers.String.camelize(this)}}OpenLayers.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(a,c){var b=0;if(c>0){b=parseFloat(a.toPrecision(c))}return b},format:function(c,a,g,i){a=(typeof a!="undefined")?a:0;g=(typeof g!="undefined")?g:OpenLayers.Number.thousandsSeparator;i=(typeof i!="undefined")?i:OpenLayers.Number.decimalSeparator;if(a!=null){c=parseFloat(c.toFixed(a))}var b=c.toString().split(".");if(b.length==1&&a==null){a=0}var d=b[0];if(g){var e=/(-?[0-9]+)([0-9]{3})/;while(e.test(d)){d=d.replace(e,"$1"+g+"$2")}}var f;if(a==0){f=d}else{var h=b.length>1?b[1]:"0";if(a!=null){h=h+new Array(a-h.length+1).join("0")}f=d+i+h}return f}};if(!Number.prototype.limitSigDigs){Number.prototype.limitSigDigs=function(a){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.Number.limitSigDigs"}));return OpenLayers.Number.limitSigDigs(this,a)}}OpenLayers.Function={bind:function(c,b){var a=Array.prototype.slice.apply(arguments,[2]);return function(){var d=a.concat(Array.prototype.slice.apply(arguments,[0]));return c.apply(b,d)}},bindAsEventListener:function(b,a){return function(c){return b.call(a,c||window.event)}},False:function(){return false},True:function(){return true},Void:function(){}};if(!Function.prototype.bind){Function.prototype.bind=function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.Function.bind"}));Array.prototype.unshift.apply(arguments,[this]);return OpenLayers.Function.bind.apply(null,arguments)}}if(!Function.prototype.bindAsEventListener){Function.prototype.bindAsEventListener=function(a){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.Function.bindAsEventListener"}));return OpenLayers.Function.bindAsEventListener(this,a)}}OpenLayers.Array={filter:function(g,f,b){var d=[];if(Array.prototype.filter){d=g.filter(f,b)}else{var a=g.length;if(typeof f!="function"){throw new TypeError()}for(var c=0;c<a;c++){if(c in g){var e=g[c];if(f.call(b,e,c,g)){d.push(e)}}}}return d}};OpenLayers.Class=function(){var a=arguments.length;var d=arguments[0];var c=arguments[a-1];var e=typeof c.initialize=="function"?c.initialize:function(){d.prototype.initialize.apply(this,arguments)
};if(a>1){var b=[e,d].concat(Array.prototype.slice.call(arguments).slice(1,a-1),c);OpenLayers.inherit.apply(null,b)}else{e.prototype=c}return e};OpenLayers.Class.isPrototype=function(){};OpenLayers.Class.create=function(){return function(){if(arguments&&arguments[0]!=OpenLayers.Class.isPrototype){this.initialize.apply(this,arguments)}}};OpenLayers.Class.inherit=function(b){var c=function(){b.call(this)};var a=[c].concat(Array.prototype.slice.call(arguments));OpenLayers.inherit.apply(null,a);return c.prototype};OpenLayers.inherit=function(f,d){var c=function(){};c.prototype=d.prototype;f.prototype=new c;var b,a,e;for(b=2,a=arguments.length;b<a;b++){e=arguments[b];if(typeof e==="function"){e=e.prototype}OpenLayers.Util.extend(f.prototype,e)}};OpenLayers.Util=OpenLayers.Util||{};OpenLayers.Util.extend=function(a,e){a=a||{};if(e){for(var d in e){var c=e[d];if(c!==undefined){a[d]=c}}var b=typeof window.Event=="function"&&e instanceof window.Event;if(!b&&e.hasOwnProperty&&e.hasOwnProperty("toString")){a.toString=e.toString}}return a};OpenLayers.Util=OpenLayers.Util||{};OpenLayers.Util.getElement=function(){var d=[];for(var c=0,a=arguments.length;c<a;c++){var b=arguments[c];if(typeof b=="string"){b=document.getElementById(b)}if(arguments.length==1){return b}d.push(b)}return d};OpenLayers.Util.isElement=function(a){return !!(a&&a.nodeType===1)};OpenLayers.Util.isArray=function(b){return(Object.prototype.toString.call(b)==="[object Array]")};if(typeof window.$==="undefined"){window.$=OpenLayers.Util.getElement}OpenLayers.Util.removeItem=function(c,b){for(var a=c.length-1;a>=0;a--){if(c[a]==b){c.splice(a,1)}}return c};OpenLayers.Util.clearArray=function(a){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"array = []"}));a.length=0};OpenLayers.Util.indexOf=function(d,c){if(typeof d.indexOf=="function"){return d.indexOf(c)}else{for(var b=0,a=d.length;b<a;b++){if(d[b]==c){return b}}return -1}};OpenLayers.Util.modifyDOMElement=function(e,h,d,f,a,c,g,b){if(h){e.id=h}if(d){e.style.left=d.x+"px";e.style.top=d.y+"px"}if(f){e.style.width=f.w+"px";e.style.height=f.h+"px"}if(a){e.style.position=a}if(c){e.style.border=c}if(g){e.style.overflow=g}if(parseFloat(b)>=0&&parseFloat(b)<1){e.style.filter="alpha(opacity="+(b*100)+")";e.style.opacity=b}else{if(parseFloat(b)==1){e.style.filter="";e.style.opacity=""}}};OpenLayers.Util.createDiv=function(a,i,h,f,e,c,b,g){var d=document.createElement("div");if(f){d.style.backgroundImage="url("+f+")"}if(!a){a=OpenLayers.Util.createUniqueID("OpenLayersDiv")}if(!e){e="absolute"}OpenLayers.Util.modifyDOMElement(d,a,i,h,e,c,b,g);return d};OpenLayers.Util.createImage=function(a,h,g,e,d,c,f,i){var b=document.createElement("img");if(!a){a=OpenLayers.Util.createUniqueID("OpenLayersDiv")}if(!d){d="relative"}OpenLayers.Util.modifyDOMElement(b,a,h,g,d,c,null,f);if(i){b.style.display="none";OpenLayers.Event.observe(b,"load",OpenLayers.Function.bind(OpenLayers.Util.onImageLoad,b));OpenLayers.Event.observe(b,"error",OpenLayers.Function.bind(OpenLayers.Util.onImageLoadError,b))}b.style.alt=a;b.galleryImg="no";if(e){b.src=e}return b};OpenLayers.Util.setOpacity=function(b,a){OpenLayers.Util.modifyDOMElement(b,null,null,null,null,null,null,a)};OpenLayers.Util.onImageLoad=function(){if(!this.viewRequestID||(this.map&&this.viewRequestID==this.map.viewRequestID)){this.style.display=""}OpenLayers.Element.removeClass(this,"olImageLoadError")};OpenLayers.IMAGE_RELOAD_ATTEMPTS=0;OpenLayers.Util.onImageLoadError=function(){this._attempts=(this._attempts)?(this._attempts+1):1;if(this._attempts<=OpenLayers.IMAGE_RELOAD_ATTEMPTS){var d=this.urls;if(d&&OpenLayers.Util.isArray(d)&&d.length>1){var e=this.src.toString();var c,a;for(a=0;c=d[a];a++){if(e.indexOf(c)!=-1){break}}var f=Math.floor(d.length*Math.random());var b=d[f];a=0;while(b==c&&a++<4){f=Math.floor(d.length*Math.random());b=d[f]}this.src=e.replace(c,b)}else{this.src=this.src}}else{OpenLayers.Element.addClass(this,"olImageLoadError")}this.style.display=""};OpenLayers.Util.alphaHackNeeded=null;OpenLayers.Util.alphaHack=function(){if(OpenLayers.Util.alphaHackNeeded==null){var d=navigator.appVersion.split("MSIE");
var a=parseFloat(d[1]);var b=false;try{b=!!(document.body.filters)}catch(c){}OpenLayers.Util.alphaHackNeeded=(b&&(a>=5.5)&&(a<7))}return OpenLayers.Util.alphaHackNeeded};OpenLayers.Util.modifyAlphaImageDiv=function(a,b,j,i,g,f,c,d,h){OpenLayers.Util.modifyDOMElement(a,b,j,i,f,null,null,h);var e=a.childNodes[0];if(g){e.src=g}OpenLayers.Util.modifyDOMElement(e,a.id+"_innerImage",null,i,"relative",c);if(OpenLayers.Util.alphaHack()){if(a.style.display!="none"){a.style.display="inline-block"}if(d==null){d="scale"}a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e.src+"', sizingMethod='"+d+"')";if(parseFloat(a.style.opacity)>=0&&parseFloat(a.style.opacity)<1){a.style.filter+=" alpha(opacity="+a.style.opacity*100+")"}e.style.filter="alpha(opacity=0)"}};OpenLayers.Util.createAlphaImageDiv=function(b,j,i,g,f,c,d,h,k){var a=OpenLayers.Util.createDiv();var e=OpenLayers.Util.createImage(null,null,null,null,null,null,null,false);a.appendChild(e);if(k){e.style.display="none";OpenLayers.Event.observe(e,"load",OpenLayers.Function.bind(OpenLayers.Util.onImageLoad,a));OpenLayers.Event.observe(e,"error",OpenLayers.Function.bind(OpenLayers.Util.onImageLoadError,a))}OpenLayers.Util.modifyAlphaImageDiv(a,b,j,i,g,f,c,d,h);return a};OpenLayers.Util.upperCaseObject=function(b){var a={};for(var c in b){a[c.toUpperCase()]=b[c]}return a};OpenLayers.Util.applyDefaults=function(d,c){d=d||{};var b=typeof window.Event=="function"&&c instanceof window.Event;for(var a in c){if(d[a]===undefined||(!b&&c.hasOwnProperty&&c.hasOwnProperty(a)&&!d.hasOwnProperty(a))){d[a]=c[a]}}if(!b&&c&&c.hasOwnProperty&&c.hasOwnProperty("toString")&&!d.hasOwnProperty("toString")){d.toString=c.toString}return d};OpenLayers.Util.getParameterString=function(c){var b=[];for(var h in c){var g=c[h];if((g!=null)&&(typeof g!="function")){var d;if(typeof g=="object"&&g.constructor==Array){var e=[];var i;for(var a=0,f=g.length;a<f;a++){i=g[a];e.push(encodeURIComponent((i===null||i===undefined)?"":i))}d=e.join(",")}else{d=encodeURIComponent(g)}b.push(encodeURIComponent(h)+"="+d)}}return b.join("&")};OpenLayers.Util.urlAppend=function(a,b){var d=a;if(b){var c=(a+" ").split(/[?&]/);d+=(c.pop()===" "?b:c.length?"&"+b:"?"+b)}return d};OpenLayers.ImgPath="";OpenLayers.Util.getImagesLocation=function(){return OpenLayers.ImgPath||(OpenLayers._getScriptLocation()+"img/")};OpenLayers.Util.Try=function(){var d=null;for(var c=0,a=arguments.length;c<a;c++){var b=arguments[c];try{d=b();break}catch(f){}}return d};OpenLayers.Util.getXmlNodeValue=function(a){var b=null;OpenLayers.Util.Try(function(){b=a.text;if(!b){b=a.textContent}if(!b){b=a.firstChild.nodeValue}},function(){b=a.textContent});return b};OpenLayers.Util.mouseLeft=function(a,c){var b=(a.relatedTarget)?a.relatedTarget:a.toElement;while(b!=c&&b!=null){b=b.parentNode}return(b!=c)};OpenLayers.Util.DEFAULT_PRECISION=14;OpenLayers.Util.toFloat=function(b,a){if(a==null){a=OpenLayers.Util.DEFAULT_PRECISION}if(typeof b!=="number"){b=parseFloat(b)}return a===0?b:parseFloat(b.toPrecision(a))};OpenLayers.Util.rad=function(a){return a*Math.PI/180};OpenLayers.Util.deg=function(a){return a*180/Math.PI};OpenLayers.Util.VincentyConstants={a:6378137,b:6356752.3142,f:1/298.257223563};OpenLayers.Util.distVincenty=function(g,e){var k=OpenLayers.Util.VincentyConstants;var M=k.a,K=k.b,G=k.f;var n=OpenLayers.Util.rad(e.lon-g.lon);var J=Math.atan((1-G)*Math.tan(OpenLayers.Util.rad(g.lat)));var I=Math.atan((1-G)*Math.tan(OpenLayers.Util.rad(e.lat)));var m=Math.sin(J),i=Math.cos(J);var l=Math.sin(I),h=Math.cos(I);var r=n,o=2*Math.PI;var q=20;while(Math.abs(r-o)>1e-12&&--q>0){var z=Math.sin(r),c=Math.cos(r);var N=Math.sqrt((h*z)*(h*z)+(i*l-m*h*c)*(i*l-m*h*c));if(N==0){return 0}var E=m*l+i*h*c;var y=Math.atan2(N,E);var j=Math.asin(i*h*z/N);var F=Math.cos(j)*Math.cos(j);var p=E-2*m*l/F;var v=G/16*F*(4+G*(4-3*F));o=r;r=n+(1-v)*G*Math.sin(j)*(y+v*N*(p+v*E*(-1+2*p*p)))}if(q==0){return NaN}var u=F*(M*M-K*K)/(K*K);var x=1+u/16384*(4096+u*(-768+u*(320-175*u)));var w=u/1024*(256+u*(-128+u*(74-47*u)));var D=w*N*(p+w/4*(E*(-1+2*p*p)-w/6*p*(-3+4*N*N)*(-3+4*p*p)));
var t=K*x*(y-D);var H=t.toFixed(3)/1000;return H};OpenLayers.Util.destinationVincenty=function(l,P,E){var o=OpenLayers.Util;var i=o.VincentyConstants;var Q=i.a,O=i.b,J=i.f;var N=l.lon;var g=l.lat;var q=E;var D=o.rad(P);var G=Math.sin(D);var h=Math.cos(D);var F=(1-J)*Math.tan(o.rad(g));var c=1/Math.sqrt((1+F*F)),j=F*c;var p=Math.atan2(F,h);var y=c*G;var I=1-y*y;var t=I*(Q*Q-O*O)/(O*O);var x=1+t/16384*(4096+t*(-768+t*(320-175*t)));var v=t/1024*(256+t*(-128+t*(74-47*t)));var w=q/(O*x),K=2*Math.PI;while(Math.abs(w-K)>1e-12){var m=Math.cos(2*p+w);var R=Math.sin(w);var H=Math.cos(w);var z=v*R*(m+v/4*(H*(-1+2*m*m)-v/6*m*(-3+4*R*R)*(-3+4*m*m)));K=w;w=q/(O*x)+z}var M=j*R-c*H*h;var d=Math.atan2(j*H+c*R*h,(1-J)*Math.sqrt(y*y+M*M));var n=Math.atan2(R*G,c*H-j*R*h);var r=J/16*I*(4+J*(4-3*I));var k=n-(1-r)*J*y*(w+r*R*(m+r*H*(-1+2*m*m)));var e=Math.atan2(y,-M);return new OpenLayers.LonLat(N+o.deg(k),o.deg(d))};OpenLayers.Util.getParameters=function(b){b=(b===null||b===undefined)?window.location.href:b;var a="";if(OpenLayers.String.contains(b,"?")){var c=b.indexOf("?")+1;var f=OpenLayers.String.contains(b,"#")?b.indexOf("#"):b.length;a=b.substring(c,f)}var m={};var d=a.split(/[&;]/);for(var h=0,j=d.length;h<j;++h){var g=d[h].split("=");if(g[0]){var l=g[0];try{l=decodeURIComponent(l)}catch(e){l=unescape(l)}var k=(g[1]||"").replace(/\+/g," ");try{k=decodeURIComponent(k)}catch(e){k=unescape(k)}k=k.split(",");if(k.length==1){k=k[0]}m[l]=k}}return m};OpenLayers.Util.getArgs=function(a){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"OpenLayers.Util.getParameters"}));return OpenLayers.Util.getParameters(a)};OpenLayers.Util.lastSeqID=0;OpenLayers.Util.createUniqueID=function(a){if(a==null){a="id_"}OpenLayers.Util.lastSeqID+=1;return a+OpenLayers.Util.lastSeqID};OpenLayers.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36};OpenLayers.INCHES_PER_UNIT["in"]=OpenLayers.INCHES_PER_UNIT.inches;OpenLayers.INCHES_PER_UNIT.degrees=OpenLayers.INCHES_PER_UNIT.dd;OpenLayers.INCHES_PER_UNIT.nmi=1852*OpenLayers.INCHES_PER_UNIT.m;OpenLayers.METERS_PER_INCH=0.0254000508001016;OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT,{Inch:OpenLayers.INCHES_PER_UNIT.inches,Meter:1/OpenLayers.METERS_PER_INCH,Foot:0.3048006096012192/OpenLayers.METERS_PER_INCH,IFoot:0.3048/OpenLayers.METERS_PER_INCH,ClarkeFoot:0.3047972651151/OpenLayers.METERS_PER_INCH,SearsFoot:0.30479947153867626/OpenLayers.METERS_PER_INCH,GoldCoastFoot:0.3047997101815088/OpenLayers.METERS_PER_INCH,IInch:0.0254/OpenLayers.METERS_PER_INCH,MicroInch:0.0000254/OpenLayers.METERS_PER_INCH,Mil:2.54e-8/OpenLayers.METERS_PER_INCH,Centimeter:0.01/OpenLayers.METERS_PER_INCH,Kilometer:1000/OpenLayers.METERS_PER_INCH,Yard:0.9144018288036576/OpenLayers.METERS_PER_INCH,SearsYard:0.914398414616029/OpenLayers.METERS_PER_INCH,IndianYard:0.9143985307444408/OpenLayers.METERS_PER_INCH,IndianYd37:0.91439523/OpenLayers.METERS_PER_INCH,IndianYd62:0.9143988/OpenLayers.METERS_PER_INCH,IndianYd75:0.9143985/OpenLayers.METERS_PER_INCH,IndianFoot:0.30479951/OpenLayers.METERS_PER_INCH,IndianFt37:0.30479841/OpenLayers.METERS_PER_INCH,IndianFt62:0.3047996/OpenLayers.METERS_PER_INCH,IndianFt75:0.3047995/OpenLayers.METERS_PER_INCH,Mile:1609.3472186944373/OpenLayers.METERS_PER_INCH,IYard:0.9144/OpenLayers.METERS_PER_INCH,IMile:1609.344/OpenLayers.METERS_PER_INCH,NautM:1852/OpenLayers.METERS_PER_INCH,"Lat-66":110943.31648893273/OpenLayers.METERS_PER_INCH,"Lat-83":110946.25736872235/OpenLayers.METERS_PER_INCH,Decimeter:0.1/OpenLayers.METERS_PER_INCH,Millimeter:0.001/OpenLayers.METERS_PER_INCH,Dekameter:10/OpenLayers.METERS_PER_INCH,Decameter:10/OpenLayers.METERS_PER_INCH,Hectometer:100/OpenLayers.METERS_PER_INCH,GermanMeter:1.0000135965/OpenLayers.METERS_PER_INCH,CaGrid:0.999738/OpenLayers.METERS_PER_INCH,ClarkeChain:20.1166194976/OpenLayers.METERS_PER_INCH,GunterChain:20.11684023368047/OpenLayers.METERS_PER_INCH,BenoitChain:20.116782494375872/OpenLayers.METERS_PER_INCH,SearsChain:20.11676512155/OpenLayers.METERS_PER_INCH,ClarkeLink:0.201166194976/OpenLayers.METERS_PER_INCH,GunterLink:0.2011684023368047/OpenLayers.METERS_PER_INCH,BenoitLink:0.20116782494375873/OpenLayers.METERS_PER_INCH,SearsLink:0.2011676512155/OpenLayers.METERS_PER_INCH,Rod:5.02921005842012/OpenLayers.METERS_PER_INCH,IntnlChain:20.1168/OpenLayers.METERS_PER_INCH,IntnlLink:0.201168/OpenLayers.METERS_PER_INCH,Perch:5.02921005842012/OpenLayers.METERS_PER_INCH,Pole:5.02921005842012/OpenLayers.METERS_PER_INCH,Furlong:201.1684023368046/OpenLayers.METERS_PER_INCH,Rood:3.778266898/OpenLayers.METERS_PER_INCH,CapeFoot:0.3047972615/OpenLayers.METERS_PER_INCH,Brealey:375/OpenLayers.METERS_PER_INCH,ModAmFt:0.304812252984506/OpenLayers.METERS_PER_INCH,Fathom:1.8288/OpenLayers.METERS_PER_INCH,"NautM-UK":1853.184/OpenLayers.METERS_PER_INCH,"50kilometers":50000/OpenLayers.METERS_PER_INCH,"150kilometers":150000/OpenLayers.METERS_PER_INCH});
OpenLayers.Util.extend(OpenLayers.INCHES_PER_UNIT,{mm:OpenLayers.INCHES_PER_UNIT.Meter/1000,cm:OpenLayers.INCHES_PER_UNIT.Meter/100,dm:OpenLayers.INCHES_PER_UNIT.Meter*100,km:OpenLayers.INCHES_PER_UNIT.Meter*1000,kmi:OpenLayers.INCHES_PER_UNIT.nmi,fath:OpenLayers.INCHES_PER_UNIT.Fathom,ch:OpenLayers.INCHES_PER_UNIT.IntnlChain,link:OpenLayers.INCHES_PER_UNIT.IntnlLink,"us-in":OpenLayers.INCHES_PER_UNIT.inches,"us-ft":OpenLayers.INCHES_PER_UNIT.Foot,"us-yd":OpenLayers.INCHES_PER_UNIT.Yard,"us-ch":OpenLayers.INCHES_PER_UNIT.GunterChain,"us-mi":OpenLayers.INCHES_PER_UNIT.Mile,"ind-yd":OpenLayers.INCHES_PER_UNIT.IndianYd37,"ind-ft":OpenLayers.INCHES_PER_UNIT.IndianFt37,"ind-ch":20.11669506/OpenLayers.METERS_PER_INCH});OpenLayers.DOTS_PER_INCH=72;OpenLayers.Util.normalizeScale=function(b){var a=(b>1)?(1/b):b;return a};OpenLayers.Util.getResolutionFromScale=function(d,a){var b;if(d){if(a==null){a="degrees"}var c=OpenLayers.Util.normalizeScale(d);b=1/(c*OpenLayers.INCHES_PER_UNIT[a]*OpenLayers.DOTS_PER_INCH)}return b};OpenLayers.Util.getScaleFromResolution=function(b,a){if(a==null){a="degrees"}var c=b*OpenLayers.INCHES_PER_UNIT[a]*OpenLayers.DOTS_PER_INCH;return c};OpenLayers.Util.safeStopPropagation=function(a){OpenLayers.Event.stop(a,true)};OpenLayers.Util.pagePosition=function(d){var i=[0,0];var h=OpenLayers.Util.getViewportElement();if(!d||d==window||d==h){return i}var f=OpenLayers.IS_GECKO&&document.getBoxObjectFor&&OpenLayers.Element.getStyle(d,"position")=="absolute"&&(d.style.top==""||d.style.left=="");var j=null;var g;if(d.getBoundingClientRect){g=d.getBoundingClientRect();var b=h.scrollTop;var c=h.scrollLeft;i[0]=g.left+c;i[1]=g.top+b}else{if(document.getBoxObjectFor&&!f){g=document.getBoxObjectFor(d);var a=document.getBoxObjectFor(h);i[0]=g.screenX-a.screenX;i[1]=g.screenY-a.screenY}else{i[0]=d.offsetLeft;i[1]=d.offsetTop;j=d.offsetParent;if(j!=d){while(j){i[0]+=j.offsetLeft;i[1]+=j.offsetTop;j=j.offsetParent}}var e=OpenLayers.BROWSER_NAME;if(e=="opera"||(e=="safari"&&OpenLayers.Element.getStyle(d,"position")=="absolute")){i[1]-=document.body.offsetTop}j=d.offsetParent;while(j&&j!=document.body){i[0]-=j.scrollLeft;if(e!="opera"||j.tagName!="TR"){i[1]-=j.scrollTop}j=j.offsetParent}}}return i};OpenLayers.Util.getViewportElement=function(){var a=arguments.callee.viewportElement;if(a==undefined){a=(OpenLayers.BROWSER_NAME=="msie"&&document.compatMode!="CSS1Compat")?document.body:document.documentElement;arguments.callee.viewportElement=a}return a};OpenLayers.Util.isEquivalentUrl=function(f,e,c){c=c||{};OpenLayers.Util.applyDefaults(c,{ignoreCase:true,ignorePort80:true,ignoreHash:true});var b=OpenLayers.Util.createUrlObject(f,c);var a=OpenLayers.Util.createUrlObject(e,c);for(var d in b){if(d!=="args"){if(b[d]!=a[d]){return false}}}for(var d in b.args){if(b.args[d]!=a.args[d]){return false}delete a.args[d]}for(var d in a.args){return false}return true};OpenLayers.Util.createUrlObject=function(c,k){k=k||{};if(!(/^\w+:\/\//).test(c)){var g=window.location;var e=g.port?":"+g.port:"";var h=g.protocol+"//"+g.host.split(":").shift()+e;if(c.indexOf("/")===0){c=h+c}else{var f=g.pathname.split("/");f.pop();c=h+f.join("/")+"/"+c}}if(k.ignoreCase){c=c.toLowerCase()}var i=document.createElement("a");i.href=c;var d={};d.host=i.host.split(":").shift();d.protocol=i.protocol;if(k.ignorePort80){d.port=(i.port=="80"||i.port=="0")?"":i.port}else{d.port=(i.port==""||i.port=="0")?"80":i.port}d.hash=(k.ignoreHash||i.hash==="#")?"":i.hash;var b=i.search;if(!b){var j=c.indexOf("?");b=(j!=-1)?c.substr(j):""}d.args=OpenLayers.Util.getParameters(b);d.pathname=(i.pathname.charAt(0)=="/")?i.pathname:"/"+i.pathname;return d};OpenLayers.Util.removeTail=function(b){var c=null;var a=b.indexOf("?");var d=b.indexOf("#");if(a==-1){c=(d!=-1)?b.substr(0,d):b}else{c=(d!=-1)?b.substr(0,Math.min(a,d)):b.substr(0,a)}return c};OpenLayers.IS_GECKO=(function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("webkit")==-1&&a.indexOf("gecko")!=-1})();OpenLayers.BROWSER_NAME=(function(){var a="";var b=navigator.userAgent.toLowerCase();if(b.indexOf("opera")!=-1){a="opera"
}else{if(b.indexOf("msie")!=-1){a="msie"}else{if(b.indexOf("safari")!=-1){a="safari"}else{if(b.indexOf("mozilla")!=-1){if(b.indexOf("firefox")!=-1){a="firefox"}else{a="mozilla"}}}}}return a})();OpenLayers.Util.getBrowserName=function(){return OpenLayers.BROWSER_NAME};OpenLayers.Util.getRenderedDimensions=function(b,o,p){var k,e;var a=document.createElement("div");a.style.visibility="hidden";var n=(p&&p.containerElement)?p.containerElement:document.body;if(o){if(o.w){k=o.w;a.style.width=k+"px"}else{if(o.h){e=o.h;a.style.height=e+"px"}}}if(p&&p.displayClass){a.className=p.displayClass}var f=document.createElement("div");f.innerHTML=b;f.style.overflow="visible";if(f.childNodes){for(var d=0,c=f.childNodes.length;d<c;d++){if(!f.childNodes[d].style){continue}f.childNodes[d].style.overflow="visible"}}a.appendChild(f);n.appendChild(a);var m=false;var j=a.parentNode;while(j&&j.tagName.toLowerCase()!="body"){var g=OpenLayers.Element.getStyle(j,"position");if(g=="absolute"){m=true;break}else{if(g&&g!="static"){break}}j=j.parentNode}if(!m){a.style.position="absolute"}if(!k){k=parseInt(f.scrollWidth);a.style.width=k+"px"}if(!e){e=parseInt(f.scrollHeight)}a.removeChild(f);n.removeChild(a);return new OpenLayers.Size(k,e)};OpenLayers.Util.getScrollbarWidth=function(){var c=OpenLayers.Util._scrollbarWidth;if(c==null){var e=null;var d=null;var a=0;var b=0;e=document.createElement("div");e.style.position="absolute";e.style.top="-1000px";e.style.left="-1000px";e.style.width="100px";e.style.height="50px";e.style.overflow="hidden";d=document.createElement("div");d.style.width="100%";d.style.height="200px";e.appendChild(d);document.body.appendChild(e);a=d.offsetWidth;e.style.overflow="scroll";b=d.offsetWidth;document.body.removeChild(document.body.lastChild);OpenLayers.Util._scrollbarWidth=(a-b);c=OpenLayers.Util._scrollbarWidth}return c};OpenLayers.Util.getFormattedLonLat=function(h,b,e){if(!e){e="dms"}h=(h+540)%360-180;var d=Math.abs(h);var i=Math.floor(d);var a=(d-i)/(1/60);var c=a;a=Math.floor(a);var g=(c-a)/(1/60);g=Math.round(g*10);g/=10;if(g>=60){g-=60;a+=1;if(a>=60){a-=60;i+=1}}if(i<10){i="0"+i}var f=i+"\u00B0";if(e.indexOf("dm")>=0){if(a<10){a="0"+a}f+=a+"'";if(e.indexOf("dms")>=0){if(g<10){g="0"+g}f+=g+'"'}}if(b=="lon"){f+=h<0?OpenLayers.i18n("W"):OpenLayers.i18n("E")}else{f+=h<0?OpenLayers.i18n("S"):OpenLayers.i18n("N")}return f};OpenLayers.Rico=OpenLayers.Rico||{};OpenLayers.Rico.Corner={round:function(d,b){d=OpenLayers.Util.getElement(d);this._setOptions(b);var a=this.options.color;if(this.options.color=="fromElement"){a=this._background(d)}var c=this.options.bgColor;if(this.options.bgColor=="fromParent"){c=this._background(d.offsetParent)}this._roundCornersImpl(d,a,c)},changeColor:function(c,b){c.style.backgroundColor=b;var a=c.parentNode.getElementsByTagName("span");for(var d=0;d<a.length;d++){a[d].style.backgroundColor=b}},changeOpacity:function(c,f){var d=f;var a="alpha(opacity="+f*100+")";c.style.opacity=d;c.style.filter=a;var b=c.parentNode.getElementsByTagName("span");for(var e=0;e<b.length;e++){b[e].style.opacity=d;b[e].style.filter=a}},reRound:function(d,c){var b=d.parentNode.childNodes[0];var a=d.parentNode.childNodes[2];d.parentNode.removeChild(b);d.parentNode.removeChild(a);this.round(d.parentNode,c)},_roundCornersImpl:function(c,a,b){if(this.options.border){this._renderBorder(c,b)}if(this._isTopRounded()){this._roundTopCorners(c,a,b)}if(this._isBottomRounded()){this._roundBottomCorners(c,a,b)}},_renderBorder:function(d,e){var b="1px solid "+this._borderColor(e);var a="border-left: "+b;var f="border-right: "+b;var c="style='"+a+";"+f+"'";d.innerHTML="<div "+c+">"+d.innerHTML+"</div>"},_roundTopCorners:function(c,a,e){var d=this._createCorner(e);for(var b=0;b<this.options.numSlices;b++){d.appendChild(this._createCornerSlice(a,e,b,"top"))}c.style.paddingTop=0;c.insertBefore(d,c.firstChild)},_roundBottomCorners:function(c,a,e){var d=this._createCorner(e);for(var b=(this.options.numSlices-1);b>=0;b--){d.appendChild(this._createCornerSlice(a,e,b,"bottom"))}c.style.paddingBottom=0;c.appendChild(d)},_createCorner:function(b){var a=document.createElement("div");
a.style.backgroundColor=(this._isTransparent()?"transparent":b);return a},_createCornerSlice:function(c,d,g,a){var e=document.createElement("span");var b=e.style;b.backgroundColor=c;b.display="block";b.height="1px";b.overflow="hidden";b.fontSize="1px";var f=this._borderColor(c,d);if(this.options.border&&g==0){b.borderTopStyle="solid";b.borderTopWidth="1px";b.borderLeftWidth="0px";b.borderRightWidth="0px";b.borderBottomWidth="0px";b.height="0px";b.borderColor=f}else{if(f){b.borderColor=f;b.borderStyle="solid";b.borderWidth="0px 1px"}}if(!this.options.compact&&(g==(this.options.numSlices-1))){b.height="2px"}this._setMargin(e,g,a);this._setBorder(e,g,a);return e},_setOptions:function(a){this.options={corners:"all",color:"fromElement",bgColor:"fromParent",blend:true,border:false,compact:false};OpenLayers.Util.extend(this.options,a||{});this.options.numSlices=this.options.compact?2:4;if(this._isTransparent()){this.options.blend=false}},_whichSideTop:function(){if(this._hasString(this.options.corners,"all","top")){return""}if(this.options.corners.indexOf("tl")>=0&&this.options.corners.indexOf("tr")>=0){return""}if(this.options.corners.indexOf("tl")>=0){return"left"}else{if(this.options.corners.indexOf("tr")>=0){return"right"}}return""},_whichSideBottom:function(){if(this._hasString(this.options.corners,"all","bottom")){return""}if(this.options.corners.indexOf("bl")>=0&&this.options.corners.indexOf("br")>=0){return""}if(this.options.corners.indexOf("bl")>=0){return"left"}else{if(this.options.corners.indexOf("br")>=0){return"right"}}return""},_borderColor:function(a,b){if(a=="transparent"){return b}else{if(this.options.border){return this.options.border}else{if(this.options.blend){return this._blend(b,a)}else{return""}}}},_setMargin:function(d,e,b){var c=this._marginSize(e);var a=b=="top"?this._whichSideTop():this._whichSideBottom();if(a=="left"){d.style.marginLeft=c+"px";d.style.marginRight="0px"}else{if(a=="right"){d.style.marginRight=c+"px";d.style.marginLeft="0px"}else{d.style.marginLeft=c+"px";d.style.marginRight=c+"px"}}},_setBorder:function(d,e,b){var c=this._borderSize(e);var a=b=="top"?this._whichSideTop():this._whichSideBottom();if(a=="left"){d.style.borderLeftWidth=c+"px";d.style.borderRightWidth="0px"}else{if(a=="right"){d.style.borderRightWidth=c+"px";d.style.borderLeftWidth="0px"}else{d.style.borderLeftWidth=c+"px";d.style.borderRightWidth=c+"px"}}if(this.options.border!=false){d.style.borderLeftWidth=c+"px";d.style.borderRightWidth=c+"px"}},_marginSize:function(e){if(this._isTransparent()){return 0}var d=[5,3,2,1];var a=[3,2,1,0];var c=[2,1];var b=[1,0];if(this.options.compact&&this.options.blend){return b[e]}else{if(this.options.compact){return c[e]}else{if(this.options.blend){return a[e]}else{return d[e]}}}},_borderSize:function(e){var d=[5,3,2,1];var b=[2,1,1,1];var a=[1,0];var c=[0,2,0,0];if(this.options.compact&&(this.options.blend||this._isTransparent())){return 1}else{if(this.options.compact){return a[e]}else{if(this.options.blend){return b[e]}else{if(this.options.border){return c[e]}else{if(this._isTransparent()){return d[e]}}}}}return 0},_hasString:function(b){for(var a=1;a<arguments.length;a++){if(b.indexOf(arguments[a])>=0){return true}}return false},_blend:function(c,a){var b=OpenLayers.Rico.Color.createFromHex(c);b.blend(OpenLayers.Rico.Color.createFromHex(a));return b},_background:function(a){try{return OpenLayers.Rico.Color.createColorFromBackground(a).asHex()}catch(b){return"#ffffff"}},_isTransparent:function(){return this.options.color=="transparent"},_isTopRounded:function(){return this._hasString(this.options.corners,"all","top","tl","tr")},_isBottomRounded:function(){return this._hasString(this.options.corners,"all","bottom","bl","br")},_hasSingleTextChild:function(a){return a.childNodes.length==1&&a.childNodes[0].nodeType==3}};(function(){if(window.google&&google.gears){return}var a=null;if(typeof GearsFactory!="undefined"){a=new GearsFactory()}else{try{a=new ActiveXObject("Gears.Factory");if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this)}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");
a.style.display="none";a.width=0;a.height=0;a.type="application/x-googlegears";document.documentElement.appendChild(a)}}}if(!a){return}if(!window.google){google={}}if(!google.gears){google.gears={factory:a}}})();OpenLayers.Protocol=OpenLayers.Class({format:null,options:null,autoDestroy:true,defaultFilter:null,initialize:function(a){a=a||{};OpenLayers.Util.extend(this,a);this.options=a},mergeWithDefaultFilter:function(b){var a;if(b&&this.defaultFilter){a=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[this.defaultFilter,b]})}else{a=b||this.defaultFilter||undefined}return a},destroy:function(){this.options=null;this.format=null},read:function(a){a=a||{};a.filter=this.mergeWithDefaultFilter(a.filter)},create:function(){},update:function(){},"delete":function(){},commit:function(){},abort:function(a){},createCallback:function(c,a,b){return OpenLayers.Function.bind(function(){c.apply(this,[a,b])},this)},CLASS_NAME:"OpenLayers.Protocol"});OpenLayers.Protocol.Response=OpenLayers.Class({code:null,requestType:null,last:true,features:null,reqFeatures:null,priv:null,error:null,initialize:function(a){OpenLayers.Util.extend(this,a)},success:function(){return this.code>0},CLASS_NAME:"OpenLayers.Protocol.Response"});OpenLayers.Protocol.Response.SUCCESS=1;OpenLayers.Protocol.Response.FAILURE=0;OpenLayers.Protocol.SQL=OpenLayers.Class(OpenLayers.Protocol,{databaseName:"ol",tableName:"ol_vector_features",postReadFiltering:true,initialize:function(a){OpenLayers.Protocol.prototype.initialize.apply(this,[a])},destroy:function(){OpenLayers.Protocol.prototype.destroy.apply(this)},supported:function(){return false},evaluateFilter:function(a,b){return b&&this.postReadFiltering?b.evaluate(a):true},CLASS_NAME:"OpenLayers.Protocol.SQL"});OpenLayers.Console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},userError:function(a){alert(a)},assert:function(){},dir:function(){},dirxml:function(){},trace:function(){},group:function(){},groupEnd:function(){},time:function(){},timeEnd:function(){},profile:function(){},profileEnd:function(){},count:function(){},CLASS_NAME:"OpenLayers.Console"};(function(){var b=document.getElementsByTagName("script");for(var c=0,a=b.length;c<a;++c){if(b[c].src.indexOf("firebug.js")!=-1){if(console){OpenLayers.Util.extend(OpenLayers.Console,console);break}}}})();OpenLayers.Lang={code:null,defaultCode:"en",getCode:function(){if(!OpenLayers.Lang.code){OpenLayers.Lang.setCode()}return OpenLayers.Lang.code},setCode:function(b){var d;if(!b){b=(OpenLayers.BROWSER_NAME=="msie")?navigator.userLanguage:navigator.language}var c=b.split("-");c[0]=c[0].toLowerCase();if(typeof OpenLayers.Lang[c[0]]=="object"){d=c[0]}if(c[1]){var a=c[0]+"-"+c[1].toUpperCase();if(typeof OpenLayers.Lang[a]=="object"){d=a}}if(!d){OpenLayers.Console.warn("Failed to find OpenLayers.Lang."+c.join("-")+" dictionary, falling back to default language");d=OpenLayers.Lang.defaultCode}OpenLayers.Lang.code=d},translate:function(b,a){var d=OpenLayers.Lang[OpenLayers.Lang.getCode()];var c=d&&d[b];if(!c){c=b}if(a){c=OpenLayers.String.format(c,a)}return c}};OpenLayers.i18n=OpenLayers.Lang.translate;OpenLayers.Bounds=OpenLayers.Class({left:null,bottom:null,right:null,top:null,centerLonLat:null,initialize:function(d,a,b,c){if(d!=null){this.left=OpenLayers.Util.toFloat(d)}if(a!=null){this.bottom=OpenLayers.Util.toFloat(a)}if(b!=null){this.right=OpenLayers.Util.toFloat(b)}if(c!=null){this.top=OpenLayers.Util.toFloat(c)}},clone:function(){return new OpenLayers.Bounds(this.left,this.bottom,this.right,this.top)},equals:function(b){var a=false;if(b!=null){a=((this.left==b.left)&&(this.right==b.right)&&(this.top==b.top)&&(this.bottom==b.bottom))}return a},toString:function(){return[this.left,this.bottom,this.right,this.top].join(",")},toArray:function(a){if(a===true){return[this.bottom,this.left,this.top,this.right]}else{return[this.left,this.bottom,this.right,this.top]}},toBBOX:function(b,e){if(b==null){b=6}var g=Math.pow(10,b);var f=Math.round(this.left*g)/g;var d=Math.round(this.bottom*g)/g;var c=Math.round(this.right*g)/g;
var a=Math.round(this.top*g)/g;if(e===true){return d+","+f+","+a+","+c}else{return f+","+d+","+c+","+a}},toGeometry:function(){return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(this.left,this.bottom),new OpenLayers.Geometry.Point(this.right,this.bottom),new OpenLayers.Geometry.Point(this.right,this.top),new OpenLayers.Geometry.Point(this.left,this.top)])])},getWidth:function(){return(this.right-this.left)},getHeight:function(){return(this.top-this.bottom)},getSize:function(){return new OpenLayers.Size(this.getWidth(),this.getHeight())},getCenterPixel:function(){return new OpenLayers.Pixel((this.left+this.right)/2,(this.bottom+this.top)/2)},getCenterLonLat:function(){if(!this.centerLonLat){this.centerLonLat=new OpenLayers.LonLat((this.left+this.right)/2,(this.bottom+this.top)/2)}return this.centerLonLat},scale:function(e,c){if(c==null){c=this.getCenterLonLat()}var a,h;if(c.CLASS_NAME=="OpenLayers.LonLat"){a=c.lon;h=c.lat}else{a=c.x;h=c.y}var g=(this.left-a)*e+a;var b=(this.bottom-h)*e+h;var d=(this.right-a)*e+a;var f=(this.top-h)*e+h;return new OpenLayers.Bounds(g,b,d,f)},add:function(a,c){if((a==null)||(c==null)){var b=OpenLayers.i18n("boundsAddError");OpenLayers.Console.error(b);return null}return new OpenLayers.Bounds(this.left+a,this.bottom+c,this.right+a,this.top+c)},extend:function(a){var b=null;if(a){switch(a.CLASS_NAME){case"OpenLayers.LonLat":b=new OpenLayers.Bounds(a.lon,a.lat,a.lon,a.lat);break;case"OpenLayers.Geometry.Point":b=new OpenLayers.Bounds(a.x,a.y,a.x,a.y);break;case"OpenLayers.Bounds":b=a;break}if(b){this.centerLonLat=null;if((this.left==null)||(b.left<this.left)){this.left=b.left}if((this.bottom==null)||(b.bottom<this.bottom)){this.bottom=b.bottom}if((this.right==null)||(b.right>this.right)){this.right=b.right}if((this.top==null)||(b.top>this.top)){this.top=b.top}}}},containsLonLat:function(b,a){return this.contains(b.lon,b.lat,a)},containsPixel:function(b,a){return this.contains(b.x,b.y,a)},contains:function(b,d,a){if(a==null){a=true}if(b==null||d==null){return false}b=OpenLayers.Util.toFloat(b);d=OpenLayers.Util.toFloat(d);var c=false;if(a){c=((b>=this.left)&&(b<=this.right)&&(d>=this.bottom)&&(d<=this.top))}else{c=((b>this.left)&&(b<this.right)&&(d>this.bottom)&&(d<this.top))}return c},intersectsBounds:function(e,b){if(b==null){b=true}var d=false;var h=(this.left==e.right||this.right==e.left||this.top==e.bottom||this.bottom==e.top);if(b||!h){var g=(((e.bottom>=this.bottom)&&(e.bottom<=this.top))||((this.bottom>=e.bottom)&&(this.bottom<=e.top)));var f=(((e.top>=this.bottom)&&(e.top<=this.top))||((this.top>e.bottom)&&(this.top<e.top)));var c=(((e.left>=this.left)&&(e.left<=this.right))||((this.left>=e.left)&&(this.left<=e.right)));var a=(((e.right>=this.left)&&(e.right<=this.right))||((this.right>=e.left)&&(this.right<=e.right)));d=((g||f)&&(c||a))}return d},containsBounds:function(g,b,a){if(b==null){b=false}if(a==null){a=true}var c=this.contains(g.left,g.bottom,a);var d=this.contains(g.right,g.bottom,a);var f=this.contains(g.left,g.top,a);var e=this.contains(g.right,g.top,a);return(b)?(c||d||f||e):(c&&d&&f&&e)},determineQuadrant:function(c){var b="";var a=this.getCenterLonLat();b+=(c.lat<a.lat)?"b":"t";b+=(c.lon<a.lon)?"l":"r";return b},transform:function(d,b){this.centerLonLat=null;var e=OpenLayers.Projection.transform({x:this.left,y:this.bottom},d,b);var a=OpenLayers.Projection.transform({x:this.right,y:this.bottom},d,b);var c=OpenLayers.Projection.transform({x:this.left,y:this.top},d,b);var f=OpenLayers.Projection.transform({x:this.right,y:this.top},d,b);this.left=Math.min(e.x,c.x);this.bottom=Math.min(e.y,a.y);this.right=Math.max(a.x,f.x);this.top=Math.max(c.y,f.y);return this},wrapDateLine:function(a,c){c=c||{};var d=c.leftTolerance||0;var b=c.rightTolerance||0;var e=this.clone();if(a){while(e.left<a.left&&(e.right-b)<=a.left){e=e.add(a.getWidth(),0)}while((e.left+d)>=a.right&&e.right>a.right){e=e.add(-a.getWidth(),0)}}return e},CLASS_NAME:"OpenLayers.Bounds"});OpenLayers.Bounds.fromString=function(c,b){var a=c.split(",");return OpenLayers.Bounds.fromArray(a,b)
};OpenLayers.Bounds.fromArray=function(b,a){return a===true?new OpenLayers.Bounds(parseFloat(b[1]),parseFloat(b[0]),parseFloat(b[3]),parseFloat(b[2])):new OpenLayers.Bounds(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]))};OpenLayers.Bounds.fromSize=function(a){return new OpenLayers.Bounds(0,a.h,a.w,0)};OpenLayers.Bounds.oppositeQuadrant=function(a){var b="";b+=(a.charAt(0)=="t")?"b":"t";b+=(a.charAt(1)=="l")?"r":"l";return b};OpenLayers.Element={visible:function(a){return OpenLayers.Util.getElement(a).style.display!="none"},toggle:function(){for(var c=0,a=arguments.length;c<a;c++){var b=OpenLayers.Util.getElement(arguments[c]);var d=OpenLayers.Element.visible(b)?"hide":"show";OpenLayers.Element[d](b)}},hide:function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"element.style.display = 'none';"}));for(var c=0,a=arguments.length;c<a;c++){var b=OpenLayers.Util.getElement(arguments[c]);if(b){b.style.display="none"}}},show:function(){OpenLayers.Console.warn(OpenLayers.i18n("methodDeprecated",{newMethod:"element.style.display = '';"}));for(var c=0,a=arguments.length;c<a;c++){var b=OpenLayers.Util.getElement(arguments[c]);if(b){b.style.display=""}}},remove:function(a){a=OpenLayers.Util.getElement(a);a.parentNode.removeChild(a)},getHeight:function(a){a=OpenLayers.Util.getElement(a);return a.offsetHeight},getDimensions:function(c){c=OpenLayers.Util.getElement(c);if(OpenLayers.Element.getStyle(c,"display")!="none"){return{width:c.offsetWidth,height:c.offsetHeight}}var b=c.style;var f=b.visibility;var d=b.position;var a=b.display;b.visibility="hidden";b.position="absolute";b.display="";var g=c.clientWidth;var e=c.clientHeight;b.display=a;b.position=d;b.visibility=f;return{width:g,height:e}},hasClass:function(b,a){var c=b.className;return(!!c&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c))},addClass:function(b,a){if(!OpenLayers.Element.hasClass(b,a)){b.className+=(b.className?" ":"")+a}return b},removeClass:function(b,a){var c=b.className;if(c){b.className=OpenLayers.String.trim(c.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," "))}return b},toggleClass:function(b,a){if(OpenLayers.Element.hasClass(b,a)){OpenLayers.Element.removeClass(b,a)}else{OpenLayers.Element.addClass(b,a)}return b},getStyle:function(c,d){c=OpenLayers.Util.getElement(c);var e=null;if(c&&c.style){e=c.style[OpenLayers.String.camelize(d)];if(!e){if(document.defaultView&&document.defaultView.getComputedStyle){var b=document.defaultView.getComputedStyle(c,null);e=b?b.getPropertyValue(d):null}else{if(c.currentStyle){e=c.currentStyle[OpenLayers.String.camelize(d)]}}}var a=["left","top","right","bottom"];if(window.opera&&(OpenLayers.Util.indexOf(a,d)!=-1)&&(OpenLayers.Element.getStyle(c,"position")=="static")){e="auto"}}return e=="auto"?null:e}};OpenLayers.LonLat=OpenLayers.Class({lon:0,lat:0,initialize:function(b,a){this.lon=OpenLayers.Util.toFloat(b);this.lat=OpenLayers.Util.toFloat(a)},toString:function(){return("lon="+this.lon+",lat="+this.lat)},toShortString:function(){return(this.lon+", "+this.lat)},clone:function(){return new OpenLayers.LonLat(this.lon,this.lat)},add:function(c,a){if((c==null)||(a==null)){var b=OpenLayers.i18n("lonlatAddError");OpenLayers.Console.error(b);return null}return new OpenLayers.LonLat(this.lon+OpenLayers.Util.toFloat(c),this.lat+OpenLayers.Util.toFloat(a))},equals:function(b){var a=false;if(b!=null){a=((this.lon==b.lon&&this.lat==b.lat)||(isNaN(this.lon)&&isNaN(this.lat)&&isNaN(b.lon)&&isNaN(b.lat)))}return a},transform:function(c,b){var a=OpenLayers.Projection.transform({x:this.lon,y:this.lat},c,b);this.lon=a.x;this.lat=a.y;return this},wrapDateLine:function(a){var b=this.clone();if(a){while(b.lon<a.left){b.lon+=a.getWidth()}while(b.lon>a.right){b.lon-=a.getWidth()}}return b},CLASS_NAME:"OpenLayers.LonLat"});OpenLayers.LonLat.fromString=function(b){var a=b.split(",");return new OpenLayers.LonLat(a[0],a[1])};OpenLayers.LonLat.fromArray=function(a){var b=OpenLayers.Util.isArray(a),d=b&&a[0],c=b&&a[1];return new OpenLayers.LonLat(d,c)};OpenLayers.Pixel=OpenLayers.Class({x:0,y:0,initialize:function(a,b){this.x=parseFloat(a);
this.y=parseFloat(b)},toString:function(){return("x="+this.x+",y="+this.y)},clone:function(){return new OpenLayers.Pixel(this.x,this.y)},equals:function(a){var b=false;if(a!=null){b=((this.x==a.x&&this.y==a.y)||(isNaN(this.x)&&isNaN(this.y)&&isNaN(a.x)&&isNaN(a.y)))}return b},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},add:function(a,c){if((a==null)||(c==null)){var b=OpenLayers.i18n("pixelAddError");OpenLayers.Console.error(b);return null}return new OpenLayers.Pixel(this.x+a,this.y+c)},offset:function(a){var b=this.clone();if(a){b=this.add(a.x,a.y)}return b},CLASS_NAME:"OpenLayers.Pixel"});OpenLayers.Size=OpenLayers.Class({w:0,h:0,initialize:function(a,b){this.w=parseFloat(a);this.h=parseFloat(b)},toString:function(){return("w="+this.w+",h="+this.h)},clone:function(){return new OpenLayers.Size(this.w,this.h)},equals:function(b){var a=false;if(b!=null){a=((this.w==b.w&&this.h==b.h)||(isNaN(this.w)&&isNaN(this.h)&&isNaN(b.w)&&isNaN(b.h)))}return a},CLASS_NAME:"OpenLayers.Size"});OpenLayers.Format=OpenLayers.Class({options:null,externalProjection:null,internalProjection:null,data:null,keepData:false,initialize:function(a){OpenLayers.Util.extend(this,a);this.options=a},destroy:function(){},read:function(a){OpenLayers.Console.userError(OpenLayers.i18n("readNotImplemented"))},write:function(a){OpenLayers.Console.userError(OpenLayers.i18n("writeNotImplemented"))},CLASS_NAME:"OpenLayers.Format"});OpenLayers.Format.JSON=OpenLayers.Class(OpenLayers.Format,{indent:"    ",space:" ",newline:"\n",level:0,pretty:false,nativeJSON:(function(){return !!(window.JSON&&typeof JSON.parse=="function"&&typeof JSON.stringify=="function")})(),read:function(json,filter){var object;if(this.nativeJSON){object=JSON.parse(json,filter)}else{try{if(/^[\],:{}\s]*$/.test(json.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){object=eval("("+json+")");if(typeof filter==="function"){function walk(k,v){if(v&&typeof v==="object"){for(var i in v){if(v.hasOwnProperty(i)){v[i]=walk(i,v[i])}}}return filter(k,v)}object=walk("",object)}}}catch(e){}}if(this.keepData){this.data=object}return object},write:function(e,c){this.pretty=!!c;var a=null;var b=typeof e;if(this.serialize[b]){try{a=(!this.pretty&&this.nativeJSON)?JSON.stringify(e):this.serialize[b].apply(this,[e])}catch(d){OpenLayers.Console.error("Trouble serializing: "+d)}}return a},writeIndent:function(){var b=[];if(this.pretty){for(var a=0;a<this.level;++a){b.push(this.indent)}}return b.join("")},writeNewline:function(){return(this.pretty)?this.newline:""},writeSpace:function(){return(this.pretty)?this.space:""},serialize:{object:function(c){if(c==null){return"null"}if(c.constructor==Date){return this.serialize.date.apply(this,[c])}if(c.constructor==Array){return this.serialize.array.apply(this,[c])}var f=["{"];this.level+=1;var d,b,e;var a=false;for(d in c){if(c.hasOwnProperty(d)){b=OpenLayers.Format.JSON.prototype.write.apply(this,[d,this.pretty]);e=OpenLayers.Format.JSON.prototype.write.apply(this,[c[d],this.pretty]);if(b!=null&&e!=null){if(a){f.push(",")}f.push(this.writeNewline(),this.writeIndent(),b,":",this.writeSpace(),e);a=true}}}this.level-=1;f.push(this.writeNewline(),this.writeIndent(),"}");return f.join("")},array:function(e){var c;var d=["["];this.level+=1;for(var b=0,a=e.length;b<a;++b){c=OpenLayers.Format.JSON.prototype.write.apply(this,[e[b],this.pretty]);if(c!=null){if(b>0){d.push(",")}d.push(this.writeNewline(),this.writeIndent(),c)}}this.level-=1;d.push(this.writeNewline(),this.writeIndent(),"]");return d.join("")},string:function(b){var a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};if(/["\\\x00-\x1f]/.test(b)){return'"'+b.replace(/([\x00-\x1f\\"])/g,function(e,d){var f=a[d];if(f){return f}f=d.charCodeAt();return"\\u00"+Math.floor(f/16).toString(16)+(f%16).toString(16)})+'"'}return'"'+b+'"'},number:function(a){return isFinite(a)?String(a):"null"},"boolean":function(a){return String(a)},date:function(a){function b(c){return(c<10)?"0"+c:c
}return'"'+a.getFullYear()+"-"+b(a.getMonth()+1)+"-"+b(a.getDate())+"T"+b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())+'"'}},CLASS_NAME:"OpenLayers.Format.JSON"});OpenLayers.Feature=OpenLayers.Class({layer:null,id:null,lonlat:null,data:null,marker:null,popupClass:null,popup:null,initialize:function(a,c,b){this.layer=a;this.lonlat=c;this.data=(b!=null)?b:{};this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){if((this.layer!=null)&&(this.layer.map!=null)){if(this.popup!=null){this.layer.map.removePopup(this.popup)}}if(this.layer!=null&&this.marker!=null){this.layer.removeMarker(this.marker)}this.layer=null;this.id=null;this.lonlat=null;this.data=null;if(this.marker!=null){this.destroyMarker(this.marker);this.marker=null}if(this.popup!=null){this.destroyPopup(this.popup);this.popup=null}},onScreen:function(){var b=false;if((this.layer!=null)&&(this.layer.map!=null)){var a=this.layer.map.getExtent();b=a.containsLonLat(this.lonlat)}return b},createMarker:function(){if(this.lonlat!=null){this.marker=new OpenLayers.Marker(this.lonlat,this.data.icon)}return this.marker},destroyMarker:function(){this.marker.destroy()},createPopup:function(b){if(this.lonlat!=null){if(!this.popup){var a=(this.marker)?this.marker.icon:null;var c=this.popupClass?this.popupClass:OpenLayers.Popup.AnchoredBubble;this.popup=new c(this.id+"_popup",this.lonlat,this.data.popupSize,this.data.popupContentHTML,a,b)}if(this.data.overflow!=null){this.popup.contentDiv.style.overflow=this.data.overflow}this.popup.feature=this}return this.popup},destroyPopup:function(){if(this.popup){this.popup.feature=null;this.popup.destroy();this.popup=null}},CLASS_NAME:"OpenLayers.Feature"});OpenLayers.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"};OpenLayers.Feature.Vector=OpenLayers.Class(OpenLayers.Feature,{fid:null,geometry:null,attributes:null,bounds:null,state:null,style:null,url:null,renderIntent:"default",modified:null,initialize:function(c,a,b){OpenLayers.Feature.prototype.initialize.apply(this,[null,null,a]);this.lonlat=null;this.geometry=c?c:null;this.state=null;this.attributes={};if(a){this.attributes=OpenLayers.Util.extend(this.attributes,a)}this.style=b?b:null},destroy:function(){if(this.layer){this.layer.removeFeatures(this);this.layer=null}this.geometry=null;this.modified=null;OpenLayers.Feature.prototype.destroy.apply(this,arguments)},clone:function(){return new OpenLayers.Feature.Vector(this.geometry?this.geometry.clone():null,this.attributes,this.style)},onScreen:function(d){var c=false;if(this.layer&&this.layer.map){var a=this.layer.map.getExtent();if(d){var b=this.geometry.getBounds();c=a.intersectsBounds(b)}else{var e=a.toGeometry();c=e.intersects(this.geometry)}}return c},getVisibility:function(){return !(this.style&&this.style.display=="none"||!this.layer||this.layer&&this.layer.styleMap&&this.layer.styleMap.createSymbolizer(this,this.renderIntent).display=="none"||this.layer&&!this.layer.getVisibility())},createMarker:function(){return null},destroyMarker:function(){},createPopup:function(){return null},atPoint:function(b,d,c){var a=false;if(this.geometry){a=this.geometry.atPoint(b,d,c)}return a},destroyPopup:function(){},move:function(a){if(!this.layer||!this.geometry.move){return undefined}var b;if(a.CLASS_NAME=="OpenLayers.LonLat"){b=this.layer.getViewPortPxFromLonLat(a)}else{b=a}var d=this.layer.getViewPortPxFromLonLat(this.geometry.getBounds().getCenterLonLat());var c=this.layer.map.getResolution();this.geometry.move(c*(b.x-d.x),c*(d.y-b.y));this.layer.drawFeature(this);return d},toState:function(a){if(a==OpenLayers.State.UPDATE){switch(this.state){case OpenLayers.State.UNKNOWN:case OpenLayers.State.DELETE:this.state=a;break;case OpenLayers.State.UPDATE:case OpenLayers.State.INSERT:break}}else{if(a==OpenLayers.State.INSERT){switch(this.state){case OpenLayers.State.UNKNOWN:break;default:this.state=a;break}}else{if(a==OpenLayers.State.DELETE){switch(this.state){case OpenLayers.State.INSERT:break;case OpenLayers.State.DELETE:break;case OpenLayers.State.UNKNOWN:case OpenLayers.State.UPDATE:this.state=a;
break}}else{if(a==OpenLayers.State.UNKNOWN){this.state=a}}}}},CLASS_NAME:"OpenLayers.Feature.Vector"});OpenLayers.Feature.Vector.style={"default":{fillColor:"#ee9900",fillOpacity:0.4,hoverFillColor:"white",hoverFillOpacity:0.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:0.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit"},select:{fillColor:"blue",fillOpacity:0.4,hoverFillColor:"white",hoverFillOpacity:0.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:0.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer"},temporary:{fillColor:"#66cccc",fillOpacity:0.2,hoverFillColor:"white",hoverFillOpacity:0.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:0.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit"},"delete":{display:"none"}};OpenLayers.Format.WKT=OpenLayers.Class(OpenLayers.Format,{initialize:function(a){this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};OpenLayers.Format.prototype.initialize.apply(this,[a])},read:function(f){var e,d,h;f=f.replace(/[\n\r]/g," ");var g=this.regExes.typeStr.exec(f);if(g){d=g[1].toLowerCase();h=g[2];if(this.parse[d]){e=this.parse[d].apply(this,[h])}if(this.internalProjection&&this.externalProjection){if(e&&e.CLASS_NAME=="OpenLayers.Feature.Vector"){e.geometry.transform(this.externalProjection,this.internalProjection)}else{if(e&&d!="geometrycollection"&&typeof e=="object"){for(var c=0,a=e.length;c<a;c++){var b=e[c];b.geometry.transform(this.externalProjection,this.internalProjection)}}}}}return e},write:function(a){var f,j,h,d,b;if(a.constructor==Array){f=a;b=true}else{f=[a];b=false}var c=[];if(b){c.push("GEOMETRYCOLLECTION(")}for(var e=0,g=f.length;e<g;++e){if(b&&e>0){c.push(",")}j=f[e].geometry;c.push(this.extractGeometry(j))}if(b){c.push(")")}return c.join("")},extractGeometry:function(d){var b=d.CLASS_NAME.split(".")[2].toLowerCase();if(!this.extract[b]){return null}if(this.internalProjection&&this.externalProjection){d=d.clone();d.transform(this.internalProjection,this.externalProjection)}var a=b=="collection"?"GEOMETRYCOLLECTION":b.toUpperCase();var c=a+"("+this.extract[b].apply(this,[d])+")";return c},extract:{point:function(a){return a.x+" "+a.y},multipoint:function(c){var d=[];for(var b=0,a=c.components.length;b<a;++b){d.push("("+this.extract.point.apply(this,[c.components[b]])+")")}return d.join(",")},linestring:function(b){var d=[];for(var c=0,a=b.components.length;c<a;++c){d.push(this.extract.point.apply(this,[b.components[c]]))}return d.join(",")},multilinestring:function(c){var d=[];for(var b=0,a=c.components.length;b<a;++b){d.push("("+this.extract.linestring.apply(this,[c.components[b]])+")")}return d.join(",")},polygon:function(c){var d=[];for(var b=0,a=c.components.length;b<a;++b){d.push("("+this.extract.linestring.apply(this,[c.components[b]])+")")}return d.join(",")},multipolygon:function(d){var c=[];for(var b=0,a=d.components.length;b<a;++b){c.push("("+this.extract.polygon.apply(this,[d.components[b]])+")")}return c.join(",")},collection:function(c){var d=[];for(var b=0,a=c.components.length;b<a;++b){d.push(this.extractGeometry.apply(this,[c.components[b]]))}return d.join(",")}},parse:{point:function(b){var a=OpenLayers.String.trim(b).split(this.regExes.spaces);return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(a[0],a[1]))},multipoint:function(f){var b;var d=OpenLayers.String.trim(f).split(",");var e=[];for(var c=0,a=d.length;c<a;++c){b=d[c].replace(this.regExes.trimParens,"$1");e.push(this.parse.point.apply(this,[b]).geometry)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPoint(e))
},linestring:function(e){var c=OpenLayers.String.trim(e).split(",");var d=[];for(var b=0,a=c.length;b<a;++b){d.push(this.parse.point.apply(this,[c[b]]).geometry)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString(d))},multilinestring:function(f){var c;var b=OpenLayers.String.trim(f).split(this.regExes.parenComma);var e=[];for(var d=0,a=b.length;d<a;++d){c=b[d].replace(this.regExes.trimParens,"$1");e.push(this.parse.linestring.apply(this,[c]).geometry)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiLineString(e))},polygon:function(h){var c,b,f;var g=OpenLayers.String.trim(h).split(this.regExes.parenComma);var e=[];for(var d=0,a=g.length;d<a;++d){c=g[d].replace(this.regExes.trimParens,"$1");b=this.parse.linestring.apply(this,[c]).geometry;f=new OpenLayers.Geometry.LinearRing(b.components);e.push(f)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon(e))},multipolygon:function(f){var d;var b=OpenLayers.String.trim(f).split(this.regExes.doubleParenComma);var e=[];for(var c=0,a=b.length;c<a;++c){d=b[c].replace(this.regExes.trimParens,"$1");e.push(this.parse.polygon.apply(this,[d]).geometry)}return new OpenLayers.Feature.Vector(new OpenLayers.Geometry.MultiPolygon(e))},geometrycollection:function(e){e=e.replace(/,\s*([A-Za-z])/g,"|$1");var d=OpenLayers.String.trim(e).split("|");var c=[];for(var b=0,a=d.length;b<a;++b){c.push(OpenLayers.Format.WKT.prototype.read.apply(this,[d[b]]))}return c}},CLASS_NAME:"OpenLayers.Format.WKT"});OpenLayers.Protocol.SQL.Gears=OpenLayers.Class(OpenLayers.Protocol.SQL,{FID_PREFIX:"__gears_fid__",NULL_GEOMETRY:"__gears_null_geometry__",NULL_FEATURE_STATE:"__gears_null_feature_state__",jsonParser:null,wktParser:null,fidRegExp:null,saveFeatureState:true,typeOfFid:"string",db:null,initialize:function(a){if(!this.supported()){return}OpenLayers.Protocol.SQL.prototype.initialize.apply(this,[a]);this.jsonParser=new OpenLayers.Format.JSON();this.wktParser=new OpenLayers.Format.WKT();this.fidRegExp=new RegExp("^"+this.FID_PREFIX);this.initializeDatabase()},initializeDatabase:function(){this.db=google.gears.factory.create("beta.database");this.db.open(this.databaseName);this.db.execute("CREATE TABLE IF NOT EXISTS "+this.tableName+" (fid TEXT UNIQUE, geometry TEXT, properties TEXT,  state TEXT)")},destroy:function(){this.db.close();this.db=null;this.jsonParser=null;this.wktParser=null;OpenLayers.Protocol.SQL.prototype.destroy.apply(this)},supported:function(){return !!(window.google&&google.gears)},read:function(b){OpenLayers.Protocol.prototype.read.apply(this,arguments);b=OpenLayers.Util.applyDefaults(b,this.options);var c,d=[];var a=this.db.execute("SELECT * FROM "+this.tableName);while(a.isValidRow()){c=this.unfreezeFeature(a);if(this.evaluateFilter(c,b.filter)){if(!b.noFeatureStateReset){c.state=null}d.push(c)}a.next()}a.close();var e=new OpenLayers.Protocol.Response({code:OpenLayers.Protocol.Response.SUCCESS,requestType:"read",features:d});if(b&&b.callback){b.callback.call(b.scope,e)}return e},unfreezeFeature:function(d){var a;var b=d.fieldByName("geometry");if(b==this.NULL_GEOMETRY){a=new OpenLayers.Feature.Vector()}else{a=this.wktParser.read(b)}a.attributes=this.jsonParser.read(d.fieldByName("properties"));a.fid=this.extractFidFromField(d.fieldByName("fid"));var c=d.fieldByName("state");if(c==this.NULL_FEATURE_STATE){c=null}a.state=c;return a},extractFidFromField:function(a){if(!a.match(this.fidRegExp)&&this.typeOfFid=="number"){a=parseFloat(a)}return a},create:function(b,a){a=OpenLayers.Util.applyDefaults(a,this.options);var c=this.createOrUpdate(b);c.requestType="create";if(a&&a.callback){a.callback.call(a.scope,c)}return c},update:function(b,a){a=OpenLayers.Util.applyDefaults(a,this.options);var c=this.createOrUpdate(b);c.requestType="update";if(a&&a.callback){a.callback.call(a.scope,c)}return c},createOrUpdate:function(e){if(!(OpenLayers.Util.isArray(e))){e=[e]}var c,a=e.length,b;var d=new Array(a);for(c=0;c<a;c++){b=e[c];var f=this.freezeFeature(b);this.db.execute("REPLACE INTO "+this.tableName+" (fid, geometry, properties, state) VALUES (?, ?, ?, ?)",f);
var g=b.clone();g.fid=this.extractFidFromField(f[0]);d[c]=g}return new OpenLayers.Protocol.Response({code:OpenLayers.Protocol.Response.SUCCESS,features:d,reqFeatures:e})},freezeFeature:function(b){b.fid=b.fid!=null?""+b.fid:OpenLayers.Util.createUniqueID(this.FID_PREFIX);var d=b.geometry!=null?b.geometry.toString():this.NULL_GEOMETRY;var a=this.jsonParser.write(b.attributes);var c=this.getFeatureStateForFreeze(b);return[b.fid,d,a,c]},getFeatureStateForFreeze:function(a){var b;if(!this.saveFeatureState){b=this.NULL_FEATURE_STATE}else{if(this.createdOffline(a)){b=OpenLayers.State.INSERT}else{b=a.state}}return b},"delete":function(f,c){if(!(OpenLayers.Util.isArray(f))){f=[f]}c=OpenLayers.Util.applyDefaults(c,this.options);var e,a,d;for(e=0,a=f.length;e<a;e++){d=f[e];if(this.saveFeatureState&&!this.createdOffline(d)){var b=d.clone();b.fid=d.fid;if(b.geometry){b.geometry.destroy();b.geometry=null}b.state=d.state;this.createOrUpdate(b)}else{this.db.execute("DELETE FROM "+this.tableName+" WHERE fid = ?",[d.fid])}}var g=new OpenLayers.Protocol.Response({code:OpenLayers.Protocol.Response.SUCCESS,requestType:"delete",reqFeatures:f});if(c&&c.callback){c.callback.call(c.scope,g)}return g},createdOffline:function(a){return(typeof a.fid=="string"&&!!(a.fid.match(this.fidRegExp)))},commit:function(c,m){var b,e=[],g=0,h=0;function k(i){if(++h<g){i.last=false}this.callUserCallback(m,i)}var l,j=[],a=[],d=[];for(var f=c.length-1;f>=0;f--){l=c[f];switch(l.state){case OpenLayers.State.INSERT:j.push(l);break;case OpenLayers.State.UPDATE:a.push(l);break;case OpenLayers.State.DELETE:d.push(l);break}}if(j.length>0){g++;b=OpenLayers.Util.applyDefaults({callback:k,scope:this},m.create);e.push(this.create(j,b))}if(a.length>0){g++;b=OpenLayers.Util.applyDefaults({callback:k,scope:this},m.update);e.push(this.update(a,b))}if(d.length>0){g++;b=OpenLayers.Util.applyDefaults({callback:k,scope:this},m["delete"]);e.push(this["delete"](d,b))}return e},clear:function(){this.db.execute("DELETE FROM "+this.tableName)},callUserCallback:function(a,c){var b=a[c.requestType];if(b&&b.callback){b.callback.call(b.scope,c)}if(c.last&&a.callback){a.callback.call(a.scope)}},CLASS_NAME:"OpenLayers.Protocol.SQL.Gears"});OpenLayers.Format.XML=OpenLayers.Class(OpenLayers.Format,{namespaces:null,namespaceAlias:null,defaultPrefix:null,readers:{},writers:{},xmldom:null,initialize:function(a){if(window.ActiveXObject){this.xmldom=new ActiveXObject("Microsoft.XMLDOM")}OpenLayers.Format.prototype.initialize.apply(this,[a]);this.namespaces=OpenLayers.Util.extend({},this.namespaces);this.namespaceAlias={};for(var b in this.namespaces){this.namespaceAlias[this.namespaces[b]]=b}},destroy:function(){this.xmldom=null;OpenLayers.Format.prototype.destroy.apply(this,arguments)},setNamespace:function(a,b){this.namespaces[a]=b;this.namespaceAlias[b]=a},read:function(c){var a=c.indexOf("<");if(a>0){c=c.substring(a)}var b=OpenLayers.Util.Try(OpenLayers.Function.bind((function(){var d;if(window.ActiveXObject&&!this.xmldom){d=new ActiveXObject("Microsoft.XMLDOM")}else{d=this.xmldom}d.loadXML(c);return d}),this),function(){return new DOMParser().parseFromString(c,"text/xml")},function(){var d=new XMLHttpRequest();d.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(c),false);if(d.overrideMimeType){d.overrideMimeType("text/xml")}d.send(null);return d.responseXML});if(this.keepData){this.data=b}return b},write:function(b){var c;if(this.xmldom){c=b.xml}else{var a=new XMLSerializer();if(b.nodeType==1){var d=document.implementation.createDocument("","",null);if(d.importNode){b=d.importNode(b,true)}d.appendChild(b);c=a.serializeToString(d)}else{c=a.serializeToString(b)}}return c},createElementNS:function(c,a){var b;if(this.xmldom){if(typeof c=="string"){b=this.xmldom.createNode(1,a,c)}else{b=this.xmldom.createNode(1,a,"")}}else{b=document.createElementNS(c,a)}return b},createTextNode:function(b){var a;if(typeof b!=="string"){b=String(b)}if(this.xmldom){a=this.xmldom.createTextNode(b)}else{a=document.createTextNode(b)}return a},getElementsByTagNameNS:function(e,d,c){var a=[];if(e.getElementsByTagNameNS){a=e.getElementsByTagNameNS(d,c)
}else{var b=e.getElementsByTagName("*");var j,f;for(var g=0,h=b.length;g<h;++g){j=b[g];f=(j.prefix)?(j.prefix+":"+c):c;if((c=="*")||(f==j.nodeName)){if((d=="*")||(d==j.namespaceURI)){a.push(j)}}}}return a},getAttributeNodeNS:function(c,b,a){var j=null;if(c.getAttributeNodeNS){j=c.getAttributeNodeNS(b,a)}else{var e=c.attributes;var h,d;for(var f=0,g=e.length;f<g;++f){h=e[f];if(h.namespaceURI==b){d=(h.prefix)?(h.prefix+":"+a):a;if(d==h.nodeName){j=h;break}}}}return j},getAttributeNS:function(e,d,a){var b="";if(e.getAttributeNS){b=e.getAttributeNS(d,a)||""}else{var c=this.getAttributeNodeNS(e,d,a);if(c){b=c.nodeValue}}return b},getChildValue:function(a,c){var b=c||"";if(a){for(var d=a.firstChild;d;d=d.nextSibling){switch(d.nodeType){case 3:case 4:b+=d.nodeValue}}}return b},concatChildValues:function(b,d){var c="";var e=b.firstChild;var a;while(e){a=e.nodeValue;if(a){c+=a}e=e.nextSibling}if(c==""&&d!=undefined){c=d}return c},isSimpleContent:function(a){var c=true;for(var b=a.firstChild;b;b=b.nextSibling){if(b.nodeType===1){c=false;break}}return c},contentType:function(c){var e=false,b=false;var a=OpenLayers.Format.XML.CONTENT_TYPE.EMPTY;for(var d=c.firstChild;d;d=d.nextSibling){switch(d.nodeType){case 1:b=true;break;case 8:break;default:e=true}if(b&&e){break}}if(b&&e){a=OpenLayers.Format.XML.CONTENT_TYPE.MIXED}else{if(b){return OpenLayers.Format.XML.CONTENT_TYPE.COMPLEX}else{if(e){return OpenLayers.Format.XML.CONTENT_TYPE.SIMPLE}}}return a},hasAttributeNS:function(c,b,a){var d=false;if(c.hasAttributeNS){d=c.hasAttributeNS(b,a)}else{d=!!this.getAttributeNodeNS(c,b,a)}return d},setAttributeNS:function(d,c,a,e){if(d.setAttributeNS){d.setAttributeNS(c,a,e)}else{if(this.xmldom){if(c){var b=d.ownerDocument.createNode(2,a,c);b.nodeValue=e;d.setAttributeNode(b)}else{d.setAttribute(a,e)}}else{throw"setAttributeNS not implemented"}}},createElementNSPlus:function(b,a){a=a||{};var d=a.uri||this.namespaces[a.prefix];if(!d){var f=b.indexOf(":");d=this.namespaces[b.substring(0,f)]}if(!d){d=this.namespaces[this.defaultPrefix]}var c=this.createElementNS(d,b);if(a.attributes){this.setAttributes(c,a.attributes)}var e=a.value;if(e!=null){c.appendChild(this.createTextNode(e))}return c},setAttributes:function(c,e){var d,b;for(var a in e){if(e[a]!=null&&e[a].toString){d=e[a].toString();b=this.namespaces[a.substring(0,a.indexOf(":"))]||null;this.setAttributeNS(c,b,a,d)}}},readNode:function(c,e){if(!e){e={}}var d=this.readers[c.namespaceURI?this.namespaceAlias[c.namespaceURI]:this.defaultPrefix];if(d){var b=c.localName||c.nodeName.split(":").pop();var a=d[b]||d["*"];if(a){a.apply(this,[c,e])}}return e},readChildNodes:function(d,e){if(!e){e={}}var c=d.childNodes;var f;for(var b=0,a=c.length;b<a;++b){f=c[b];if(f.nodeType==1){this.readNode(f,e)}}return e},writeNode:function(a,f,d){var e,c;var b=a.indexOf(":");if(b>0){e=a.substring(0,b);c=a.substring(b+1)}else{if(d){e=this.namespaceAlias[d.namespaceURI]}else{e=this.defaultPrefix}c=a}var g=this.writers[e][c].apply(this,[f]);if(d){d.appendChild(g)}return g},getChildEl:function(c,a,b){return c&&this.getThisOrNextEl(c.firstChild,a,b)},getNextEl:function(c,a,b){return c&&this.getThisOrNextEl(c.nextSibling,a,b)},getThisOrNextEl:function(d,a,c){outer:for(var b=d;b;b=b.nextSibling){switch(b.nodeType){case 1:if((!a||a===(b.localName||b.nodeName.split(":").pop()))&&(!c||c===b.namespaceURI)){break outer}b=null;break outer;case 3:if(/^\s*$/.test(b.nodeValue)){break}case 4:case 6:case 12:case 10:case 11:b=null;break outer}}return b||null},lookupNamespaceURI:function(e,f){var d=null;if(e){if(e.lookupNamespaceURI){d=e.lookupNamespaceURI(f)}else{outer:switch(e.nodeType){case 1:if(e.namespaceURI!==null&&e.prefix===f){d=e.namespaceURI;break outer}var b=e.attributes.length;if(b){var a;for(var c=0;c<b;++c){a=e.attributes[c];if(a.prefix==="xmlns"&&a.name==="xmlns:"+f){d=a.value||null;break outer}else{if(a.name==="xmlns"&&f===null){d=a.value||null;break outer}}}}d=this.lookupNamespaceURI(e.parentNode,f);break outer;case 2:d=this.lookupNamespaceURI(e.ownerElement,f);break outer;case 9:d=this.lookupNamespaceURI(e.documentElement,f);
break outer;case 6:case 12:case 10:case 11:break outer;default:d=this.lookupNamespaceURI(e.parentNode,f);break outer}}}return d},getXMLDoc:function(){if(!OpenLayers.Format.XML.document&&!this.xmldom){if(document.implementation&&document.implementation.createDocument){OpenLayers.Format.XML.document=document.implementation.createDocument("","",null)}else{if(!this.xmldom&&window.ActiveXObject){this.xmldom=new ActiveXObject("Microsoft.XMLDOM")}}}return OpenLayers.Format.XML.document||this.xmldom},CLASS_NAME:"OpenLayers.Format.XML"});OpenLayers.Format.XML.CONTENT_TYPE={EMPTY:0,SIMPLE:1,COMPLEX:2,MIXED:3};OpenLayers.Format.XML.lookupNamespaceURI=OpenLayers.Function.bind(OpenLayers.Format.XML.prototype.lookupNamespaceURI,OpenLayers.Format.XML.prototype);OpenLayers.Format.XML.document=null;OpenLayers.Date={toISOString:(function(){if("toISOString" in Date.prototype){return function(b){return b.toISOString()}}else{function a(c,b){var d=c+"";while(d.length<b){d="0"+d}return d}return function(b){var c;if(isNaN(b.getTime())){c="Invalid Date"}else{c=b.getUTCFullYear()+"-"+a(b.getUTCMonth()+1,2)+"-"+a(b.getUTCDate(),2)+"T"+a(b.getUTCHours(),2)+":"+a(b.getUTCMinutes(),2)+":"+a(b.getUTCSeconds(),2)+"."+a(b.getUTCMilliseconds(),3)+"Z"}return c}}})(),parse:function(j){var b;var h=j.match(/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))?$/);if(h&&(h[1]||h[7])){var k=parseInt(h[1],10)||0;var i=(parseInt(h[2],10)-1)||0;var m=parseInt(h[3],10)||1;b=new Date(Date.UTC(k,i,m));var l=h[7];if(l){var n=parseInt(h[4],10);var d=parseInt(h[5],10);var a=parseFloat(h[6]);var o=a|0;var c=Math.round(1000*(a-o));b.setUTCHours(n,d,o,c);if(l!=="Z"){var g=parseInt(l,10);var f=parseInt(h[8],10)||0;var e=-1000*(60*(g*60)+f*60);b=new Date(b.getTime()+e)}}}else{b=new Date("invalid")}return b}};OpenLayers.Geometry=OpenLayers.Class({id:null,parent:null,bounds:null,initialize:function(){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){this.id=null;this.bounds=null},clone:function(){return new OpenLayers.Geometry()},setBounds:function(a){if(a){this.bounds=a.clone()}},clearBounds:function(){this.bounds=null;if(this.parent){this.parent.clearBounds()}},extendBounds:function(b){var a=this.getBounds();if(!a){this.setBounds(b)}else{this.bounds.extend(b)}},getBounds:function(){if(this.bounds==null){this.calculateBounds()}return this.bounds},calculateBounds:function(){},distanceTo:function(b,a){},getVertices:function(a){},atPoint:function(e,h,f){var c=false;var d=this.getBounds();if((d!=null)&&(e!=null)){var b=(h!=null)?h:0;var a=(f!=null)?f:0;var g=new OpenLayers.Bounds(this.bounds.left-b,this.bounds.bottom-a,this.bounds.right+b,this.bounds.top+a);c=g.containsLonLat(e)}return c},getLength:function(){return 0},getArea:function(){return 0},getCentroid:function(){return null},toString:function(){return OpenLayers.Format.WKT.prototype.write(new OpenLayers.Feature.Vector(this))},CLASS_NAME:"OpenLayers.Geometry"});OpenLayers.Geometry.fromWKT=function(f){var g=arguments.callee.format;if(!g){g=new OpenLayers.Format.WKT();arguments.callee.format=g}var d;var b=g.read(f);if(b instanceof OpenLayers.Feature.Vector){d=b.geometry}else{if(OpenLayers.Util.isArray(b)){var a=b.length;var e=new Array(a);for(var c=0;c<a;++c){e[c]=b[c].geometry}d=new OpenLayers.Geometry.Collection(e)}}return d};OpenLayers.Geometry.segmentsIntersect=function(a,H,b){var s=b&&b.point;var z=b&&b.tolerance;var f=false;var B=a.x1-H.x1;var F=a.y1-H.y1;var o=a.x2-a.x1;var w=a.y2-a.y1;var t=H.y2-H.y1;var l=H.x2-H.x1;var D=(t*o)-(l*w);var e=(l*F)-(t*B);var c=(o*F)-(w*B);if(D==0){if(e==0&&c==0){f=true}}else{var E=e/D;var C=c/D;if(E>=0&&E<=1&&C>=0&&C<=1){if(!s){f=true}else{var h=a.x1+(E*o);var g=a.y1+(E*w);f=new OpenLayers.Geometry.Point(h,g)}}}if(z){var r;if(f){if(s){var n=[a,H];var A,h,g;outer:for(var v=0;v<2;++v){A=n[v];for(var u=1;u<3;++u){h=A["x"+u];g=A["y"+u];r=Math.sqrt(Math.pow(h-f.x,2)+Math.pow(g-f.y,2));if(r<z){f.x=h;f.y=g;break outer}}}}}else{var n=[a,H];var q,G,h,g,m,k;outer:for(var v=0;v<2;++v){q=n[v];G=n[(v+1)%2];for(var u=1;
u<3;++u){m={x:q["x"+u],y:q["y"+u]};k=OpenLayers.Geometry.distanceToSegment(m,G);if(k.distance<z){if(s){f=new OpenLayers.Geometry.Point(m.x,m.y)}else{f=true}break outer}}}}}return f};OpenLayers.Geometry.distanceToSegment=function(k,d){var c=k.x;var j=k.y;var b=d.x1;var i=d.y1;var a=d.x2;var f=d.y2;var m=a-b;var l=f-i;var h=((m*(c-b))+(l*(j-i)))/(Math.pow(m,2)+Math.pow(l,2));var g,e;if(h<=0){g=b;e=i}else{if(h>=1){g=a;e=f}else{g=b+h*m;e=i+h*l}}return{distance:Math.sqrt(Math.pow(g-c,2)+Math.pow(e-j,2)),x:g,y:e}};OpenLayers.Geometry.Point=OpenLayers.Class(OpenLayers.Geometry,{x:null,y:null,initialize:function(a,b){OpenLayers.Geometry.prototype.initialize.apply(this,arguments);this.x=parseFloat(a);this.y=parseFloat(b)},clone:function(a){if(a==null){a=new OpenLayers.Geometry.Point(this.x,this.y)}OpenLayers.Util.applyDefaults(a,this);return a},calculateBounds:function(){this.bounds=new OpenLayers.Bounds(this.x,this.y,this.x,this.y)},distanceTo:function(f,j){var d=!(j&&j.edge===false);var a=d&&j&&j.details;var b,e,h,c,g,i;if(f instanceof OpenLayers.Geometry.Point){e=this.x;h=this.y;c=f.x;g=f.y;b=Math.sqrt(Math.pow(e-c,2)+Math.pow(h-g,2));i=!a?b:{x0:e,y0:h,x1:c,y1:g,distance:b}}else{i=f.distanceTo(this,j);if(a){i={x0:i.x1,y0:i.y1,x1:i.x0,y1:i.y0,distance:i.distance}}}return i},equals:function(a){var b=false;if(a!=null){b=((this.x==a.x&&this.y==a.y)||(isNaN(this.x)&&isNaN(this.y)&&isNaN(a.x)&&isNaN(a.y)))}return b},toShortString:function(){return(this.x+", "+this.y)},move:function(a,b){this.x=this.x+a;this.y=this.y+b;this.clearBounds()},rotate:function(d,b){d*=Math.PI/180;var a=this.distanceTo(b);var c=d+Math.atan2(this.y-b.y,this.x-b.x);this.x=b.x+(a*Math.cos(c));this.y=b.y+(a*Math.sin(c));this.clearBounds()},getCentroid:function(){return new OpenLayers.Geometry.Point(this.x,this.y)},resize:function(c,a,b){b=(b==undefined)?1:b;this.x=a.x+(c*b*(this.x-a.x));this.y=a.y+(c*(this.y-a.y));this.clearBounds();return this},intersects:function(b){var a=false;if(b.CLASS_NAME=="OpenLayers.Geometry.Point"){a=this.equals(b)}else{a=b.intersects(this)}return a},transform:function(b,a){if((b&&a)){OpenLayers.Projection.transform(this,b,a);this.bounds=null}return this},getVertices:function(a){return[this]},CLASS_NAME:"OpenLayers.Geometry.Point"});OpenLayers.Geometry.Collection=OpenLayers.Class(OpenLayers.Geometry,{components:null,componentTypes:null,initialize:function(a){OpenLayers.Geometry.prototype.initialize.apply(this,arguments);this.components=[];if(a!=null){this.addComponents(a)}},destroy:function(){this.components.length=0;this.components=null;OpenLayers.Geometry.prototype.destroy.apply(this,arguments)},clone:function(){var geometry=eval("new "+this.CLASS_NAME+"()");for(var i=0,len=this.components.length;i<len;i++){geometry.addComponent(this.components[i].clone())}OpenLayers.Util.applyDefaults(geometry,this);return geometry},getComponentsString:function(){var b=[];for(var c=0,a=this.components.length;c<a;c++){b.push(this.components[c].toShortString())}return b.join(",")},calculateBounds:function(){this.bounds=null;var d=new OpenLayers.Bounds();var c=this.components;if(c){for(var b=0,a=c.length;b<a;b++){d.extend(c[b].getBounds())}}if(d.left!=null&&d.bottom!=null&&d.right!=null&&d.top!=null){this.setBounds(d)}},addComponents:function(c){if(!(OpenLayers.Util.isArray(c))){c=[c]}for(var b=0,a=c.length;b<a;b++){this.addComponent(c[b])}},addComponent:function(b,a){var d=false;if(b){if(this.componentTypes==null||(OpenLayers.Util.indexOf(this.componentTypes,b.CLASS_NAME)>-1)){if(a!=null&&(a<this.components.length)){var e=this.components.slice(0,a);var c=this.components.slice(a,this.components.length);e.push(b);this.components=e.concat(c)}else{this.components.push(b)}b.parent=this;this.clearBounds();d=true}}return d},removeComponents:function(b){var c=false;if(!(OpenLayers.Util.isArray(b))){b=[b]}for(var a=b.length-1;a>=0;--a){c=this.removeComponent(b[a])||c}return c},removeComponent:function(a){OpenLayers.Util.removeItem(this.components,a);this.clearBounds();return true},getLength:function(){var c=0;for(var b=0,a=this.components.length;b<a;b++){c+=this.components[b].getLength()
}return c},getArea:function(){var c=0;for(var b=0,a=this.components.length;b<a;b++){c+=this.components[b].getArea()}return c},getGeodesicArea:function(b){var d=0;for(var c=0,a=this.components.length;c<a;c++){d+=this.components[c].getGeodesicArea(b)}return d},getCentroid:function(g){if(!g){return this.components.length&&this.components[0].getCentroid()}var l=this.components.length;if(!l){return false}var b=[];var c=[];var d=0;var h=Number.MAX_VALUE;var m;for(var k=0;k<l;++k){m=this.components[k];var e=m.getArea();var f=m.getCentroid(true);if(isNaN(e)||isNaN(f.x)||isNaN(f.y)){continue}b.push(e);d+=e;h=(e<h&&e>0)?e:h;c.push(f)}l=b.length;if(d===0){for(var k=0;k<l;++k){b[k]=1}d=b.length}else{for(var k=0;k<l;++k){b[k]/=h}d/=h}var j=0,a=0,f,e;for(var k=0;k<l;++k){f=c[k];e=b[k];j+=f.x*e;a+=f.y*e}return new OpenLayers.Geometry.Point(j/d,a/d)},getGeodesicLength:function(b){var d=0;for(var c=0,a=this.components.length;c<a;c++){d+=this.components[c].getGeodesicLength(b)}return d},move:function(b,d){for(var c=0,a=this.components.length;c<a;c++){this.components[c].move(b,d)}},rotate:function(d,b){for(var c=0,a=this.components.length;c<a;++c){this.components[c].rotate(d,b)}},resize:function(d,a,c){for(var b=0;b<this.components.length;++b){this.components[b].resize(d,a,c)}return this},distanceTo:function(h,j){var c=!(j&&j.edge===false);var a=c&&j&&j.details;var k,d,b;var e=Number.POSITIVE_INFINITY;for(var f=0,g=this.components.length;f<g;++f){k=this.components[f].distanceTo(h,j);b=a?k.distance:k;if(b<e){e=b;d=k;if(e==0){break}}}return d},equals:function(d){var b=true;if(!d||!d.CLASS_NAME||(this.CLASS_NAME!=d.CLASS_NAME)){b=false}else{if(!(OpenLayers.Util.isArray(d.components))||(d.components.length!=this.components.length)){b=false}else{for(var c=0,a=this.components.length;c<a;++c){if(!this.components[c].equals(d.components[c])){b=false;break}}}}return b},transform:function(e,c){if(e&&c){for(var d=0,a=this.components.length;d<a;d++){var b=this.components[d];b.transform(e,c)}this.bounds=null}return this},intersects:function(d){var b=false;for(var c=0,a=this.components.length;c<a;++c){b=d.intersects(this.components[c]);if(b){break}}return b},getVertices:function(b){var c=[];for(var d=0,a=this.components.length;d<a;++d){Array.prototype.push.apply(c,this.components[d].getVertices(b))}return c},CLASS_NAME:"OpenLayers.Geometry.Collection"});OpenLayers.Geometry.MultiPoint=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.Point"],initialize:function(a){OpenLayers.Geometry.Collection.prototype.initialize.apply(this,arguments)},addPoint:function(a,b){this.addComponent(a,b)},removePoint:function(a){this.removeComponent(a)},CLASS_NAME:"OpenLayers.Geometry.MultiPoint"});OpenLayers.Geometry.Curve=OpenLayers.Class(OpenLayers.Geometry.MultiPoint,{componentTypes:["OpenLayers.Geometry.Point"],initialize:function(a){OpenLayers.Geometry.MultiPoint.prototype.initialize.apply(this,arguments)},getLength:function(){var c=0;if(this.components&&(this.components.length>1)){for(var b=1,a=this.components.length;b<a;b++){c+=this.components[b-1].distanceTo(this.components[b])}}return c},getGeodesicLength:function(b){var e=this;if(b){var c=new OpenLayers.Projection("EPSG:4326");if(!c.equals(b)){e=this.clone().transform(b,c)}}var f=0;if(e.components&&(e.components.length>1)){var h,g;for(var d=1,a=e.components.length;d<a;d++){h=e.components[d-1];g=e.components[d];f+=OpenLayers.Util.distVincenty({lon:h.x,lat:h.y},{lon:g.x,lat:g.y})}}return f*1000},CLASS_NAME:"OpenLayers.Geometry.Curve"});OpenLayers.Geometry.LineString=OpenLayers.Class(OpenLayers.Geometry.Curve,{initialize:function(a){OpenLayers.Geometry.Curve.prototype.initialize.apply(this,arguments)},removeComponent:function(a){var b=this.components&&(this.components.length>2);if(b){OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this,arguments)}return b},intersects:function(m){var c=false;var l=m.CLASS_NAME;if(l=="OpenLayers.Geometry.LineString"||l=="OpenLayers.Geometry.LinearRing"||l=="OpenLayers.Geometry.Point"){var p=this.getSortedSegments();var n;if(l=="OpenLayers.Geometry.Point"){n=[{x1:m.x,y1:m.y,x2:m.x,y2:m.y}]
}else{n=m.getSortedSegments()}var s,g,e,a,r,q,d,b;outer:for(var h=0,k=p.length;h<k;++h){s=p[h];g=s.x1;e=s.x2;a=s.y1;r=s.y2;inner:for(var f=0,o=n.length;f<o;++f){q=n[f];if(q.x1>e){break}if(q.x2<g){continue}d=q.y1;b=q.y2;if(Math.min(d,b)>Math.max(a,r)){continue}if(Math.max(d,b)<Math.min(a,r)){continue}if(OpenLayers.Geometry.segmentsIntersect(s,q)){c=true;break outer}}}}else{c=m.intersects(this)}return c},getSortedSegments:function(){var a=this.components.length-1;var b=new Array(a),e,d;for(var c=0;c<a;++c){e=this.components[c];d=this.components[c+1];if(e.x<d.x){b[c]={x1:e.x,y1:e.y,x2:d.x,y2:d.y}}else{b[c]={x1:d.x,y1:d.y,x2:e.x,y2:e.y}}}function f(h,g){return h.x1-g.x1}return b.sort(f)},splitWithSegment:function(r,b){var c=!(b&&b.edge===false);var o=b&&b.tolerance;var a=[];var t=this.getVertices();var n=[];var v=[];var h=false;var e,d,l;var j,q,u;var f={point:true,tolerance:o};var g=null;for(var m=0,k=t.length-2;m<=k;++m){e=t[m];n.push(e.clone());d=t[m+1];u={x1:e.x,y1:e.y,x2:d.x,y2:d.y};l=OpenLayers.Geometry.segmentsIntersect(r,u,f);if(l instanceof OpenLayers.Geometry.Point){if((l.x===r.x1&&l.y===r.y1)||(l.x===r.x2&&l.y===r.y2)||l.equals(e)||l.equals(d)){q=true}else{q=false}if(q||c){if(!l.equals(v[v.length-1])){v.push(l.clone())}if(m===0){if(l.equals(e)){continue}}if(l.equals(d)){continue}h=true;if(!l.equals(e)){n.push(l)}a.push(new OpenLayers.Geometry.LineString(n));n=[l.clone()]}}}if(h){n.push(d.clone());a.push(new OpenLayers.Geometry.LineString(n))}if(v.length>0){var p=r.x1<r.x2?1:-1;var s=r.y1<r.y2?1:-1;g={lines:a,points:v.sort(function(w,i){return(p*w.x-p*i.x)||(s*w.y-s*i.y)})}}return g},split:function(x,b){var n=null;var d=b&&b.mutual;var l,e,m,c;if(x instanceof OpenLayers.Geometry.LineString){var w=this.getVertices();var g,f,v,h,a,p;var s=[];m=[];for(var t=0,o=w.length-2;t<=o;++t){g=w[t];f=w[t+1];v={x1:g.x,y1:g.y,x2:f.x,y2:f.y};c=c||[x];if(d){s.push(g.clone())}for(var r=0;r<c.length;++r){h=c[r].splitWithSegment(v,b);if(h){a=h.lines;if(a.length>0){a.unshift(r,1);Array.prototype.splice.apply(c,a);r+=a.length-2}if(d){for(var q=0,u=h.points.length;q<u;++q){p=h.points[q];if(!p.equals(g)){s.push(p);m.push(new OpenLayers.Geometry.LineString(s));if(p.equals(f)){s=[]}else{s=[p.clone()]}}}}}}}if(d&&m.length>0&&s.length>0){s.push(f.clone());m.push(new OpenLayers.Geometry.LineString(s))}}else{n=x.splitWith(this,b)}if(c&&c.length>1){e=true}else{c=[]}if(m&&m.length>1){l=true}else{m=[]}if(e||l){if(d){n=[m,c]}else{n=c}}return n},splitWith:function(b,a){return b.split(this,a)},getVertices:function(a){var b;if(a===true){b=[this.components[0],this.components[this.components.length-1]]}else{if(a===false){b=this.components.slice(1,this.components.length-1)}else{b=this.components.slice()}}return b},distanceTo:function(h,g){var k=!(g&&g.edge===false);var B=k&&g&&g.details;var q,e={};var t=Number.POSITIVE_INFINITY;if(h instanceof OpenLayers.Geometry.Point){var r=this.getSortedSegments();var p=h.x;var o=h.y;var z;for(var v=0,w=r.length;v<w;++v){z=r[v];q=OpenLayers.Geometry.distanceToSegment(h,z);if(q.distance<t){t=q.distance;e=q;if(t===0){break}}else{if(z.x2>p&&((o>z.y1&&o<z.y2)||(o<z.y1&&o>z.y2))){break}}}if(B){e={distance:e.distance,x0:e.x,y0:e.y,x1:p,y1:o}}else{e=e.distance}}else{if(h instanceof OpenLayers.Geometry.LineString){var d=this.getSortedSegments();var c=h.getSortedSegments();var b,a,n,A,f;var m=c.length;var l={point:true};outer:for(var v=0,w=d.length;v<w;++v){b=d[v];A=b.x1;f=b.y1;for(var u=0;u<m;++u){a=c[u];n=OpenLayers.Geometry.segmentsIntersect(b,a,l);if(n){t=0;e={distance:0,x0:n.x,y0:n.y,x1:n.x,y1:n.y};break outer}else{q=OpenLayers.Geometry.distanceToSegment({x:A,y:f},a);if(q.distance<t){t=q.distance;e={distance:t,x0:A,y0:f,x1:q.x,y1:q.y}}}}}if(!B){e=e.distance}if(t!==0){if(b){q=h.distanceTo(new OpenLayers.Geometry.Point(b.x2,b.y2),g);var s=B?q.distance:q;if(s<t){if(B){e={distance:t,x0:q.x1,y0:q.y1,x1:q.x0,y1:q.y0}}else{e=s}}}}}else{e=h.distanceTo(this,g);if(B){e={distance:e.distance,x0:e.x1,y0:e.y1,x1:e.x0,y1:e.y0}}}}return e},simplify:function(h){if(this&&this!==null){var j=this.getVertices();if(j.length<3){return this}var d=function(l,k){return(l-k)
};var c=function(n,q,o,k){var p=0;var m=0;for(var l=q,r;l<o;l++){r=b(n[q],n[o],n[l]);if(r>p){p=r;m=l}}if(p>k&&m!=q){e.push(m);c(n,q,m,k);c(n,m,o,k)}};var b=function(o,n,l){var p=Math.abs(0.5*(o.x*n.y+n.x*l.y+l.x*o.y-n.x*o.y-l.x*n.y-o.x*l.y));var m=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));var k=p/m*2;return k};var f=0;var i=j.length-1;var e=[];e.push(f);e.push(i);while(j[f].equals(j[i])){i--;e.push(i)}c(j,f,i,h);var a=[];e.sort(d);for(var g=0;g<e.length;g++){a.push(j[e[g]])}return new OpenLayers.Geometry.LineString(a)}else{return this}},CLASS_NAME:"OpenLayers.Geometry.LineString"});OpenLayers.Geometry.LinearRing=OpenLayers.Class(OpenLayers.Geometry.LineString,{componentTypes:["OpenLayers.Geometry.Point"],initialize:function(a){OpenLayers.Geometry.LineString.prototype.initialize.apply(this,arguments)},addComponent:function(a,b){var c=false;var d=this.components.pop();if(b!=null||!a.equals(d)){c=OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,arguments)}var e=this.components[0];OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,[e]);return c},removeComponent:function(a){var b=this.components&&(this.components.length>3);if(b){this.components.pop();OpenLayers.Geometry.Collection.prototype.removeComponent.apply(this,arguments);var c=this.components[0];OpenLayers.Geometry.Collection.prototype.addComponent.apply(this,[c])}return b},move:function(b,d){for(var c=0,a=this.components.length;c<a-1;c++){this.components[c].move(b,d)}},rotate:function(d,b){for(var c=0,a=this.components.length;c<a-1;++c){this.components[c].rotate(d,b)}},resize:function(e,b,d){for(var c=0,a=this.components.length;c<a-1;++c){this.components[c].resize(e,b,d)}return this},transform:function(e,c){if(e&&c){for(var d=0,a=this.components.length;d<a-1;d++){var b=this.components[d];b.transform(e,c)}this.bounds=null}return this},getCentroid:function(){if(this.components&&(this.components.length>2)){var h=0;var g=0;for(var e=0;e<this.components.length-1;e++){var d=this.components[e];var k=this.components[e+1];h+=(d.x+k.x)*(d.x*k.y-k.x*d.y);g+=(d.y+k.y)*(d.x*k.y-k.x*d.y)}var f=-1*this.getArea();var a=h/(6*f);var j=g/(6*f);return new OpenLayers.Geometry.Point(a,j)}else{return null}},getArea:function(){var g=0;if(this.components&&(this.components.length>2)){var f=0;for(var e=0,d=this.components.length;e<d-1;e++){var a=this.components[e];var h=this.components[e+1];f+=(a.x+h.x)*(h.y-a.y)}g=-f/2}return g},getGeodesicArea:function(b){var d=this;if(b){var c=new OpenLayers.Projection("EPSG:4326");if(!c.equals(b)){d=this.clone().transform(b,c)}}var f=0;var a=d.components&&d.components.length;if(a>2){var h,g;for(var e=0;e<a-1;e++){h=d.components[e];g=d.components[e+1];f+=OpenLayers.Util.rad(g.x-h.x)*(2+Math.sin(OpenLayers.Util.rad(h.y))+Math.sin(OpenLayers.Util.rad(g.y)))}f=f*6378137*6378137/2}return f},containsPoint:function(m){var s=OpenLayers.Number.limitSigDigs;var l=14;var k=s(m.x,l);var j=s(m.y,l);function r(w,t,v,i,u){return(((t-i)*w)+((i*v)-(t*u)))/(v-u)}var a=this.components.length-1;var g,f,q,d,o,b,e,c;var h=0;for(var n=0;n<a;++n){g=this.components[n];q=s(g.x,l);d=s(g.y,l);f=this.components[n+1];o=s(f.x,l);b=s(f.y,l);if(d==b){if(j==d){if(q<=o&&(k>=q&&k<=o)||q>=o&&(k<=q&&k>=o)){h=-1;break}}continue}e=s(r(j,q,d,o,b),l);if(e==k){if(d<b&&(j>=d&&j<=b)||d>b&&(j<=d&&j>=b)){h=-1;break}}if(e<=k){continue}if(q!=o&&(e<Math.min(q,o)||e>Math.max(q,o))){continue}if(d<b&&(j>=d&&j<b)||d>b&&(j<d&&j>=b)){++h}}var p=(h==-1)?1:!!(h&1);return p},intersects:function(d){var b=false;if(d.CLASS_NAME=="OpenLayers.Geometry.Point"){b=this.containsPoint(d)}else{if(d.CLASS_NAME=="OpenLayers.Geometry.LineString"){b=d.intersects(this)}else{if(d.CLASS_NAME=="OpenLayers.Geometry.LinearRing"){b=OpenLayers.Geometry.LineString.prototype.intersects.apply(this,[d])}else{for(var c=0,a=d.components.length;c<a;++c){b=d.components[c].intersects(this);if(b){break}}}}}return b},getVertices:function(a){return(a===true)?[]:this.components.slice(0,this.components.length-1)},CLASS_NAME:"OpenLayers.Geometry.LinearRing"});OpenLayers.Geometry.Polygon=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.LinearRing"],initialize:function(a){OpenLayers.Geometry.Collection.prototype.initialize.apply(this,arguments)
},getArea:function(){var c=0;if(this.components&&(this.components.length>0)){c+=Math.abs(this.components[0].getArea());for(var b=1,a=this.components.length;b<a;b++){c-=Math.abs(this.components[b].getArea())}}return c},getGeodesicArea:function(b){var d=0;if(this.components&&(this.components.length>0)){d+=Math.abs(this.components[0].getGeodesicArea(b));for(var c=1,a=this.components.length;c<a;c++){d-=Math.abs(this.components[c].getGeodesicArea(b))}}return d},containsPoint:function(a){var e=this.components.length;var c=false;if(e>0){c=this.components[0].containsPoint(a);if(c!==1){if(c&&e>1){var d;for(var b=1;b<e;++b){d=this.components[b].containsPoint(a);if(d){if(d===1){c=1}else{c=false}break}}}}}return c},intersects:function(e){var b=false;var d,a;if(e.CLASS_NAME=="OpenLayers.Geometry.Point"){b=this.containsPoint(e)}else{if(e.CLASS_NAME=="OpenLayers.Geometry.LineString"||e.CLASS_NAME=="OpenLayers.Geometry.LinearRing"){for(d=0,a=this.components.length;d<a;++d){b=e.intersects(this.components[d]);if(b){break}}if(!b){for(d=0,a=e.components.length;d<a;++d){b=this.containsPoint(e.components[d]);if(b){break}}}}else{for(d=0,a=e.components.length;d<a;++d){b=this.intersects(e.components[d]);if(b){break}}}}if(!b&&e.CLASS_NAME=="OpenLayers.Geometry.Polygon"){var c=this.components[0];for(d=0,a=c.components.length;d<a;++d){b=e.containsPoint(c.components[d]);if(b){break}}}return b},distanceTo:function(d,b){var c=!(b&&b.edge===false);var a;if(!c&&this.intersects(d)){a=0}else{a=OpenLayers.Geometry.Collection.prototype.distanceTo.apply(this,[d,b])}return a},CLASS_NAME:"OpenLayers.Geometry.Polygon"});OpenLayers.Geometry.Polygon.createRegularPolygon=function(j,f,b,l){var c=Math.PI*((1/b)-(1/2));if(l){c+=(l/180)*Math.PI}var a,h,g;var k=[];for(var e=0;e<b;++e){a=c+(e*2*Math.PI/b);h=j.x+(f*Math.cos(a));g=j.y+(f*Math.sin(a));k.push(new OpenLayers.Geometry.Point(h,g))}var d=new OpenLayers.Geometry.LinearRing(k);return new OpenLayers.Geometry.Polygon([d])};OpenLayers.Event={observers:false,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(a){return a.target||a.srcElement},isSingleTouch:function(a){return a.touches&&a.touches.length==1},isMultiTouch:function(a){return a.touches&&a.touches.length>1},isLeftClick:function(a){return(((a.which)&&(a.which==1))||((a.button)&&(a.button==1)))},isRightClick:function(a){return(((a.which)&&(a.which==3))||((a.button)&&(a.button==2)))},stop:function(b,a){if(!a){if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}}if(b.stopPropagation){b.stopPropagation()}else{b.cancelBubble=true}},findElement:function(c,b){var a=OpenLayers.Event.element(c);while(a.parentNode&&(!a.tagName||(a.tagName.toUpperCase()!=b.toUpperCase()))){a=a.parentNode}return a},observe:function(b,d,c,a){var e=OpenLayers.Util.getElement(b);a=a||false;if(d=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||e.attachEvent)){d="keydown"}if(!this.observers){this.observers={}}if(!e._eventCacheID){var f="eventCacheID_";if(e.id){f=e.id+"_"+f}e._eventCacheID=OpenLayers.Util.createUniqueID(f)}var g=e._eventCacheID;if(!this.observers[g]){this.observers[g]=[]}this.observers[g].push({element:e,name:d,observer:c,useCapture:a});if(e.addEventListener){e.addEventListener(d,c,a)}else{if(e.attachEvent){e.attachEvent("on"+d,c)}}},stopObservingElement:function(a){var b=OpenLayers.Util.getElement(a);var c=b._eventCacheID;this._removeElementObservers(OpenLayers.Event.observers[c])},_removeElementObservers:function(e){if(e){for(var b=e.length-1;b>=0;b--){var c=e[b];var a=new Array(c.element,c.name,c.observer,c.useCapture);var d=OpenLayers.Event.stopObserving.apply(this,a)}}},stopObserving:function(h,a,g,b){b=b||false;var f=OpenLayers.Util.getElement(h);var d=f._eventCacheID;if(a=="keypress"){if(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||f.detachEvent){a="keydown"}}var k=false;var c=OpenLayers.Event.observers[d];if(c){var e=0;while(!k&&e<c.length){var j=c[e];if((j.name==a)&&(j.observer==g)&&(j.useCapture==b)){c.splice(e,1);if(c.length==0){delete OpenLayers.Event.observers[d]
}k=true;break}e++}}if(k){if(f.removeEventListener){f.removeEventListener(a,g,b)}else{if(f&&f.detachEvent){f.detachEvent("on"+a,g)}}}return k},unloadCache:function(){if(OpenLayers.Event&&OpenLayers.Event.observers){for(var a in OpenLayers.Event.observers){var b=OpenLayers.Event.observers[a];OpenLayers.Event._removeElementObservers.apply(this,[b])}OpenLayers.Event.observers=false}},CLASS_NAME:"OpenLayers.Event"};OpenLayers.Event.observe(window,"unload",OpenLayers.Event.unloadCache,false);if(window.Event){OpenLayers.Util.applyDefaults(window.Event,OpenLayers.Event)}else{var Event=OpenLayers.Event}OpenLayers.Events=OpenLayers.Class({BROWSER_EVENTS:["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend"],listeners:null,object:null,element:null,eventTypes:null,eventHandler:null,fallThrough:null,includeXY:false,clearMouseListener:null,initialize:function(c,e,g,f,b){OpenLayers.Util.extend(this,b);this.object=c;this.fallThrough=f;this.listeners={};this.eventHandler=OpenLayers.Function.bindAsEventListener(this.handleBrowserEvent,this);this.clearMouseListener=OpenLayers.Function.bind(this.clearMouseCache,this);this.eventTypes=[];if(g!=null){for(var d=0,a=g.length;d<a;d++){this.addEventType(g[d])}}if(e!=null){this.attachToElement(e)}},destroy:function(){if(this.element){OpenLayers.Event.stopObservingElement(this.element);if(this.element.hasScrollEvent){OpenLayers.Event.stopObserving(window,"scroll",this.clearMouseListener)}}this.element=null;this.listeners=null;this.object=null;this.eventTypes=null;this.fallThrough=null;this.eventHandler=null},addEventType:function(a){if(!this.listeners[a]){this.eventTypes.push(a);this.listeners[a]=[]}},attachToElement:function(d){if(this.element){OpenLayers.Event.stopObservingElement(this.element)}this.element=d;for(var c=0,a=this.BROWSER_EVENTS.length;c<a;c++){var b=this.BROWSER_EVENTS[c];this.addEventType(b);OpenLayers.Event.observe(d,b,this.eventHandler)}OpenLayers.Event.observe(d,"dragstart",OpenLayers.Event.stop)},on:function(a){for(var b in a){if(b!="scope"){this.register(b,a.scope,a[b])}}},register:function(b,d,c){if((c!=null)&&(OpenLayers.Util.indexOf(this.eventTypes,b)!=-1)){if(d==null){d=this.object}var a=this.listeners[b];a.push({obj:d,func:c})}},registerPriority:function(b,d,c){if(c!=null){if(d==null){d=this.object}var a=this.listeners[b];if(a!=null){a.unshift({obj:d,func:c})}}},un:function(a){for(var b in a){if(b!="scope"){this.unregister(b,a.scope,a[b])}}},unregister:function(d,f,e){if(f==null){f=this.object}var c=this.listeners[d];if(c!=null){for(var b=0,a=c.length;b<a;b++){if(c[b].obj==f&&c[b].func==e){c.splice(b,1);break}}}},remove:function(a){if(this.listeners[a]!=null){this.listeners[a]=[]}},triggerEvent:function(e,b){var d=this.listeners[e];if(!d||d.length==0){return undefined}if(b==null){b={}}b.object=this.object;b.element=this.element;if(!b.type){b.type=e}d=d.slice();var f;for(var c=0,a=d.length;c<a;c++){var g=d[c];f=g.func.apply(g.obj,[b]);if((f!=undefined)&&(f==false)){break}}if(!this.fallThrough){OpenLayers.Event.stop(b,true)}return f},handleBrowserEvent:function(j){var e=j.type,f=this.listeners[e];if(!f||f.length==0){return}var c=j.touches;if(c&&c[0]){var h=0;var g=0;var d=c.length;var b;for(var a=0;a<d;++a){b=c[a];h+=b.clientX;g+=b.clientY}j.clientX=h/d;j.clientY=g/d}if(this.includeXY){j.xy=this.getMousePosition(j)}this.triggerEvent(e,j)},clearMouseCache:function(){this.element.scrolls=null;this.element.lefttop=null;var a=document.body;if(a&&!((a.scrollTop!=0||a.scrollLeft!=0)&&navigator.userAgent.match(/iPhone/i))){this.element.offsets=null}},getMousePosition:function(a){if(!this.includeXY){this.clearMouseCache()}else{if(!this.element.hasScrollEvent){OpenLayers.Event.observe(window,"scroll",this.clearMouseListener);this.element.hasScrollEvent=true}}if(!this.element.scrolls){var b=OpenLayers.Util.getViewportElement();this.element.scrolls=[b.scrollLeft,b.scrollTop]}if(!this.element.lefttop){this.element.lefttop=[(document.documentElement.clientLeft||0),(document.documentElement.clientTop||0)]
}if(!this.element.offsets){this.element.offsets=OpenLayers.Util.pagePosition(this.element)}return new OpenLayers.Pixel((a.clientX+this.element.scrolls[0])-this.element.offsets[0]-this.element.lefttop[0],(a.clientY+this.element.scrolls[1])-this.element.offsets[1]-this.element.lefttop[1])},CLASS_NAME:"OpenLayers.Events"});OpenLayers.Request={DEFAULT_CONFIG:{method:"GET",url:window.location.href,async:true,user:undefined,password:undefined,params:null,proxy:OpenLayers.ProxyHost,headers:{},data:null,callback:function(){},success:null,failure:null,scope:null},URL_SPLIT_REGEX:/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/,events:new OpenLayers.Events(this,null,["complete","success","failure"]),issue:function(d){var g=OpenLayers.Util.extend(this.DEFAULT_CONFIG,{proxy:OpenLayers.ProxyHost});d=OpenLayers.Util.applyDefaults(d,g);var f=new OpenLayers.Request.XMLHttpRequest();var a=OpenLayers.Util.urlAppend(d.url,OpenLayers.Util.getParameterString(d.params||{}));var i=!(a.indexOf("http")==0);var b=!i&&a.match(this.URL_SPLIT_REGEX);if(b){var j=window.location;i=b[1]==j.protocol&&b[3]==j.hostname;var e=b[4],c=j.port;if(e!=80&&e!=""||c!="80"&&c!=""){i=i&&e==c}}if(!i){if(d.proxy){if(typeof d.proxy=="function"){a=d.proxy(a)}else{a=d.proxy+encodeURIComponent(a)}}else{OpenLayers.Console.warn(OpenLayers.i18n("proxyNeeded"),{url:a})}}f.open(d.method,a,d.async,d.user,d.password);for(var h in d.headers){f.setRequestHeader(h,d.headers[h])}var l=this.events;var k=this;f.onreadystatechange=function(){if(f.readyState==OpenLayers.Request.XMLHttpRequest.DONE){var m=l.triggerEvent("complete",{request:f,config:d,requestUrl:a});if(m!==false){k.runCallbacks({request:f,config:d,requestUrl:a})}}};if(d.async===false){f.send(d.data)}else{window.setTimeout(function(){if(f.readyState!==0){f.send(d.data)}},0)}return f},runCallbacks:function(d){var e=d.request;var c=d.config;var a=(c.scope)?OpenLayers.Function.bind(c.callback,c.scope):c.callback;var f;if(c.success){f=(c.scope)?OpenLayers.Function.bind(c.success,c.scope):c.success}var b;if(c.failure){b=(c.scope)?OpenLayers.Function.bind(c.failure,c.scope):c.failure}if(OpenLayers.Util.createUrlObject(c.url).protocol=="file:"&&e.responseText){e.status=200}a(e);if(!e.status||(e.status>=200&&e.status<300)){this.events.triggerEvent("success",d);if(f){f(e)}}if(e.status&&(e.status<200||e.status>=300)){this.events.triggerEvent("failure",d);if(b){b(e)}}},GET:function(a){a=OpenLayers.Util.extend(a,{method:"GET"});return OpenLayers.Request.issue(a)},POST:function(a){a=OpenLayers.Util.extend(a,{method:"POST"});a.headers=a.headers?a.headers:{};if(!("CONTENT-TYPE" in OpenLayers.Util.upperCaseObject(a.headers))){a.headers["Content-Type"]="application/xml"}return OpenLayers.Request.issue(a)},PUT:function(a){a=OpenLayers.Util.extend(a,{method:"PUT"});a.headers=a.headers?a.headers:{};if(!("CONTENT-TYPE" in OpenLayers.Util.upperCaseObject(a.headers))){a.headers["Content-Type"]="application/xml"}return OpenLayers.Request.issue(a)},DELETE:function(a){a=OpenLayers.Util.extend(a,{method:"DELETE"});return OpenLayers.Request.issue(a)},HEAD:function(a){a=OpenLayers.Util.extend(a,{method:"HEAD"});return OpenLayers.Request.issue(a)},OPTIONS:function(a){a=OpenLayers.Util.extend(a,{method:"OPTIONS"});return OpenLayers.Request.issue(a)}};(function(){var g=window.XMLHttpRequest;var a=!!window.controllers,j=window.document.all&&!window.opera,k=j&&window.navigator.userAgent.match(/MSIE 7.0/);function d(){this._object=g&&!k?new g:new window.ActiveXObject("Microsoft.XMLHTTP");this._listeners=[]}function c(){return new d}c.prototype=d.prototype;if(a&&g.wrapped){c.wrapped=g.wrapped}c.UNSENT=0;c.OPENED=1;c.HEADERS_RECEIVED=2;c.LOADING=3;c.DONE=4;c.prototype.readyState=c.UNSENT;c.prototype.responseText="";c.prototype.responseXML=null;c.prototype.status=0;c.prototype.statusText="";c.prototype.priority="NORMAL";c.prototype.onreadystatechange=null;c.onreadystatechange=null;c.onopen=null;c.onsend=null;c.onabort=null;c.prototype.open=function(o,r,n,s,m){delete this._headers;if(arguments.length<3){n=true}this._async=n;var q=this,p=this.readyState,l;if(j&&n){l=function(){if(p!=c.DONE){e(q);
q.abort()}};window.attachEvent("onunload",l)}if(c.onopen){c.onopen.apply(this,arguments)}if(arguments.length>4){this._object.open(o,r,n,s,m)}else{if(arguments.length>3){this._object.open(o,r,n,s)}else{this._object.open(o,r,n)}}this.readyState=c.OPENED;b(this);this._object.onreadystatechange=function(){if(a&&!n){return}q.readyState=q._object.readyState;h(q);if(q._aborted){q.readyState=c.UNSENT;return}if(q.readyState==c.DONE){delete q._data;e(q);if(j&&n){window.detachEvent("onunload",l)}}if(p!=q.readyState){b(q)}p=q.readyState}};function f(l){l._object.send(l._data);if(a&&!l._async){l.readyState=c.OPENED;h(l);while(l.readyState<c.DONE){l.readyState++;b(l);if(l._aborted){return}}}}c.prototype.send=function(l){if(c.onsend){c.onsend.apply(this,arguments)}if(!arguments.length){l=null}if(l&&l.nodeType){l=window.XMLSerializer?new window.XMLSerializer().serializeToString(l):l.xml;if(!oRequest._headers["Content-Type"]){oRequest._object.setRequestHeader("Content-Type","application/xml")}}this._data=l;f(this)};c.prototype.abort=function(){if(c.onabort){c.onabort.apply(this,arguments)}if(this.readyState>c.UNSENT){this._aborted=true}this._object.abort();e(this);this.readyState=c.UNSENT;delete this._data};c.prototype.getAllResponseHeaders=function(){return this._object.getAllResponseHeaders()};c.prototype.getResponseHeader=function(l){return this._object.getResponseHeader(l)};c.prototype.setRequestHeader=function(l,m){if(!this._headers){this._headers={}}this._headers[l]=m;return this._object.setRequestHeader(l,m)};c.prototype.addEventListener=function(o,n,m){for(var l=0,p;p=this._listeners[l];l++){if(p[0]==o&&p[1]==n&&p[2]==m){return}}this._listeners.push([o,n,m])};c.prototype.removeEventListener=function(o,n,m){for(var l=0,p;p=this._listeners[l];l++){if(p[0]==o&&p[1]==n&&p[2]==m){break}}if(p){this._listeners.splice(l,1)}};c.prototype.dispatchEvent=function(m){var n={type:m.type,target:this,currentTarget:this,eventPhase:2,bubbles:m.bubbles,cancelable:m.cancelable,timeStamp:m.timeStamp,stopPropagation:function(){},preventDefault:function(){},initEvent:function(){}};if(n.type=="readystatechange"&&this.onreadystatechange){(this.onreadystatechange.handleEvent||this.onreadystatechange).apply(this,[n])}for(var l=0,o;o=this._listeners[l];l++){if(o[0]==n.type&&!o[2]){(o[1].handleEvent||o[1]).apply(this,[n])}}};c.prototype.toString=function(){return"[object XMLHttpRequest]"};c.toString=function(){return"[XMLHttpRequest]"};function b(l){if(c.onreadystatechange){c.onreadystatechange.apply(l)}l.dispatchEvent({type:"readystatechange",bubbles:false,cancelable:false,timeStamp:new Date+0})}function i(n){var m=n.responseXML,l=n.responseText;if(j&&l&&m&&!m.documentElement&&n.getResponseHeader("Content-Type").match(/[^\/]+\/[^\+]+\+xml/)){m=new window.ActiveXObject("Microsoft.XMLDOM");m.async=false;m.validateOnParse=false;m.loadXML(l)}if(m){if((j&&m.parseError!=0)||!m.documentElement||(m.documentElement&&m.documentElement.tagName=="parsererror")){return null}}return m}function h(l){try{l.responseText=l._object.responseText}catch(m){}try{l.responseXML=i(l._object)}catch(m){}try{l.status=l._object.status}catch(m){}try{l.statusText=l._object.statusText}catch(m){}}function e(l){l._object.onreadystatechange=new window.Function}if(!window.Function.prototype.apply){window.Function.prototype.apply=function(l,m){if(!m){m=[]}l.__func=this;l.__func(m[0],m[1],m[2],m[3],m[4]);delete l.__func}}OpenLayers.Request.XMLHttpRequest=c})();OpenLayers.Projection=OpenLayers.Class({proj:null,projCode:null,titleRegEx:/\+title=[^\+]*/,initialize:function(b,a){OpenLayers.Util.extend(this,a);this.projCode=b;if(window.Proj4js){this.proj=new Proj4js.Proj(b)}},getCode:function(){return this.proj?this.proj.srsCode:this.projCode},getUnits:function(){return this.proj?this.proj.units:null},toString:function(){return this.getCode()},equals:function(a){var e=a,b=false;if(e){if(window.Proj4js&&this.proj.defData&&e.proj.defData){b=this.proj.defData.replace(this.titleRegEx,"")==e.proj.defData.replace(this.titleRegEx,"")}else{if(e.getCode){var c=this.getCode(),d=e.getCode();b=c==d||!!OpenLayers.Projection.transforms[c]&&OpenLayers.Projection.transforms[c][d]===OpenLayers.Projection.nullTransform
}}}return b},destroy:function(){delete this.proj;delete this.projCode},CLASS_NAME:"OpenLayers.Projection"});OpenLayers.Projection.transforms={};OpenLayers.Projection.addTransform=function(c,b,a){if(!OpenLayers.Projection.transforms[c]){OpenLayers.Projection.transforms[c]={}}OpenLayers.Projection.transforms[c][b]=a};OpenLayers.Projection.transform=function(a,c,b){if(c.proj&&b.proj){a=Proj4js.transform(c.proj,b.proj,a)}else{if(c&&b&&OpenLayers.Projection.transforms[c.getCode()]&&OpenLayers.Projection.transforms[c.getCode()][b.getCode()]){OpenLayers.Projection.transforms[c.getCode()][b.getCode()](a)}}return a};OpenLayers.Projection.nullTransform=function(a){return a};OpenLayers.Format.KML=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{kml:"http://www.opengis.net/kml/2.2",gx:"http://www.google.com/kml/ext/2.2"},kmlns:"http://earth.google.com/kml/2.0",placemarksDesc:"No description available",foldersName:"OpenLayers export",foldersDesc:"Exported on "+new Date(),extractAttributes:true,extractStyles:false,extractTracks:false,trackAttributes:null,internalns:null,features:null,styles:null,styleBaseUrl:"",fetched:null,maxDepth:0,initialize:function(a){this.regExes={trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g),kmlColor:(/(\w{2})(\w{2})(\w{2})(\w{2})/),kmlIconPalette:(/root:\/\/icons\/palette-(\d+)(\.\w+)/),straightBracket:(/\$\[(.*?)\]/g)};this.externalProjection=new OpenLayers.Projection("EPSG:4326");OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(b){this.features=[];this.styles={};this.fetched={};var a={depth:0,styleBaseUrl:this.styleBaseUrl};return this.parseData(b,a)},parseData:function(g,c){if(typeof g=="string"){g=OpenLayers.Format.XML.prototype.read.apply(this,[g])}var e=["Link","NetworkLink","Style","StyleMap","Placemark"];for(var d=0,a=e.length;d<a;++d){var f=e[d];var b=this.getElementsByTagNameNS(g,"*",f);if(b.length==0){continue}switch(f.toLowerCase()){case"link":case"networklink":this.parseLinks(b,c);break;case"style":if(this.extractStyles){this.parseStyles(b,c)}break;case"stylemap":if(this.extractStyles){this.parseStyleMaps(b,c)}break;case"placemark":this.parseFeatures(b,c);break}}return this.features},parseLinks:function(c,d){if(d.depth>=this.maxDepth){return false}var g=OpenLayers.Util.extend({},d);g.depth++;for(var e=0,a=c.length;e<a;e++){var b=this.parseProperty(c[e],"*","href");if(b&&!this.fetched[b]){this.fetched[b]=true;var f=this.fetchLink(b);if(f){this.parseData(f,g)}}}},fetchLink:function(a){var b=OpenLayers.Request.GET({url:a,async:false});if(b){return b.responseText}},parseStyles:function(b,c){for(var e=0,a=b.length;e<a;e++){var f=this.parseStyle(b[e]);if(f){var d=(c.styleBaseUrl||"")+"#"+f.id;this.styles[d]=f}}},parseKmlColor:function(b){var a=null;if(b){var c=b.match(this.regExes.kmlColor);if(c){a={color:"#"+c[4]+c[3]+c[2],opacity:parseInt(c[1],16)/255}}}return a},parseStyle:function(A){var I={};var r=["LineStyle","PolyStyle","IconStyle","BalloonStyle","LabelStyle"];var e,l,L,g,d;for(var F=0,H=r.length;F<H;++F){e=r[F];l=this.getElementsByTagNameNS(A,"*",e)[0];if(!l){continue}switch(e.toLowerCase()){case"linestyle":var c=this.parseProperty(l,"*","color");var C=this.parseKmlColor(c);if(C){I.strokeColor=C.color;I.strokeOpacity=C.opacity}var z=this.parseProperty(l,"*","width");if(z){I.strokeWidth=z}break;case"polystyle":var c=this.parseProperty(l,"*","color");var C=this.parseKmlColor(c);if(C){I.fillOpacity=C.opacity;I.fillColor=C.color}var D=this.parseProperty(l,"*","fill");if(D=="0"){I.fillColor="none"}var j=this.parseProperty(l,"*","outline");if(j=="0"){I.strokeWidth="0"}break;case"iconstyle":var N=parseFloat(this.parseProperty(l,"*","scale")||1);var z=32*N;var u=32*N;var M=this.getElementsByTagNameNS(l,"*","Icon")[0];if(M){var E=this.parseProperty(M,"*","href");if(E){var q=this.parseProperty(M,"*","w");var G=this.parseProperty(M,"*","h");var f="http://maps.google.com/mapfiles/kml";if(OpenLayers.String.startsWith(E,f)&&!q&&!G){q=64;G=64;N=N/2}q=q||G;G=G||q;if(q){z=parseInt(q)*N}if(G){u=parseInt(G)*N}var b=E.match(this.regExes.kmlIconPalette);
if(b){var J=b[1];var t=b[2];var p=this.parseProperty(M,"*","x");var o=this.parseProperty(M,"*","y");var n=p?p/32:0;var m=o?(7-o/32):7;var k=m*8+n;E="http://maps.google.com/mapfiles/kml/pal"+J+"/icon"+k+t}I.graphicOpacity=1;I.externalGraphic=E}}var s=this.getElementsByTagNameNS(l,"*","hotSpot")[0];if(s){var p=parseFloat(s.getAttribute("x"));var o=parseFloat(s.getAttribute("y"));var B=s.getAttribute("xunits");if(B=="pixels"){I.graphicXOffset=-p*N}else{if(B=="insetPixels"){I.graphicXOffset=-z+(p*N)}else{if(B=="fraction"){I.graphicXOffset=-z*p}}}var K=s.getAttribute("yunits");if(K=="pixels"){I.graphicYOffset=-u+(o*N)+1}else{if(K=="insetPixels"){I.graphicYOffset=-(o*N)+1}else{if(K=="fraction"){I.graphicYOffset=-u*(1-o)+1}}}}I.graphicWidth=z;I.graphicHeight=u;break;case"balloonstyle":var a=OpenLayers.Util.getXmlNodeValue(l);if(a){I.balloonStyle=a.replace(this.regExes.straightBracket,"${$1}")}break;case"labelstyle":var c=this.parseProperty(l,"*","color");var C=this.parseKmlColor(c);if(C){I.fontColor=C.color;I.fontOpacity=C.opacity}break;default:}}if(!I.strokeColor&&I.fillColor){I.strokeColor=I.fillColor}var v=A.getAttribute("id");if(v&&I){I.id=v}return I},parseStyleMaps:function(a,n){for(var g=0,h=a.length;g<h;g++){var d=a[g];var c=this.getElementsByTagNameNS(d,"*","Pair");var b=d.getAttribute("id");for(var f=0,m=c.length;f<m;f++){var e=c[f];var l=this.parseProperty(e,"*","key");var k=this.parseProperty(e,"*","styleUrl");if(k&&l=="normal"){this.styles[(n.styleBaseUrl||"")+"#"+b]=this.styles[(n.styleBaseUrl||"")+k]}if(k&&l=="highlight"){}}}},parseFeatures:function(b,m){var f=[];for(var g=0,h=b.length;g<h;g++){var c=b[g];var l=this.parseFeature.apply(this,[c]);if(l){if(this.extractStyles&&l.attributes&&l.attributes.styleUrl){l.style=this.getStyle(l.attributes.styleUrl,m)}if(this.extractStyles){var k=this.getElementsByTagNameNS(c,"*","Style")[0];if(k){var e=this.parseStyle(k);if(e){l.style=OpenLayers.Util.extend(l.style,e)}}}if(this.extractTracks){var j=this.getElementsByTagNameNS(c,this.namespaces.gx,"Track");if(j&&j.length>0){var d=j[0];var a={features:[],feature:l};this.readNode(d,a);if(a.features.length>0){f.push.apply(f,a.features)}}}else{f.push(l)}}else{throw"Bad Placemark: "+g}}this.features=this.features.concat(f)},readers:{kml:{when:function(b,a){a.whens.push(OpenLayers.Date.parse(this.getChildValue(b)))},_trackPointAttribute:function(c,a){var b=c.nodeName.split(":").pop();a.attributes[b].push(this.getChildValue(c))}},gx:{Track:function(c,b){var e={whens:[],points:[],angles:[]};if(this.trackAttributes){var a;e.attributes={};for(var f=0,m=this.trackAttributes.length;f<m;++f){a=this.trackAttributes[f];e.attributes[a]=[];if(!(a in this.readers.kml)){this.readers.kml[a]=this.readers.kml._trackPointAttribute}}}this.readChildNodes(c,e);if(e.whens.length!==e.points.length){throw new Error("gx:Track with unequal number of when ("+e.whens.length+") and gx:coord ("+e.points.length+") elements.")}var k=e.angles.length>0;if(k&&e.whens.length!==e.angles.length){throw new Error("gx:Track with unequal number of when ("+e.whens.length+") and gx:angles ("+e.angles.length+") elements.")}var n,l,h;for(var f=0,m=e.whens.length;f<m;++f){n=b.feature.clone();n.fid=b.feature.fid||b.feature.id;l=e.points[f];n.geometry=l;if("z" in l){n.attributes.altitude=l.z}if(this.internalProjection&&this.externalProjection){n.geometry.transform(this.externalProjection,this.internalProjection)}if(this.trackAttributes){for(var d=0,g=this.trackAttributes.length;d<g;++d){n.attributes[a]=e.attributes[this.trackAttributes[d]][f]}}n.attributes.when=e.whens[f];n.attributes.trackId=b.feature.id;if(k){h=e.angles[f];n.attributes.heading=parseFloat(h[0]);n.attributes.tilt=parseFloat(h[1]);n.attributes.roll=parseFloat(h[2])}b.features.push(n)}},coord:function(c,b){var e=this.getChildValue(c);var d=e.replace(this.regExes.trimSpace,"").split(/\s+/);var a=new OpenLayers.Geometry.Point(d[0],d[1]);if(d.length>2){a.z=parseFloat(d[2])}b.points.push(a)},angles:function(b,a){var d=this.getChildValue(b);var c=d.replace(this.regExes.trimSpace,"").split(/\s+/);a.angles.push(c)}}},parseFeature:function(b){var c=["MultiGeometry","Polygon","LineString","Point"];
var j,e,k,a;for(var g=0,h=c.length;g<h;++g){j=c[g];this.internalns=b.namespaceURI?b.namespaceURI:this.kmlns;e=this.getElementsByTagNameNS(b,this.internalns,j);if(e.length>0){var a=this.parseGeometry[j.toLowerCase()];if(a){k=a.apply(this,[e[0]]);if(this.internalProjection&&this.externalProjection){k.transform(this.externalProjection,this.internalProjection)}}else{OpenLayers.Console.error(OpenLayers.i18n("unsupportedGeometryType",{geomType:j}))}break}}var f;if(this.extractAttributes){f=this.parseAttributes(b)}var l=new OpenLayers.Feature.Vector(k,f);var d=b.getAttribute("id")||b.getAttribute("name");if(d!=null){l.fid=d}return l},getStyle:function(b,a){var c=OpenLayers.Util.removeTail(b);var f=OpenLayers.Util.extend({},a);f.depth++;f.styleBaseUrl=c;if(!this.styles[b]&&!OpenLayers.String.startsWith(b,"#")&&f.depth<=this.maxDepth&&!this.fetched[c]){var e=this.fetchLink(c);if(e){this.parseData(e,f)}}var d=OpenLayers.Util.extend({},this.styles[b]);return d},parseGeometry:{point:function(d){var c=this.getElementsByTagNameNS(d,this.internalns,"coordinates");var e=[];if(c.length>0){var b=c[0].firstChild.nodeValue;b=b.replace(this.regExes.removeSpace,"");e=b.split(",")}var a=null;if(e.length>1){if(e.length==2){e[2]=null}a=new OpenLayers.Geometry.Point(e[0],e[1],e[2])}else{throw"Bad coordinate string: "+b}return a},linestring:function(c,e){var d=this.getElementsByTagNameNS(c,this.internalns,"coordinates");var l=null;if(d.length>0){var b=this.getChildValue(d[0]);b=b.replace(this.regExes.trimSpace,"");b=b.replace(this.regExes.trimComma,",");var a=b.split(this.regExes.splitSpace);var h=a.length;var k=new Array(h);var j,g;for(var f=0;f<h;++f){j=a[f].split(",");g=j.length;if(g>1){if(j.length==2){j[2]=null}k[f]=new OpenLayers.Geometry.Point(j[0],j[1],j[2])}else{throw"Bad LineString point coordinates: "+a[f]}}if(h){if(e){l=new OpenLayers.Geometry.LinearRing(k)}else{l=new OpenLayers.Geometry.LineString(k)}}else{throw"Bad LineString coordinates: "+b}}return l},polygon:function(f){var c=this.getElementsByTagNameNS(f,this.internalns,"LinearRing");var g=c.length;var e=new Array(g);if(g>0){var b;for(var d=0,a=c.length;d<a;++d){b=this.parseGeometry.linestring.apply(this,[c[d],true]);if(b){e[d]=b}else{throw"Bad LinearRing geometry: "+d}}}return new OpenLayers.Geometry.Polygon(e)},multigeometry:function(e){var h,g;var f=[];var c=e.childNodes;for(var b=0,a=c.length;b<a;++b){h=c[b];if(h.nodeType==1){var d=(h.prefix)?h.nodeName.split(":")[1]:h.nodeName;var g=this.parseGeometry[d.toLowerCase()];if(g){f.push(g.apply(this,[h]))}}}return new OpenLayers.Geometry.Collection(f)}},parseAttributes:function(d){var f={};var h=d.getElementsByTagName("ExtendedData");if(h.length){f=this.parseExtendedData(h[0])}var b,n,m;var c=d.childNodes;for(var j=0,k=c.length;j<k;++j){b=c[j];if(b.nodeType==1){n=b.childNodes;if(n.length>=1&&n.length<=3){var m;switch(n.length){case 1:m=n[0];break;case 2:var g=n[0];var e=n[1];m=(g.nodeType==3||g.nodeType==4)?g:e;break;case 3:default:m=n[1];break}if(m.nodeType==3||m.nodeType==4){var a=(b.prefix)?b.nodeName.split(":")[1]:b.nodeName;var l=OpenLayers.Util.getXmlNodeValue(m);if(l){l=l.replace(this.regExes.trimSpace,"");f[a]=l}}}}}return f},parseExtendedData:function(b){var d={};var f,h,e,k;var c=b.getElementsByTagName("Data");for(f=0,h=c.length;f<h;f++){e=c[f];k=e.getAttribute("name");var g={};var l=e.getElementsByTagName("value");if(l.length){g.value=this.getChildValue(l[0])}var a=e.getElementsByTagName("displayName");if(a.length){g.displayName=this.getChildValue(a[0])}d[k]=g}var j=b.getElementsByTagName("SimpleData");for(f=0,h=j.length;f<h;f++){var g={};e=j[f];k=e.getAttribute("name");g.value=this.getChildValue(e);g.displayName=k;d[k]=g}return d},parseProperty:function(c,d,b){var f;var a=this.getElementsByTagNameNS(c,d,b);try{f=OpenLayers.Util.getXmlNodeValue(a[0])}catch(g){f=null}return f},write:function(d){if(!(OpenLayers.Util.isArray(d))){d=[d]}var b=this.createElementNS(this.kmlns,"kml");var e=this.createFolderXML();for(var c=0,a=d.length;c<a;++c){e.appendChild(this.createPlacemarkXML(d[c]))}b.appendChild(e);return OpenLayers.Format.XML.prototype.write.apply(this,[b])
},createFolderXML:function(){var c=this.createElementNS(this.kmlns,"Folder");if(this.foldersName){var e=this.createElementNS(this.kmlns,"name");var d=this.createTextNode(this.foldersName);e.appendChild(d);c.appendChild(e)}if(this.foldersDesc){var a=this.createElementNS(this.kmlns,"description");var b=this.createTextNode(this.foldersDesc);a.appendChild(b);c.appendChild(a)}return c},createPlacemarkXML:function(e){var g=this.createElementNS(this.kmlns,"name");var c=e.style&&e.style.label?e.style.label:e.attributes.name||e.id;g.appendChild(this.createTextNode(c));var d=this.createElementNS(this.kmlns,"description");var f=e.attributes.description||this.placemarksDesc;d.appendChild(this.createTextNode(f));var b=this.createElementNS(this.kmlns,"Placemark");if(e.fid!=null){b.setAttribute("id",e.fid)}b.appendChild(g);b.appendChild(d);var a=this.buildGeometryNode(e.geometry);b.appendChild(a);return b},buildGeometryNode:function(e){var c=e.CLASS_NAME;var b=c.substring(c.lastIndexOf(".")+1);var a=this.buildGeometry[b.toLowerCase()];var d=null;if(a){d=a.apply(this,[e])}return d},buildGeometry:{point:function(b){var a=this.createElementNS(this.kmlns,"Point");a.appendChild(this.buildCoordinatesNode(b));return a},multipoint:function(a){return this.buildGeometry.collection.apply(this,[a])},linestring:function(b){var a=this.createElementNS(this.kmlns,"LineString");a.appendChild(this.buildCoordinatesNode(b));return a},multilinestring:function(a){return this.buildGeometry.collection.apply(this,[a])},linearring:function(b){var a=this.createElementNS(this.kmlns,"LinearRing");a.appendChild(this.buildCoordinatesNode(b));return a},polygon:function(h){var b=this.createElementNS(this.kmlns,"Polygon");var g=h.components;var e,f,d;for(var c=0,a=g.length;c<a;++c){d=(c==0)?"outerBoundaryIs":"innerBoundaryIs";e=this.createElementNS(this.kmlns,d);f=this.buildGeometry.linearring.apply(this,[g[c]]);e.appendChild(f);b.appendChild(e)}return b},multipolygon:function(a){return this.buildGeometry.collection.apply(this,[a])},collection:function(d){var b=this.createElementNS(this.kmlns,"MultiGeometry");var e;for(var c=0,a=d.components.length;c<a;++c){e=this.buildGeometryNode.apply(this,[d.components[c]]);if(e){b.appendChild(e)}}return b}},buildCoordinatesNode:function(e){var a=this.createElementNS(this.kmlns,"coordinates");var j;var h=e.components;if(h){var g;var f=h.length;var c=new Array(f);for(var d=0;d<f;++d){g=h[d];c[d]=this.buildCoordinates(g)}j=c.join(" ")}else{j=this.buildCoordinates(e)}var b=this.createTextNode(j);a.appendChild(b);return a},buildCoordinates:function(a){if(this.internalProjection&&this.externalProjection){a=a.clone();a.transform(this.internalProjection,this.externalProjection)}return a.x+","+a.y},CLASS_NAME:"OpenLayers.Format.KML"});OpenLayers.Geometry.MultiLineString=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.LineString"],initialize:function(a){OpenLayers.Geometry.Collection.prototype.initialize.apply(this,arguments)},split:function(n,s){var g=null;var r=s&&s.mutual;var o,a,q,m,b;var e=[];var p=[n];for(var f=0,h=this.components.length;f<h;++f){a=this.components[f];m=false;for(var d=0;d<p.length;++d){o=a.split(p[d],s);if(o){if(r){q=o[0];for(var c=0,l=q.length;c<l;++c){if(c===0&&e.length){e[e.length-1].addComponent(q[c])}else{e.push(new OpenLayers.Geometry.MultiLineString([q[c]]))}}m=true;o=o[1]}if(o.length){o.unshift(d,1);Array.prototype.splice.apply(p,o);break}}}if(!m){if(e.length){e[e.length-1].addComponent(a.clone())}else{e=[new OpenLayers.Geometry.MultiLineString(a.clone())]}}}if(e&&e.length>1){m=true}else{e=[]}if(p&&p.length>1){b=true}else{p=[]}if(m||b){if(r){g=[e,p]}else{g=p}}return g},splitWith:function(n,s){var g=null;var r=s&&s.mutual;var o,c,q,m,a,e,p;if(n instanceof OpenLayers.Geometry.LineString){p=[];e=[n];for(var f=0,h=this.components.length;f<h;++f){a=false;c=this.components[f];for(var d=0;d<e.length;++d){o=e[d].split(c,s);if(o){if(r){q=o[0];if(q.length){q.unshift(d,1);Array.prototype.splice.apply(e,q);d+=q.length-2}o=o[1];if(o.length===0){o=[c.clone()]}}for(var b=0,l=o.length;b<l;
++b){if(b===0&&p.length){p[p.length-1].addComponent(o[b])}else{p.push(new OpenLayers.Geometry.MultiLineString([o[b]]))}}a=true}}if(!a){if(p.length){p[p.length-1].addComponent(c.clone())}else{p=[new OpenLayers.Geometry.MultiLineString([c.clone()])]}}}}else{g=n.split(this)}if(e&&e.length>1){m=true}else{e=[]}if(p&&p.length>1){a=true}else{p=[]}if(m||a){if(r){g=[e,p]}else{g=p}}return g},CLASS_NAME:"OpenLayers.Geometry.MultiLineString"});OpenLayers.Geometry.MultiPolygon=OpenLayers.Class(OpenLayers.Geometry.Collection,{componentTypes:["OpenLayers.Geometry.Polygon"],initialize:function(a){OpenLayers.Geometry.Collection.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Geometry.MultiPolygon"});OpenLayers.Format.GML=OpenLayers.Class(OpenLayers.Format.XML,{featureNS:"http://mapserver.gis.umn.edu/mapserver",featurePrefix:"feature",featureName:"featureMember",layerName:"features",geometryName:"geometry",collectionName:"FeatureCollection",gmlns:"http://www.opengis.net/gml",extractAttributes:true,xy:true,initialize:function(a){this.regExes={trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)};OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(d){if(typeof d=="string"){d=OpenLayers.Format.XML.prototype.read.apply(this,[d])}var e=this.getElementsByTagNameNS(d.documentElement,this.gmlns,this.featureName);var c=[];for(var b=0;b<e.length;b++){var a=this.parseFeature(e[b]);if(a){c.push(a)}}return c},parseFeature:function(d){var e=["MultiPolygon","Polygon","MultiLineString","LineString","MultiPoint","Point","Envelope"];var p,h,q,c;for(var l=0;l<e.length;++l){p=e[l];h=this.getElementsByTagNameNS(d,this.gmlns,p);if(h.length>0){c=this.parseGeometry[p.toLowerCase()];if(c){q=c.apply(this,[h[0]]);if(this.internalProjection&&this.externalProjection){q.transform(this.externalProjection,this.internalProjection)}}else{OpenLayers.Console.error(OpenLayers.i18n("unsupportedGeometryType",{geomType:p}))}break}}var b;var k=this.getElementsByTagNameNS(d,this.gmlns,"Box");for(l=0;l<k.length;++l){var o=k[l];var n=this.parseGeometry.box.apply(this,[o]);var m=o.parentNode;var g=m.localName||m.nodeName.split(":").pop();if(g==="boundedBy"){b=n}else{q=n.toGeometry()}}var j;if(this.extractAttributes){j=this.parseAttributes(d)}var r=new OpenLayers.Feature.Vector(q,j);r.bounds=b;r.gml={featureType:d.firstChild.nodeName.split(":")[1],featureNS:d.firstChild.namespaceURI,featureNSPrefix:d.firstChild.prefix};var a=d.firstChild;var f;while(a){if(a.nodeType==1){f=a.getAttribute("fid")||a.getAttribute("id");if(f){break}}a=a.nextSibling}r.fid=f;return r},parseGeometry:{point:function(d){var b,a;var e=[];var b=this.getElementsByTagNameNS(d,this.gmlns,"pos");if(b.length>0){a=b[0].firstChild.nodeValue;a=a.replace(this.regExes.trimSpace,"");e=a.split(this.regExes.splitSpace)}if(e.length==0){b=this.getElementsByTagNameNS(d,this.gmlns,"coordinates");if(b.length>0){a=b[0].firstChild.nodeValue;a=a.replace(this.regExes.removeSpace,"");e=a.split(",")}}if(e.length==0){b=this.getElementsByTagNameNS(d,this.gmlns,"coord");if(b.length>0){var f=this.getElementsByTagNameNS(b[0],this.gmlns,"X");var c=this.getElementsByTagNameNS(b[0],this.gmlns,"Y");if(f.length>0&&c.length>0){e=[f[0].firstChild.nodeValue,c[0].firstChild.nodeValue]}}}if(e.length==2){e[2]=null}if(this.xy){return new OpenLayers.Geometry.Point(e[0],e[1],e[2])}else{return new OpenLayers.Geometry.Point(e[1],e[0],e[2])}},multipoint:function(e){var b=this.getElementsByTagNameNS(e,this.gmlns,"Point");var d=[];if(b.length>0){var a;for(var c=0;c<b.length;++c){a=this.parseGeometry.point.apply(this,[b[c]]);if(a){d.push(a)}}}return new OpenLayers.Geometry.MultiPoint(d)},linestring:function(c,e){var d,b;var n=[];var o=[];d=this.getElementsByTagNameNS(c,this.gmlns,"posList");if(d.length>0){b=this.getChildValue(d[0]);b=b.replace(this.regExes.trimSpace,"");n=b.split(this.regExes.splitSpace);var h=parseInt(d[0].getAttribute("dimension"));var f,m,l,k;for(var g=0;g<n.length/h;++g){f=g*h;m=n[f];l=n[f+1];k=(h==2)?null:n[f+2];if(this.xy){o.push(new OpenLayers.Geometry.Point(m,l,k))
}else{o.push(new OpenLayers.Geometry.Point(l,m,k))}}}if(n.length==0){d=this.getElementsByTagNameNS(c,this.gmlns,"coordinates");if(d.length>0){b=this.getChildValue(d[0]);b=b.replace(this.regExes.trimSpace,"");b=b.replace(this.regExes.trimComma,",");var a=b.split(this.regExes.splitSpace);for(var g=0;g<a.length;++g){n=a[g].split(",");if(n.length==2){n[2]=null}if(this.xy){o.push(new OpenLayers.Geometry.Point(n[0],n[1],n[2]))}else{o.push(new OpenLayers.Geometry.Point(n[1],n[0],n[2]))}}}}var p=null;if(o.length!=0){if(e){p=new OpenLayers.Geometry.LinearRing(o)}else{p=new OpenLayers.Geometry.LineString(o)}}return p},multilinestring:function(e){var b=this.getElementsByTagNameNS(e,this.gmlns,"LineString");var d=[];if(b.length>0){var a;for(var c=0;c<b.length;++c){a=this.parseGeometry.linestring.apply(this,[b[c]]);if(a){d.push(a)}}}return new OpenLayers.Geometry.MultiLineString(d)},polygon:function(e){var b=this.getElementsByTagNameNS(e,this.gmlns,"LinearRing");var d=[];if(b.length>0){var a;for(var c=0;c<b.length;++c){a=this.parseGeometry.linestring.apply(this,[b[c],true]);if(a){d.push(a)}}}return new OpenLayers.Geometry.Polygon(d)},multipolygon:function(e){var a=this.getElementsByTagNameNS(e,this.gmlns,"Polygon");var d=[];if(a.length>0){var c;for(var b=0;b<a.length;++b){c=this.parseGeometry.polygon.apply(this,[a[b]]);if(c){d.push(c)}}}return new OpenLayers.Geometry.MultiPolygon(d)},envelope:function(b){var e=[];var a;var f;var j=this.getElementsByTagNameNS(b,this.gmlns,"lowerCorner");if(j.length>0){var h=[];if(j.length>0){a=j[0].firstChild.nodeValue;a=a.replace(this.regExes.trimSpace,"");h=a.split(this.regExes.splitSpace)}if(h.length==2){h[2]=null}if(this.xy){var d=new OpenLayers.Geometry.Point(h[0],h[1],h[2])}else{var d=new OpenLayers.Geometry.Point(h[1],h[0],h[2])}}var g=this.getElementsByTagNameNS(b,this.gmlns,"upperCorner");if(g.length>0){var h=[];if(g.length>0){a=g[0].firstChild.nodeValue;a=a.replace(this.regExes.trimSpace,"");h=a.split(this.regExes.splitSpace)}if(h.length==2){h[2]=null}if(this.xy){var i=new OpenLayers.Geometry.Point(h[0],h[1],h[2])}else{var i=new OpenLayers.Geometry.Point(h[1],h[0],h[2])}}if(d&&i){e.push(new OpenLayers.Geometry.Point(d.x,d.y));e.push(new OpenLayers.Geometry.Point(i.x,d.y));e.push(new OpenLayers.Geometry.Point(i.x,i.y));e.push(new OpenLayers.Geometry.Point(d.x,i.y));e.push(new OpenLayers.Geometry.Point(d.x,d.y));var c=new OpenLayers.Geometry.LinearRing(e);f=new OpenLayers.Geometry.Polygon([c])}return f},box:function(e){var c=this.getElementsByTagNameNS(e,this.gmlns,"coordinates");var b;var f,a=null,d=null;if(c.length>0){b=c[0].firstChild.nodeValue;f=b.split(" ");if(f.length==2){a=f[0].split(",");d=f[1].split(",")}}if(a!==null&&d!==null){return new OpenLayers.Bounds(parseFloat(a[0]),parseFloat(a[1]),parseFloat(d[0]),parseFloat(d[1]))}}},parseAttributes:function(e){var f={};var a=e.firstChild;var d,g,c,k,j,b,h;while(a){if(a.nodeType==1){d=a.childNodes;for(g=0;g<d.length;++g){c=d[g];if(c.nodeType==1){k=c.childNodes;if(k.length==1){j=k[0];if(j.nodeType==3||j.nodeType==4){b=(c.prefix)?c.nodeName.split(":")[1]:c.nodeName;h=j.nodeValue.replace(this.regExes.trimSpace,"");f[b]=h}}else{f[c.nodeName.split(":").pop()]=null}}}break}a=a.nextSibling}return f},write:function(c){if(!(OpenLayers.Util.isArray(c))){c=[c]}var b=this.createElementNS("http://www.opengis.net/wfs","wfs:"+this.collectionName);for(var a=0;a<c.length;a++){b.appendChild(this.createFeatureXML(c[a]))}return OpenLayers.Format.XML.prototype.write.apply(this,[b])},createFeatureXML:function(j){var h=j.geometry;var e=this.buildGeometryNode(h);var i=this.createElementNS(this.featureNS,this.featurePrefix+":"+this.geometryName);i.appendChild(e);var a=this.createElementNS(this.gmlns,"gml:"+this.featureName);var k=this.createElementNS(this.featureNS,this.featurePrefix+":"+this.layerName);var c=j.fid||j.id;k.setAttribute("fid",c);k.appendChild(i);for(var g in j.attributes){var f=this.createTextNode(j.attributes[g]);var d=g.substring(g.lastIndexOf(":")+1);var b=this.createElementNS(this.featureNS,this.featurePrefix+":"+d);b.appendChild(f);k.appendChild(b)
}a.appendChild(k);return a},buildGeometryNode:function(d){if(this.externalProjection&&this.internalProjection){d=d.clone();d.transform(this.internalProjection,this.externalProjection)}var c=d.CLASS_NAME;var b=c.substring(c.lastIndexOf(".")+1);var a=this.buildGeometry[b.toLowerCase()];return a.apply(this,[d])},buildGeometry:{point:function(b){var a=this.createElementNS(this.gmlns,"gml:Point");a.appendChild(this.buildCoordinatesNode(b));return a},multipoint:function(f){var d=this.createElementNS(this.gmlns,"gml:MultiPoint");var c=f.components;var b,e;for(var a=0;a<c.length;a++){b=this.createElementNS(this.gmlns,"gml:pointMember");e=this.buildGeometry.point.apply(this,[c[a]]);b.appendChild(e);d.appendChild(b)}return d},linestring:function(b){var a=this.createElementNS(this.gmlns,"gml:LineString");a.appendChild(this.buildCoordinatesNode(b));return a},multilinestring:function(f){var d=this.createElementNS(this.gmlns,"gml:MultiLineString");var a=f.components;var c,e;for(var b=0;b<a.length;++b){c=this.createElementNS(this.gmlns,"gml:lineStringMember");e=this.buildGeometry.linestring.apply(this,[a[b]]);c.appendChild(e);d.appendChild(c)}return d},linearring:function(b){var a=this.createElementNS(this.gmlns,"gml:LinearRing");a.appendChild(this.buildCoordinatesNode(b));return a},polygon:function(g){var d=this.createElementNS(this.gmlns,"gml:Polygon");var f=g.components;var c,e,b;for(var a=0;a<f.length;++a){b=(a==0)?"outerBoundaryIs":"innerBoundaryIs";c=this.createElementNS(this.gmlns,"gml:"+b);e=this.buildGeometry.linearring.apply(this,[f[a]]);c.appendChild(e);d.appendChild(c)}return d},multipolygon:function(f){var d=this.createElementNS(this.gmlns,"gml:MultiPolygon");var a=f.components;var e,b;for(var c=0;c<a.length;++c){e=this.createElementNS(this.gmlns,"gml:polygonMember");b=this.buildGeometry.polygon.apply(this,[a[c]]);e.appendChild(b);d.appendChild(e)}return d},bounds:function(b){var a=this.createElementNS(this.gmlns,"gml:Box");a.appendChild(this.buildCoordinatesNode(b));return a}},buildCoordinatesNode:function(f){var a=this.createElementNS(this.gmlns,"gml:coordinates");a.setAttribute("decimal",".");a.setAttribute("cs",",");a.setAttribute("ts"," ");var e=[];if(f instanceof OpenLayers.Bounds){e.push(f.left+","+f.bottom);e.push(f.right+","+f.top)}else{var c=(f.components)?f.components:[f];for(var b=0;b<c.length;b++){e.push(c[b].x+","+c[b].y)}}var d=this.createTextNode(e.join(" "));a.appendChild(d);return a},CLASS_NAME:"OpenLayers.Format.GML"});if(!OpenLayers.Format.GML){OpenLayers.Format.GML={}}OpenLayers.Format.GML.Base=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",wfs:"http://www.opengis.net/wfs"},defaultPrefix:"gml",schemaLocation:null,featureType:null,featureNS:null,geometryName:"geometry",extractAttributes:true,srsName:null,xy:true,geometryTypes:null,singleFeatureType:null,regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g),featureMember:(/^(.*:)?featureMembers?$/)},initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]);this.setGeometryTypes();if(a&&a.featureNS){this.setNamespace("feature",a.featureNS)}this.singleFeatureType=!a||(typeof a.featureType==="string")},read:function(e){if(typeof e=="string"){e=OpenLayers.Format.XML.prototype.read.apply(this,[e])}if(e&&e.nodeType==9){e=e.documentElement}var c=[];this.readNode(e,{features:c},true);if(c.length==0){var d=this.getElementsByTagNameNS(e,this.namespaces.gml,"featureMember");if(d.length){for(var b=0,a=d.length;b<a;++b){this.readNode(d[b],{features:c},true)}}else{var d=this.getElementsByTagNameNS(e,this.namespaces.gml,"featureMembers");if(d.length){this.readNode(d[0],{features:c},true)}}}return c},readNode:function(a,b,c){if(c===true&&this.autoConfig===true){this.featureType=null;delete this.namespaceAlias[this.featureNS];delete this.namespaces.feature;this.featureNS=null}if(!this.featureNS&&(!(a.prefix in this.namespaces)&&a.parentNode.namespaceURI==this.namespaces.gml&&this.regExes.featureMember.test(a.parentNode.nodeName))){this.featureType=a.nodeName.split(":").pop();
this.setNamespace("feature",a.namespaceURI);this.featureNS=a.namespaceURI;this.autoConfig=true}return OpenLayers.Format.XML.prototype.readNode.apply(this,[a,b])},readers:{gml:{featureMember:function(a,b){this.readChildNodes(a,b)},featureMembers:function(a,b){this.readChildNodes(a,b)},name:function(a,b){b.name=this.getChildValue(a)},boundedBy:function(b,c){var a={};this.readChildNodes(b,a);if(a.components&&a.components.length>0){c.bounds=a.components[0]}},Point:function(b,a){var c={points:[]};this.readChildNodes(b,c);if(!a.components){a.components=[]}a.components.push(c.points[0])},coordinates:function(e,g){var h=this.getChildValue(e).replace(this.regExes.trimSpace,"");h=h.replace(this.regExes.trimComma,",");var a=h.split(this.regExes.splitSpace);var f;var d=a.length;var c=new Array(d);for(var b=0;b<d;++b){f=a[b].split(",");if(this.xy){c[b]=new OpenLayers.Geometry.Point(f[0],f[1],f[2])}else{c[b]=new OpenLayers.Geometry.Point(f[1],f[0],f[2])}}g.points=c},coord:function(a,b){var c={};this.readChildNodes(a,c);if(!b.points){b.points=[]}b.points.push(new OpenLayers.Geometry.Point(c.x,c.y,c.z))},X:function(a,b){b.x=this.getChildValue(a)},Y:function(a,b){b.y=this.getChildValue(a)},Z:function(a,b){b.z=this.getChildValue(a)},MultiPoint:function(b,a){var c={components:[]};this.readChildNodes(b,c);a.components=[new OpenLayers.Geometry.MultiPoint(c.components)]},pointMember:function(a,b){this.readChildNodes(a,b)},LineString:function(b,a){var c={};this.readChildNodes(b,c);if(!a.components){a.components=[]}a.components.push(new OpenLayers.Geometry.LineString(c.points))},MultiLineString:function(b,a){var c={components:[]};this.readChildNodes(b,c);a.components=[new OpenLayers.Geometry.MultiLineString(c.components)]},lineStringMember:function(a,b){this.readChildNodes(a,b)},Polygon:function(b,a){var c={outer:null,inner:[]};this.readChildNodes(b,c);c.inner.unshift(c.outer);if(!a.components){a.components=[]}a.components.push(new OpenLayers.Geometry.Polygon(c.inner))},LinearRing:function(b,c){var a={};this.readChildNodes(b,a);c.components=[new OpenLayers.Geometry.LinearRing(a.points)]},MultiPolygon:function(b,a){var c={components:[]};this.readChildNodes(b,c);a.components=[new OpenLayers.Geometry.MultiPolygon(c.components)]},polygonMember:function(a,b){this.readChildNodes(a,b)},GeometryCollection:function(b,a){var c={components:[]};this.readChildNodes(b,c);a.components=[new OpenLayers.Geometry.Collection(c.components)]},geometryMember:function(a,b){this.readChildNodes(a,b)}},feature:{"*":function(c,d){var a;var b=c.localName||c.nodeName.split(":").pop();if(d.features){if(!this.singleFeatureType&&(OpenLayers.Util.indexOf(this.featureType,b)!==-1)){a="_typeName"}else{if(b===this.featureType){a="_typeName"}}}else{if(c.childNodes.length==0||(c.childNodes.length==1&&c.firstChild.nodeType==3)){if(this.extractAttributes){a="_attribute"}}else{a="_geometry"}}if(a){this.readers.feature[a].apply(this,[c,d])}},_typeName:function(c,d){var a={components:[],attributes:{}};this.readChildNodes(c,a);if(a.name){a.attributes.name=a.name}var b=new OpenLayers.Feature.Vector(a.components[0],a.attributes);if(!this.singleFeatureType){b.type=c.nodeName.split(":").pop();b.namespace=c.namespaceURI}var e=c.getAttribute("fid")||this.getAttributeNS(c,this.namespaces.gml,"id");if(e){b.fid=e}if(this.internalProjection&&this.externalProjection&&b.geometry){b.geometry.transform(this.externalProjection,this.internalProjection)}if(a.bounds){b.bounds=a.bounds}d.features.push(b)},_geometry:function(a,b){if(!this.geometryName){this.geometryName=a.nodeName.split(":").pop()}this.readChildNodes(a,b)},_attribute:function(b,d){var a=b.localName||b.nodeName.split(":").pop();var c=this.getChildValue(b);d.attributes[a]=c}},wfs:{FeatureCollection:function(a,b){this.readChildNodes(a,b)}}},write:function(c){var b;if(OpenLayers.Util.isArray(c)){b="featureMembers"}else{b="featureMember"}var a=this.writeNode("gml:"+b,c);this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{gml:{featureMember:function(a){var b=this.createElementNSPlus("gml:featureMember");
this.writeNode("feature:_typeName",a,b);return b},MultiPoint:function(e){var d=this.createElementNSPlus("gml:MultiPoint");var c=e.components||[e];for(var a=0,b=c.length;a<b;++a){this.writeNode("pointMember",c[a],d)}return d},pointMember:function(b){var a=this.createElementNSPlus("gml:pointMember");this.writeNode("Point",b,a);return a},MultiLineString:function(e){var d=this.createElementNSPlus("gml:MultiLineString");var c=e.components||[e];for(var a=0,b=c.length;a<b;++a){this.writeNode("lineStringMember",c[a],d)}return d},lineStringMember:function(b){var a=this.createElementNSPlus("gml:lineStringMember");this.writeNode("LineString",b,a);return a},MultiPolygon:function(e){var d=this.createElementNSPlus("gml:MultiPolygon");var c=e.components||[e];for(var a=0,b=c.length;a<b;++a){this.writeNode("polygonMember",c[a],d)}return d},polygonMember:function(b){var a=this.createElementNSPlus("gml:polygonMember");this.writeNode("Polygon",b,a);return a},GeometryCollection:function(d){var c=this.createElementNSPlus("gml:GeometryCollection");for(var b=0,a=d.components.length;b<a;++b){this.writeNode("geometryMember",d.components[b],c)}return c},geometryMember:function(b){var a=this.createElementNSPlus("gml:geometryMember");var c=this.writeNode("feature:_geometry",b);a.appendChild(c.firstChild);return a}},feature:{_typeName:function(b){var c=this.createElementNSPlus("feature:"+this.featureType,{attributes:{fid:b.fid}});if(b.geometry){this.writeNode("feature:_geometry",b.geometry,c)}for(var a in b.attributes){var d=b.attributes[a];if(d!=null){this.writeNode("feature:_attribute",{name:a,value:d},c)}}return c},_geometry:function(c){if(this.externalProjection&&this.internalProjection){c=c.clone().transform(this.internalProjection,this.externalProjection)}var b=this.createElementNSPlus("feature:"+this.geometryName);var a=this.geometryTypes[c.CLASS_NAME];var d=this.writeNode("gml:"+a,c,b);if(this.srsName){d.setAttribute("srsName",this.srsName)}return b},_attribute:function(a){return this.createElementNSPlus("feature:"+a.name,{value:a.value})}},wfs:{FeatureCollection:function(c){var d=this.createElementNSPlus("wfs:FeatureCollection");for(var b=0,a=c.length;b<a;++b){this.writeNode("gml:featureMember",c[b],d)}return d}}},setGeometryTypes:function(){this.geometryTypes={"OpenLayers.Geometry.Point":"Point","OpenLayers.Geometry.MultiPoint":"MultiPoint","OpenLayers.Geometry.LineString":"LineString","OpenLayers.Geometry.MultiLineString":"MultiLineString","OpenLayers.Geometry.Polygon":"Polygon","OpenLayers.Geometry.MultiPolygon":"MultiPolygon","OpenLayers.Geometry.Collection":"GeometryCollection"}},CLASS_NAME:"OpenLayers.Format.GML.Base"});OpenLayers.Format.GML.v2=OpenLayers.Class(OpenLayers.Format.GML.Base,{schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",initialize:function(a){OpenLayers.Format.GML.Base.prototype.initialize.apply(this,[a])},readers:{gml:OpenLayers.Util.applyDefaults({outerBoundaryIs:function(b,a){var c={};this.readChildNodes(b,c);a.outer=c.components[0]},innerBoundaryIs:function(b,a){var c={};this.readChildNodes(b,c);a.inner.push(c.components[0])},Box:function(d,b){var e={};this.readChildNodes(d,e);if(!b.components){b.components=[]}var c=e.points[0];var a=e.points[1];b.components.push(new OpenLayers.Bounds(c.x,c.y,a.x,a.y))}},OpenLayers.Format.GML.Base.prototype.readers.gml),feature:OpenLayers.Format.GML.Base.prototype.readers.feature,wfs:OpenLayers.Format.GML.Base.prototype.readers.wfs},write:function(c){var b;if(OpenLayers.Util.isArray(c)){b="wfs:FeatureCollection"}else{b="gml:featureMember"}var a=this.writeNode(b,c);this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{gml:OpenLayers.Util.applyDefaults({Point:function(b){var a=this.createElementNSPlus("gml:Point");this.writeNode("coordinates",[b],a);return a},coordinates:function(d){var c=d.length;var e=new Array(c);var a;for(var b=0;b<c;++b){a=d[b];if(this.xy){e[b]=a.x+","+a.y}else{e[b]=a.y+","+a.x}if(a.z!=undefined){e[b]+=","+a.z}}return this.createElementNSPlus("gml:coordinates",{attributes:{decimal:".",cs:",",ts:" "},value:(c==1)?e[0]:e.join(" ")})
},LineString:function(b){var a=this.createElementNSPlus("gml:LineString");this.writeNode("coordinates",b.components,a);return a},Polygon:function(c){var b=this.createElementNSPlus("gml:Polygon");this.writeNode("outerBoundaryIs",c.components[0],b);for(var a=1;a<c.components.length;++a){this.writeNode("innerBoundaryIs",c.components[a],b)}return b},outerBoundaryIs:function(a){var b=this.createElementNSPlus("gml:outerBoundaryIs");this.writeNode("LinearRing",a,b);return b},innerBoundaryIs:function(a){var b=this.createElementNSPlus("gml:innerBoundaryIs");this.writeNode("LinearRing",a,b);return b},LinearRing:function(a){var b=this.createElementNSPlus("gml:LinearRing");this.writeNode("coordinates",a.components,b);return b},Box:function(b){var a=this.createElementNSPlus("gml:Box");this.writeNode("coordinates",[{x:b.left,y:b.bottom},{x:b.right,y:b.top}],a);if(this.srsName){a.setAttribute("srsName",this.srsName)}return a}},OpenLayers.Format.GML.Base.prototype.writers.gml),feature:OpenLayers.Format.GML.Base.prototype.writers.feature,wfs:OpenLayers.Format.GML.Base.prototype.writers.wfs},CLASS_NAME:"OpenLayers.Format.GML.v2"});OpenLayers.Style=OpenLayers.Class({id:null,name:null,title:null,description:null,layerName:null,isDefault:false,rules:null,context:null,defaultStyle:null,defaultsPerSymbolizer:false,propertyStyles:null,initialize:function(b,a){OpenLayers.Util.extend(this,a);this.rules=[];if(a&&a.rules){this.addRules(a.rules)}this.setDefaultStyle(b||OpenLayers.Feature.Vector.style["default"]);this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){for(var b=0,a=this.rules.length;b<a;b++){this.rules[b].destroy();this.rules[b]=null}this.rules=null;this.defaultStyle=null},createSymbolizer:function(k){var a=this.defaultsPerSymbolizer?{}:this.createLiterals(OpenLayers.Util.extend({},this.defaultStyle),k);var j=this.rules;var h,b;var c=[];var f=false;for(var d=0,e=j.length;d<e;d++){h=j[d];var g=h.evaluate(k);if(g){if(h instanceof OpenLayers.Rule&&h.elseFilter){c.push(h)}else{f=true;this.applySymbolizer(h,a,k)}}}if(f==false&&c.length>0){f=true;for(var d=0,e=c.length;d<e;d++){this.applySymbolizer(c[d],a,k)}}if(j.length>0&&f==false){a.display="none"}if(a.label&&typeof a.label!=="string"){a.label=String(a.label)}return a},applySymbolizer:function(f,d,b){var a=b.geometry?this.getSymbolizerPrefix(b.geometry):OpenLayers.Style.SYMBOLIZER_PREFIXES[0];var c=f.symbolizer[a]||f.symbolizer;if(this.defaultsPerSymbolizer===true){var e=this.defaultStyle;OpenLayers.Util.applyDefaults(c,{pointRadius:e.pointRadius});if(c.stroke===true||c.graphic===true){OpenLayers.Util.applyDefaults(c,{strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeDashstyle:e.strokeDashstyle,strokeLinecap:e.strokeLinecap})}if(c.fill===true||c.graphic===true){OpenLayers.Util.applyDefaults(c,{fillColor:e.fillColor,fillOpacity:e.fillOpacity})}if(c.graphic===true){OpenLayers.Util.applyDefaults(c,{pointRadius:this.defaultStyle.pointRadius,externalGraphic:this.defaultStyle.externalGraphic,graphicName:this.defaultStyle.graphicName,graphicOpacity:this.defaultStyle.graphicOpacity,graphicWidth:this.defaultStyle.graphicWidth,graphicHeight:this.defaultStyle.graphicHeight,graphicXOffset:this.defaultStyle.graphicXOffset,graphicYOffset:this.defaultStyle.graphicYOffset})}}return this.createLiterals(OpenLayers.Util.extend(d,c),b)},createLiterals:function(d,c){var b=OpenLayers.Util.extend({},c.attributes||c.data);OpenLayers.Util.extend(b,this.context);for(var a in this.propertyStyles){d[a]=OpenLayers.Style.createLiteral(d[a],b,c,a)}return d},findPropertyStyles:function(){var d={};var f=this.defaultStyle;this.addPropertyStyles(d,f);var h=this.rules;var e,g;for(var c=0,a=h.length;c<a;c++){e=h[c].symbolizer;for(var b in e){g=e[b];if(typeof g=="object"){this.addPropertyStyles(d,g)}else{this.addPropertyStyles(d,e);break}}}return d},addPropertyStyles:function(b,c){var d;for(var a in c){d=c[a];if(typeof d=="string"&&d.match(/\$\{\w+\}/)){b[a]=true}}return b},addRules:function(a){Array.prototype.push.apply(this.rules,a);this.propertyStyles=this.findPropertyStyles()
},setDefaultStyle:function(a){this.defaultStyle=a;this.propertyStyles=this.findPropertyStyles()},getSymbolizerPrefix:function(d){var c=OpenLayers.Style.SYMBOLIZER_PREFIXES;for(var b=0,a=c.length;b<a;b++){if(d.CLASS_NAME.indexOf(c[b])!=-1){return c[b]}}},clone:function(){var b=OpenLayers.Util.extend({},this);if(this.rules){b.rules=[];for(var c=0,a=this.rules.length;c<a;++c){b.rules.push(this.rules[c].clone())}}b.context=this.context&&OpenLayers.Util.extend({},this.context);var d=OpenLayers.Util.extend({},this.defaultStyle);return new OpenLayers.Style(d,b)},CLASS_NAME:"OpenLayers.Style"});OpenLayers.Style.createLiteral=function(d,b,a,c){if(typeof d=="string"&&d.indexOf("${")!=-1){d=OpenLayers.String.format(d,b,[a,c]);d=(isNaN(d)||!d)?d:parseFloat(d)}return d};OpenLayers.Style.SYMBOLIZER_PREFIXES=["Point","Line","Polygon","Text","Raster"];OpenLayers.Symbolizer=OpenLayers.Class({zIndex:0,initialize:function(a){OpenLayers.Util.extend(this,a)},clone:function(){var Type=eval(this.CLASS_NAME);return new Type(OpenLayers.Util.extend({},this))},CLASS_NAME:"OpenLayers.Symbolizer"});OpenLayers.Symbolizer.Point=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(a){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Point"});OpenLayers.Symbolizer.Line=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(a){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Line"});OpenLayers.Symbolizer.Polygon=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(a){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Polygon"});OpenLayers.Symbolizer.Text=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(a){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Text"});OpenLayers.Symbolizer.Raster=OpenLayers.Class(OpenLayers.Symbolizer,{initialize:function(a){OpenLayers.Symbolizer.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Symbolizer.Raster"});OpenLayers.Rule=OpenLayers.Class({id:null,name:null,title:null,description:null,context:null,filter:null,elseFilter:false,symbolizer:null,symbolizers:null,minScaleDenominator:null,maxScaleDenominator:null,initialize:function(a){this.symbolizer={};OpenLayers.Util.extend(this,a);if(this.symbolizers){delete this.symbolizer}this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){for(var a in this.symbolizer){this.symbolizer[a]=null}this.symbolizer=null;delete this.symbolizers},evaluate:function(c){var b=this.getContext(c);var a=true;if(this.minScaleDenominator||this.maxScaleDenominator){var d=c.layer.map.getScale()}if(this.minScaleDenominator){a=d>=OpenLayers.Style.createLiteral(this.minScaleDenominator,b)}if(a&&this.maxScaleDenominator){a=d<OpenLayers.Style.createLiteral(this.maxScaleDenominator,b)}if(a&&this.filter){if(this.filter.CLASS_NAME=="OpenLayers.Filter.FeatureId"){a=this.filter.evaluate(c)}else{a=this.filter.evaluate(b)}}return a},getContext:function(b){var a=this.context;if(!a){a=b.attributes||b.data}if(typeof this.context=="function"){a=this.context(b)}return a},clone:function(){var b=OpenLayers.Util.extend({},this);if(this.symbolizers){var a=this.symbolizers.length;b.symbolizers=new Array(a);for(var d=0;d<a;++d){b.symbolizers[d]=this.symbolizers[d].clone()}}else{b.symbolizer={};var f,e;for(var c in this.symbolizer){f=this.symbolizer[c];e=typeof f;if(e==="object"){b.symbolizer[c]=OpenLayers.Util.extend({},f)}else{if(e==="string"){b.symbolizer[c]=f}}}}b.filter=this.filter&&this.filter.clone();b.context=this.context&&OpenLayers.Util.extend({},this.context);return new OpenLayers.Rule(b)},CLASS_NAME:"OpenLayers.Rule"});OpenLayers.Format.OGCExceptionReport=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ogc:"http://www.opengis.net/ogc"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},defaultPrefix:"ogc",read:function(c){var a;if(typeof c=="string"){c=OpenLayers.Format.XML.prototype.read.apply(this,[c])
}var b=c.documentElement;var d={exceptionReport:null};if(b){this.readChildNodes(c,d);if(d.exceptionReport===null){d=new OpenLayers.Format.OWSCommon().read(c)}}return d},readers:{ogc:{ServiceExceptionReport:function(a,b){b.exceptionReport={exceptions:[]};this.readChildNodes(a,b.exceptionReport)},ServiceException:function(b,c){var a={code:b.getAttribute("code"),locator:b.getAttribute("locator"),text:this.getChildValue(b)};c.exceptions.push(a)}}},CLASS_NAME:"OpenLayers.Format.OGCExceptionReport"});OpenLayers.Format.XML.VersionedOGC=OpenLayers.Class(OpenLayers.Format.XML,{defaultVersion:null,version:null,profile:null,errorProperty:null,name:null,stringifyOutput:false,parser:null,initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]);var b=this.CLASS_NAME;this.name=b.substring(b.lastIndexOf(".")+1)},getVersion:function(b,c){var a;if(b){a=this.version;if(!a){a=b.getAttribute("version");if(!a){a=this.defaultVersion}}}else{a=(c&&c.version)||this.version||this.defaultVersion}return a},getParser:function(a){a=a||this.defaultVersion;var b=this.profile?"_"+this.profile:"";if(!this.parser||this.parser.VERSION!=a){var c=OpenLayers.Format[this.name]["v"+a.replace(/\./g,"_")+b];if(!c){throw"Can't find a "+this.name+" parser for version "+a+b}this.parser=new c(this.options)}return this.parser},write:function(d,c){var b=this.getVersion(null,c);this.parser=this.getParser(b);var a=this.parser.write(d,c);if(this.stringifyOutput===false){return a}else{return OpenLayers.Format.XML.prototype.write.apply(this,[a])}},read:function(d,c){if(typeof d=="string"){d=OpenLayers.Format.XML.prototype.read.apply(this,[d])}var b=d.documentElement;var a=this.getVersion(b);this.parser=this.getParser(a);var f=this.parser.read(d,c);if(this.errorProperty!==null&&f[this.errorProperty]===undefined){var e=new OpenLayers.Format.OGCExceptionReport();f.error=e.read(d)}f.version=a;return f},CLASS_NAME:"OpenLayers.Format.XML.VersionedOGC"});OpenLayers.Filter=OpenLayers.Class({initialize:function(a){OpenLayers.Util.extend(this,a)},destroy:function(){},evaluate:function(a){return true},clone:function(){return null},CLASS_NAME:"OpenLayers.Filter"});OpenLayers.Filter.FeatureId=OpenLayers.Class(OpenLayers.Filter,{fids:null,type:"FID",initialize:function(a){this.fids=[];OpenLayers.Filter.prototype.initialize.apply(this,[a])},evaluate:function(c){for(var b=0,a=this.fids.length;b<a;b++){var d=c.fid||c.id;if(d==this.fids[b]){return true}}return false},clone:function(){var a=new OpenLayers.Filter.FeatureId();OpenLayers.Util.extend(a,this);a.fids=this.fids.slice();return a},CLASS_NAME:"OpenLayers.Filter.FeatureId"});OpenLayers.Filter.Logical=OpenLayers.Class(OpenLayers.Filter,{filters:null,type:null,initialize:function(a){this.filters=[];OpenLayers.Filter.prototype.initialize.apply(this,[a])},destroy:function(){this.filters=null;OpenLayers.Filter.prototype.destroy.apply(this)},evaluate:function(c){var b,a;switch(this.type){case OpenLayers.Filter.Logical.AND:for(b=0,a=this.filters.length;b<a;b++){if(this.filters[b].evaluate(c)==false){return false}}return true;case OpenLayers.Filter.Logical.OR:for(b=0,a=this.filters.length;b<a;b++){if(this.filters[b].evaluate(c)==true){return true}}return false;case OpenLayers.Filter.Logical.NOT:return(!this.filters[0].evaluate(c))}return undefined},clone:function(){var c=[];for(var b=0,a=this.filters.length;b<a;++b){c.push(this.filters[b].clone())}return new OpenLayers.Filter.Logical({type:this.type,filters:c})},CLASS_NAME:"OpenLayers.Filter.Logical"});OpenLayers.Filter.Logical.AND="&&";OpenLayers.Filter.Logical.OR="||";OpenLayers.Filter.Logical.NOT="!";OpenLayers.Filter.Comparison=OpenLayers.Class(OpenLayers.Filter,{type:null,property:null,value:null,matchCase:true,lowerBoundary:null,upperBoundary:null,initialize:function(a){OpenLayers.Filter.prototype.initialize.apply(this,[a]);if(this.type===OpenLayers.Filter.Comparison.LIKE&&a.matchCase===undefined){this.matchCase=null}},evaluate:function(c){if(c instanceof OpenLayers.Feature.Vector){c=c.attributes}var a=false;var b=c[this.property];var e;switch(this.type){case OpenLayers.Filter.Comparison.EQUAL_TO:e=this.value;
if(!this.matchCase&&typeof b=="string"&&typeof e=="string"){a=(b.toUpperCase()==e.toUpperCase())}else{a=(b==e)}break;case OpenLayers.Filter.Comparison.NOT_EQUAL_TO:e=this.value;if(!this.matchCase&&typeof b=="string"&&typeof e=="string"){a=(b.toUpperCase()!=e.toUpperCase())}else{a=(b!=e)}break;case OpenLayers.Filter.Comparison.LESS_THAN:a=b<this.value;break;case OpenLayers.Filter.Comparison.GREATER_THAN:a=b>this.value;break;case OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO:a=b<=this.value;break;case OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO:a=b>=this.value;break;case OpenLayers.Filter.Comparison.BETWEEN:a=(b>=this.lowerBoundary)&&(b<=this.upperBoundary);break;case OpenLayers.Filter.Comparison.LIKE:var d=new RegExp(this.value,"gi");a=d.test(b);break}return a},value2regex:function(d,b,a){if(d=="."){var c="'.' is an unsupported wildCard character for OpenLayers.Filter.Comparison";OpenLayers.Console.error(c);return null}d=d?d:"*";b=b?b:".";a=a?a:"!";this.value=this.value.replace(new RegExp("\\"+a+"(.|$)","g"),"\\$1");this.value=this.value.replace(new RegExp("\\"+b,"g"),".");this.value=this.value.replace(new RegExp("\\"+d,"g"),".*");this.value=this.value.replace(new RegExp("\\\\.\\*","g"),"\\"+d);this.value=this.value.replace(new RegExp("\\\\\\.","g"),"\\"+b);return this.value},regex2value:function(){var a=this.value;a=a.replace(/!/g,"!!");a=a.replace(/(\\)?\\\./g,function(c,b){return b?c:"!."});a=a.replace(/(\\)?\\\*/g,function(c,b){return b?c:"!*"});a=a.replace(/\\\\/g,"\\");a=a.replace(/\.\*/g,"*");return a},clone:function(){return OpenLayers.Util.extend(new OpenLayers.Filter.Comparison(),this)},CLASS_NAME:"OpenLayers.Filter.Comparison"});OpenLayers.Filter.Comparison.EQUAL_TO="==";OpenLayers.Filter.Comparison.NOT_EQUAL_TO="!=";OpenLayers.Filter.Comparison.LESS_THAN="<";OpenLayers.Filter.Comparison.GREATER_THAN=">";OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO="<=";OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO=">=";OpenLayers.Filter.Comparison.BETWEEN="..";OpenLayers.Filter.Comparison.LIKE="~";OpenLayers.Filter.Spatial=OpenLayers.Class(OpenLayers.Filter,{type:null,property:null,value:null,distance:null,distanceUnits:null,initialize:function(a){OpenLayers.Filter.prototype.initialize.apply(this,[a])},evaluate:function(c){var a=false;switch(this.type){case OpenLayers.Filter.Spatial.BBOX:case OpenLayers.Filter.Spatial.INTERSECTS:if(c.geometry){var b=this.value;if(this.value.CLASS_NAME=="OpenLayers.Bounds"){b=this.value.toGeometry()}if(c.geometry.intersects(b)){a=true}}break;default:OpenLayers.Console.error(OpenLayers.i18n("filterEvaluateNotImplemented"));break}return a},clone:function(){var a=OpenLayers.Util.applyDefaults({value:this.value&&this.value.clone&&this.value.clone()},this);return new OpenLayers.Filter.Spatial(a)},CLASS_NAME:"OpenLayers.Filter.Spatial"});OpenLayers.Filter.Spatial.BBOX="BBOX";OpenLayers.Filter.Spatial.INTERSECTS="INTERSECTS";OpenLayers.Filter.Spatial.DWITHIN="DWITHIN";OpenLayers.Filter.Spatial.WITHIN="WITHIN";OpenLayers.Filter.Spatial.CONTAINS="CONTAINS";OpenLayers.Format.SLD=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",stringifyOutput:true,namedLayersAsArray:false,CLASS_NAME:"OpenLayers.Format.SLD"});OpenLayers.Format.Filter=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",CLASS_NAME:"OpenLayers.Format.Filter"});OpenLayers.Filter.Function=OpenLayers.Class(OpenLayers.Filter,{name:null,params:null,initialize:function(a){OpenLayers.Filter.prototype.initialize.apply(this,[a])},CLASS_NAME:"OpenLayers.Filter.Function"});OpenLayers.Format.Filter.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ogc:"http://www.opengis.net/ogc",gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"ogc",schemaLocation:null,initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){var b={};this.readers.ogc.Filter.apply(this,[a,b]);return b.filter},readers:{ogc:{Filter:function(b,a){var c={fids:[],filters:[]};this.readChildNodes(b,c);
if(c.fids.length>0){a.filter=new OpenLayers.Filter.FeatureId({fids:c.fids})}else{if(c.filters.length>0){a.filter=c.filters[0]}}},FeatureId:function(a,b){var c=a.getAttribute("fid");if(c){b.fids.push(c)}},And:function(b,c){var a=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND});this.readChildNodes(b,a);c.filters.push(a)},Or:function(b,c){var a=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.OR});this.readChildNodes(b,a);c.filters.push(a)},Not:function(b,c){var a=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.NOT});this.readChildNodes(b,a);c.filters.push(a)},PropertyIsLessThan:function(b,c){var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN});this.readChildNodes(b,a);c.filters.push(a)},PropertyIsGreaterThan:function(b,c){var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN});this.readChildNodes(b,a);c.filters.push(a)},PropertyIsLessThanOrEqualTo:function(b,c){var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO});this.readChildNodes(b,a);c.filters.push(a)},PropertyIsGreaterThanOrEqualTo:function(b,c){var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO});this.readChildNodes(b,a);c.filters.push(a)},PropertyIsBetween:function(b,c){var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.BETWEEN});this.readChildNodes(b,a);c.filters.push(a)},Literal:function(a,b){b.value=OpenLayers.String.numericIf(this.getChildValue(a))},PropertyName:function(b,a){a.property=this.getChildValue(b)},LowerBoundary:function(b,a){a.lowerBoundary=OpenLayers.String.numericIf(this.readOgcExpression(b))},UpperBoundary:function(b,a){a.upperBoundary=OpenLayers.String.numericIf(this.readOgcExpression(b))},Intersects:function(a,b){this.readSpatial(a,b,OpenLayers.Filter.Spatial.INTERSECTS)},Within:function(a,b){this.readSpatial(a,b,OpenLayers.Filter.Spatial.WITHIN)},Contains:function(a,b){this.readSpatial(a,b,OpenLayers.Filter.Spatial.CONTAINS)},DWithin:function(a,b){this.readSpatial(a,b,OpenLayers.Filter.Spatial.DWITHIN)},Distance:function(a,b){b.distance=parseInt(this.getChildValue(a));b.distanceUnits=a.getAttribute("units")},Function:function(a,b){return}}},readSpatial:function(c,d,b){var a=new OpenLayers.Filter.Spatial({type:b});this.readChildNodes(c,a);a.value=a.components[0];delete a.components;d.filters.push(a)},readOgcExpression:function(a){var c={};this.readChildNodes(a,c);var b=c.value;if(b===undefined){b=this.getChildValue(a)}return b},writeOgcExpression:function(b,a){if(b instanceof OpenLayers.Filter.Function){var c=this.writeNode("Function",b,a);a.appendChild(c)}else{this.writeNode("Literal",b,a)}return a},write:function(a){return this.writers.ogc.Filter.apply(this,[a])},writeFeatureIdNodes:function(c,d){for(var a=0,b=c.fids.length;a<b;++a){this.writeNode("FeatureId",c.fids[a],d)}},writers:{ogc:{Filter:function(a){var b=this.createElementNSPlus("ogc:Filter");if(a.type==="FID"){this.writeFeatureIdNodes(a,b)}else{this.writeNode(this.getFilterType(a),a,b)}return b},FeatureId:function(a){return this.createElementNSPlus("ogc:FeatureId",{attributes:{fid:a}})},And:function(d){var e=this.createElementNSPlus("ogc:And");var c;for(var a=0,b=d.filters.length;a<b;++a){c=d.filters[a];if(c.type==="FID"){this.writeFeatureIdNodes(c,e)}else{this.writeNode(this.getFilterType(c),c,e)}}return e},Or:function(d){var e=this.createElementNSPlus("ogc:Or");var c;for(var a=0,b=d.filters.length;a<b;++a){c=d.filters[a];if(c.type==="FID"){this.writeFeatureIdNodes(c,e)}else{this.writeNode(this.getFilterType(c),c,e)}}return e},Not:function(b){var c=this.createElementNSPlus("ogc:Not");var a=b.filters[0];if(a.type==="FID"){this.writeFeatureIdNodes(a,c)}else{this.writeNode(this.getFilterType(a),a,c)}return c},PropertyIsLessThan:function(a){var b=this.createElementNSPlus("ogc:PropertyIsLessThan");this.writeNode("PropertyName",a,b);this.writeOgcExpression(a.value,b);return b},PropertyIsGreaterThan:function(a){var b=this.createElementNSPlus("ogc:PropertyIsGreaterThan");
this.writeNode("PropertyName",a,b);this.writeOgcExpression(a.value,b);return b},PropertyIsLessThanOrEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsLessThanOrEqualTo");this.writeNode("PropertyName",a,b);this.writeOgcExpression(a.value,b);return b},PropertyIsGreaterThanOrEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsGreaterThanOrEqualTo");this.writeNode("PropertyName",a,b);this.writeOgcExpression(a.value,b);return b},PropertyIsBetween:function(a){var b=this.createElementNSPlus("ogc:PropertyIsBetween");this.writeNode("PropertyName",a,b);this.writeNode("LowerBoundary",a,b);this.writeNode("UpperBoundary",a,b);return b},PropertyName:function(a){return this.createElementNSPlus("ogc:PropertyName",{value:a.property})},Literal:function(a){return this.createElementNSPlus("ogc:Literal",{value:a})},LowerBoundary:function(a){var b=this.createElementNSPlus("ogc:LowerBoundary");this.writeOgcExpression(a.lowerBoundary,b);return b},UpperBoundary:function(a){var b=this.createElementNSPlus("ogc:UpperBoundary");this.writeNode("Literal",a.upperBoundary,b);return b},INTERSECTS:function(a){return this.writeSpatial(a,"Intersects")},WITHIN:function(a){return this.writeSpatial(a,"Within")},CONTAINS:function(a){return this.writeSpatial(a,"Contains")},DWITHIN:function(a){var b=this.writeSpatial(a,"DWithin");this.writeNode("Distance",a,b);return b},Distance:function(a){return this.createElementNSPlus("ogc:Distance",{attributes:{units:a.distanceUnits},value:a.distance})},Function:function(c){var d=this.createElementNSPlus("ogc:Function",{attributes:{name:c.name}});var e=c.params;for(var b=0,a=e.length;b<a;b++){this.writeOgcExpression(e[b],d)}return d}}},getFilterType:function(a){var b=this.filterMap[a.type];if(!b){throw"Filter writing not supported for rule type: "+a.type}return b},filterMap:{"&&":"And","||":"Or","!":"Not","==":"PropertyIsEqualTo","!=":"PropertyIsNotEqualTo","<":"PropertyIsLessThan",">":"PropertyIsGreaterThan","<=":"PropertyIsLessThanOrEqualTo",">=":"PropertyIsGreaterThanOrEqualTo","..":"PropertyIsBetween","~":"PropertyIsLike",BBOX:"BBOX",DWITHIN:"DWITHIN",WITHIN:"WITHIN",CONTAINS:"CONTAINS",INTERSECTS:"INTERSECTS",FID:"FeatureId"},CLASS_NAME:"OpenLayers.Format.Filter.v1"});OpenLayers.Format.Filter.v1_0_0=OpenLayers.Class(OpenLayers.Format.GML.v2,OpenLayers.Format.Filter.v1,{VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/ogc/filter/1.0.0/filter.xsd",initialize:function(a){OpenLayers.Format.GML.v2.prototype.initialize.apply(this,[a])},readers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(b,c){var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO});this.readChildNodes(b,a);c.filters.push(a)},PropertyIsNotEqualTo:function(b,c){var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.NOT_EQUAL_TO});this.readChildNodes(b,a);c.filters.push(a)},PropertyIsLike:function(d,e){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LIKE});this.readChildNodes(d,c);var f=d.getAttribute("wildCard");var b=d.getAttribute("singleChar");var a=d.getAttribute("escape");c.value2regex(f,b,a);e.filters.push(c)}},OpenLayers.Format.Filter.v1.prototype.readers.ogc),gml:OpenLayers.Format.GML.v2.prototype.readers.gml,feature:OpenLayers.Format.GML.v2.prototype.readers.feature},writers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsEqualTo");this.writeNode("PropertyName",a,b);this.writeOgcExpression(a.value,b);return b},PropertyIsNotEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsNotEqualTo");this.writeNode("PropertyName",a,b);this.writeOgcExpression(a.value,b);return b},PropertyIsLike:function(a){var b=this.createElementNSPlus("ogc:PropertyIsLike",{attributes:{wildCard:"*",singleChar:".",escape:"!"}});this.writeNode("PropertyName",a,b);this.writeNode("Literal",a.regex2value(),b);return b},BBOX:function(a){var c=this.createElementNSPlus("ogc:BBOX");a.property&&this.writeNode("PropertyName",a,c);var b=this.writeNode("gml:Box",a.value,c);if(a.projection){b.setAttribute("srsName",a.projection)
}return c}},OpenLayers.Format.Filter.v1.prototype.writers.ogc),gml:OpenLayers.Format.GML.v2.prototype.writers.gml,feature:OpenLayers.Format.GML.v2.prototype.writers.feature},writeSpatial:function(b,a){var c=this.createElementNSPlus("ogc:"+a);this.writeNode("PropertyName",b,c);if(b.value instanceof OpenLayers.Filter.Function){this.writeNode("Function",b.value,c)}else{var d;if(b.value instanceof OpenLayers.Geometry){d=this.writeNode("feature:_geometry",b.value).firstChild}else{d=this.writeNode("gml:Box",b.value)}if(b.projection){d.setAttribute("srsName",b.projection)}c.appendChild(d)}return c},CLASS_NAME:"OpenLayers.Format.Filter.v1_0_0"});OpenLayers.Format.SLD.v1=OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0,{namespaces:{sld:"http://www.opengis.net/sld",ogc:"http://www.opengis.net/ogc",gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"sld",schemaLocation:null,multipleSymbolizers:false,featureTypeCounter:null,defaultSymbolizer:{fillColor:"#808080",fillOpacity:1,strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,strokeDashstyle:"solid",pointRadius:3,graphicName:"square"},initialize:function(a){OpenLayers.Format.Filter.v1_0_0.prototype.initialize.apply(this,[a])},read:function(c,a){a=OpenLayers.Util.applyDefaults(a,this.options);var b={namedLayers:a.namedLayersAsArray===true?[]:{}};this.readChildNodes(c,b);return b},readers:OpenLayers.Util.applyDefaults({sld:{StyledLayerDescriptor:function(a,b){b.version=a.getAttribute("version");this.readChildNodes(a,b)},Name:function(a,b){b.name=this.getChildValue(a)},Title:function(a,b){b.title=this.getChildValue(a)},Abstract:function(a,b){b.description=this.getChildValue(a)},NamedLayer:function(d,e){var c={userStyles:[],namedStyles:[]};this.readChildNodes(d,c);for(var b=0,a=c.userStyles.length;b<a;++b){c.userStyles[b].layerName=c.name}if(OpenLayers.Util.isArray(e.namedLayers)){e.namedLayers.push(c)}else{e.namedLayers[c.name]=c}},NamedStyle:function(b,a){a.namedStyles.push(this.getChildName(b.firstChild))},UserStyle:function(c,a){var d={defaultsPerSymbolizer:true,rules:[]};this.featureTypeCounter=-1;this.readChildNodes(c,d);var b;if(this.multipleSymbolizers){delete d.defaultsPerSymbolizer;b=new OpenLayers.Style2(d)}else{b=new OpenLayers.Style(this.defaultSymbolizer,d)}a.userStyles.push(b)},IsDefault:function(b,a){if(this.getChildValue(b)=="1"){a.isDefault=true}},FeatureTypeStyle:function(b,a){++this.featureTypeCounter;var c={rules:this.multipleSymbolizers?a.rules:[]};this.readChildNodes(b,c);if(!this.multipleSymbolizers){a.rules=c.rules}},Rule:function(b,d){var a;if(this.multipleSymbolizers){a={symbolizers:[]}}var c=new OpenLayers.Rule(a);this.readChildNodes(b,c);d.rules.push(c)},ElseFilter:function(a,b){b.elseFilter=true},MinScaleDenominator:function(a,b){b.minScaleDenominator=parseFloat(this.getChildValue(a))},MaxScaleDenominator:function(a,b){b.maxScaleDenominator=parseFloat(this.getChildValue(a))},TextSymbolizer:function(b,c){var a={};this.readChildNodes(b,a);if(this.multipleSymbolizers){a.zIndex=this.featureTypeCounter;c.symbolizers.push(new OpenLayers.Symbolizer.Text(a))}else{c.symbolizer.Text=OpenLayers.Util.applyDefaults(a,c.symbolizer.Text)}},Label:function(b,a){var d={};this.readChildNodes(b,d);if(d.property){a.label="${"+d.property+"}"}else{var c=this.readOgcExpression(b);if(c){a.label=c}}},Font:function(b,a){this.readChildNodes(b,a)},Halo:function(b,a){var c={};this.readChildNodes(b,c);a.haloRadius=c.haloRadius;a.haloColor=c.fillColor;a.haloOpacity=c.fillOpacity},Radius:function(c,b){var a=this.readOgcExpression(c);if(a!=null){b.haloRadius=a}},RasterSymbolizer:function(b,c){var a={};this.readChildNodes(b,a);if(this.multipleSymbolizers){a.zIndex=this.featureTypeCounter;c.symbolizers.push(new OpenLayers.Symbolizer.Raster(a))}else{c.symbolizer.Raster=OpenLayers.Util.applyDefaults(a,c.symbolizer.Raster)}},Geometry:function(a,b){b.geometry={};this.readChildNodes(a,b.geometry)},ColorMap:function(b,a){a.colorMap=[];this.readChildNodes(b,a.colorMap)},ColorMapEntry:function(b,a){var c=b.getAttribute("quantity");
var d=b.getAttribute("opacity");a.push({color:b.getAttribute("color"),quantity:c!==null?parseFloat(c):undefined,label:b.getAttribute("label")||undefined,opacity:d!==null?parseFloat(d):undefined})},LineSymbolizer:function(b,c){var a={};this.readChildNodes(b,a);if(this.multipleSymbolizers){a.zIndex=this.featureTypeCounter;c.symbolizers.push(new OpenLayers.Symbolizer.Line(a))}else{c.symbolizer.Line=OpenLayers.Util.applyDefaults(a,c.symbolizer.Line)}},PolygonSymbolizer:function(b,c){var a={fill:false,stroke:false};if(!this.multipleSymbolizers){a=c.symbolizer.Polygon||a}this.readChildNodes(b,a);if(this.multipleSymbolizers){a.zIndex=this.featureTypeCounter;c.symbolizers.push(new OpenLayers.Symbolizer.Polygon(a))}else{c.symbolizer.Polygon=a}},PointSymbolizer:function(b,c){var a={fill:false,stroke:false,graphic:false};if(!this.multipleSymbolizers){a=c.symbolizer.Point||a}this.readChildNodes(b,a);if(this.multipleSymbolizers){a.zIndex=this.featureTypeCounter;c.symbolizers.push(new OpenLayers.Symbolizer.Point(a))}else{c.symbolizer.Point=a}},Stroke:function(b,a){a.stroke=true;this.readChildNodes(b,a)},Fill:function(b,a){a.fill=true;this.readChildNodes(b,a)},CssParameter:function(c,b){var a=c.getAttribute("name");var e=this.cssMap[a];if(e){var d=this.readOgcExpression(c);if(d){b[e]=d}}},Graphic:function(e,d){d.graphic=true;var h={};this.readChildNodes(e,h);var c=["stroke","strokeColor","strokeWidth","strokeOpacity","strokeLinecap","fill","fillColor","fillOpacity","graphicName","rotation","graphicFormat"];var g,f;for(var b=0,a=c.length;b<a;++b){g=c[b];f=h[g];if(f!=undefined){d[g]=f}}if(h.opacity!=undefined){d.graphicOpacity=h.opacity}if(h.size!=undefined){d.pointRadius=h.size/2}if(h.href!=undefined){d.externalGraphic=h.href}if(h.rotation!=undefined){d.rotation=h.rotation}},ExternalGraphic:function(a,b){this.readChildNodes(a,b)},Mark:function(a,b){this.readChildNodes(a,b)},WellKnownName:function(a,b){b.graphicName=this.getChildValue(a)},Opacity:function(b,c){var a=this.readOgcExpression(b);if(a){c.opacity=a}},Size:function(b,c){var a=this.readOgcExpression(b);if(a){c.size=a}},Rotation:function(b,c){var a=this.readOgcExpression(b);if(a){c.rotation=a}},OnlineResource:function(a,b){b.href=this.getAttributeNS(a,this.namespaces.xlink,"href")},Format:function(a,b){b.graphicFormat=this.getChildValue(a)}}},OpenLayers.Format.Filter.v1_0_0.prototype.readers),cssMap:{stroke:"strokeColor","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","stroke-linecap":"strokeLinecap","stroke-dasharray":"strokeDashstyle",fill:"fillColor","fill-opacity":"fillOpacity","font-family":"fontFamily","font-size":"fontSize","font-weight":"fontWeight","font-style":"fontStyle"},getCssProperty:function(a){var b=null;for(var c in this.cssMap){if(this.cssMap[c]==a){b=c;break}}return b},getGraphicFormat:function(a){var d,c;for(var b in this.graphicFormats){if(this.graphicFormats[b].test(a)){d=b;break}}return d||this.defautlGraphicFormat},defaultGraphicFormat:"image/png",graphicFormats:{"image/jpeg":/\.jpe?g$/i,"image/gif":/\.gif$/i,"image/png":/\.png$/i},write:function(a){return this.writers.sld.StyledLayerDescriptor.apply(this,[a])},writers:OpenLayers.Util.applyDefaults({sld:{StyledLayerDescriptor:function(e){var b=this.createElementNSPlus("sld:StyledLayerDescriptor",{attributes:{version:this.VERSION,"xsi:schemaLocation":this.schemaLocation}});b.setAttribute("xmlns:ogc",this.namespaces.ogc);b.setAttribute("xmlns:gml",this.namespaces.gml);if(e.name){this.writeNode("Name",e.name,b)}if(e.title){this.writeNode("Title",e.title,b)}if(e.description){this.writeNode("Abstract",e.description,b)}if(OpenLayers.Util.isArray(e.namedLayers)){for(var d=0,a=e.namedLayers.length;d<a;++d){this.writeNode("NamedLayer",e.namedLayers[d],b)}}else{for(var c in e.namedLayers){this.writeNode("NamedLayer",e.namedLayers[c],b)}}return b},Name:function(a){return this.createElementNSPlus("sld:Name",{value:a})},Title:function(a){return this.createElementNSPlus("sld:Title",{value:a})},Abstract:function(a){return this.createElementNSPlus("sld:Abstract",{value:a})},NamedLayer:function(c){var d=this.createElementNSPlus("sld:NamedLayer");
this.writeNode("Name",c.name,d);if(c.namedStyles){for(var b=0,a=c.namedStyles.length;b<a;++b){this.writeNode("NamedStyle",c.namedStyles[b],d)}}if(c.userStyles){for(var b=0,a=c.userStyles.length;b<a;++b){this.writeNode("UserStyle",c.userStyles[b],d)}}return d},NamedStyle:function(a){var b=this.createElementNSPlus("sld:NamedStyle");this.writeNode("Name",a,b);return b},UserStyle:function(b){var d=this.createElementNSPlus("sld:UserStyle");if(b.name){this.writeNode("Name",b.name,d)}if(b.title){this.writeNode("Title",b.title,d)}if(b.description){this.writeNode("Abstract",b.description,d)}if(b.isDefault){this.writeNode("IsDefault",b.isDefault,d)}if(this.multipleSymbolizers&&b.rules){var m={0:[]};var c=[0];var l,a,p,k,h;for(var f=0,o=b.rules.length;f<o;++f){l=b.rules[f];if(l.symbolizers){a={};for(var e=0,g=l.symbolizers.length;e<g;++e){p=l.symbolizers[e];k=p.zIndex;if(!(k in a)){h=l.clone();h.symbolizers=[];a[k]=h}a[k].symbolizers.push(p.clone())}for(k in a){if(!(k in m)){c.push(k);m[k]=[]}m[k].push(a[k])}}else{m[0].push(l.clone())}}c.sort();var n;for(var f=0,o=c.length;f<o;++f){n=m[c[f]];if(n.length>0){h=b.clone();h.rules=m[c[f]];this.writeNode("FeatureTypeStyle",h,d)}}}else{this.writeNode("FeatureTypeStyle",b,d)}return d},IsDefault:function(a){return this.createElementNSPlus("sld:IsDefault",{value:(a)?"1":"0"})},FeatureTypeStyle:function(c){var d=this.createElementNSPlus("sld:FeatureTypeStyle");for(var b=0,a=c.rules.length;b<a;++b){this.writeNode("Rule",c.rules[b],d)}return d},Rule:function(h){var g=this.createElementNSPlus("sld:Rule");if(h.name){this.writeNode("Name",h.name,g)}if(h.title){this.writeNode("Title",h.title,g)}if(h.description){this.writeNode("Abstract",h.description,g)}if(h.elseFilter){this.writeNode("ElseFilter",null,g)}else{if(h.filter){this.writeNode("ogc:Filter",h.filter,g)}}if(h.minScaleDenominator!=undefined){this.writeNode("MinScaleDenominator",h.minScaleDenominator,g)}if(h.maxScaleDenominator!=undefined){this.writeNode("MaxScaleDenominator",h.maxScaleDenominator,g)}var f,e;if(this.multipleSymbolizers&&h.symbolizers){var e;for(var c=0,d=h.symbolizers.length;c<d;++c){e=h.symbolizers[c];f=e.CLASS_NAME.split(".").pop();this.writeNode(f+"Symbolizer",e,g)}}else{var b=OpenLayers.Style.SYMBOLIZER_PREFIXES;for(var c=0,a=b.length;c<a;++c){f=b[c];e=h.symbolizer[f];if(e){this.writeNode(f+"Symbolizer",e,g)}}}return g},ElseFilter:function(){return this.createElementNSPlus("sld:ElseFilter")},MinScaleDenominator:function(a){return this.createElementNSPlus("sld:MinScaleDenominator",{value:a})},MaxScaleDenominator:function(a){return this.createElementNSPlus("sld:MaxScaleDenominator",{value:a})},LineSymbolizer:function(a){var b=this.createElementNSPlus("sld:LineSymbolizer");this.writeNode("Stroke",a,b);return b},Stroke:function(a){var b=this.createElementNSPlus("sld:Stroke");if(a.strokeColor!=undefined){this.writeNode("CssParameter",{symbolizer:a,key:"strokeColor"},b)}if(a.strokeOpacity!=undefined){this.writeNode("CssParameter",{symbolizer:a,key:"strokeOpacity"},b)}if(a.strokeWidth!=undefined){this.writeNode("CssParameter",{symbolizer:a,key:"strokeWidth"},b)}if(a.strokeDashstyle!=undefined&&a.strokeDashstyle!=="solid"){this.writeNode("CssParameter",{symbolizer:a,key:"strokeDashstyle"},b)}if(a.strokeLinecap!=undefined){this.writeNode("CssParameter",{symbolizer:a,key:"strokeLinecap"},b)}return b},CssParameter:function(a){return this.createElementNSPlus("sld:CssParameter",{attributes:{name:this.getCssProperty(a.key)},value:a.symbolizer[a.key]})},TextSymbolizer:function(a){var b=this.createElementNSPlus("sld:TextSymbolizer");if(a.label!=null){this.writeNode("Label",a.label,b)}if(a.fontFamily!=null||a.fontSize!=null||a.fontWeight!=null||a.fontStyle!=null){this.writeNode("Font",a,b)}if(a.haloRadius!=null||a.haloColor!=null||a.haloOpacity!=null){this.writeNode("Halo",a,b)}if(a.fillColor!=null||a.fillOpacity!=null){this.writeNode("Fill",a,b)}return b},Font:function(a){var b=this.createElementNSPlus("sld:Font");if(a.fontFamily){this.writeNode("CssParameter",{symbolizer:a,key:"fontFamily"},b)}if(a.fontSize){this.writeNode("CssParameter",{symbolizer:a,key:"fontSize"},b)
}if(a.fontWeight){this.writeNode("CssParameter",{symbolizer:a,key:"fontWeight"},b)}if(a.fontStyle){this.writeNode("CssParameter",{symbolizer:a,key:"fontStyle"},b)}return b},Label:function(b){var f=this.createElementNSPlus("sld:Label");var g=b.split("${");f.appendChild(this.createTextNode(g[0]));var e,d;for(var c=1,a=g.length;c<a;c++){e=g[c];d=e.indexOf("}");if(d>0){this.writeNode("ogc:PropertyName",{property:e.substring(0,d)},f);f.appendChild(this.createTextNode(e.substring(++d)))}else{f.appendChild(this.createTextNode("${"+e))}}return f},Halo:function(a){var b=this.createElementNSPlus("sld:Halo");if(a.haloRadius){this.writeNode("Radius",a.haloRadius,b)}if(a.haloColor||a.haloOpacity){this.writeNode("Fill",{fillColor:a.haloColor,fillOpacity:a.haloOpacity},b)}return b},Radius:function(a){return this.createElementNSPlus("sld:Radius",{value:a})},RasterSymbolizer:function(a){var b=this.createElementNSPlus("sld:RasterSymbolizer");if(a.geometry){this.writeNode("Geometry",a.geometry,b)}if(a.opacity){this.writeNode("Opacity",a.opacity,b)}if(a.colorMap){this.writeNode("ColorMap",a.colorMap,b)}return b},Geometry:function(b){var a=this.createElementNSPlus("sld:Geometry");if(b.property){this.writeNode("ogc:PropertyName",b,a)}return a},ColorMap:function(b){var d=this.createElementNSPlus("sld:ColorMap");for(var c=0,a=b.length;c<a;++c){this.writeNode("ColorMapEntry",b[c],d)}return d},ColorMapEntry:function(c){var d=this.createElementNSPlus("sld:ColorMapEntry");var b=c;d.setAttribute("color",b.color);b.opacity!==undefined&&d.setAttribute("opacity",parseFloat(b.opacity));b.quantity!==undefined&&d.setAttribute("quantity",parseFloat(b.quantity));b.label!==undefined&&d.setAttribute("label",b.label);return d},PolygonSymbolizer:function(a){var b=this.createElementNSPlus("sld:PolygonSymbolizer");if(a.fill!==false){this.writeNode("Fill",a,b)}if(a.stroke!==false){this.writeNode("Stroke",a,b)}return b},Fill:function(a){var b=this.createElementNSPlus("sld:Fill");if(a.fillColor){this.writeNode("CssParameter",{symbolizer:a,key:"fillColor"},b)}if(a.fillOpacity!=null){this.writeNode("CssParameter",{symbolizer:a,key:"fillOpacity"},b)}return b},PointSymbolizer:function(a){var b=this.createElementNSPlus("sld:PointSymbolizer");this.writeNode("Graphic",a,b);return b},Graphic:function(a){var b=this.createElementNSPlus("sld:Graphic");if(a.externalGraphic!=undefined){this.writeNode("ExternalGraphic",a,b)}else{this.writeNode("Mark",a,b)}if(a.graphicOpacity!=undefined){this.writeNode("Opacity",a.graphicOpacity,b)}if(a.pointRadius!=undefined){this.writeNode("Size",a.pointRadius*2,b)}if(a.rotation!=undefined){this.writeNode("Rotation",a.rotation,b)}return b},ExternalGraphic:function(a){var b=this.createElementNSPlus("sld:ExternalGraphic");this.writeNode("OnlineResource",a.externalGraphic,b);var c=a.graphicFormat||this.getGraphicFormat(a.externalGraphic);this.writeNode("Format",c,b);return b},Mark:function(a){var b=this.createElementNSPlus("sld:Mark");if(a.graphicName){this.writeNode("WellKnownName",a.graphicName,b)}if(a.fill!==false){this.writeNode("Fill",a,b)}if(a.stroke!==false){this.writeNode("Stroke",a,b)}return b},WellKnownName:function(a){return this.createElementNSPlus("sld:WellKnownName",{value:a})},Opacity:function(a){return this.createElementNSPlus("sld:Opacity",{value:a})},Size:function(a){return this.createElementNSPlus("sld:Size",{value:a})},Rotation:function(a){return this.createElementNSPlus("sld:Rotation",{value:a})},OnlineResource:function(a){return this.createElementNSPlus("sld:OnlineResource",{attributes:{"xlink:type":"simple","xlink:href":a}})},Format:function(a){return this.createElementNSPlus("sld:Format",{value:a})}}},OpenLayers.Format.Filter.v1_0_0.prototype.writers),CLASS_NAME:"OpenLayers.Format.SLD.v1"});OpenLayers.Format.SLD.v1_0_0=OpenLayers.Class(OpenLayers.Format.SLD.v1,{VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/sld http://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd",initialize:function(a){OpenLayers.Format.SLD.v1.prototype.initialize.apply(this,[a])},CLASS_NAME:"OpenLayers.Format.SLD.v1_0_0"});OpenLayers.Format.Context=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{layerOptions:null,layerParams:null,read:function(d,b){var c=OpenLayers.Format.XML.VersionedOGC.prototype.read.apply(this,arguments);
var e;if(b&&b.map){this.context=c;if(b.map instanceof OpenLayers.Map){e=this.mergeContextToMap(c,b.map)}else{var a=b.map;if(OpenLayers.Util.isElement(a)||typeof a=="string"){a={div:a}}e=this.contextToMap(c,a)}}else{e=c}return e},getLayerFromContext:function(g){var c,f;var j={queryable:g.queryable,visibility:g.visibility,maxExtent:g.maxExtent,metadata:OpenLayers.Util.applyDefaults(g.metadata,{styles:g.styles,formats:g.formats,"abstract":g["abstract"],dataURL:g.dataURL}),numZoomLevels:g.numZoomLevels,units:g.units,isBaseLayer:g.isBaseLayer,opacity:g.opacity,displayInLayerSwitcher:g.displayInLayerSwitcher,singleTile:g.singleTile,tileSize:(g.tileSize)?new OpenLayers.Size(g.tileSize.width,g.tileSize.height):undefined,minScale:g.minScale||g.maxScaleDenominator,maxScale:g.maxScale||g.minScaleDenominator,srs:g.srs,dimensions:g.dimensions,metadataURL:g.metadataURL};if(this.layerOptions){OpenLayers.Util.applyDefaults(j,this.layerOptions)}var b={layers:g.name,transparent:g.transparent,version:g.version};if(g.formats&&g.formats.length>0){b.format=g.formats[0].value;for(c=0,f=g.formats.length;c<f;c++){var h=g.formats[c];if(h.current==true){b.format=h.value;break}}}if(g.styles&&g.styles.length>0){for(c=0,f=g.styles.length;c<f;c++){var a=g.styles[c];if(a.current==true){if(a.href){b.sld=a.href}else{if(a.body){b.sld_body=a.body}else{b.styles=a.name}}break}}}if(this.layerParams){OpenLayers.Util.applyDefaults(b,this.layerParams)}var d=null;var e=g.service;if(e==OpenLayers.Format.Context.serviceTypes.WFS){j.strategies=[new OpenLayers.Strategy.BBOX()];j.protocol=new OpenLayers.Protocol.WFS({url:g.url,featurePrefix:g.name.split(":")[0],featureType:g.name.split(":").pop()});d=new OpenLayers.Layer.Vector(g.title||g.name,j)}else{if(e==OpenLayers.Format.Context.serviceTypes.KML){j.strategies=[new OpenLayers.Strategy.Fixed()];j.protocol=new OpenLayers.Protocol.HTTP({url:g.url,format:new OpenLayers.Format.KML()});d=new OpenLayers.Layer.Vector(g.title||g.name,j)}else{if(e==OpenLayers.Format.Context.serviceTypes.GML){j.strategies=[new OpenLayers.Strategy.Fixed()];j.protocol=new OpenLayers.Protocol.HTTP({url:g.url,format:new OpenLayers.Format.GML()});d=new OpenLayers.Layer.Vector(g.title||g.name,j)}else{if(g.features){d=new OpenLayers.Layer.Vector(g.title||g.name,j);d.addFeatures(g.features)}else{if(g.categoryLayer!==true){d=new OpenLayers.Layer.WMS(g.title||g.name,g.url,b,j)}}}}}return d},getLayersFromContext:function(d){var e=[];for(var c=0,a=d.length;c<a;c++){var b=this.getLayerFromContext(d[c]);if(b!==null){e.push(b)}}return e},contextToMap:function(c,a){a=OpenLayers.Util.applyDefaults({maxExtent:c.maxExtent,projection:c.projection,units:c.units},a);if(a.maxExtent){a.maxResolution=a.maxExtent.getWidth()/OpenLayers.Map.TILE_WIDTH}var b={contactInformation:c.contactInformation,"abstract":c["abstract"],keywords:c.keywords,logo:c.logo,descriptionURL:c.descriptionURL};a.metadata=b;var d=new OpenLayers.Map(a);d.addLayers(this.getLayersFromContext(c.layersContext));d.setCenter(c.bounds.getCenterLonLat(),d.getZoomForExtent(c.bounds,true));return d},mergeContextToMap:function(a,b){b.addLayers(this.getLayersFromContext(a.layersContext));return b},write:function(b,a){b=this.toContext(b);return OpenLayers.Format.XML.VersionedOGC.prototype.write.apply(this,arguments)},CLASS_NAME:"OpenLayers.Format.Context"});OpenLayers.Format.Context.serviceTypes={WMS:"urn:ogc:serviceType:WMS",WFS:"urn:ogc:serviceType:WFS",WCS:"urn:ogc:serviceType:WCS",GML:"urn:ogc:serviceType:GML",SLD:"urn:ogc:serviceType:SLD",FES:"urn:ogc:serviceType:FES",KML:"urn:ogc:serviceType:KML"};OpenLayers.Format.OWSContext=OpenLayers.Class(OpenLayers.Format.Context,{defaultVersion:"0.3.1",getVersion:function(b,c){var a=OpenLayers.Format.XML.VersionedOGC.prototype.getVersion.apply(this,arguments);if(a==="0.3.0"){a=this.defaultVersion}return a},toContext:function(b){var a={};if(b.CLASS_NAME=="OpenLayers.Map"){a.bounds=b.getExtent();a.maxExtent=b.maxExtent;a.projection=b.projection;a.size=b.getSize();a.layers=b.layers}return a},CLASS_NAME:"OpenLayers.Format.OWSContext"});OpenLayers.Format.OWSCommon=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",getVersion:function(b,c){var a=this.version;
if(!a){var d=b.getAttribute("xmlns:ows");if(d&&d.substring(d.lastIndexOf("/")+1)==="1.1"){a="1.1.0"}if(!a){a=this.defaultVersion}}return a},CLASS_NAME:"OpenLayers.Format.OWSCommon"});OpenLayers.Format.OWSCommon.v1=OpenLayers.Class(OpenLayers.Format.XML,{regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},read:function(b,a){a=OpenLayers.Util.applyDefaults(a,this.options);var c={};this.readChildNodes(b,c);return c},readers:{ows:{Exception:function(b,c){var a={code:b.getAttribute("exceptionCode"),locator:b.getAttribute("locator"),texts:[]};c.exceptions.push(a);this.readChildNodes(b,a)},ExceptionText:function(b,a){var c=this.getChildValue(b);a.texts.push(c)},ServiceIdentification:function(a,b){b.serviceIdentification={};this.readChildNodes(a,b.serviceIdentification)},Title:function(a,b){b.title=this.getChildValue(a)},Abstract:function(a,b){b["abstract"]=this.getChildValue(a)},Keywords:function(a,b){b.keywords={};this.readChildNodes(a,b.keywords)},Keyword:function(b,a){a[this.getChildValue(b)]=true},ServiceType:function(a,b){b.serviceType={codeSpace:a.getAttribute("codeSpace"),value:this.getChildValue(a)}},ServiceTypeVersion:function(a,b){b.serviceTypeVersion=this.getChildValue(a)},Fees:function(a,b){b.fees=this.getChildValue(a)},AccessConstraints:function(a,b){b.accessConstraints=this.getChildValue(a)},ServiceProvider:function(a,b){b.serviceProvider={};this.readChildNodes(a,b.serviceProvider)},ProviderName:function(a,b){b.providerName=this.getChildValue(a)},ProviderSite:function(a,b){b.providerSite=this.getAttributeNS(a,this.namespaces.xlink,"href")},ServiceContact:function(a,b){b.serviceContact={};this.readChildNodes(a,b.serviceContact)},IndividualName:function(b,a){a.individualName=this.getChildValue(b)},PositionName:function(b,a){a.positionName=this.getChildValue(b)},ContactInfo:function(b,a){a.contactInfo={};this.readChildNodes(b,a.contactInfo)},Phone:function(b,a){a.phone={};this.readChildNodes(b,a.phone)},Voice:function(b,a){a.voice=this.getChildValue(b)},Address:function(b,a){a.address={};this.readChildNodes(b,a.address)},DeliveryPoint:function(b,a){a.deliveryPoint=this.getChildValue(b)},City:function(b,a){a.city=this.getChildValue(b)},AdministrativeArea:function(b,a){a.administrativeArea=this.getChildValue(b)},PostalCode:function(b,a){a.postalCode=this.getChildValue(b)},Country:function(b,a){a.country=this.getChildValue(b)},ElectronicMailAddress:function(b,a){a.electronicMailAddress=this.getChildValue(b)},Role:function(b,a){a.role=this.getChildValue(b)},OperationsMetadata:function(a,b){b.operationsMetadata={};this.readChildNodes(a,b.operationsMetadata)},Operation:function(c,b){var a=c.getAttribute("name");b[a]={};this.readChildNodes(c,b[a])},DCP:function(b,a){a.dcp={};this.readChildNodes(b,a.dcp)},HTTP:function(b,a){a.http={};this.readChildNodes(b,a.http)},Get:function(b,a){a.get=this.getAttributeNS(b,this.namespaces.xlink,"href")},Post:function(b,a){a.post=this.getAttributeNS(b,this.namespaces.xlink,"href")},Parameter:function(c,a){if(!a.parameters){a.parameters={}}var b=c.getAttribute("name");a.parameters[b]={};this.readChildNodes(c,a.parameters[b])},Value:function(a,b){b[this.getChildValue(a)]=true},OutputFormat:function(a,b){b.formats.push({value:this.getChildValue(a)});this.readChildNodes(a,b)},WGS84BoundingBox:function(b,c){var a={};a.crs=b.getAttribute("crs");if(c.BoundingBox){c.BoundingBox.push(a)}else{c.projection=a.crs;a=c}this.readChildNodes(b,a)},BoundingBox:function(a,b){this.readers.ows["WGS84BoundingBox"].apply(this,[a,b])},LowerCorner:function(b,c){var d=this.getChildValue(b).replace(this.regExes.trimSpace,"");d=d.replace(this.regExes.trimComma,",");var a=d.split(this.regExes.splitSpace);c.left=a[0];c.bottom=a[1]},UpperCorner:function(b,c){var d=this.getChildValue(b).replace(this.regExes.trimSpace,"");d=d.replace(this.regExes.trimComma,",");var a=d.split(this.regExes.splitSpace);c.right=a[0];c.top=a[1];c.bounds=new OpenLayers.Bounds(c.left,c.bottom,c.right,c.top);delete c.left;delete c.bottom;delete c.right;delete c.top},Language:function(a,b){b.language=this.getChildValue(a)
}}},writers:{ows:{BoundingBox:function(a){var b=this.createElementNSPlus("ows:BoundingBox",{attributes:{crs:a.projection}});this.writeNode("ows:LowerCorner",a,b);this.writeNode("ows:UpperCorner",a,b);return b},LowerCorner:function(a){var b=this.createElementNSPlus("ows:LowerCorner",{value:a.bounds.left+" "+a.bounds.bottom});return b},UpperCorner:function(a){var b=this.createElementNSPlus("ows:UpperCorner",{value:a.bounds.right+" "+a.bounds.top});return b},Identifier:function(a){var b=this.createElementNSPlus("ows:Identifier",{value:a});return b},Title:function(b){var a=this.createElementNSPlus("ows:Title",{value:b});return a},Abstract:function(a){var b=this.createElementNSPlus("ows:Abstract",{value:a});return b},OutputFormat:function(b){var a=this.createElementNSPlus("ows:OutputFormat",{value:b});return a}}},CLASS_NAME:"OpenLayers.Format.OWSCommon.v1"});OpenLayers.Format.OWSCommon.v1_0_0=OpenLayers.Class(OpenLayers.Format.OWSCommon.v1,{namespaces:{ows:"http://www.opengis.net/ows",xlink:"http://www.w3.org/1999/xlink"},readers:{ows:OpenLayers.Util.applyDefaults({ExceptionReport:function(a,b){b.success=false;b.exceptionReport={version:a.getAttribute("version"),language:a.getAttribute("language"),exceptions:[]};this.readChildNodes(a,b.exceptionReport)}},OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)},writers:{ows:OpenLayers.Format.OWSCommon.v1.prototype.writers.ows},CLASS_NAME:"OpenLayers.Format.OWSCommon.v1_0_0"});OpenLayers.Format.OWSContext.v0_3_1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{owc:"http://www.opengis.net/ows-context",gml:"http://www.opengis.net/gml",kml:"http://www.opengis.net/kml/2.2",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows",sld:"http://www.opengis.net/sld",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},VERSION:"0.3.1",schemaLocation:"http://www.opengis.net/ows-context http://www.ogcnetwork.net/schemas/owc/0.3.1/owsContext.xsd",defaultPrefix:"owc",extractAttributes:true,xy:true,regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},featureNS:"http://mapserver.gis.umn.edu/mapserver",featureType:"vector",geometryName:"geometry",nestingLayerLookup:null,initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]);OpenLayers.Format.GML.v2.prototype.setGeometryTypes.call(this)},setNestingPath:function(b){if(b.layersContext){for(var c=0,a=b.layersContext.length;c<a;c++){var f=b.layersContext[c];var d=[];var e=b.title||"";if(b.metadata&&b.metadata.nestingPath){d=b.metadata.nestingPath.slice()}if(e!=""){d.push(e)}f.metadata.nestingPath=d;if(f.layersContext){this.setNestingPath(f)}}}},decomposeNestingPath:function(c){var b=[];if(OpenLayers.Util.isArray(c)){var d=c.slice();while(d.length>0){b.push(d.slice());d.pop()}b.reverse()}return b},read:function(b){if(typeof b=="string"){b=OpenLayers.Format.XML.prototype.read.apply(this,[b])}if(b&&b.nodeType==9){b=b.documentElement}var a={};this.readNode(b,a);this.setNestingPath({layersContext:a.layersContext});var c=[];this.processLayer(c,a);delete a.layersContext;a.layersContext=c;return a},processLayer:function(b,e){if(e.layersContext){for(var d=0,a=e.layersContext.length;d<a;d++){var c=e.layersContext[d];b.push(c);if(c.layersContext){this.processLayer(b,c)}}}},write:function(d,c){var b="OWSContext";this.nestingLayerLookup={};c=c||{};OpenLayers.Util.applyDefaults(c,d);var a=this.writeNode(b,c);this.nestingLayerLookup=null;this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[a])},readers:{kml:{Document:function(a,b){b.features=new OpenLayers.Format.KML({kmlns:this.namespaces.kml,extractStyles:true}).read(a)}},owc:{OWSContext:function(a,b){this.readChildNodes(a,b)},General:function(a,b){this.readChildNodes(a,b)},ResourceList:function(a,b){this.readChildNodes(a,b)},Layer:function(a,c){var b={metadata:{},visibility:(a.getAttribute("hidden")!="1"),queryable:(a.getAttribute("queryable")=="1"),opacity:((a.getAttribute("opacity")!=null)?parseFloat(a.getAttribute("opacity")):null),name:a.getAttribute("name"),categoryLayer:(a.getAttribute("name")==null),formats:[],styles:[]};
if(!c.layersContext){c.layersContext=[]}c.layersContext.push(b);this.readChildNodes(a,b)},InlineGeometry:function(b,d){d.features=[];var c=this.getElementsByTagNameNS(b,this.namespaces.gml,"featureMember");var a;if(c.length>=1){a=c[0]}if(a&&a.firstChild){var e=(a.firstChild.nextSibling)?a.firstChild.nextSibling:a.firstChild;this.setNamespace("feature",e.namespaceURI);this.featureType=e.localName||e.nodeName.split(":").pop();this.readChildNodes(b,d)}},Server:function(a,b){if((!b.service&&!b.version)||(b.service!=OpenLayers.Format.Context.serviceTypes.WMS)){b.service=a.getAttribute("service");b.version=a.getAttribute("version");this.readChildNodes(a,b)}},Name:function(a,b){b.name=this.getChildValue(a);this.readChildNodes(a,b)},Title:function(a,b){b.title=this.getChildValue(a);this.readChildNodes(a,b)},StyleList:function(a,b){this.readChildNodes(a,b.styles)},Style:function(b,c){var a={};c.push(a);this.readChildNodes(b,a)},LegendURL:function(b,c){var a={};c.legend=a;this.readChildNodes(b,a)},OnlineResource:function(a,b){b.url=this.getAttributeNS(a,this.namespaces.xlink,"href");this.readChildNodes(a,b)}},ows:OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows,gml:OpenLayers.Format.GML.v2.prototype.readers.gml,sld:OpenLayers.Format.SLD.v1_0_0.prototype.readers.sld,feature:OpenLayers.Format.GML.v2.prototype.readers.feature},writers:{owc:{OWSContext:function(a){var b=this.createElementNSPlus("OWSContext",{attributes:{version:this.VERSION,id:a.id||OpenLayers.Util.createUniqueID("OpenLayers_OWSContext_")}});this.writeNode("General",a,b);this.writeNode("ResourceList",a,b);return b},General:function(a){var b=this.createElementNSPlus("General");this.writeNode("ows:BoundingBox",a,b);this.writeNode("ows:Title",a.title||"OpenLayers OWSContext",b);return b},ResourceList:function(c){var f=this.createElementNSPlus("ResourceList");for(var e=0,b=c.layers.length;e<b;e++){var d=c.layers[e];var a=this.decomposeNestingPath(d.metadata.nestingPath);this.writeNode("_Layer",{layer:d,subPaths:a},f)}return f},Server:function(a){var b=this.createElementNSPlus("Server",{attributes:{version:a.version,service:a.service}});this.writeNode("OnlineResource",a,b);return b},OnlineResource:function(a){var b=this.createElementNSPlus("OnlineResource",{attributes:{"xlink:href":a.url}});return b},InlineGeometry:function(c){var d=this.createElementNSPlus("InlineGeometry");this.writeNode("gml:boundedBy",c.getDataExtent(),d);for(var b=0,a=c.features.length;b<a;b++){this.writeNode("gml:featureMember",c.features[b],d)}return d},StyleList:function(d){var c=this.createElementNSPlus("StyleList");for(var b=0,a=d.length;b<a;b++){this.writeNode("Style",d[b],c)}return c},Style:function(a){var b=this.createElementNSPlus("Style");this.writeNode("Name",a,b);this.writeNode("Title",a,b);if(a.legend){this.writeNode("LegendURL",a,b)}return b},Name:function(b){var a=this.createElementNSPlus("Name",{value:b.name});return a},Title:function(b){var a=this.createElementNSPlus("Title",{value:b.title});return a},LegendURL:function(a){var b=this.createElementNSPlus("LegendURL");this.writeNode("OnlineResource",a.legend,b);return b},_WMS:function(a){var b=this.createElementNSPlus("Layer",{attributes:{name:a.params.LAYERS,queryable:a.queryable?"1":"0",hidden:a.visibility?"0":"1",opacity:a.opacity?a.opacity:null}});this.writeNode("ows:Title",a.name,b);this.writeNode("ows:OutputFormat",a.params.FORMAT,b);this.writeNode("Server",{service:OpenLayers.Format.Context.serviceTypes.WMS,version:a.params.VERSION,url:a.url},b);if(a.metadata.styles&&a.metadata.styles.length>0){this.writeNode("StyleList",a.metadata.styles,b)}return b},_Layer:function(b){var c,g,d,f;c=b.layer;g=b.subPaths;d=null;f=null;if(g.length>0){var e=g[0].join("/");var a=e.lastIndexOf("/");d=this.nestingLayerLookup[e];f=(a>0)?e.substring(a+1,e.length):e;if(!d){d=this.createElementNSPlus("Layer");this.writeNode("ows:Title",f,d);this.nestingLayerLookup[e]=d}b.subPaths.shift();this.writeNode("_Layer",b,d);return d}else{if(c instanceof OpenLayers.Layer.WMS){d=this.writeNode("_WMS",c)}else{if(c instanceof OpenLayers.Layer.Vector){if(c.protocol instanceof OpenLayers.Protocol.WFS.v1){d=this.writeNode("_WFS",c)
}else{if(c.protocol instanceof OpenLayers.Protocol.HTTP){if(c.protocol.format instanceof OpenLayers.Format.GML){c.protocol.format.version="2.1.2";d=this.writeNode("_GML",c)}else{if(c.protocol.format instanceof OpenLayers.Format.KML){c.protocol.format.version="2.2";d=this.writeNode("_KML",c)}}}else{this.setNamespace("feature",this.featureNS);d=this.writeNode("_InlineGeometry",c)}}}}if(c.options.maxScale){this.writeNode("sld:MinScaleDenominator",c.options.maxScale,d)}if(c.options.minScale){this.writeNode("sld:MaxScaleDenominator",c.options.minScale,d)}this.nestingLayerLookup[c.name]=d;return d}},_WFS:function(a){var b=this.createElementNSPlus("Layer",{attributes:{name:a.protocol.featurePrefix+":"+a.protocol.featureType,hidden:a.visibility?"0":"1"}});this.writeNode("ows:Title",a.name,b);this.writeNode("Server",{service:OpenLayers.Format.Context.serviceTypes.WFS,version:a.protocol.version,url:a.protocol.url},b);return b},_InlineGeometry:function(a){var b=this.createElementNSPlus("Layer",{attributes:{name:this.featureType,hidden:a.visibility?"0":"1"}});this.writeNode("ows:Title",a.name,b);this.writeNode("InlineGeometry",a,b);return b},_GML:function(a){var b=this.createElementNSPlus("Layer");this.writeNode("ows:Title",a.name,b);this.writeNode("Server",{service:OpenLayers.Format.Context.serviceTypes.GML,url:a.protocol.url,version:a.protocol.format.version},b);return b},_KML:function(a){var b=this.createElementNSPlus("Layer");this.writeNode("ows:Title",a.name,b);this.writeNode("Server",{service:OpenLayers.Format.Context.serviceTypes.KML,version:a.protocol.format.version,url:a.protocol.url},b);return b}},gml:OpenLayers.Util.applyDefaults({boundedBy:function(b){var a=this.createElementNSPlus("gml:boundedBy");this.writeNode("gml:Box",b,a);return a}},OpenLayers.Format.GML.v2.prototype.writers.gml),ows:OpenLayers.Format.OWSCommon.v1_0_0.prototype.writers.ows,sld:OpenLayers.Format.SLD.v1_0_0.prototype.writers.sld,feature:OpenLayers.Format.GML.v2.prototype.writers.feature},CLASS_NAME:"OpenLayers.Format.OWSContext.v0_3_1"});OpenLayers.Format.CSWGetRecords=function(b){b=OpenLayers.Util.applyDefaults(b,OpenLayers.Format.CSWGetRecords.DEFAULTS);var a=OpenLayers.Format.CSWGetRecords["v"+b.version.replace(/\./g,"_")];if(!a){throw"Unsupported CSWGetRecords version: "+b.version}return new a(b)};OpenLayers.Format.CSWGetRecords.DEFAULTS={version:"2.0.2"};OpenLayers.Control=OpenLayers.Class({id:null,map:null,div:null,type:null,allowSelection:false,displayClass:"",title:"",autoActivate:false,active:null,handler:null,eventListeners:null,events:null,EVENT_TYPES:["activate","deactivate"],initialize:function(a){this.displayClass=this.CLASS_NAME.replace("OpenLayers.","ol").replace(/\./g,"");OpenLayers.Util.extend(this,a);this.events=new OpenLayers.Events(this,null,this.EVENT_TYPES);if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}if(this.id==null){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")}},destroy:function(){if(this.events){if(this.eventListeners){this.events.un(this.eventListeners)}this.events.destroy();this.events=null}this.eventListeners=null;if(this.handler){this.handler.destroy();this.handler=null}if(this.handlers){for(var a in this.handlers){if(this.handlers.hasOwnProperty(a)&&typeof this.handlers[a].destroy=="function"){this.handlers[a].destroy()}}this.handlers=null}if(this.map){this.map.removeControl(this);this.map=null}this.div=null},setMap:function(a){this.map=a;if(this.handler){this.handler.setMap(a)}},draw:function(a){if(this.div==null){this.div=OpenLayers.Util.createDiv(this.id);this.div.className=this.displayClass;if(!this.allowSelection){this.div.className+=" olControlNoSelect";this.div.setAttribute("unselectable","on",0);this.div.onselectstart=OpenLayers.Function.False}if(this.title!=""){this.div.title=this.title}}if(a!=null){this.position=a.clone()}this.moveTo(this.position);return this.div},moveTo:function(a){if((a!=null)&&(this.div!=null)){this.div.style.left=a.x+"px";this.div.style.top=a.y+"px"}},activate:function(){if(this.active){return false}if(this.handler){this.handler.activate()}this.active=true;
if(this.map){OpenLayers.Element.addClass(this.map.viewPortDiv,this.displayClass.replace(/ /g,"")+"Active")}this.events.triggerEvent("activate");return true},deactivate:function(){if(this.active){if(this.handler){this.handler.deactivate()}this.active=false;if(this.map){OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass.replace(/ /g,"")+"Active")}this.events.triggerEvent("deactivate");return true}return false},CLASS_NAME:"OpenLayers.Control"});OpenLayers.Control.TYPE_BUTTON=1;OpenLayers.Control.TYPE_TOGGLE=2;OpenLayers.Control.TYPE_TOOL=3;OpenLayers.Control.OverviewMap=OpenLayers.Class(OpenLayers.Control,{element:null,ovmap:null,size:new OpenLayers.Size(180,90),layers:null,minRectSize:15,minRectDisplayClass:"RectReplacement",minRatio:8,maxRatio:32,mapOptions:null,autoPan:false,handlers:null,resolutionFactor:1,maximized:false,initialize:function(a){this.layers=[];this.handlers={};OpenLayers.Control.prototype.initialize.apply(this,[a])},destroy:function(){if(!this.mapDiv){return}if(this.handlers.click){this.handlers.click.destroy()}if(this.handlers.drag){this.handlers.drag.destroy()}this.ovmap&&this.ovmap.eventsDiv.removeChild(this.extentRectangle);this.extentRectangle=null;if(this.rectEvents){this.rectEvents.destroy();this.rectEvents=null}if(this.ovmap){this.ovmap.destroy();this.ovmap=null}this.element.removeChild(this.mapDiv);this.mapDiv=null;this.div.removeChild(this.element);this.element=null;if(this.maximizeDiv){OpenLayers.Event.stopObservingElement(this.maximizeDiv);this.div.removeChild(this.maximizeDiv);this.maximizeDiv=null}if(this.minimizeDiv){OpenLayers.Event.stopObservingElement(this.minimizeDiv);this.div.removeChild(this.minimizeDiv);this.minimizeDiv=null}this.map.events.un({moveend:this.update,changebaselayer:this.baseLayerDraw,scope:this});OpenLayers.Control.prototype.destroy.apply(this,arguments)},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!(this.layers.length>0)){if(this.map.baseLayer){var d=this.map.baseLayer.clone();this.layers=[d]}else{this.map.events.register("changebaselayer",this,this.baseLayerDraw);return this.div}}this.element=document.createElement("div");this.element.className=this.displayClass+"Element";this.element.style.display="none";this.mapDiv=document.createElement("div");this.mapDiv.style.width=this.size.w+"px";this.mapDiv.style.height=this.size.h+"px";this.mapDiv.style.position="relative";this.mapDiv.style.overflow="hidden";this.mapDiv.id=OpenLayers.Util.createUniqueID("overviewMap");this.extentRectangle=document.createElement("div");this.extentRectangle.style.position="absolute";this.extentRectangle.style.zIndex=1000;this.extentRectangle.className=this.displayClass+"ExtentRectangle";this.element.appendChild(this.mapDiv);this.div.appendChild(this.element);if(!this.outsideViewport){this.div.className+=" "+this.displayClass+"Container";var e=OpenLayers.Util.getImagesLocation();var b=e+"layer-switcher-maximize.png";this.maximizeDiv=OpenLayers.Util.createAlphaImageDiv(this.displayClass+"MaximizeButton",null,new OpenLayers.Size(18,18),b,"absolute");this.maximizeDiv.style.display="none";this.maximizeDiv.className=this.displayClass+"MaximizeButton";OpenLayers.Event.observe(this.maximizeDiv,"click",OpenLayers.Function.bindAsEventListener(this.maximizeControl,this));this.div.appendChild(this.maximizeDiv);var b=e+"layer-switcher-minimize.png";this.minimizeDiv=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_minimizeDiv",null,new OpenLayers.Size(18,18),b,"absolute");this.minimizeDiv.style.display="none";this.minimizeDiv.className=this.displayClass+"MinimizeButton";OpenLayers.Event.observe(this.minimizeDiv,"click",OpenLayers.Function.bindAsEventListener(this.minimizeControl,this));this.div.appendChild(this.minimizeDiv);var f=["dblclick","mousedown"];for(var c=0,a=f.length;c<a;c++){OpenLayers.Event.observe(this.maximizeDiv,f[c],OpenLayers.Event.stop);OpenLayers.Event.observe(this.minimizeDiv,f[c],OpenLayers.Event.stop)}this.minimizeControl()}else{this.element.style.display=""}if(this.map.getExtent()){this.update()}this.map.events.register("moveend",this,this.update);
if(this.maximized){this.maximizeControl()}return this.div},baseLayerDraw:function(){this.draw();this.map.events.unregister("changebaselayer",this,this.baseLayerDraw)},rectDrag:function(i){var d=this.handlers.drag.last.x-i.x;var b=this.handlers.drag.last.y-i.y;if(d!=0||b!=0){var g=this.rectPxBounds.top;var a=this.rectPxBounds.left;var e=Math.abs(this.rectPxBounds.getHeight());var c=this.rectPxBounds.getWidth();var f=Math.max(0,(g-b));f=Math.min(f,this.ovmap.size.h-this.hComp-e);var h=Math.max(0,(a-d));h=Math.min(h,this.ovmap.size.w-this.wComp-c);this.setRectPxBounds(new OpenLayers.Bounds(h,f+e,h+c,f))}},mapDivClick:function(i){var b=this.rectPxBounds.getCenterPixel();var e=i.xy.x-b.x;var d=i.xy.y-b.y;var g=this.rectPxBounds.top;var c=this.rectPxBounds.left;var j=Math.abs(this.rectPxBounds.getHeight());var a=this.rectPxBounds.getWidth();var f=Math.max(0,(g+d));f=Math.min(f,this.ovmap.size.h-j);var h=Math.max(0,(c+e));h=Math.min(h,this.ovmap.size.w-a);this.setRectPxBounds(new OpenLayers.Bounds(h,f+j,h+a,f));this.updateMapToRect()},maximizeControl:function(a){this.element.style.display="";this.showToggle(false);if(a!=null){OpenLayers.Event.stop(a)}},minimizeControl:function(a){this.element.style.display="none";this.showToggle(true);if(a!=null){OpenLayers.Event.stop(a)}},showToggle:function(a){this.maximizeDiv.style.display=a?"":"none";this.minimizeDiv.style.display=a?"none":""},update:function(){if(this.ovmap==null){this.createMap()}if(this.autoPan||!this.isSuitableOverview()){this.updateOverview()}this.updateRectToMap()},isSuitableOverview:function(){var b=this.map.getExtent();var a=this.map.maxExtent;var c=new OpenLayers.Bounds(Math.max(b.left,a.left),Math.max(b.bottom,a.bottom),Math.min(b.right,a.right),Math.min(b.top,a.top));if(this.ovmap.getProjection()!=this.map.getProjection()){c=c.transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject())}var d=this.ovmap.getResolution()/this.map.getResolution();return((d>this.minRatio)&&(d<=this.maxRatio)&&(this.ovmap.getExtent().containsBounds(c)))},updateOverview:function(){var c=this.map.getResolution();var b=this.ovmap.getResolution();var d=b/c;if(d>this.maxRatio){b=this.minRatio*c}else{if(d<=this.minRatio){b=this.maxRatio*c}}var a;if(this.ovmap.getProjection()!=this.map.getProjection()){a=this.map.center.clone();a.transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject())}else{a=this.map.center}this.ovmap.setCenter(a,this.ovmap.getZoomForResolution(b*this.resolutionFactor));this.updateRectToMap()},createMap:function(){var b=OpenLayers.Util.extend({controls:[],maxResolution:"auto",fallThrough:false},this.mapOptions);this.ovmap=new OpenLayers.Map(this.mapDiv,b);this.ovmap.eventsDiv.appendChild(this.extentRectangle);OpenLayers.Event.stopObserving(window,"unload",this.ovmap.unloadDestroy);this.ovmap.addLayers(this.layers);this.ovmap.zoomToMaxExtent();this.wComp=parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-left-width"))+parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-right-width"));this.wComp=(this.wComp)?this.wComp:2;this.hComp=parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-top-width"))+parseInt(OpenLayers.Element.getStyle(this.extentRectangle,"border-bottom-width"));this.hComp=(this.hComp)?this.hComp:2;this.handlers.drag=new OpenLayers.Handler.Drag(this,{move:this.rectDrag,done:this.updateMapToRect},{map:this.ovmap});this.handlers.click=new OpenLayers.Handler.Click(this,{click:this.mapDivClick},{single:true,"double":false,stopSingle:true,stopDouble:true,pixelTolerance:1,map:this.ovmap});this.handlers.click.activate();this.rectEvents=new OpenLayers.Events(this,this.extentRectangle,null,true);this.rectEvents.register("mouseover",this,function(d){if(!this.handlers.drag.active&&!this.map.dragging){this.handlers.drag.activate()}});this.rectEvents.register("mouseout",this,function(d){if(!this.handlers.drag.dragging){this.handlers.drag.deactivate()}});if(this.ovmap.getProjection()!=this.map.getProjection()){var c=this.map.getProjectionObject().getUnits()||this.map.units||this.map.baseLayer.units;var a=this.ovmap.getProjectionObject().getUnits()||this.ovmap.units||this.ovmap.baseLayer.units;
this.resolutionFactor=c&&a?OpenLayers.INCHES_PER_UNIT[c]/OpenLayers.INCHES_PER_UNIT[a]:1}},updateRectToMap:function(){var b;if(this.ovmap.getProjection()!=this.map.getProjection()){b=this.map.getExtent().transform(this.map.getProjectionObject(),this.ovmap.getProjectionObject())}else{b=this.map.getExtent()}var a=this.getRectBoundsFromMapBounds(b);if(a){this.setRectPxBounds(a)}},updateMapToRect:function(){var a=this.getMapBoundsFromRectBounds(this.rectPxBounds);if(this.ovmap.getProjection()!=this.map.getProjection()){a=a.transform(this.ovmap.getProjectionObject(),this.map.getProjectionObject())}this.map.panTo(a.getCenterLonLat())},setRectPxBounds:function(d){var g=Math.max(d.top,0);var e=Math.max(d.left,0);var b=Math.min(d.top+Math.abs(d.getHeight()),this.ovmap.size.h-this.hComp);var h=Math.min(d.left+d.getWidth(),this.ovmap.size.w-this.wComp);var c=Math.max(h-e,0);var i=Math.max(b-g,0);if(c<this.minRectSize||i<this.minRectSize){this.extentRectangle.className=this.displayClass+this.minRectDisplayClass;var f=e+(c/2)-(this.minRectSize/2);var a=g+(i/2)-(this.minRectSize/2);this.extentRectangle.style.top=Math.round(a)+"px";this.extentRectangle.style.left=Math.round(f)+"px";this.extentRectangle.style.height=this.minRectSize+"px";this.extentRectangle.style.width=this.minRectSize+"px"}else{this.extentRectangle.className=this.displayClass+"ExtentRectangle";this.extentRectangle.style.top=Math.round(g)+"px";this.extentRectangle.style.left=Math.round(e)+"px";this.extentRectangle.style.height=Math.round(i)+"px";this.extentRectangle.style.width=Math.round(c)+"px"}this.rectPxBounds=new OpenLayers.Bounds(Math.round(e),Math.round(b),Math.round(h),Math.round(g))},getRectBoundsFromMapBounds:function(d){var a=new OpenLayers.LonLat(d.left,d.bottom);var f=new OpenLayers.LonLat(d.right,d.top);var c=this.getOverviewPxFromLonLat(a);var b=this.getOverviewPxFromLonLat(f);var e=null;if(c&&b){e=new OpenLayers.Bounds(c.x,c.y,b.x,b.y)}return e},getMapBoundsFromRectBounds:function(d){var c=new OpenLayers.Pixel(d.left,d.bottom);var b=new OpenLayers.Pixel(d.right,d.top);var a=this.getLonLatFromOverviewPx(c);var e=this.getLonLatFromOverviewPx(b);return new OpenLayers.Bounds(a.lon,a.lat,e.lon,e.lat)},getLonLatFromOverviewPx:function(f){var c=this.ovmap.size;var b=this.ovmap.getResolution();var a=this.ovmap.getExtent().getCenterLonLat();var e=f.x-(c.w/2);var d=f.y-(c.h/2);return new OpenLayers.LonLat(a.lon+e*b,a.lat-d*b)},getOverviewPxFromLonLat:function(d){var b=this.ovmap.getResolution();var c=this.ovmap.getExtent();var a=null;if(c){a=new OpenLayers.Pixel(Math.round(1/b*(d.lon-c.left)),Math.round(1/b*(c.top-d.lat)))}return a},CLASS_NAME:"OpenLayers.Control.OverviewMap"});OpenLayers.Tween=OpenLayers.Class({INTERVAL:10,easing:null,begin:null,finish:null,duration:null,callbacks:null,time:null,interval:null,playing:false,initialize:function(a){this.easing=(a)?a:OpenLayers.Easing.Expo.easeOut},start:function(c,b,d,a){this.playing=true;this.begin=c;this.finish=b;this.duration=d;this.callbacks=a.callbacks;this.time=0;if(this.interval){window.clearInterval(this.interval);this.interval=null}if(this.callbacks&&this.callbacks.start){this.callbacks.start.call(this,this.begin)}this.interval=window.setInterval(OpenLayers.Function.bind(this.play,this),this.INTERVAL)},stop:function(){if(!this.playing){return}if(this.callbacks&&this.callbacks.done){this.callbacks.done.call(this,this.finish)}window.clearInterval(this.interval);this.interval=null;this.playing=false},play:function(){var g={};for(var d in this.begin){var a=this.begin[d];var e=this.finish[d];if(a==null||e==null||isNaN(a)||isNaN(e)){OpenLayers.Console.error("invalid value for Tween")}var h=e-a;g[d]=this.easing.apply(this,[this.time,a,h,this.duration])}this.time++;if(this.callbacks&&this.callbacks.eachStep){this.callbacks.eachStep.call(this,g)}if(this.time>this.duration){this.stop()}},CLASS_NAME:"OpenLayers.Tween"});OpenLayers.Easing={CLASS_NAME:"OpenLayers.Easing"};OpenLayers.Easing.Linear={easeIn:function(e,a,g,f){return g*e/f+a},easeOut:function(e,a,g,f){return g*e/f+a},easeInOut:function(e,a,g,f){return g*e/f+a
},CLASS_NAME:"OpenLayers.Easing.Linear"};OpenLayers.Easing.Expo={easeIn:function(e,a,g,f){return(e==0)?a:g*Math.pow(2,10*(e/f-1))+a},easeOut:function(e,a,g,f){return(e==f)?a+g:g*(-Math.pow(2,-10*e/f)+1)+a},easeInOut:function(e,a,g,f){if(e==0){return a}if(e==f){return a+g}if((e/=f/2)<1){return g/2*Math.pow(2,10*(e-1))+a}return g/2*(-Math.pow(2,-10*--e)+2)+a},CLASS_NAME:"OpenLayers.Easing.Expo"};OpenLayers.Easing.Quad={easeIn:function(e,a,g,f){return g*(e/=f)*e+a},easeOut:function(e,a,g,f){return -g*(e/=f)*(e-2)+a},easeInOut:function(e,a,g,f){if((e/=f/2)<1){return g/2*e*e+a}return -g/2*((--e)*(e-2)-1)+a},CLASS_NAME:"OpenLayers.Easing.Quad"};OpenLayers.Map=OpenLayers.Class({Z_INDEX_BASE:{BaseLayer:100,Overlay:325,Feature:725,Popup:750,Control:1000},EVENT_TYPES:["preaddlayer","addlayer","preremovelayer","removelayer","changelayer","movestart","move","moveend","zoomend","popupopen","popupclose","addmarker","removemarker","clearmarkers","mouseover","mouseout","mousemove","dragstart","drag","dragend","changebaselayer"],id:null,fractionalZoom:false,events:null,allOverlays:false,div:null,dragging:false,size:null,viewPortDiv:null,layerContainerOrigin:null,layerContainerDiv:null,layers:null,controls:null,popups:null,baseLayer:null,center:null,resolution:null,zoom:0,panRatio:1.5,viewRequestID:0,tileSize:null,projection:"EPSG:4326",units:"degrees",resolutions:null,maxResolution:1.40625,minResolution:null,maxScale:null,minScale:null,maxExtent:null,minExtent:null,restrictedExtent:null,numZoomLevels:16,theme:null,displayProjection:null,fallThrough:true,panTween:null,eventListeners:null,panMethod:OpenLayers.Easing.Expo.easeOut,panDuration:50,paddingForPopups:null,minPx:null,maxPx:null,initialize:function(a,j){if(arguments.length===1&&typeof a==="object"){j=a;a=j&&j.div}this.tileSize=new OpenLayers.Size(OpenLayers.Map.TILE_WIDTH,OpenLayers.Map.TILE_HEIGHT);this.maxExtent=new OpenLayers.Bounds(-180,-90,180,90);this.paddingForPopups=new OpenLayers.Bounds(15,15,15,15);this.theme=OpenLayers._getScriptLocation()+"theme/default/style.css";OpenLayers.Util.extend(this,j);this.layers=[];this.id=OpenLayers.Util.createUniqueID("OpenLayers.Map_");this.div=OpenLayers.Util.getElement(a);if(!this.div){this.div=document.createElement("div");this.div.style.height="1px";this.div.style.width="1px"}OpenLayers.Element.addClass(this.div,"olMap");var c=this.id+"_OpenLayers_ViewPort";this.viewPortDiv=OpenLayers.Util.createDiv(c,null,null,null,"relative",null,"hidden");this.viewPortDiv.style.width="100%";this.viewPortDiv.style.height="100%";this.viewPortDiv.className="olMapViewport";this.div.appendChild(this.viewPortDiv);var e=document.createElement("div");e.id=this.id+"_events";e.style.position="absolute";e.style.width="100%";e.style.height="100%";e.style.zIndex=this.Z_INDEX_BASE.Control-1;this.viewPortDiv.appendChild(e);this.eventsDiv=e;this.events=new OpenLayers.Events(this,this.eventsDiv,this.EVENT_TYPES,this.fallThrough,{includeXY:true});c=this.id+"_OpenLayers_Container";this.layerContainerDiv=OpenLayers.Util.createDiv(c);this.layerContainerDiv.style.zIndex=this.Z_INDEX_BASE.Popup-1;this.eventsDiv.appendChild(this.layerContainerDiv);this.updateSize();if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}this.events.register("movestart",this,this.updateSize);if(OpenLayers.String.contains(navigator.appName,"Microsoft")){this.events.register("resize",this,this.updateSize)}else{this.updateSizeDestroy=OpenLayers.Function.bind(this.updateSize,this);OpenLayers.Event.observe(window,"resize",this.updateSizeDestroy)}if(this.theme){var d=true;var b=document.getElementsByTagName("link");for(var f=0,g=b.length;f<g;++f){if(OpenLayers.Util.isEquivalentUrl(b.item(f).href,this.theme)){d=false;break}}if(d){var h=document.createElement("link");h.setAttribute("rel","stylesheet");h.setAttribute("type","text/css");h.setAttribute("href",this.theme);document.getElementsByTagName("head")[0].appendChild(h)}}if(this.controls==null){if(OpenLayers.Control!=null){this.controls=[new OpenLayers.Control.Navigation(),new OpenLayers.Control.PanZoom(),new OpenLayers.Control.ArgParser(),new OpenLayers.Control.Attribution()]
}else{this.controls=[]}}for(var f=0,g=this.controls.length;f<g;f++){this.addControlToMap(this.controls[f])}this.popups=[];this.unloadDestroy=OpenLayers.Function.bind(this.destroy,this);OpenLayers.Event.observe(window,"unload",this.unloadDestroy);if(j&&j.layers){delete this.center;this.addLayers(j.layers);if(j.center){this.setCenter(j.center,j.zoom)}}},render:function(a){this.div=OpenLayers.Util.getElement(a);OpenLayers.Element.addClass(this.div,"olMap");this.viewPortDiv.parentNode.removeChild(this.viewPortDiv);this.div.appendChild(this.viewPortDiv);this.updateSize()},unloadDestroy:null,updateSizeDestroy:null,destroy:function(){if(!this.unloadDestroy){return false}if(this.panTween){this.panTween.stop();this.panTween=null}OpenLayers.Event.stopObserving(window,"unload",this.unloadDestroy);this.unloadDestroy=null;if(this.updateSizeDestroy){OpenLayers.Event.stopObserving(window,"resize",this.updateSizeDestroy)}else{this.events.unregister("resize",this,this.updateSize)}this.paddingForPopups=null;if(this.controls!=null){for(var a=this.controls.length-1;a>=0;--a){this.controls[a].destroy()}this.controls=null}if(this.layers!=null){for(var a=this.layers.length-1;a>=0;--a){this.layers[a].destroy(false)}this.layers=null}if(this.viewPortDiv){this.div.removeChild(this.viewPortDiv)}this.viewPortDiv=null;if(this.eventListeners){this.events.un(this.eventListeners);this.eventListeners=null}this.events.destroy();this.events=null},setOptions:function(a){var b=this.minPx&&a.restrictedExtent!=this.restrictedExtent;OpenLayers.Util.extend(this,a);b&&this.moveTo(this.getCachedCenter(),this.zoom,{forceZoomChange:true})},getTileSize:function(){return this.tileSize},getBy:function(e,c,a){var d=(typeof a.test=="function");var b=OpenLayers.Array.filter(this[e],function(f){return f[c]==a||(d&&a.test(f[c]))});return b},getLayersBy:function(b,a){return this.getBy("layers",b,a)},getLayersByName:function(a){return this.getLayersBy("name",a)},getLayersByClass:function(a){return this.getLayersBy("CLASS_NAME",a)},getControlsBy:function(b,a){return this.getBy("controls",b,a)},getControlsByClass:function(a){return this.getControlsBy("CLASS_NAME",a)},getLayer:function(e){var b=null;for(var d=0,a=this.layers.length;d<a;d++){var c=this.layers[d];if(c.id==e){b=c;break}}return b},setLayerZIndex:function(b,a){b.setZIndex(this.Z_INDEX_BASE[b.isBaseLayer?"BaseLayer":"Overlay"]+a*5)},resetLayersZIndex:function(){for(var c=0,a=this.layers.length;c<a;c++){var b=this.layers[c];this.setLayerZIndex(b,c)}},addLayer:function(c){for(var b=0,a=this.layers.length;b<a;b++){if(this.layers[b]==c){var d=OpenLayers.i18n("layerAlreadyAdded",{layerName:c.name});OpenLayers.Console.warn(d);return false}}if(this.events.triggerEvent("preaddlayer",{layer:c})===false){return}if(this.allOverlays){c.isBaseLayer=false}c.div.className="olLayerDiv";c.div.style.overflow="";this.setLayerZIndex(c,this.layers.length);if(c.isFixed){this.viewPortDiv.appendChild(c.div)}else{this.layerContainerDiv.appendChild(c.div)}this.layers.push(c);c.setMap(this);if(c.isBaseLayer||(this.allOverlays&&!this.baseLayer)){if(this.baseLayer==null){this.setBaseLayer(c)}else{c.setVisibility(false)}}else{c.redraw()}this.events.triggerEvent("addlayer",{layer:c});c.events.triggerEvent("added",{map:this,layer:c});c.afterAdd()},addLayers:function(c){for(var b=0,a=c.length;b<a;b++){this.addLayer(c[b])}},removeLayer:function(c,e){if(this.events.triggerEvent("preremovelayer",{layer:c})===false){return}if(e==null){e=true}if(c.isFixed){this.viewPortDiv.removeChild(c.div)}else{this.layerContainerDiv.removeChild(c.div)}OpenLayers.Util.removeItem(this.layers,c);c.removeMap(this);c.map=null;if(this.baseLayer==c){this.baseLayer=null;if(e){for(var b=0,a=this.layers.length;b<a;b++){var d=this.layers[b];if(d.isBaseLayer||this.allOverlays){this.setBaseLayer(d);break}}}}this.resetLayersZIndex();this.events.triggerEvent("removelayer",{layer:c});c.events.triggerEvent("removed",{map:this,layer:c})},getNumLayers:function(){return this.layers.length},getLayerIndex:function(a){return OpenLayers.Util.indexOf(this.layers,a)},setLayerIndex:function(d,b){var e=this.getLayerIndex(d);
if(b<0){b=0}else{if(b>this.layers.length){b=this.layers.length}}if(e!=b){this.layers.splice(e,1);this.layers.splice(b,0,d);for(var c=0,a=this.layers.length;c<a;c++){this.setLayerZIndex(this.layers[c],c)}this.events.triggerEvent("changelayer",{layer:d,property:"order"});if(this.allOverlays){if(b===0){this.setBaseLayer(d)}else{if(this.baseLayer!==this.layers[0]){this.setBaseLayer(this.layers[0])}}}}},raiseLayer:function(b,c){var a=this.getLayerIndex(b)+c;this.setLayerIndex(b,a)},setBaseLayer:function(c){if(c!=this.baseLayer){if(OpenLayers.Util.indexOf(this.layers,c)!=-1){var a=this.getCachedCenter();var d=OpenLayers.Util.getResolutionFromScale(this.getScale(),c.units);if(this.baseLayer!=null&&!this.allOverlays){this.baseLayer.setVisibility(false)}this.baseLayer=c;this.viewRequestID++;if(!this.allOverlays||this.baseLayer.visibility){this.baseLayer.setVisibility(true)}if(a!=null){var b=this.getZoomForResolution(d||this.resolution,true);this.setCenter(a,b,false,true)}this.events.triggerEvent("changebaselayer",{layer:this.baseLayer})}}},addControl:function(b,a){this.controls.push(b);this.addControlToMap(b,a)},addControls:function(b,g){var e=(arguments.length===1)?[]:g;for(var d=0,a=b.length;d<a;d++){var f=b[d];var c=(e[d])?e[d]:null;this.addControl(f,c)}},addControlToMap:function(b,a){b.outsideViewport=(b.div!=null);if(this.displayProjection&&!b.displayProjection){b.displayProjection=this.displayProjection}b.setMap(this);var c=b.draw(a);if(c){if(!b.outsideViewport){c.style.zIndex=this.Z_INDEX_BASE.Control+this.controls.length;this.viewPortDiv.appendChild(c)}}if(b.autoActivate){b.activate()}},getControl:function(e){var b=null;for(var c=0,a=this.controls.length;c<a;c++){var d=this.controls[c];if(d.id==e){b=d;break}}return b},removeControl:function(a){if((a)&&(a==this.getControl(a.id))){if(a.div&&(a.div.parentNode==this.viewPortDiv)){this.viewPortDiv.removeChild(a.div)}OpenLayers.Util.removeItem(this.controls,a)}},addPopup:function(a,d){if(d){for(var b=this.popups.length-1;b>=0;--b){this.removePopup(this.popups[b])}}a.map=this;this.popups.push(a);var c=a.draw();if(c){c.style.zIndex=this.Z_INDEX_BASE.Popup+this.popups.length;this.layerContainerDiv.appendChild(c)}},removePopup:function(a){OpenLayers.Util.removeItem(this.popups,a);if(a.div){try{this.layerContainerDiv.removeChild(a.div)}catch(b){}}a.map=null},getSize:function(){var a=null;if(this.size!=null){a=this.size.clone()}return a},updateSize:function(){var c=this.getCurrentSize();if(c&&!isNaN(c.h)&&!isNaN(c.w)){this.events.clearMouseCache();var f=this.getSize();if(f==null){this.size=f=c}if(!c.equals(f)){this.size=c;for(var d=0,b=this.layers.length;d<b;d++){this.layers[d].onMapResize()}var a=this.getCachedCenter();if(this.baseLayer!=null&&a!=null){var e=this.getZoom();this.zoom=null;this.setCenter(a,e)}}}},getCurrentSize:function(){var a=new OpenLayers.Size(this.div.clientWidth,this.div.clientHeight);if(a.w==0&&a.h==0||isNaN(a.w)&&isNaN(a.h)){a.w=this.div.offsetWidth;a.h=this.div.offsetHeight}if(a.w==0&&a.h==0||isNaN(a.w)&&isNaN(a.h)){a.w=parseInt(this.div.style.width);a.h=parseInt(this.div.style.height)}return a},calculateBounds:function(a,b){var e=null;if(a==null){a=this.getCachedCenter()}if(b==null){b=this.getResolution()}if((a!=null)&&(b!=null)){var d=this.getSize();var f=d.w*b;var c=d.h*b;e=new OpenLayers.Bounds(a.lon-f/2,a.lat-c/2,a.lon+f/2,a.lat+c/2)}return e},getCenter:function(){var a=null;var b=this.getCachedCenter();if(b){a=b.clone()}return a},getCachedCenter:function(){if(!this.center&&this.size){this.center=this.getLonLatFromViewPortPx(new OpenLayers.Pixel(this.size.w/2,this.size.h/2))}return this.center},getZoom:function(){return this.zoom},pan:function(d,c,e){e=OpenLayers.Util.applyDefaults(e,{animate:true,dragging:false});if(e.dragging){if(d!=0||c!=0){this.moveByPx(d,c)}}else{var f=this.getViewPortPxFromLonLat(this.getCachedCenter());var b=f.add(d,c);if(this.dragging||!b.equals(f)){var a=this.getLonLatFromViewPortPx(b);if(e.animate){this.panTo(a)}else{this.moveTo(a);this.dragging=false;this.events.triggerEvent("moveend")}}}},panTo:function(d){if(this.panMethod&&this.getExtent().scale(this.panRatio).containsLonLat(d)){if(!this.panTween){this.panTween=new OpenLayers.Tween(this.panMethod)
}var a=this.getCachedCenter();if(d.equals(a)){return}var f=this.getPixelFromLonLat(a);var e=this.getPixelFromLonLat(d);var b={x:e.x-f.x,y:e.y-f.y};var c={x:0,y:0};this.panTween.start({x:0,y:0},b,this.panDuration,{callbacks:{eachStep:OpenLayers.Function.bind(function(h){var g=h.x-c.x,i=h.y-c.y;this.moveByPx(g,i);c.x=Math.round(h.x);c.y=Math.round(h.y)},this),done:OpenLayers.Function.bind(function(g){this.moveTo(d);this.dragging=false;this.events.triggerEvent("moveend")},this)}})}else{this.setCenter(d)}},setCenter:function(c,a,b,d){this.panTween&&this.panTween.stop();this.moveTo(c,a,{dragging:b,forceZoomChange:d})},moveByPx:function(o,n){var h=this.size.w/2;var c=this.size.h/2;var l=h+o;var k=c+n;var d=this.baseLayer.wrapDateLine;var m=0;var j=0;if(this.restrictedExtent){m=h;j=c;d=false}o=d||l<=this.maxPx.x-m&&l>=this.minPx.x+m?Math.round(o):0;n=k<=this.maxPx.y-j&&k>=this.minPx.y+j?Math.round(n):0;var b=this.minPx.x,a=this.maxPx.x;if(o||n){if(!this.dragging){this.dragging=true;this.events.triggerEvent("movestart")}this.center=null;if(o){this.layerContainerDiv.style.left=parseInt(this.layerContainerDiv.style.left)-o+"px";this.minPx.x-=o;this.maxPx.x-=o;if(d){if(this.maxPx.x>a){this.maxPx.x-=(a-b)}if(this.minPx.x<b){this.minPx.x+=(a-b)}}}if(n){this.layerContainerDiv.style.top=parseInt(this.layerContainerDiv.style.top)-n+"px";this.minPx.y-=n;this.maxPx.y-=n}var f,e,g;for(e=0,g=this.layers.length;e<g;++e){f=this.layers[e];if(f.visibility&&(f===this.baseLayer||f.inRange)){f.moveByPx(o,n);f.events.triggerEvent("move")}}this.events.triggerEvent("move")}},moveTo:function(j,b,e){if(!e){e={}}if(b!=null){b=parseFloat(b);if(!this.fractionalZoom){b=Math.round(b)}}var q=e.dragging||this.dragging;var l=e.forceZoomChange;if(!this.getCachedCenter()&&!this.isValidLonLat(j)){j=this.maxExtent.getCenterLonLat();this.center=j.clone()}if(this.restrictedExtent!=null){if(j==null){j=this.center}if(b==null){b=this.getZoom()}var r=this.getResolutionForZoom(b);var n=this.calculateBounds(j,r);if(!this.restrictedExtent.containsBounds(n)){var x=this.restrictedExtent.getCenterLonLat();if(n.getWidth()>this.restrictedExtent.getWidth()){j=new OpenLayers.LonLat(x.lon,j.lat)}else{if(n.left<this.restrictedExtent.left){j=j.add(this.restrictedExtent.left-n.left,0)}else{if(n.right>this.restrictedExtent.right){j=j.add(this.restrictedExtent.right-n.right,0)}}}if(n.getHeight()>this.restrictedExtent.getHeight()){j=new OpenLayers.LonLat(j.lon,x.lat)}else{if(n.bottom<this.restrictedExtent.bottom){j=j.add(0,this.restrictedExtent.bottom-n.bottom)}else{if(n.top>this.restrictedExtent.top){j=j.add(0,this.restrictedExtent.top-n.top)}}}}}var m=l||((this.isValidZoomLevel(b))&&(b!=this.getZoom()));var h=(this.isValidLonLat(j))&&(!j.equals(this.center));if(m||h||q){q||this.events.triggerEvent("movestart");if(h){if(!m&&this.center){this.centerLayerContainer(j)}this.center=j.clone()}var y=m?this.getResolutionForZoom(b):this.getResolution();if(m||this.layerContainerOrigin==null){this.layerContainerOrigin=this.getCachedCenter();this.layerContainerDiv.style.left="0px";this.layerContainerDiv.style.top="0px";var p=this.getMaxExtent({restricted:true});var d=p.getCenterLonLat();var k=this.center.lon-d.lon;var c=d.lat-this.center.lat;var v=Math.round(p.getWidth()/y);var u=Math.round(p.getHeight()/y);var f=(this.size.w-v)/2-k/y;var o=(this.size.h-u)/2-c/y;this.minPx=new OpenLayers.Pixel(f,o);this.maxPx=new OpenLayers.Pixel(f+v,o+u)}if(m){this.zoom=b;this.resolution=y;this.viewRequestID++}var g=this.getExtent();if(this.baseLayer.visibility){this.baseLayer.moveTo(g,m,e.dragging);e.dragging||this.baseLayer.events.triggerEvent("moveend",{zoomChanged:m})}g=this.baseLayer.getExtent();for(var s=this.layers.length-1;s>=0;--s){var w=this.layers[s];if(w!==this.baseLayer&&!w.isBaseLayer){var a=w.calculateInRange();if(w.inRange!=a){w.inRange=a;if(!a){w.display(false)}this.events.triggerEvent("changelayer",{layer:w,property:"visibility"})}if(a&&w.visibility){w.moveTo(g,m,e.dragging);e.dragging||w.events.triggerEvent("moveend",{zoomChanged:m})}}}this.events.triggerEvent("move");q||this.events.triggerEvent("moveend");
if(m){for(var s=0,t=this.popups.length;s<t;s++){this.popups[s].updatePosition()}this.events.triggerEvent("zoomend")}}},centerLayerContainer:function(c){var d=this.getViewPortPxFromLonLat(this.layerContainerOrigin);var g=this.getViewPortPxFromLonLat(c);if((d!=null)&&(g!=null)){var a=parseInt(this.layerContainerDiv.style.left);var b=parseInt(this.layerContainerDiv.style.top);var f=Math.round(d.x-g.x);var e=Math.round(d.y-g.y);this.layerContainerDiv.style.left=f+"px";this.layerContainerDiv.style.top=e+"px";var i=a-f;var h=b-e;this.minPx.x-=i;this.maxPx.x-=i;this.minPx.y-=h;this.maxPx.y-=h}},isValidZoomLevel:function(a){return((a!=null)&&(a>=0)&&(a<this.getNumZoomLevels()))},isValidLonLat:function(c){var b=false;if(c!=null){var a=this.getMaxExtent();b=a.containsLonLat(c)}return b},getProjection:function(){var a=this.getProjectionObject();return a?a.getCode():null},getProjectionObject:function(){var a=null;if(this.baseLayer!=null){a=this.baseLayer.projection}return a},getMaxResolution:function(){var a=null;if(this.baseLayer!=null){a=this.baseLayer.maxResolution}return a},getMaxExtent:function(b){var a=null;if(b&&b.restricted&&this.restrictedExtent){a=this.restrictedExtent}else{if(this.baseLayer!=null){a=this.baseLayer.maxExtent}}return a},getNumZoomLevels:function(){var a=null;if(this.baseLayer!=null){a=this.baseLayer.numZoomLevels}return a},getExtent:function(){var a=null;if(this.baseLayer!=null){a=this.baseLayer.getExtent()}return a},getResolution:function(){var a=null;if(this.baseLayer!=null){a=this.baseLayer.getResolution()}else{if(this.allOverlays===true&&this.layers.length>0){a=this.layers[0].getResolution()}}return a},getUnits:function(){var a=null;if(this.baseLayer!=null){a=this.baseLayer.units}return a},getScale:function(){var c=null;if(this.baseLayer!=null){var b=this.getResolution();var a=this.baseLayer.units;c=OpenLayers.Util.getScaleFromResolution(b,a)}return c},getZoomForExtent:function(c,b){var a=null;if(this.baseLayer!=null){a=this.baseLayer.getZoomForExtent(c,b)}return a},getResolutionForZoom:function(b){var a=null;if(this.baseLayer){a=this.baseLayer.getResolutionForZoom(b)}return a},getZoomForResolution:function(a,c){var b=null;if(this.baseLayer!=null){b=this.baseLayer.getZoomForResolution(a,c)}return b},zoomTo:function(a){if(this.isValidZoomLevel(a)){this.setCenter(null,a)}},zoomIn:function(){this.zoomTo(this.getZoom()+1)},zoomOut:function(){this.zoomTo(this.getZoom()-1)},zoomToExtent:function(d,c){var b=d.getCenterLonLat();if(this.baseLayer.wrapDateLine){var a=this.getMaxExtent();d=d.clone();while(d.right<d.left){d.right+=a.getWidth()}b=d.getCenterLonLat().wrapDateLine(a)}this.setCenter(b,this.getZoomForExtent(d,c))},zoomToMaxExtent:function(c){var b=(c)?c.restricted:true;var a=this.getMaxExtent({restricted:b});this.zoomToExtent(a)},zoomToScale:function(h,g){var d=OpenLayers.Util.getResolutionFromScale(h,this.baseLayer.units);var c=this.getSize();var f=c.w*d;var b=c.h*d;var a=this.getCachedCenter();var e=new OpenLayers.Bounds(a.lon-f/2,a.lat-b/2,a.lon+f/2,a.lat+b/2);this.zoomToExtent(e,g)},getLonLatFromViewPortPx:function(a){var b=null;if(this.baseLayer!=null){b=this.baseLayer.getLonLatFromViewPortPx(a)}return b},getViewPortPxFromLonLat:function(b){var a=null;if(this.baseLayer!=null){a=this.baseLayer.getViewPortPxFromLonLat(b)}return a},getLonLatFromPixel:function(a){return this.getLonLatFromViewPortPx(a)},getPixelFromLonLat:function(b){var a=this.getViewPortPxFromLonLat(b);a.x=Math.round(a.x);a.y=Math.round(a.y);return a},getGeodesicPixelSize:function(g){var d=g?this.getLonLatFromPixel(g):(this.getCachedCenter()||new OpenLayers.LonLat(0,0));var e=this.getResolution();var c=d.add(-e/2,0);var i=d.add(e/2,0);var b=d.add(0,-e/2);var f=d.add(0,e/2);var h=new OpenLayers.Projection("EPSG:4326");var a=this.getProjectionObject()||h;if(!a.equals(h)){c.transform(a,h);i.transform(a,h);b.transform(a,h);f.transform(a,h)}return new OpenLayers.Size(OpenLayers.Util.distVincenty(c,i),OpenLayers.Util.distVincenty(b,f))},getViewPortPxFromLayerPx:function(d){var c=null;if(d!=null){var b=parseInt(this.layerContainerDiv.style.left);
var a=parseInt(this.layerContainerDiv.style.top);c=d.add(b,a)}return c},getLayerPxFromViewPortPx:function(c){var d=null;if(c!=null){var b=-parseInt(this.layerContainerDiv.style.left);var a=-parseInt(this.layerContainerDiv.style.top);d=c.add(b,a);if(isNaN(d.x)||isNaN(d.y)){d=null}}return d},getLonLatFromLayerPx:function(a){a=this.getViewPortPxFromLayerPx(a);return this.getLonLatFromViewPortPx(a)},getLayerPxFromLonLat:function(b){var a=this.getPixelFromLonLat(b);return this.getLayerPxFromViewPortPx(a)},CLASS_NAME:"OpenLayers.Map"});OpenLayers.Map.TILE_WIDTH=256;OpenLayers.Map.TILE_HEIGHT=256;OpenLayers.Layer=OpenLayers.Class({id:null,name:null,div:null,opacity:null,alwaysInRange:null,EVENT_TYPES:["loadstart","loadend","loadcancel","visibilitychanged","move","moveend","added","removed"],RESOLUTION_PROPERTIES:["scales","resolutions","maxScale","minScale","maxResolution","minResolution","numZoomLevels","maxZoomLevel"],events:null,map:null,isBaseLayer:false,alpha:false,displayInLayerSwitcher:true,visibility:true,attribution:null,inRange:false,imageSize:null,imageOffset:null,options:null,eventListeners:null,gutter:0,projection:null,units:null,scales:null,resolutions:null,maxExtent:null,minExtent:null,maxResolution:null,minResolution:null,numZoomLevels:null,minScale:null,maxScale:null,displayOutsideMaxExtent:false,wrapDateLine:false,transitionEffect:null,SUPPORTED_TRANSITIONS:["resize"],metadata:{},initialize:function(b,a){this.addOptions(a);this.name=b;if(this.id==null){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_");this.div=OpenLayers.Util.createDiv(this.id);this.div.style.width="100%";this.div.style.height="100%";this.div.dir="ltr";this.events=new OpenLayers.Events(this,this.div,this.EVENT_TYPES);if(this.eventListeners instanceof Object){this.events.on(this.eventListeners)}}if(this.wrapDateLine){this.displayOutsideMaxExtent=true}},destroy:function(a){if(a==null){a=true}if(this.map!=null){this.map.removeLayer(this,a)}this.projection=null;this.map=null;this.name=null;this.div=null;this.options=null;if(this.events){if(this.eventListeners){this.events.un(this.eventListeners)}this.events.destroy()}this.eventListeners=null;this.events=null},clone:function(a){if(a==null){a=new OpenLayers.Layer(this.name,this.getOptions())}OpenLayers.Util.applyDefaults(a,this);a.map=null;return a},getOptions:function(){var a={};for(var b in this.options){a[b]=this[b]}return a},setName:function(a){if(a!=this.name){this.name=a;if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"name"})}}},addOptions:function(e,a){if(this.options==null){this.options={}}OpenLayers.Util.extend(this.options,e);OpenLayers.Util.extend(this,e);if(typeof this.projection=="string"){this.projection=new OpenLayers.Projection(this.projection)}if(this.projection&&this.projection.getUnits()){this.units=this.projection.getUnits()}if(this.map){var b=this.map.getResolution();var c=this.RESOLUTION_PROPERTIES.concat(["projection","units","minExtent","maxExtent"]);for(var d in e){if(e.hasOwnProperty(d)&&OpenLayers.Util.indexOf(c,d)>=0){this.initResolutions();if(a&&this.map.baseLayer===this){this.map.setCenter(this.map.getCenter(),this.map.getZoomForResolution(b),false,true);this.map.events.triggerEvent("changebaselayer",{layer:this})}break}}}},onMapResize:function(){},redraw:function(){var b=false;if(this.map){this.inRange=this.calculateInRange();var c=this.getExtent();if(c&&this.inRange&&this.visibility){var a=true;this.moveTo(c,a,false);this.events.triggerEvent("moveend",{zoomChanged:a});b=true}}return b},moveTo:function(b,a,c){var d=this.visibility;if(!this.isBaseLayer){d=d&&this.inRange}this.display(d)},moveByPx:function(b,a){},setMap:function(b){if(this.map==null){this.map=b;this.maxExtent=this.maxExtent||this.map.maxExtent;this.minExtent=this.minExtent||this.map.minExtent;this.projection=this.projection||this.map.projection;if(typeof this.projection=="string"){this.projection=new OpenLayers.Projection(this.projection)}this.units=this.projection.getUnits()||this.units||this.map.units;this.initResolutions();if(!this.isBaseLayer){this.inRange=this.calculateInRange();
var a=((this.visibility)&&(this.inRange));this.div.style.display=a?"":"none"}this.setTileSize()}},afterAdd:function(){},removeMap:function(a){},getImageSize:function(a){return(this.imageSize||this.tileSize)},setTileSize:function(a){var b=(a)?a:((this.tileSize)?this.tileSize:this.map.getTileSize());this.tileSize=b;if(this.gutter){this.imageOffset=new OpenLayers.Pixel(-this.gutter,-this.gutter);this.imageSize=new OpenLayers.Size(b.w+(2*this.gutter),b.h+(2*this.gutter))}},getVisibility:function(){return this.visibility},setVisibility:function(a){if(a!=this.visibility){this.visibility=a;this.display(a);this.redraw();if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"visibility"})}this.events.triggerEvent("visibilitychanged")}},display:function(a){if(a!=(this.div.style.display!="none")){this.div.style.display=(a&&this.calculateInRange())?"block":"none"}},calculateInRange:function(){var b=false;if(this.alwaysInRange){b=true}else{if(this.map){var a=this.map.getResolution();b=((a>=this.minResolution)&&(a<=this.maxResolution))}}return b},setIsBaseLayer:function(a){if(a!=this.isBaseLayer){this.isBaseLayer=a;if(this.map!=null){this.map.events.triggerEvent("changebaselayer",{layer:this})}}},initResolutions:function(){var e,a,h;var f={},d=true;for(e=0,a=this.RESOLUTION_PROPERTIES.length;e<a;e++){h=this.RESOLUTION_PROPERTIES[e];f[h]=this.options[h];if(d&&this.options[h]){d=false}}if(this.alwaysInRange==null){this.alwaysInRange=d}if(f.resolutions==null){f.resolutions=this.resolutionsFromScales(f.scales)}if(f.resolutions==null){f.resolutions=this.calculateResolutions(f)}if(f.resolutions==null){for(e=0,a=this.RESOLUTION_PROPERTIES.length;e<a;e++){h=this.RESOLUTION_PROPERTIES[e];f[h]=this.options[h]!=null?this.options[h]:this.map[h]}if(f.resolutions==null){f.resolutions=this.resolutionsFromScales(f.scales)}if(f.resolutions==null){f.resolutions=this.calculateResolutions(f)}}var c;if(this.options.maxResolution&&this.options.maxResolution!=="auto"){c=this.options.maxResolution}if(this.options.minScale){c=OpenLayers.Util.getResolutionFromScale(this.options.minScale,this.units)}var b;if(this.options.minResolution&&this.options.minResolution!=="auto"){b=this.options.minResolution}if(this.options.maxScale){b=OpenLayers.Util.getResolutionFromScale(this.options.maxScale,this.units)}if(f.resolutions){f.resolutions.sort(function(j,i){return(i-j)});if(!c){c=f.resolutions[0]}if(!b){var g=f.resolutions.length-1;b=f.resolutions[g]}}this.resolutions=f.resolutions;if(this.resolutions){a=this.resolutions.length;this.scales=new Array(a);for(e=0;e<a;e++){this.scales[e]=OpenLayers.Util.getScaleFromResolution(this.resolutions[e],this.units)}this.numZoomLevels=a}this.minResolution=b;if(b){this.maxScale=OpenLayers.Util.getScaleFromResolution(b,this.units)}this.maxResolution=c;if(c){this.minScale=OpenLayers.Util.getScaleFromResolution(c,this.units)}},resolutionsFromScales:function(d){if(d==null){return}var b,c,a;a=d.length;b=new Array(a);for(c=0;c<a;c++){b[c]=OpenLayers.Util.getResolutionFromScale(d[c],this.units)}return b},calculateResolutions:function(k){var l,j,g;var m=k.maxResolution;if(k.minScale!=null){m=OpenLayers.Util.getResolutionFromScale(k.minScale,this.units)}else{if(m=="auto"&&this.maxExtent!=null){l=this.map.getSize();j=this.maxExtent.getWidth()/l.w;g=this.maxExtent.getHeight()/l.h;m=Math.max(j,g)}}var f=k.minResolution;if(k.maxScale!=null){f=OpenLayers.Util.getResolutionFromScale(k.maxScale,this.units)}else{if(k.minResolution=="auto"&&this.minExtent!=null){l=this.map.getSize();j=this.minExtent.getWidth()/l.w;g=this.minExtent.getHeight()/l.h;f=Math.max(j,g)}}var a=k.maxZoomLevel;var b=k.numZoomLevels;if(typeof f==="number"&&typeof m==="number"&&b===undefined){var h=m/f;b=Math.floor(Math.log(h)/Math.log(2))+1}else{if(b===undefined&&a!=null){b=a+1}}if(typeof b!=="number"||b<=0||(typeof m!=="number"&&typeof f!=="number")){return}var d=new Array(b);var c=2;if(typeof f=="number"&&typeof m=="number"){c=Math.pow((m/f),(1/(b-1)))}var e;if(typeof m==="number"){for(e=0;e<b;e++){d[e]=m/Math.pow(c,e)}}else{for(e=0;e<b;e++){d[b-1-e]=f*Math.pow(c,e)
}}return d},getResolution:function(){var a=this.map.getZoom();return this.getResolutionForZoom(a)},getExtent:function(){return this.map.calculateBounds()},getZoomForExtent:function(b,c){var d=this.map.getSize();var a=Math.max(b.getWidth()/d.w,b.getHeight()/d.h);return this.getZoomForResolution(a,c)},getDataExtent:function(){},getResolutionForZoom:function(c){c=Math.max(0,Math.min(c,this.resolutions.length-1));var b;if(this.map.fractionalZoom){var a=Math.floor(c);var d=Math.ceil(c);b=this.resolutions[a]-((c-a)*(this.resolutions[a]-this.resolutions[d]))}else{b=this.resolutions[Math.round(c)]}return b},getZoomForResolution:function(e,b){var n,f,g;if(this.map.fractionalZoom){var k=0;var c=this.resolutions.length-1;var d=this.resolutions[k];var a=this.resolutions[c];var j;for(f=0,g=this.resolutions.length;f<g;++f){j=this.resolutions[f];if(j>=e){d=j;k=f}if(j<=e){a=j;c=f;break}}var h=d-a;if(h>0){n=k+((d-e)/h)}else{n=k}}else{var l;var m=Number.POSITIVE_INFINITY;for(f=0,g=this.resolutions.length;f<g;f++){if(b){l=Math.abs(this.resolutions[f]-e);if(l>m){break}m=l}else{if(this.resolutions[f]<e){break}}}n=Math.max(0,f-1)}return n},getLonLatFromViewPortPx:function(b){var d=null;var f=this.map;if(b!=null&&f.minPx){var c=f.getResolution();var a=f.getMaxExtent({restricted:true});var g=(b.x-f.minPx.x)*c+a.left;var e=(f.minPx.y-b.y)*c+a.top;d=new OpenLayers.LonLat(g,e);if(this.wrapDateLine){d=d.wrapDateLine(this.maxExtent)}}return d},getViewPortPxFromLonLat:function(d){var b=null;if(d!=null){var a=this.map.getResolution();var c=this.map.getExtent();b=new OpenLayers.Pixel((1/a*(d.lon-c.left)),(1/a*(c.top-d.lat)))}return b},setOpacity:function(b){if(b!=this.opacity){this.opacity=b;for(var d=0,a=this.div.childNodes.length;d<a;++d){var c=this.div.childNodes[d].firstChild;OpenLayers.Util.modifyDOMElement(c,null,null,null,null,null,null,b)}if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"opacity"})}}},getZIndex:function(){return this.div.style.zIndex},setZIndex:function(a){this.div.style.zIndex=a},adjustBounds:function(b){if(this.gutter){var a=this.gutter*this.map.getResolution();b=new OpenLayers.Bounds(b.left-a,b.bottom-a,b.right+a,b.top+a)}if(this.wrapDateLine){var c={rightTolerance:this.getResolution(),leftTolerance:this.getResolution()};b=b.wrapDateLine(this.maxExtent,c)}return b},CLASS_NAME:"OpenLayers.Layer"});OpenLayers.Layer.SphericalMercator={getExtent:function(){var a=null;if(this.sphericalMercator){a=this.map.calculateBounds()}else{a=OpenLayers.Layer.FixedZoomLevels.prototype.getExtent.apply(this)}return a},getLonLatFromViewPortPx:function(a){return OpenLayers.Layer.prototype.getLonLatFromViewPortPx.apply(this,arguments)},getViewPortPxFromLonLat:function(a){return OpenLayers.Layer.prototype.getViewPortPxFromLonLat.apply(this,arguments)},initMercatorParameters:function(){this.RESOLUTIONS=[];var a=156543.03390625;for(var b=0;b<=this.MAX_ZOOM_LEVEL;++b){this.RESOLUTIONS[b]=a/Math.pow(2,b)}this.units="m";this.projection=this.projection||"EPSG:900913"},forwardMercator:function(c,b){var a=c*20037508.34/180;var d=Math.log(Math.tan((90+b)*Math.PI/360))/(Math.PI/180);d=d*20037508.34/180;return new OpenLayers.LonLat(a,d)},inverseMercator:function(a,d){var c=(a/20037508.34)*180;var b=(d/20037508.34)*180;b=180/Math.PI*(2*Math.atan(Math.exp(b*Math.PI/180))-Math.PI/2);return new OpenLayers.LonLat(c,b)},projectForward:function(a){var b=OpenLayers.Layer.SphericalMercator.forwardMercator(a.x,a.y);a.x=b.lon;a.y=b.lat;return a},projectInverse:function(a){var b=OpenLayers.Layer.SphericalMercator.inverseMercator(a.x,a.y);a.x=b.lon;a.y=b.lat;return a}};(function(){var a=["EPSG:900913","EPSG:3857","EPSG:102113","EPSG:102100"];var k=OpenLayers.Projection.addTransform;var e=OpenLayers.Layer.SphericalMercator;var h=OpenLayers.Projection.nullTransform;var d,f,b,g,c;for(d=0,f=a.length;d<f;++d){b=a[d];k("EPSG:4326",b,e.projectForward);k(b,"EPSG:4326",e.projectInverse);for(c=d+1;c<f;++c){g=a[c];k(b,g,h);k(g,b,h)}}})();OpenLayers.Layer.EventPane=OpenLayers.Class(OpenLayers.Layer,{smoothDragPan:true,isBaseLayer:true,isFixed:true,pane:null,mapObject:null,initialize:function(b,a){OpenLayers.Layer.prototype.initialize.apply(this,arguments);
if(this.pane==null){this.pane=OpenLayers.Util.createDiv(this.div.id+"_EventPane")}},destroy:function(){this.mapObject=null;this.pane=null;OpenLayers.Layer.prototype.destroy.apply(this,arguments)},setMap:function(a){OpenLayers.Layer.prototype.setMap.apply(this,arguments);this.pane.style.zIndex=parseInt(this.div.style.zIndex)+1;this.pane.style.display=this.div.style.display;this.pane.style.width="100%";this.pane.style.height="100%";if(OpenLayers.BROWSER_NAME=="msie"){this.pane.style.background="url("+OpenLayers.Util.getImagesLocation()+"blank.gif)"}if(this.isFixed){this.map.eventsDiv.appendChild(this.pane)}else{this.map.layerContainerDiv.appendChild(this.pane)}this.loadMapObject();if(this.mapObject==null){this.loadWarningMessage()}},removeMap:function(a){if(this.pane&&this.pane.parentNode){this.pane.parentNode.removeChild(this.pane)}OpenLayers.Layer.prototype.removeMap.apply(this,arguments)},loadWarningMessage:function(){this.div.style.backgroundColor="darkblue";var g=this.map.getSize();var a=Math.min(g.w,300);var e=Math.min(g.h,200);var b=new OpenLayers.Size(a,e);var d=new OpenLayers.Pixel(g.w/2,g.h/2);var c=d.add(-b.w/2,-b.h/2);var f=OpenLayers.Util.createDiv(this.name+"_warning",c,b,null,null,null,"auto");f.style.padding="7px";f.style.backgroundColor="yellow";f.innerHTML=this.getWarningHTML();this.div.appendChild(f)},getWarningHTML:function(){return""},display:function(a){OpenLayers.Layer.prototype.display.apply(this,arguments);this.pane.style.display=this.div.style.display},setZIndex:function(a){OpenLayers.Layer.prototype.setZIndex.apply(this,arguments);this.pane.style.zIndex=parseInt(this.div.style.zIndex)+1},moveByPx:function(b,a){OpenLayers.Layer.prototype.moveByPx.apply(this,arguments);if(this.dragPanMapObject){this.dragPanMapObject(b,-a)}else{this.moveTo(this.map.getCachedCenter())}},moveTo:function(c,d,j){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);if(this.mapObject!=null){var e=this.map.getCenter();var g=this.map.getZoom();if(e!=null){var f=this.getMapObjectCenter();var b=this.getOLLonLatFromMapObjectLonLat(f);var h=this.getMapObjectZoom();var m=this.getOLZoomFromMapObjectZoom(h);if(!(e.equals(b))||!(g==m)){if(!d&&b&&this.dragPanMapObject&&this.smoothDragPan){var i=this.map.getViewPortPxFromLonLat(b);var k=this.map.getViewPortPxFromLonLat(e);this.dragPanMapObject(k.x-i.x,i.y-k.y)}else{var a=this.getMapObjectLonLatFromOLLonLat(e);var l=this.getMapObjectZoomFromOLZoom(g);this.setMapObjectCenter(a,l,j)}}}}},getLonLatFromViewPortPx:function(a){var b=null;if((this.mapObject!=null)&&(this.getMapObjectCenter()!=null)){var d=this.getMapObjectPixelFromOLPixel(a);var c=this.getMapObjectLonLatFromMapObjectPixel(d);b=this.getOLLonLatFromMapObjectLonLat(c)}return b},getViewPortPxFromLonLat:function(b){var a=null;if((this.mapObject!=null)&&(this.getMapObjectCenter()!=null)){var d=this.getMapObjectLonLatFromOLLonLat(b);var c=this.getMapObjectPixelFromMapObjectLonLat(d);a=this.getOLPixelFromMapObjectPixel(c)}return a},getOLLonLatFromMapObjectLonLat:function(d){var a=null;if(d!=null){var c=this.getLongitudeFromMapObjectLonLat(d);var b=this.getLatitudeFromMapObjectLonLat(d);a=new OpenLayers.LonLat(c,b)}return a},getMapObjectLonLatFromOLLonLat:function(a){var b=null;if(a!=null){b=this.getMapObjectLonLatFromLonLat(a.lon,a.lat)}return b},getOLPixelFromMapObjectPixel:function(d){var b=null;if(d!=null){var a=this.getXFromMapObjectPixel(d);var c=this.getYFromMapObjectPixel(d);b=new OpenLayers.Pixel(a,c)}return b},getMapObjectPixelFromOLPixel:function(a){var b=null;if(a!=null){b=this.getMapObjectPixelFromXY(a.x,a.y)}return b},CLASS_NAME:"OpenLayers.Layer.EventPane"});OpenLayers.Layer.FixedZoomLevels=OpenLayers.Class({initialize:function(){},initResolutions:function(){var c=new Array("minZoomLevel","maxZoomLevel","numZoomLevels");for(var b=0,a=c.length;b<a;b++){var f=c[b];this[f]=(this.options[f]!=null)?this.options[f]:this.map[f]}if((this.minZoomLevel==null)||(this.minZoomLevel<this.MIN_ZOOM_LEVEL)){this.minZoomLevel=this.MIN_ZOOM_LEVEL}var g;var e=this.MAX_ZOOM_LEVEL-this.minZoomLevel+1;if(((this.options.numZoomLevels==null)&&(this.options.maxZoomLevel!=null))||((this.numZoomLevels==null)&&(this.maxZoomLevel!=null))){g=this.maxZoomLevel-this.minZoomLevel+1
}else{g=this.numZoomLevels}if(g!=null){this.numZoomLevels=Math.min(g,e)}else{this.numZoomLevels=e}this.maxZoomLevel=this.minZoomLevel+this.numZoomLevels-1;if(this.RESOLUTIONS!=null){var d=0;this.resolutions=[];for(var b=this.minZoomLevel;b<=this.maxZoomLevel;b++){this.resolutions[d++]=this.RESOLUTIONS[b]}this.maxResolution=this.resolutions[0];this.minResolution=this.resolutions[this.resolutions.length-1]}},getResolution:function(){if(this.resolutions!=null){return OpenLayers.Layer.prototype.getResolution.apply(this,arguments)}else{var a=null;var c=this.map.getSize();var b=this.getExtent();if((c!=null)&&(b!=null)){a=Math.max(b.getWidth()/c.w,b.getHeight()/c.h)}return a}},getExtent:function(){var c=null;var b=this.map.getSize();var e=new OpenLayers.Pixel(0,0);var f=this.getLonLatFromViewPortPx(e);var a=new OpenLayers.Pixel(b.w,b.h);var d=this.getLonLatFromViewPortPx(a);if((f!=null)&&(d!=null)){c=new OpenLayers.Bounds(f.lon,d.lat,d.lon,f.lat)}return c},getZoomForResolution:function(a){if(this.resolutions!=null){return OpenLayers.Layer.prototype.getZoomForResolution.apply(this,arguments)}else{var b=OpenLayers.Layer.prototype.getExtent.apply(this,[]);return this.getZoomForExtent(b)}},getOLZoomFromMapObjectZoom:function(a){var b=null;if(a!=null){b=a-this.minZoomLevel;if(this.map.baseLayer!==this){b=this.map.baseLayer.getZoomForResolution(this.getResolutionForZoom(b))}}return b},getMapObjectZoomFromOLZoom:function(a){var b=null;if(a!=null){b=a+this.minZoomLevel;if(this.map.baseLayer!==this){b=this.getZoomForResolution(this.map.baseLayer.getResolutionForZoom(b))}}return b},CLASS_NAME:"OpenLayers.Layer.FixedZoomLevels"});OpenLayers.Layer.Google=OpenLayers.Class(OpenLayers.Layer.EventPane,OpenLayers.Layer.FixedZoomLevels,{MIN_ZOOM_LEVEL:0,MAX_ZOOM_LEVEL:21,RESOLUTIONS:[1.40625,0.703125,0.3515625,0.17578125,0.087890625,0.0439453125,0.02197265625,0.010986328125,0.0054931640625,0.00274658203125,0.001373291015625,0.0006866455078125,0.00034332275390625,0.000171661376953125,0.0000858306884765625,0.00004291534423828125,0.00002145767211914062,0.00001072883605957031,0.00000536441802978515,0.00000268220901489257,0.000001341104507446289,6.705522537231445e-7],type:null,wrapDateLine:true,sphericalMercator:false,version:null,initialize:function(c,b){b=b||{};if(!b.version){b.version=typeof GMap2==="function"?"2":"3"}var a=OpenLayers.Layer.Google["v"+b.version.replace(/\./g,"_")];if(a){OpenLayers.Util.applyDefaults(b,a)}else{throw"Unsupported Google Maps API version: "+b.version}OpenLayers.Util.applyDefaults(b,a.DEFAULTS);if(b.maxExtent){b.maxExtent=b.maxExtent.clone()}OpenLayers.Layer.EventPane.prototype.initialize.apply(this,[c,b]);OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,[c,b]);if(this.sphericalMercator){OpenLayers.Util.extend(this,OpenLayers.Layer.SphericalMercator);this.initMercatorParameters()}},clone:function(){return new OpenLayers.Layer.Google(this.name,this.getOptions())},setVisibility:function(b){var a=this.opacity==null?1:this.opacity;OpenLayers.Layer.EventPane.prototype.setVisibility.apply(this,arguments);this.setOpacity(a)},display:function(a){if(!this._dragging){this.setGMapVisibility(a)}OpenLayers.Layer.EventPane.prototype.display.apply(this,arguments)},moveTo:function(b,a,c){this._dragging=c;OpenLayers.Layer.EventPane.prototype.moveTo.apply(this,arguments);delete this._dragging},setOpacity:function(b){if(b!==this.opacity){if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"opacity"})}this.opacity=b}if(this.getVisibility()){var a=this.getMapContainer();OpenLayers.Util.modifyDOMElement(a,null,null,null,null,null,null,b)}},destroy:function(){if(this.map){this.setGMapVisibility(false);var a=OpenLayers.Layer.Google.cache[this.map.id];if(a&&a.count<=1){this.removeGMapElements()}}OpenLayers.Layer.EventPane.prototype.destroy.apply(this,arguments)},removeGMapElements:function(){var d=OpenLayers.Layer.Google.cache[this.map.id];if(d){var b=this.mapObject&&this.getMapContainer();if(b&&b.parentNode){b.parentNode.removeChild(b)}var c=d.termsOfUse;if(c&&c.parentNode){c.parentNode.removeChild(c)
}var a=d.poweredBy;if(a&&a.parentNode){a.parentNode.removeChild(a)}}},removeMap:function(b){if(this.visibility&&this.mapObject){this.setGMapVisibility(false)}var a=OpenLayers.Layer.Google.cache[b.id];if(a){if(a.count<=1){this.removeGMapElements();delete OpenLayers.Layer.Google.cache[b.id]}else{--a.count}}delete this.termsOfUse;delete this.poweredBy;delete this.mapObject;delete this.dragObject;OpenLayers.Layer.EventPane.prototype.removeMap.apply(this,arguments)},getOLBoundsFromMapObjectBounds:function(b){var c=null;if(b!=null){var a=b.getSouthWest();var d=b.getNorthEast();if(this.sphericalMercator){a=this.forwardMercator(a.lng(),a.lat());d=this.forwardMercator(d.lng(),d.lat())}else{a=new OpenLayers.LonLat(a.lng(),a.lat());d=new OpenLayers.LonLat(d.lng(),d.lat())}c=new OpenLayers.Bounds(a.lon,a.lat,d.lon,d.lat)}return c},getWarningHTML:function(){return OpenLayers.i18n("googleWarning")},getMapObjectCenter:function(){return this.mapObject.getCenter()},getMapObjectZoom:function(){return this.mapObject.getZoom()},getLongitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.lng(),a.lat()).lon:a.lng()},getLatitudeFromMapObjectLonLat:function(b){var a=this.sphericalMercator?this.forwardMercator(b.lng(),b.lat()).lat:b.lat();return a},getXFromMapObjectPixel:function(a){return a.x},getYFromMapObjectPixel:function(a){return a.y},CLASS_NAME:"OpenLayers.Layer.Google"});OpenLayers.Layer.Google.cache={};OpenLayers.Layer.Google.v2={termsOfUse:null,poweredBy:null,dragObject:null,loadMapObject:function(){if(!this.type){this.type=G_NORMAL_MAP}var g,d,a;var c=OpenLayers.Layer.Google.cache[this.map.id];if(c){g=c.mapObject;d=c.termsOfUse;a=c.poweredBy;++c.count}else{var b=this.map.viewPortDiv;var h=document.createElement("div");h.id=this.map.id+"_GMap2Container";h.style.position="absolute";h.style.width="100%";h.style.height="100%";b.appendChild(h);try{g=new GMap2(h);d=h.lastChild;b.appendChild(d);d.style.zIndex="1100";d.style.right="";d.style.bottom="";d.className="olLayerGoogleCopyright";a=h.lastChild;b.appendChild(a);a.style.zIndex="1100";a.style.right="";a.style.bottom="";a.className="olLayerGooglePoweredBy gmnoprint"}catch(f){throw (f)}OpenLayers.Layer.Google.cache[this.map.id]={mapObject:g,termsOfUse:d,poweredBy:a,count:1}}this.mapObject=g;this.termsOfUse=d;this.poweredBy=a;if(OpenLayers.Util.indexOf(this.mapObject.getMapTypes(),this.type)===-1){this.mapObject.addMapType(this.type)}if(typeof g.getDragObject=="function"){this.dragObject=g.getDragObject()}else{this.dragPanMapObject=null}if(this.isBaseLayer===false){this.setGMapVisibility(this.div.style.display!=="none")}},onMapResize:function(){if(this.visibility&&this.mapObject.isLoaded()){this.mapObject.checkResize()}else{if(!this._resized){var a=this;var b=GEvent.addListener(this.mapObject,"load",function(){GEvent.removeListener(b);delete a._resized;a.mapObject.checkResize();a.moveTo(a.map.getCenter(),a.map.getZoom())})}this._resized=true}},setGMapVisibility:function(c){var b=OpenLayers.Layer.Google.cache[this.map.id];if(b){var a=this.mapObject.getContainer();if(c===true){this.mapObject.setMapType(this.type);a.style.display="";this.termsOfUse.style.left="";this.termsOfUse.style.display="";this.poweredBy.style.display="";b.displayed=this.id}else{if(b.displayed===this.id){delete b.displayed}if(!b.displayed){a.style.display="none";this.termsOfUse.style.display="none";this.termsOfUse.style.left="-9999px";this.poweredBy.style.display="none"}}}},getMapContainer:function(){return this.mapObject.getContainer()},getMapObjectBoundsFromOLBounds:function(c){var b=null;if(c!=null){var a=this.sphericalMercator?this.inverseMercator(c.bottom,c.left):new OpenLayers.LonLat(c.bottom,c.left);var d=this.sphericalMercator?this.inverseMercator(c.top,c.right):new OpenLayers.LonLat(c.top,c.right);b=new GLatLngBounds(new GLatLng(a.lat,a.lon),new GLatLng(d.lat,d.lon))}return b},setMapObjectCenter:function(a,b){this.mapObject.setCenter(a,b)},dragPanMapObject:function(b,a){this.dragObject.moveBy(new GSize(-b,a))},getMapObjectLonLatFromMapObjectPixel:function(a){return this.mapObject.fromContainerPixelToLatLng(a)
},getMapObjectPixelFromMapObjectLonLat:function(a){return this.mapObject.fromLatLngToContainerPixel(a)},getMapObjectZoomFromMapObjectBounds:function(a){return this.mapObject.getBoundsZoomLevel(a)},getMapObjectLonLatFromLonLat:function(d,b){var c;if(this.sphericalMercator){var a=this.inverseMercator(d,b);c=new GLatLng(a.lat,a.lon)}else{c=new GLatLng(b,d)}return c},getMapObjectPixelFromXY:function(a,b){return new GPoint(a,b)}};OpenLayers.Handler=OpenLayers.Class({id:null,control:null,map:null,keyMask:null,active:false,evt:null,initialize:function(d,b,a){OpenLayers.Util.extend(this,a);this.control=d;this.callbacks=b;var c=this.map||d.map;if(c){this.setMap(c)}this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},setMap:function(a){this.map=a},checkModifiers:function(a){if(this.keyMask==null){return true}var b=(a.shiftKey?OpenLayers.Handler.MOD_SHIFT:0)|(a.ctrlKey?OpenLayers.Handler.MOD_CTRL:0)|(a.altKey?OpenLayers.Handler.MOD_ALT:0);return(b==this.keyMask)},activate:function(){if(this.active){return false}var c=OpenLayers.Events.prototype.BROWSER_EVENTS;for(var b=0,a=c.length;b<a;b++){if(this[c[b]]){this.register(c[b],this[c[b]])}}this.active=true;return true},deactivate:function(){if(!this.active){return false}var c=OpenLayers.Events.prototype.BROWSER_EVENTS;for(var b=0,a=c.length;b<a;b++){if(this[c[b]]){this.unregister(c[b],this[c[b]])}}this.active=false;return true},callback:function(b,a){if(b&&this.callbacks[b]){this.callbacks[b].apply(this.control,a)}},register:function(a,b){this.map.events.registerPriority(a,this,b);this.map.events.registerPriority(a,this,this.setEvent)},unregister:function(a,b){this.map.events.unregister(a,this,b);this.map.events.unregister(a,this,this.setEvent)},setEvent:function(a){this.evt=a;return true},destroy:function(){this.deactivate();this.control=this.map=null},CLASS_NAME:"OpenLayers.Handler"});OpenLayers.Handler.MOD_NONE=0;OpenLayers.Handler.MOD_SHIFT=1;OpenLayers.Handler.MOD_CTRL=2;OpenLayers.Handler.MOD_ALT=4;OpenLayers.Handler.Pinch=OpenLayers.Class(OpenLayers.Handler,{started:false,stopDown:false,pinching:false,last:null,start:null,initialize:function(c,b,a){OpenLayers.Handler.prototype.initialize.apply(this,arguments)},touchstart:function(b){var a=true;this.pinching=false;if(OpenLayers.Event.isMultiTouch(b)){this.started=true;this.last=this.start={distance:this.getDistance(b.touches),delta:0,scale:1};this.callback("start",[b,this.start]);a=!this.stopDown}else{this.started=false;this.start=null;this.last=null}OpenLayers.Event.stop(b);return a},touchmove:function(a){if(this.started&&OpenLayers.Event.isMultiTouch(a)){this.pinching=true;var b=this.getPinchData(a);this.callback("move",[a,b]);this.last=b;OpenLayers.Event.stop(a)}return true},touchend:function(a){if(this.started){this.started=false;this.pinching=false;this.callback("done",[a,this.start,this.last]);this.start=null;this.last=null}return true},activate:function(){var a=false;if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.pinching=false;a=true}return a},deactivate:function(){var a=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.started=false;this.pinching=false;this.start=null;this.last=null;a=true}return a},getDistance:function(c){var b=c[0];var a=c[1];return Math.sqrt(Math.pow(b.clientX-a.clientX,2)+Math.pow(b.clientY-a.clientY,2))},getPinchData:function(a){var c=this.getDistance(a.touches);var b=c/this.start.distance;return{distance:c,delta:this.last.distance-c,scale:b}},CLASS_NAME:"OpenLayers.Handler.Pinch"});OpenLayers.Control.PinchZoom=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,containerOrigin:null,pinchOrigin:null,currentCenter:null,autoActivate:true,initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,arguments);this.handler=new OpenLayers.Handler.Pinch(this,{start:this.pinchStart,move:this.pinchMove,done:this.pinchDone},this.handlerOptions)},activate:function(){var a=OpenLayers.Control.prototype.activate.apply(this,arguments);if(a){this.map.events.on({moveend:this.updateContainerOrigin,scope:this});this.updateContainerOrigin()
}return a},deactivate:function(){var a=OpenLayers.Control.prototype.deactivate.apply(this,arguments);if(this.map&&this.map.events){this.map.events.un({moveend:this.updateContainerOrigin,scope:this})}return a},updateContainerOrigin:function(){var a=this.map.layerContainerDiv;this.containerOrigin={x:parseInt(a.style.left,10),y:parseInt(a.style.top,10)}},pinchStart:function(a,b){this.pinchOrigin=a.xy;this.currentCenter=a.xy},pinchMove:function(b,h){var g=h.scale;var f=this.containerOrigin;var d=this.pinchOrigin;var e=b.xy;var c=Math.round((e.x-d.x)+(g-1)*(f.x-d.x));var a=Math.round((e.y-d.y)+(g-1)*(f.y-d.y));this.applyTransform("translate("+c+"px, "+a+"px) scale("+g+")");this.currentCenter=e},applyTransform:function(a){var b=this.map.layerContainerDiv.style;b["-webkit-transform"]=a;b["-moz-transform"]=a},pinchDone:function(b,h,g){this.applyTransform("");var f=this.map.getZoomForResolution(this.map.getResolution()/g.scale,true);if(f!==this.map.getZoom()||!this.currentCenter.equals(this.pinchOrigin)){var d=this.map.getResolutionForZoom(f);var a=this.map.getLonLatFromPixel(this.pinchOrigin);var c=this.currentCenter;var e=this.map.getSize();a.lon+=d*((e.w/2)-c.x);a.lat-=d*((e.h/2)-c.y);this.map.setCenter(a,f)}},CLASS_NAME:"OpenLayers.Control.PinchZoom"});OpenLayers.Format.WFST=function(b){b=OpenLayers.Util.applyDefaults(b,OpenLayers.Format.WFST.DEFAULTS);var a=OpenLayers.Format.WFST["v"+b.version.replace(/\./g,"_")];if(!a){throw"Unsupported WFST version: "+b.version}return new a(b)};OpenLayers.Format.WFST.DEFAULTS={version:"1.0.0"};OpenLayers.Format.WFST.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",wfs:"http://www.opengis.net/wfs",gml:"http://www.opengis.net/gml",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows"},defaultPrefix:"wfs",version:null,schemaLocations:null,srsName:null,extractAttributes:true,xy:true,stateName:null,initialize:function(a){this.stateName={};this.stateName[OpenLayers.State.INSERT]="wfs:Insert";this.stateName[OpenLayers.State.UPDATE]="wfs:Update";this.stateName[OpenLayers.State.DELETE]="wfs:Delete";OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},getSrsName:function(c,b){var a=b&&b.srsName;if(!a){if(c&&c.layer){a=c.layer.projection.getCode()}else{a=this.srsName}}return a},read:function(b,a){a=a||{};OpenLayers.Util.applyDefaults(a,{output:"features"});if(typeof b=="string"){b=OpenLayers.Format.XML.prototype.read.apply(this,[b])}if(b&&b.nodeType==9){b=b.documentElement}var c={};if(b){this.readNode(b,c,true)}if(c.features&&a.output==="features"){c=c.features}return c},readers:{wfs:{FeatureCollection:function(a,b){b.features=[];this.readChildNodes(a,b)}}},write:function(b,a){var c=this.writeNode("wfs:Transaction",{features:b,options:a});var d=this.schemaLocationAttr();if(d){this.setAttributeNS(c,this.namespaces.xsi,"xsi:schemaLocation",d)}return OpenLayers.Format.XML.prototype.write.apply(this,[c])},writers:{wfs:{GetFeature:function(b){var d=this.createElementNSPlus("wfs:GetFeature",{attributes:{service:"WFS",version:this.version,handle:b&&b.handle,outputFormat:b&&b.outputFormat,maxFeatures:b&&b.maxFeatures,"xsi:schemaLocation":this.schemaLocationAttr(b)}});if(typeof this.featureType=="string"){this.writeNode("Query",b,d)}else{for(var c=0,a=this.featureType.length;c<a;c++){b.featureType=this.featureType[c];this.writeNode("Query",b,d)}}return d},Transaction:function(h){h=h||{};var c=h.options||{};var g=this.createElementNSPlus("wfs:Transaction",{attributes:{service:"WFS",version:this.version,handle:c.handle}});var e,a;var f=h.features;if(f){if(c.multi===true){OpenLayers.Util.extend(this.geometryTypes,{"OpenLayers.Geometry.Point":"MultiPoint","OpenLayers.Geometry.LineString":(this.multiCurve===true)?"MultiCurve":"MultiLineString","OpenLayers.Geometry.Polygon":(this.multiSurface===true)?"MultiSurface":"MultiPolygon"})}var b,d;for(e=0,a=f.length;e<a;++e){d=f[e];b=this.stateName[d.state];if(b){this.writeNode(b,{feature:d,options:c},g)}}if(c.multi===true){this.setGeometryTypes()}}if(c.nativeElements){for(e=0,a=c.nativeElements.length;
e<a;++e){this.writeNode("wfs:Native",c.nativeElements[e],g)}}return g},Native:function(b){var a=this.createElementNSPlus("wfs:Native",{attributes:{vendorId:b.vendorId,safeToIgnore:b.safeToIgnore},value:b.value});return a},Insert:function(d){var b=d.feature;var a=d.options;var c=this.createElementNSPlus("wfs:Insert",{attributes:{handle:a&&a.handle}});this.srsName=this.getSrsName(b);this.writeNode("feature:_typeName",b,c);return c},Update:function(f){var d=f.feature;var b=f.options;var e=this.createElementNSPlus("wfs:Update",{attributes:{handle:b&&b.handle,typeName:(this.featureNS?this.featurePrefix+":":"")+this.featureType}});if(this.featureNS){e.setAttribute("xmlns:"+this.featurePrefix,this.featureNS)}var a=d.modified;if(this.geometryName!==null&&(!a||a.geometry!==undefined)){this.srsName=this.getSrsName(d);this.writeNode("Property",{name:this.geometryName,value:d.geometry},e)}for(var c in d.attributes){if(d.attributes[c]!==undefined&&(!a||!a.attributes||(a.attributes&&a.attributes[c]!==undefined))){this.writeNode("Property",{name:c,value:d.attributes[c]},e)}}this.writeNode("ogc:Filter",new OpenLayers.Filter.FeatureId({fids:[d.fid]}),e);return e},Property:function(b){var a=this.createElementNSPlus("wfs:Property");this.writeNode("Name",b.name,a);if(b.value!==null){this.writeNode("Value",b.value,a)}return a},Name:function(a){return this.createElementNSPlus("wfs:Name",{value:a})},Value:function(c){var b;if(c instanceof OpenLayers.Geometry){b=this.createElementNSPlus("wfs:Value");var a=this.writeNode("feature:_geometry",c).firstChild;b.appendChild(a)}else{b=this.createElementNSPlus("wfs:Value",{value:c})}return b},Delete:function(d){var b=d.feature;var a=d.options;var c=this.createElementNSPlus("wfs:Delete",{attributes:{handle:a&&a.handle,typeName:(this.featureNS?this.featurePrefix+":":"")+this.featureType}});if(this.featureNS){c.setAttribute("xmlns:"+this.featurePrefix,this.featureNS)}this.writeNode("ogc:Filter",new OpenLayers.Filter.FeatureId({fids:[b.fid]}),c);return c}}},schemaLocationAttr:function(a){a=OpenLayers.Util.extend({featurePrefix:this.featurePrefix,schema:this.schema},a);var f=OpenLayers.Util.extend({},this.schemaLocations);if(a.schema){f[a.featurePrefix]=a.schema}var e=[];var c;for(var b in f){c=this.namespaces[b];if(c){e.push(c+" "+f[b])}}var d=e.join(" ")||undefined;return d},setFilterProperty:function(c){if(c.filters){for(var b=0,a=c.filters.length;b<a;++b){this.setFilterProperty(c.filters[b])}}else{if(c instanceof OpenLayers.Filter.Spatial){c.property=this.geometryName}}},CLASS_NAME:"OpenLayers.Format.WFST.v1"});OpenLayers.Format.GML.v3=OpenLayers.Class(OpenLayers.Format.GML.Base,{schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",curve:false,multiCurve:true,surface:false,multiSurface:true,initialize:function(a){OpenLayers.Format.GML.Base.prototype.initialize.apply(this,[a])},readers:{gml:OpenLayers.Util.applyDefaults({featureMembers:function(a,b){this.readChildNodes(a,b)},Curve:function(b,a){var c={points:[]};this.readChildNodes(b,c);if(!a.components){a.components=[]}a.components.push(new OpenLayers.Geometry.LineString(c.points))},segments:function(a,b){this.readChildNodes(a,b)},LineStringSegment:function(b,a){var c={};this.readChildNodes(b,c);if(c.points){Array.prototype.push.apply(a.points,c.points)}},pos:function(b,d){var e=this.getChildValue(b).replace(this.regExes.trimSpace,"");var c=e.split(this.regExes.splitSpace);var a;if(this.xy){a=new OpenLayers.Geometry.Point(c[0],c[1],c[2])}else{a=new OpenLayers.Geometry.Point(c[1],c[0],c[2])}d.points=[a]},posList:function(a,d){var h=this.getChildValue(a).replace(this.regExes.trimSpace,"");var m=h.split(this.regExes.splitSpace);var e=parseInt(a.getAttribute("dimension"))||2;var b,n,l,g;var k=m.length/e;var o=new Array(k);for(var c=0,f=m.length;c<f;c+=e){n=m[c];l=m[c+1];g=(e==2)?undefined:m[c+2];if(this.xy){o[c/e]=new OpenLayers.Geometry.Point(n,l,g)}else{o[c/e]=new OpenLayers.Geometry.Point(l,n,g)}}d.points=o},Surface:function(a,b){this.readChildNodes(a,b)},patches:function(a,b){this.readChildNodes(a,b)
},PolygonPatch:function(a,b){this.readers.gml.Polygon.apply(this,[a,b])},exterior:function(b,a){var c={};this.readChildNodes(b,c);a.outer=c.components[0]},interior:function(b,a){var c={};this.readChildNodes(b,c);a.inner.push(c.components[0])},MultiCurve:function(b,a){var c={components:[]};this.readChildNodes(b,c);if(c.components.length>0){a.components=[new OpenLayers.Geometry.MultiLineString(c.components)]}},curveMember:function(a,b){this.readChildNodes(a,b)},MultiSurface:function(b,a){var c={components:[]};this.readChildNodes(b,c);if(c.components.length>0){a.components=[new OpenLayers.Geometry.MultiPolygon(c.components)]}},surfaceMember:function(a,b){this.readChildNodes(a,b)},surfaceMembers:function(a,b){this.readChildNodes(a,b)},pointMembers:function(a,b){this.readChildNodes(a,b)},lineStringMembers:function(a,b){this.readChildNodes(a,b)},polygonMembers:function(a,b){this.readChildNodes(a,b)},geometryMembers:function(a,b){this.readChildNodes(a,b)},Envelope:function(d,b){var e={points:new Array(2)};this.readChildNodes(d,e);if(!b.components){b.components=[]}var c=e.points[0];var a=e.points[1];b.components.push(new OpenLayers.Bounds(c.x,c.y,a.x,a.y))},lowerCorner:function(b,a){var c={};this.readers.gml.pos.apply(this,[b,c]);a.points[0]=c.points[0]},upperCorner:function(b,a){var c={};this.readers.gml.pos.apply(this,[b,c]);a.points[1]=c.points[0]}},OpenLayers.Format.GML.Base.prototype.readers.gml),feature:OpenLayers.Format.GML.Base.prototype.readers.feature,wfs:OpenLayers.Format.GML.Base.prototype.readers.wfs},write:function(c){var b;if(OpenLayers.Util.isArray(c)){b="featureMembers"}else{b="featureMember"}var a=this.writeNode("gml:"+b,c);this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[a])},writers:{gml:OpenLayers.Util.applyDefaults({featureMembers:function(c){var d=this.createElementNSPlus("gml:featureMembers");for(var b=0,a=c.length;b<a;++b){this.writeNode("feature:_typeName",c[b],d)}return d},Point:function(b){var a=this.createElementNSPlus("gml:Point");this.writeNode("pos",b,a);return a},pos:function(a){var b=(this.xy)?(a.x+" "+a.y):(a.y+" "+a.x);return this.createElementNSPlus("gml:pos",{value:b})},LineString:function(b){var a=this.createElementNSPlus("gml:LineString");this.writeNode("posList",b.components,a);return a},Curve:function(b){var a=this.createElementNSPlus("gml:Curve");this.writeNode("segments",b,a);return a},segments:function(b){var a=this.createElementNSPlus("gml:segments");this.writeNode("LineStringSegment",b,a);return a},LineStringSegment:function(b){var a=this.createElementNSPlus("gml:LineStringSegment");this.writeNode("posList",b.components,a);return a},posList:function(d){var b=d.length;var e=new Array(b);var a;for(var c=0;c<b;++c){a=d[c];if(this.xy){e[c]=a.x+" "+a.y}else{e[c]=a.y+" "+a.x}}return this.createElementNSPlus("gml:posList",{value:e.join(" ")})},Surface:function(b){var a=this.createElementNSPlus("gml:Surface");this.writeNode("patches",b,a);return a},patches:function(b){var a=this.createElementNSPlus("gml:patches");this.writeNode("PolygonPatch",b,a);return a},PolygonPatch:function(d){var c=this.createElementNSPlus("gml:PolygonPatch",{attributes:{interpolation:"planar"}});this.writeNode("exterior",d.components[0],c);for(var b=1,a=d.components.length;b<a;++b){this.writeNode("interior",d.components[b],c)}return c},Polygon:function(d){var c=this.createElementNSPlus("gml:Polygon");this.writeNode("exterior",d.components[0],c);for(var b=1,a=d.components.length;b<a;++b){this.writeNode("interior",d.components[b],c)}return c},exterior:function(a){var b=this.createElementNSPlus("gml:exterior");this.writeNode("LinearRing",a,b);return b},interior:function(a){var b=this.createElementNSPlus("gml:interior");this.writeNode("LinearRing",a,b);return b},LinearRing:function(a){var b=this.createElementNSPlus("gml:LinearRing");this.writeNode("posList",a.components,b);return b},MultiCurve:function(e){var d=this.createElementNSPlus("gml:MultiCurve");var c=e.components||[e];for(var b=0,a=c.length;b<a;++b){this.writeNode("curveMember",c[b],d)
}return d},curveMember:function(b){var a=this.createElementNSPlus("gml:curveMember");if(this.curve){this.writeNode("Curve",b,a)}else{this.writeNode("LineString",b,a)}return a},MultiSurface:function(e){var d=this.createElementNSPlus("gml:MultiSurface");var c=e.components||[e];for(var b=0,a=c.length;b<a;++b){this.writeNode("surfaceMember",c[b],d)}return d},surfaceMember:function(a){var b=this.createElementNSPlus("gml:surfaceMember");if(this.surface){this.writeNode("Surface",a,b)}else{this.writeNode("Polygon",a,b)}return b},Envelope:function(b){var a=this.createElementNSPlus("gml:Envelope");this.writeNode("lowerCorner",b,a);this.writeNode("upperCorner",b,a);if(this.srsName){a.setAttribute("srsName",this.srsName)}return a},lowerCorner:function(a){var b=(this.xy)?(a.left+" "+a.bottom):(a.bottom+" "+a.left);return this.createElementNSPlus("gml:lowerCorner",{value:b})},upperCorner:function(a){var b=(this.xy)?(a.right+" "+a.top):(a.top+" "+a.right);return this.createElementNSPlus("gml:upperCorner",{value:b})}},OpenLayers.Format.GML.Base.prototype.writers.gml),feature:OpenLayers.Format.GML.Base.prototype.writers.feature,wfs:OpenLayers.Format.GML.Base.prototype.writers.wfs},setGeometryTypes:function(){this.geometryTypes={"OpenLayers.Geometry.Point":"Point","OpenLayers.Geometry.MultiPoint":"MultiPoint","OpenLayers.Geometry.LineString":(this.curve===true)?"Curve":"LineString","OpenLayers.Geometry.MultiLineString":(this.multiCurve===false)?"MultiLineString":"MultiCurve","OpenLayers.Geometry.Polygon":(this.surface===true)?"Surface":"Polygon","OpenLayers.Geometry.MultiPolygon":(this.multiSurface===false)?"MultiPolygon":"MultiSurface","OpenLayers.Geometry.Collection":"GeometryCollection"}},CLASS_NAME:"OpenLayers.Format.GML.v3"});OpenLayers.Format.Filter.v1_1_0=OpenLayers.Class(OpenLayers.Format.GML.v3,OpenLayers.Format.Filter.v1,{VERSION:"1.1.0",schemaLocation:"http://www.opengis.net/ogc/filter/1.1.0/filter.xsd",initialize:function(a){OpenLayers.Format.GML.v3.prototype.initialize.apply(this,[a])},readers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(b,d){var c=b.getAttribute("matchCase");var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,matchCase:!(c==="false"||c==="0")});this.readChildNodes(b,a);d.filters.push(a)},PropertyIsNotEqualTo:function(b,d){var c=b.getAttribute("matchCase");var a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.NOT_EQUAL_TO,matchCase:!(c==="false"||c==="0")});this.readChildNodes(b,a);d.filters.push(a)},PropertyIsLike:function(d,e){var c=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LIKE});this.readChildNodes(d,c);var f=d.getAttribute("wildCard");var b=d.getAttribute("singleChar");var a=d.getAttribute("escapeChar");c.value2regex(f,b,a);e.filters.push(c)}},OpenLayers.Format.Filter.v1.prototype.readers.ogc),gml:OpenLayers.Format.GML.v3.prototype.readers.gml,feature:OpenLayers.Format.GML.v3.prototype.readers.feature},writers:{ogc:OpenLayers.Util.applyDefaults({PropertyIsEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsEqualTo",{attributes:{matchCase:a.matchCase}});this.writeNode("PropertyName",a,b);this.writeOgcExpression(a.value,b);return b},PropertyIsNotEqualTo:function(a){var b=this.createElementNSPlus("ogc:PropertyIsNotEqualTo",{attributes:{matchCase:a.matchCase}});this.writeNode("PropertyName",a,b);this.writeOgcExpression(a.value,b);return b},PropertyIsLike:function(a){var b=this.createElementNSPlus("ogc:PropertyIsLike",{attributes:{matchCase:a.matchCase,wildCard:"*",singleChar:".",escapeChar:"!"}});this.writeNode("PropertyName",a,b);this.writeNode("Literal",a.regex2value(),b);return b},BBOX:function(a){var c=this.createElementNSPlus("ogc:BBOX");a.property&&this.writeNode("PropertyName",a,c);var b=this.writeNode("gml:Envelope",a.value);if(a.projection){b.setAttribute("srsName",a.projection)}c.appendChild(b);return c},SortBy:function(d){var c=this.createElementNSPlus("ogc:SortBy");for(var b=0,a=d.length;b<a;b++){this.writeNode("ogc:SortProperty",d[b],c)}return c},SortProperty:function(b){var a=this.createElementNSPlus("ogc:SortProperty");
this.writeNode("ogc:PropertyName",b,a);this.writeNode("ogc:SortOrder",(b.order=="DESC")?"DESC":"ASC",a);return a},SortOrder:function(b){var a=this.createElementNSPlus("ogc:SortOrder",{value:b});return a}},OpenLayers.Format.Filter.v1.prototype.writers.ogc),gml:OpenLayers.Format.GML.v3.prototype.writers.gml,feature:OpenLayers.Format.GML.v3.prototype.writers.feature},writeSpatial:function(b,a){var c=this.createElementNSPlus("ogc:"+a);this.writeNode("PropertyName",b,c);if(b.value instanceof OpenLayers.Filter.Function){this.writeNode("Function",b.value,c)}else{var d;if(b.value instanceof OpenLayers.Geometry){d=this.writeNode("feature:_geometry",b.value).firstChild}else{d=this.writeNode("gml:Envelope",b.value)}if(b.projection){d.setAttribute("srsName",b.projection)}c.appendChild(d)}return c},CLASS_NAME:"OpenLayers.Format.Filter.v1_1_0"});OpenLayers.Format.WFST.v1_1_0=OpenLayers.Class(OpenLayers.Format.Filter.v1_1_0,OpenLayers.Format.WFST.v1,{version:"1.1.0",schemaLocations:{wfs:"http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"},initialize:function(a){OpenLayers.Format.Filter.v1_1_0.prototype.initialize.apply(this,[a]);OpenLayers.Format.WFST.v1.prototype.initialize.apply(this,[a])},readNode:function(a,b,c){return OpenLayers.Format.GML.v3.prototype.readNode.apply(this,[a,b])},readers:{wfs:OpenLayers.Util.applyDefaults({FeatureCollection:function(a,b){b.numberOfFeatures=parseInt(a.getAttribute("numberOfFeatures"));OpenLayers.Format.WFST.v1.prototype.readers.wfs["FeatureCollection"].apply(this,arguments)},TransactionResponse:function(a,b){b.insertIds=[];b.success=false;this.readChildNodes(a,b)},TransactionSummary:function(a,b){b.success=true},InsertResults:function(a,b){this.readChildNodes(a,b)},Feature:function(b,a){var c={fids:[]};this.readChildNodes(b,c);a.insertIds.push(c.fids[0])}},OpenLayers.Format.WFST.v1.prototype.readers.wfs),gml:OpenLayers.Format.GML.v3.prototype.readers.gml,feature:OpenLayers.Format.GML.v3.prototype.readers.feature,ogc:OpenLayers.Format.Filter.v1_1_0.prototype.readers.ogc,ows:OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows},writers:{wfs:OpenLayers.Util.applyDefaults({GetFeature:function(a){var b=OpenLayers.Format.WFST.v1.prototype.writers.wfs["GetFeature"].apply(this,arguments);a&&this.setAttributes(b,{resultType:a.resultType,startIndex:a.startIndex,count:a.count});return b},Query:function(b){b=OpenLayers.Util.extend({featureNS:this.featureNS,featurePrefix:this.featurePrefix,featureType:this.featureType,srsName:this.srsName},b);var e=b.featurePrefix;var d=this.createElementNSPlus("wfs:Query",{attributes:{typeName:(e?e+":":"")+b.featureType,srsName:b.srsName}});if(b.featureNS){d.setAttribute("xmlns:"+e,b.featureNS)}if(b.propertyNames){for(var c=0,a=b.propertyNames.length;c<a;c++){this.writeNode("wfs:PropertyName",{property:b.propertyNames[c]},d)}}if(b.filter){this.setFilterProperty(b.filter);this.writeNode("ogc:Filter",b.filter,d)}return d},PropertyName:function(a){return this.createElementNSPlus("wfs:PropertyName",{value:a.property})}},OpenLayers.Format.WFST.v1.prototype.writers.wfs),gml:OpenLayers.Format.GML.v3.prototype.writers.gml,feature:OpenLayers.Format.GML.v3.prototype.writers.feature,ogc:OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc},CLASS_NAME:"OpenLayers.Format.WFST.v1_1_0"});OpenLayers.Lang.is=OpenLayers.Util.applyDefaults({Permalink:"Varanlegur tengill",Overlays:"Þekjur","Base Layer":"Grunnlag",readNotImplemented:"Skrifun er óútfærð.",writeNotImplemented:"Lestur er óútfærður.",errorLoadingGML:"Villa kom upp við að hlaða inn GML skránni ${url}","Scale = 1 : ${scaleDenom}":"Skali = 1 : ${scaleDenom}",layerAlreadyAdded:"Þú reyndir að bæta laginu ${layerName} á kortið en það er þegar búið að bæta því við",methodDeprecated:"Þetta fall hefur verið úrelt og verður fjarlægt í 3.0. Notaðu ${newMethod} í staðin."});OpenLayers.Format.WFSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.0",errorProperty:"service",CLASS_NAME:"OpenLayers.Format.WFSCapabilities"});OpenLayers.Format.WFSCapabilities.v1=OpenLayers.Class(OpenLayers.Format.WFSCapabilities,{initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]);
this.options=a},read:function(c){if(typeof c=="string"){c=OpenLayers.Format.XML.prototype.read.apply(this,[c])}var a={};var b=c.documentElement;this.runChildNodes(a,b);return a},runChildNodes:function(f,e){var c=e.childNodes;var b,d;for(var a=0;a<c.length;++a){b=c[a];if(b.nodeType==1){d=this["read_cap_"+b.nodeName];if(d){d.apply(this,[f,b])}}}},read_cap_FeatureTypeList:function(c,b){var a={featureTypes:[]};this.runChildNodes(a,b);c.featureTypeList=a},read_cap_FeatureType:function(a,d,b){var c={};this.runChildNodes(c,d);a.featureTypes.push(c)},read_cap_Name:function(d,b){var a=this.getChildValue(b);if(a){var c=a.split(":");d.name=c.pop();if(c.length>0){d.featureNS=this.lookupNamespaceURI(b,c[0])}}},read_cap_Title:function(b,a){var c=this.getChildValue(a);if(c){b.title=c}},read_cap_Abstract:function(c,b){var a=this.getChildValue(b);if(a){c["abstract"]=a}},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1"});OpenLayers.Layer.VirtualEarth=OpenLayers.Class(OpenLayers.Layer.EventPane,OpenLayers.Layer.FixedZoomLevels,{MIN_ZOOM_LEVEL:1,MAX_ZOOM_LEVEL:19,RESOLUTIONS:[1.40625,0.703125,0.3515625,0.17578125,0.087890625,0.0439453125,0.02197265625,0.010986328125,0.0054931640625,0.00274658203125,0.001373291015625,0.0006866455078125,0.00034332275390625,0.000171661376953125,0.0000858306884765625,0.00004291534423828125,0.00002145767211914062,0.00001072883605957031,0.00000536441802978515],type:null,wrapDateLine:true,sphericalMercator:false,animationEnabled:true,initialize:function(b,a){OpenLayers.Layer.EventPane.prototype.initialize.apply(this,arguments);OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,arguments);if(this.sphericalMercator){OpenLayers.Util.extend(this,OpenLayers.Layer.SphericalMercator);this.initMercatorParameters()}},loadMapObject:function(){var a=OpenLayers.Util.createDiv(this.name);var c=this.map.getSize();a.style.width=c.w+"px";a.style.height=c.h+"px";this.div.appendChild(a);try{this.mapObject=new VEMap(this.name)}catch(b){}if(this.mapObject!=null){try{this.mapObject.LoadMap(null,null,this.type,true);this.mapObject.AttachEvent("onmousedown",OpenLayers.Function.True)}catch(b){}this.mapObject.HideDashboard();if(typeof this.mapObject.SetAnimationEnabled=="function"){this.mapObject.SetAnimationEnabled(this.animationEnabled)}}if(!this.mapObject||!this.mapObject.vemapcontrol||!this.mapObject.vemapcontrol.PanMap||(typeof this.mapObject.vemapcontrol.PanMap!="function")){this.dragPanMapObject=null}},onMapResize:function(){this.mapObject.Resize(this.map.size.w,this.map.size.h)},getWarningHTML:function(){return OpenLayers.i18n("getLayerWarning",{layerType:"VE",layerLib:"VirtualEarth"})},setMapObjectCenter:function(a,b){this.mapObject.SetCenterAndZoom(a,b)},getMapObjectCenter:function(){return this.mapObject.GetCenter()},dragPanMapObject:function(b,a){this.mapObject.vemapcontrol.PanMap(b,-a)},getMapObjectZoom:function(){return this.mapObject.GetZoomLevel()},getMapObjectLonLatFromMapObjectPixel:function(a){return(typeof VEPixel!="undefined")?this.mapObject.PixelToLatLong(a):this.mapObject.PixelToLatLong(a.x,a.y)},getMapObjectPixelFromMapObjectLonLat:function(a){return this.mapObject.LatLongToPixel(a)},getLongitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.Longitude,a.Latitude).lon:a.Longitude},getLatitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.Longitude,a.Latitude).lat:a.Latitude},getMapObjectLonLatFromLonLat:function(d,b){var c;if(this.sphericalMercator){var a=this.inverseMercator(d,b);c=new VELatLong(a.lat,a.lon)}else{c=new VELatLong(b,d)}return c},getXFromMapObjectPixel:function(a){return a.x},getYFromMapObjectPixel:function(a){return a.y},getMapObjectPixelFromXY:function(a,b){return(typeof VEPixel!="undefined")?new VEPixel(a,b):new Msn.VE.Pixel(a,b)},CLASS_NAME:"OpenLayers.Layer.VirtualEarth"});OpenLayers.Control.Panel=OpenLayers.Class(OpenLayers.Control,{controls:null,autoActivate:true,defaultControl:null,saveState:false,allowDepress:false,activeState:null,initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,[a]);
this.controls=[];this.activeState={}},destroy:function(){OpenLayers.Control.prototype.destroy.apply(this,arguments);for(var a,b=this.controls.length-1;b>=0;b--){a=this.controls[b];if(a.events){a.events.un({activate:this.iconOn,deactivate:this.iconOff})}OpenLayers.Event.stopObservingElement(a.panel_div);a.panel_div=null}this.activeState=null},activate:function(){if(OpenLayers.Control.prototype.activate.apply(this,arguments)){var c;for(var b=0,a=this.controls.length;b<a;b++){c=this.controls[b];if(c===this.defaultControl||(this.saveState&&this.activeState[c.id])){c.activate()}}if(this.saveState===true){this.defaultControl=null}this.redraw();return true}else{return false}},deactivate:function(){if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){var c;for(var b=0,a=this.controls.length;b<a;b++){c=this.controls[b];this.activeState[c.id]=c.deactivate()}this.redraw();return true}else{return false}},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);this.addControlsToMap(this.controls);return this.div},redraw:function(){for(var b=this.div.childNodes.length,c=b-1;c>=0;c--){this.div.removeChild(this.div.childNodes[c])}this.div.innerHTML="";if(this.active){for(var c=0,a=this.controls.length;c<a;c++){this.div.appendChild(this.controls[c].panel_div)}}},activateControl:function(d){if(!this.active){return false}if(d.type==OpenLayers.Control.TYPE_BUTTON){d.trigger();return}if(d.type==OpenLayers.Control.TYPE_TOGGLE){if(d.active){d.deactivate()}else{d.activate()}return}if(this.allowDepress&&d.active){d.deactivate()}else{var e;for(var b=0,a=this.controls.length;b<a;b++){e=this.controls[b];if(e!=d&&(e.type===OpenLayers.Control.TYPE_TOOL||e.type==null)){e.deactivate()}}d.activate()}},addControls:function(b){if(!(OpenLayers.Util.isArray(b))){b=[b]}this.controls=this.controls.concat(b);for(var d=0,a=b.length;d<a;d++){var c=document.createElement("div");c.className=b[d].displayClass+"ItemInactive";b[d].panel_div=c;if(b[d].title!=""){b[d].panel_div.title=b[d].title}OpenLayers.Event.observe(b[d].panel_div,"click",OpenLayers.Function.bind(this.onClick,this,b[d]));OpenLayers.Event.observe(b[d].panel_div,"dblclick",OpenLayers.Function.bind(this.onDoubleClick,this,b[d]));OpenLayers.Event.observe(b[d].panel_div,"mousedown",OpenLayers.Function.bindAsEventListener(OpenLayers.Event.stop))}if(this.map){this.addControlsToMap(b);this.redraw()}},addControlsToMap:function(b){var d;for(var c=0,a=b.length;c<a;c++){d=b[c];if(d.autoActivate===true){d.autoActivate=false;this.map.addControl(d);d.autoActivate=true}else{this.map.addControl(d);d.deactivate()}d.events.on({activate:this.iconOn,deactivate:this.iconOff})}},iconOn:function(){var a=this.panel_div;a.className=a.className.replace(/ItemInactive$/,"ItemActive")},iconOff:function(){var a=this.panel_div;a.className=a.className.replace(/ItemActive$/,"ItemInactive")},onClick:function(b,a){OpenLayers.Event.stop(a?a:window.event);this.activateControl(b)},onDoubleClick:function(b,a){OpenLayers.Event.stop(a?a:window.event)},getControlsBy:function(c,a){var d=(typeof a.test=="function");var b=OpenLayers.Array.filter(this.controls,function(e){return e[c]==a||(d&&a.test(e[c]))});return b},getControlsByName:function(a){return this.getControlsBy("name",a)},getControlsByClass:function(a){return this.getControlsBy("CLASS_NAME",a)},CLASS_NAME:"OpenLayers.Control.Panel"});OpenLayers.Control.ZoomIn=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_BUTTON,trigger:function(){this.map.zoomIn()},CLASS_NAME:"OpenLayers.Control.ZoomIn"});OpenLayers.Control.ZoomOut=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_BUTTON,trigger:function(){this.map.zoomOut()},CLASS_NAME:"OpenLayers.Control.ZoomOut"});OpenLayers.Control.ZoomToMaxExtent=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_BUTTON,trigger:function(){if(this.map){this.map.zoomToMaxExtent()}},CLASS_NAME:"OpenLayers.Control.ZoomToMaxExtent"});OpenLayers.Control.ZoomPanel=OpenLayers.Class(OpenLayers.Control.Panel,{initialize:function(a){OpenLayers.Control.Panel.prototype.initialize.apply(this,[a]);this.addControls([new OpenLayers.Control.ZoomIn(),new OpenLayers.Control.ZoomToMaxExtent(),new OpenLayers.Control.ZoomOut()])
},CLASS_NAME:"OpenLayers.Control.ZoomPanel"});OpenLayers.Layer.HTTPRequest=OpenLayers.Class(OpenLayers.Layer,{URL_HASH_FACTOR:(Math.sqrt(5)-1)/2,url:null,params:null,reproject:false,initialize:function(c,b,d,a){OpenLayers.Layer.prototype.initialize.apply(this,[c,a]);this.url=b;this.params=OpenLayers.Util.extend({},d)},destroy:function(){this.url=null;this.params=null;OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(a){if(a==null){a=new OpenLayers.Layer.HTTPRequest(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.prototype.clone.apply(this,[a]);return a},setUrl:function(a){this.url=a},mergeNewParams:function(b){this.params=OpenLayers.Util.extend(this.params,b);var a=this.redraw();if(this.map!=null){this.map.events.triggerEvent("changelayer",{layer:this,property:"params"})}return a},redraw:function(a){if(a){return this.mergeNewParams({_olSalt:Math.random()})}else{return OpenLayers.Layer.prototype.redraw.apply(this,[])}},selectUrl:function(e,d){var c=1;for(var b=0,a=e.length;b<a;b++){c*=e.charCodeAt(b)*this.URL_HASH_FACTOR;c-=Math.floor(c)}return d[Math.floor(c*d.length)]},getFullRequestString:function(g,d){var b=d||this.url;var f=OpenLayers.Util.extend({},this.params);f=OpenLayers.Util.extend(f,g);var e=OpenLayers.Util.getParameterString(f);if(OpenLayers.Util.isArray(b)){b=this.selectUrl(e,b)}var a=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(b));for(var c in f){if(c.toUpperCase() in a){delete f[c]}}e=OpenLayers.Util.getParameterString(f);return OpenLayers.Util.urlAppend(b,e)},CLASS_NAME:"OpenLayers.Layer.HTTPRequest"});OpenLayers.Layer.Grid=OpenLayers.Class(OpenLayers.Layer.HTTPRequest,{tileSize:null,tileOriginCorner:"bl",tileOrigin:null,tileOptions:null,grid:null,singleTile:false,ratio:1.5,buffer:0,numLoadingTiles:0,tileLoadingDelay:100,timerId:null,initialize:function(c,b,d,a){OpenLayers.Layer.HTTPRequest.prototype.initialize.apply(this,arguments);this.events.addEventType("tileloaded");this.grid=[];this._moveGriddedTiles=OpenLayers.Function.bind(this.moveGriddedTiles,this)},removeMap:function(a){if(this.timerId!=null){window.clearTimeout(this.timerId);this.timerId=null}},destroy:function(){this.clearGrid();this.grid=null;this.tileSize=null;OpenLayers.Layer.HTTPRequest.prototype.destroy.apply(this,arguments)},clearGrid:function(){if(this.grid){for(var f=0,b=this.grid.length;f<b;f++){var e=this.grid[f];for(var c=0,a=e.length;c<a;c++){var d=e[c];this.removeTileMonitoringHooks(d);d.destroy()}}this.grid=[]}},clone:function(a){if(a==null){a=new OpenLayers.Layer.Grid(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.HTTPRequest.prototype.clone.apply(this,[a]);if(this.tileSize!=null){a.tileSize=this.tileSize.clone()}a.grid=[];return a},moveTo:function(d,a,e){OpenLayers.Layer.HTTPRequest.prototype.moveTo.apply(this,arguments);d=d||this.map.getExtent();if(d!=null){var c=!this.grid.length||a;var b=this.getTilesBounds();if(this.singleTile){if(c||(!e&&!b.containsBounds(d))){this.initSingleTile(d)}}else{if(c||!b.containsBounds(d,true)){this.initGriddedTiles(d)}else{this.scheduleMoveGriddedTiles()}}}},moveByPx:function(b,a){if(!this.singleTile){this.scheduleMoveGriddedTiles()}},scheduleMoveGriddedTiles:function(){if(this.timerId!=null){window.clearTimeout(this.timerId)}this.timerId=window.setTimeout(this._moveGriddedTiles,this.tileLoadingDelay)},setTileSize:function(a){if(this.singleTile){a=this.map.getSize();a.h=parseInt(a.h*this.ratio);a.w=parseInt(a.w*this.ratio)}OpenLayers.Layer.HTTPRequest.prototype.setTileSize.apply(this,[a])},getGridBounds:function(){var a="The getGridBounds() function is deprecated. It will be removed in 3.0. Please use getTilesBounds() instead.";OpenLayers.Console.warn(a);return this.getTilesBounds()},getTilesBounds:function(){var e=null;if(this.grid.length){var a=this.grid.length-1;var d=this.grid[a][0];var b=this.grid[0].length-1;var c=this.grid[0][b];e=new OpenLayers.Bounds(d.bounds.left,d.bounds.bottom,c.bounds.right,c.bounds.top)}return e},initSingleTile:function(f){var a=f.getCenterLonLat();var h=f.getWidth()*this.ratio;var b=f.getHeight()*this.ratio;
var g=new OpenLayers.Bounds(a.lon-(h/2),a.lat-(b/2),a.lon+(h/2),a.lat+(b/2));var d=new OpenLayers.LonLat(g.left,g.top);var c=this.map.getLayerPxFromLonLat(d);if(!this.grid.length){this.grid[0]=[]}var e=this.grid[0][0];if(!e){e=this.addTile(g,c);this.addTileMonitoringHooks(e);e.draw();this.grid[0][0]=e}else{e.moveTo(g,c)}this.removeExcessTiles(1,1)},calculateGridLayout:function(a,n,e){var k=e*this.tileSize.w;var c=e*this.tileSize.h;var i=a.left-n.lon;var l=Math.floor(i/k)-this.buffer;var j=i/k-l;var f=-j*this.tileSize.w;var m=n.lon+l*k;var b=a.top-(n.lat+c);var h=Math.ceil(b/c)+this.buffer;var o=h-b/c;var d=-o*this.tileSize.h;var g=n.lat+h*c;return{tilelon:k,tilelat:c,tileoffsetlon:m,tileoffsetlat:g,tileoffsetx:f,tileoffsety:d}},getTileOrigin:function(){var b=this.tileOrigin;if(!b){var c=this.getMaxExtent();var a=({tl:["left","top"],tr:["right","top"],bl:["left","bottom"],br:["right","bottom"]})[this.tileOriginCorner];b=new OpenLayers.LonLat(c[a[0]],c[a[1]])}return b},initGriddedTiles:function(i){var g=this.map.getSize();var u=Math.ceil(g.h/this.tileSize.h)+Math.max(1,2*this.buffer);var w=Math.ceil(g.w/this.tileSize.w)+Math.max(1,2*this.buffer);var A=this.getTileOrigin();var q=this.map.getResolution();var p=this.calculateGridLayout(i,A,q);var f=Math.round(p.tileoffsetx);var c=Math.round(p.tileoffsety);var k=p.tileoffsetlon;var n=p.tileoffsetlat;var e=p.tilelon;var j=p.tilelat;this.origin=new OpenLayers.Pixel(f,c);var t=f;var v=k;var s=0;var a=parseInt(this.map.layerContainerDiv.style.left);var r=parseInt(this.map.layerContainerDiv.style.top);do{var h=this.grid[s++];if(!h){h=[];this.grid.push(h)}k=v;f=t;var d=0;do{var b=new OpenLayers.Bounds(k,n,k+e,n+j);var m=f;m-=a;var l=c;l-=r;var o=new OpenLayers.Pixel(m,l);var z=h[d++];if(!z){z=this.addTile(b,o);this.addTileMonitoringHooks(z);h.push(z)}else{z.moveTo(b,o,false)}k+=e;f+=this.tileSize.w}while((k<=i.right+e*this.buffer)||d<w);n-=j;c+=this.tileSize.h}while((n>=i.bottom-j*this.buffer)||s<u);this.removeExcessTiles(s,d);this.spiralTileLoad()},getMaxExtent:function(){return this.maxExtent},spiralTileLoad:function(){var b=[];var h=["right","down","left","up"];var g=0;var a=-1;var k=OpenLayers.Util.indexOf(h,"right");var l=0;while(l<h.length){var j=g;var c=a;switch(h[k]){case"right":c++;break;case"down":j++;break;case"left":c--;break;case"up":j--;break}var f=null;if((j<this.grid.length)&&(j>=0)&&(c<this.grid[0].length)&&(c>=0)){f=this.grid[j][c]}if((f!=null)&&(!f.queued)){b.unshift(f);f.queued=true;l=0;g=j;a=c}else{k=(k+1)%4;l++}}for(var d=0,e=b.length;d<e;d++){var f=b[d];f.draw();f.queued=false}},addTile:function(b,a){return new OpenLayers.Tile.Image(this,a,b,null,this.tileSize,this.tileOptions)},addTileMonitoringHooks:function(a){a.onLoadStart=function(){if(this.numLoadingTiles==0){this.events.triggerEvent("loadstart")}this.numLoadingTiles++};a.events.register("loadstart",this,a.onLoadStart);a.onLoadEnd=function(){this.numLoadingTiles--;this.events.triggerEvent("tileloaded");if(this.numLoadingTiles==0){this.events.triggerEvent("loadend")}};a.events.register("loadend",this,a.onLoadEnd);a.events.register("unload",this,a.onLoadEnd)},removeTileMonitoringHooks:function(a){a.unload();a.events.un({loadstart:a.onLoadStart,loadend:a.onLoadEnd,unload:a.onLoadEnd,scope:this})},moveGriddedTiles:function(){var d=true;var c=this.buffer||1;var b=this.grid[0][0].position;var a=parseInt(this.map.layerContainerDiv.style.left);var f=parseInt(this.map.layerContainerDiv.style.top);var e=b.add(a,f);if(e.x>-this.tileSize.w*(c-1)){this.shiftColumn(true)}else{if(e.x<-this.tileSize.w*c){this.shiftColumn(false)}else{if(e.y>-this.tileSize.h*(c-1)){this.shiftRow(true)}else{if(e.y<-this.tileSize.h*c){this.shiftRow(false)}else{d=false}}}}if(d){this.timerId=window.setTimeout(this._moveGriddedTiles,0)}},shiftRow:function(n){var c=(n)?0:(this.grid.length-1);var b=this.grid;var f=b[c];var e=this.map.getResolution();var h=(n)?-this.tileSize.h:this.tileSize.h;var g=e*-h;var m=(n)?b.pop():b.shift();for(var j=0,l=f.length;j<l;j++){var d=f[j];var a=d.bounds.clone();var k=d.position.clone();a.bottom=a.bottom+g;a.top=a.top+g;
k.y=k.y+h;m[j].moveTo(a,k)}if(n){b.unshift(m)}else{b.push(m)}},shiftColumn:function(m){var d=(m)?-this.tileSize.w:this.tileSize.w;var c=this.map.getResolution();var k=c*d;for(var e=0,g=this.grid.length;e<g;e++){var l=this.grid[e];var j=(m)?0:(l.length-1);var b=l[j];var a=b.bounds.clone();var f=b.position.clone();a.left=a.left+k;a.right=a.right+k;f.x=f.x+d;var h=m?this.grid[e].pop():this.grid[e].shift();h.moveTo(a,f);if(m){l.unshift(h)}else{l.push(h)}}},removeExcessTiles:function(e,c){while(this.grid.length>e){var f=this.grid.pop();for(var b=0,a=f.length;b<a;b++){var d=f[b];this.removeTileMonitoringHooks(d);d.destroy()}}while(this.grid[0].length>c){for(var b=0,a=this.grid.length;b<a;b++){var f=this.grid[b];var d=f.pop();this.removeTileMonitoringHooks(d);d.destroy()}}},onMapResize:function(){if(this.singleTile){this.clearGrid();this.setTileSize()}},getTileBounds:function(d){var c=this.maxExtent;var f=this.getResolution();var e=f*this.tileSize.w;var b=f*this.tileSize.h;var h=this.getLonLatFromViewPortPx(d);var a=c.left+(e*Math.floor((h.lon-c.left)/e));var g=c.bottom+(b*Math.floor((h.lat-c.bottom)/b));return new OpenLayers.Bounds(a,g,a+e,g+b)},CLASS_NAME:"OpenLayers.Layer.Grid"});OpenLayers.Tile=OpenLayers.Class({EVENT_TYPES:["loadstart","loadend","reload","unload"],events:null,id:null,layer:null,url:null,bounds:null,size:null,position:null,isLoading:false,initialize:function(e,a,f,c,d,b){this.layer=e;this.position=a.clone();this.bounds=f.clone();this.url=c;if(d){this.size=d.clone()}this.id=OpenLayers.Util.createUniqueID("Tile_");this.events=new OpenLayers.Events(this,null,this.EVENT_TYPES);OpenLayers.Util.extend(this,b)},unload:function(){if(this.isLoading){this.isLoading=false;this.events.triggerEvent("unload")}},destroy:function(){this.layer=null;this.bounds=null;this.size=null;this.position=null;this.events.destroy();this.events=null},clone:function(a){if(a==null){a=new OpenLayers.Tile(this.layer,this.position,this.bounds,this.url,this.size)}OpenLayers.Util.applyDefaults(a,this);return a},draw:function(){var a=this.layer.maxExtent;var b=(a&&this.bounds.intersectsBounds(a,false));this.shouldDraw=(b||this.layer.displayOutsideMaxExtent);this.clear();return this.shouldDraw},moveTo:function(b,a,c){if(c==null){c=true}this.bounds=b.clone();this.position=a.clone();if(c){this.draw()}},clear:function(){},getBoundsFromBaseLayer:function(a){var f=OpenLayers.i18n("reprojectDeprecated",{layerName:this.layer.name});OpenLayers.Console.warn(f);var d=this.layer.map.getLonLatFromLayerPx(a);var c=a.clone();c.x+=this.size.w;c.y+=this.size.h;var b=this.layer.map.getLonLatFromLayerPx(c);if(d.lon>b.lon){if(d.lon<0){d.lon=-180-(d.lon+180)}else{b.lon=180+b.lon+180}}var e=new OpenLayers.Bounds(d.lon,b.lat,b.lon,d.lat);return e},showTile:function(){if(this.shouldDraw){this.show()}},show:function(){},hide:function(){},CLASS_NAME:"OpenLayers.Tile"});OpenLayers.Tile.Image=OpenLayers.Class(OpenLayers.Tile,{url:null,imgDiv:null,frame:null,layerAlphaHack:null,isBackBuffer:false,isFirstDraw:true,backBufferTile:null,maxGetUrlLength:null,initialize:function(e,a,f,c,d,b){OpenLayers.Tile.prototype.initialize.apply(this,arguments);if(this.maxGetUrlLength!=null){OpenLayers.Util.extend(this,OpenLayers.Tile.Image.IFrame)}this.url=c;this.frame=document.createElement("div");this.frame.style.overflow="hidden";this.frame.style.position="absolute";this.layerAlphaHack=this.layer.alpha&&OpenLayers.Util.alphaHack()},destroy:function(){if(this.imgDiv!=null){this.removeImgDiv()}this.imgDiv=null;if((this.frame!=null)&&(this.frame.parentNode==this.layer.div)){this.layer.div.removeChild(this.frame)}this.frame=null;if(this.backBufferTile){this.backBufferTile.destroy();this.backBufferTile=null}this.layer.events.unregister("loadend",this,this.resetBackBuffer);OpenLayers.Tile.prototype.destroy.apply(this,arguments)},clone:function(a){if(a==null){a=new OpenLayers.Tile.Image(this.layer,this.position,this.bounds,this.url,this.size)}a=OpenLayers.Tile.prototype.clone.apply(this,[a]);a.imgDiv=null;return a},draw:function(){if(this.layer!=this.layer.map.baseLayer&&this.layer.reproject){this.bounds=this.getBoundsFromBaseLayer(this.position)
}var a=OpenLayers.Tile.prototype.draw.apply(this,arguments);if((OpenLayers.Util.indexOf(this.layer.SUPPORTED_TRANSITIONS,this.layer.transitionEffect)!=-1)||this.layer.singleTile){if(a){if(!this.backBufferTile){this.backBufferTile=this.clone();this.backBufferTile.hide();this.backBufferTile.isBackBuffer=true;this.events.register("loadend",this,this.resetBackBuffer);this.layer.events.register("loadend",this,this.resetBackBuffer)}this.startTransition()}else{if(this.backBufferTile){this.backBufferTile.clear()}}}else{if(a&&this.isFirstDraw){this.events.register("loadend",this,this.showTile);this.isFirstDraw=false}}if(!a){return false}if(this.isLoading){this.events.triggerEvent("reload")}else{this.isLoading=true;this.events.triggerEvent("loadstart")}return this.renderTile()},resetBackBuffer:function(){this.showTile();if(this.backBufferTile&&(this.isFirstDraw||!this.layer.numLoadingTiles)){this.isFirstDraw=false;var a=this.layer.maxExtent;var b=(a&&this.bounds.intersectsBounds(a,false));if(b){this.backBufferTile.position=this.position;this.backBufferTile.bounds=this.bounds;this.backBufferTile.size=this.size;this.backBufferTile.imageSize=this.layer.getImageSize(this.bounds)||this.size;this.backBufferTile.imageOffset=this.layer.imageOffset;this.backBufferTile.resolution=this.layer.getResolution();this.backBufferTile.renderTile()}this.backBufferTile.hide()}},renderTile:function(){if(this.layer.async){this.initImgDiv();this.layer.getURLasync(this.bounds,this,"url",this.positionImage)}else{this.url=this.layer.getURL(this.bounds);this.initImgDiv();this.positionImage()}return true},positionImage:function(){if(this.layer===null){return}OpenLayers.Util.modifyDOMElement(this.frame,null,this.position,this.size);var a=this.layer.getImageSize(this.bounds);if(this.layerAlphaHack){OpenLayers.Util.modifyAlphaImageDiv(this.imgDiv,null,null,a,this.url)}else{OpenLayers.Util.modifyDOMElement(this.imgDiv,null,null,a);this.imgDiv.src=this.url}},clear:function(){if(this.imgDiv){this.hide();if(OpenLayers.Tile.Image.useBlankTile){this.imgDiv.src=OpenLayers.Util.getImagesLocation()+"blank.gif"}}},initImgDiv:function(){if(this.imgDiv==null){var d=this.layer.imageOffset;var b=this.layer.getImageSize(this.bounds);if(this.layerAlphaHack){this.imgDiv=OpenLayers.Util.createAlphaImageDiv(null,d,b,null,"relative",null,null,null,true)}else{this.imgDiv=OpenLayers.Util.createImage(null,d,b,null,"relative",null,null,true)}if(OpenLayers.Util.isArray(this.layer.url)){this.imgDiv.urls=this.layer.url.slice()}this.imgDiv.className="olTileImage";this.frame.style.zIndex=this.isBackBuffer?0:1;this.frame.appendChild(this.imgDiv);this.layer.div.appendChild(this.frame);if(this.layer.opacity!=null){OpenLayers.Util.modifyDOMElement(this.imgDiv,null,null,null,null,null,null,this.layer.opacity)}this.imgDiv.map=this.layer.map;var c=function(){if(this.isLoading){this.isLoading=false;this.events.triggerEvent("loadend")}};if(this.layerAlphaHack){OpenLayers.Event.observe(this.imgDiv.childNodes[0],"load",OpenLayers.Function.bind(c,this))}else{OpenLayers.Event.observe(this.imgDiv,"load",OpenLayers.Function.bind(c,this))}var a=function(){if(this.imgDiv._attempts>OpenLayers.IMAGE_RELOAD_ATTEMPTS){c.call(this)}};OpenLayers.Event.observe(this.imgDiv,"error",OpenLayers.Function.bind(a,this))}this.imgDiv.viewRequestID=this.layer.map.viewRequestID},removeImgDiv:function(){OpenLayers.Event.stopObservingElement(this.imgDiv);if(this.imgDiv.parentNode==this.frame){this.frame.removeChild(this.imgDiv);this.imgDiv.map=null}this.imgDiv.urls=null;var a=this.imgDiv.firstChild;if(a){OpenLayers.Event.stopObservingElement(a);this.imgDiv.removeChild(a);delete a}else{this.imgDiv.src=OpenLayers.Util.getImagesLocation()+"blank.gif"}},checkImgURL:function(){if(this.layer){var a=this.layerAlphaHack?this.imgDiv.firstChild.src:this.imgDiv.src;if(!OpenLayers.Util.isEquivalentUrl(a,this.url)){this.hide()}}},startTransition:function(){if(!this.backBufferTile||!this.backBufferTile.imgDiv){return}var d=1;if(this.backBufferTile.resolution){d=this.backBufferTile.resolution/this.layer.getResolution()}if(d!=1){if(this.layer.transitionEffect=="resize"){var c=new OpenLayers.LonLat(this.backBufferTile.bounds.left,this.backBufferTile.bounds.top);
var b=new OpenLayers.Size(this.backBufferTile.size.w*d,this.backBufferTile.size.h*d);var a=this.layer.map.getLayerPxFromLonLat(c);OpenLayers.Util.modifyDOMElement(this.backBufferTile.frame,null,a,b);var e=this.backBufferTile.imageSize;e=new OpenLayers.Size(e.w*d,e.h*d);var f=this.backBufferTile.imageOffset;if(f){f=new OpenLayers.Pixel(f.x*d,f.y*d)}OpenLayers.Util.modifyDOMElement(this.backBufferTile.imgDiv,null,f,e);this.backBufferTile.show()}}else{if(this.layer.singleTile){this.backBufferTile.show()}else{this.backBufferTile.hide()}}},show:function(){this.frame.style.display="";if(OpenLayers.Util.indexOf(this.layer.SUPPORTED_TRANSITIONS,this.layer.transitionEffect)!=-1){if(OpenLayers.IS_GECKO===true){this.frame.scrollLeft=this.frame.scrollLeft}}},hide:function(){this.frame.style.display="none"},CLASS_NAME:"OpenLayers.Tile.Image"});OpenLayers.Tile.Image.useBlankTile=(OpenLayers.BROWSER_NAME=="safari"||OpenLayers.BROWSER_NAME=="opera");OpenLayers.Format.ArcXML=OpenLayers.Class(OpenLayers.Format.XML,{fontStyleKeys:["antialiasing","blockout","font","fontcolor","fontsize","fontstyle","glowing","interval","outline","printmode","shadow","transparency"],request:null,response:null,initialize:function(a){this.request=new OpenLayers.Format.ArcXML.Request();this.response=new OpenLayers.Format.ArcXML.Response();if(a){if(a.requesttype=="feature"){this.request.get_image=null;var c=this.request.get_feature.query;this.addCoordSys(c.featurecoordsys,a.featureCoordSys);this.addCoordSys(c.filtercoordsys,a.filterCoordSys);if(a.polygon){c.isspatial=true;c.spatialfilter.polygon=a.polygon}else{if(a.envelope){c.isspatial=true;c.spatialfilter.envelope={minx:0,miny:0,maxx:0,maxy:0};this.parseEnvelope(c.spatialfilter.envelope,a.envelope)}}}else{if(a.requesttype=="image"){this.request.get_feature=null;var b=this.request.get_image.properties;this.parseEnvelope(b.envelope,a.envelope);this.addLayers(b.layerlist,a.layers);this.addImageSize(b.imagesize,a.tileSize);this.addCoordSys(b.featurecoordsys,a.featureCoordSys);this.addCoordSys(b.filtercoordsys,a.filterCoordSys)}else{this.request=null}}}OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},parseEnvelope:function(b,a){if(a&&a.length==4){b.minx=a[0];b.miny=a[1];b.maxx=a[2];b.maxy=a[3]}},addLayers:function(d,c){for(var b=0,a=c.length;b<a;b++){d.push(c[b])}},addImageSize:function(b,a){if(a!==null){b.width=a.w;b.height=a.h;b.printwidth=a.w;b.printheight=a.h}},addCoordSys:function(a,b){if(typeof b=="string"){a.id=parseInt(b);a.string=b}else{if(typeof b=="object"&&b.proj!==null){a.id=b.proj.srsProjNumber;a.string=b.proj.srsCode}else{a=b}}},iserror:function(c){var a=null;if(!c){a=(this.response.error!=="")}else{c=OpenLayers.Format.XML.prototype.read.apply(this,[c]);var b=c.documentElement.getElementsByTagName("ERROR");a=(b!==null&&b.length>0)}return a},read:function(f){if(typeof f=="string"){f=OpenLayers.Format.XML.prototype.read.apply(this,[f])}var a=null;if(f&&f.documentElement){if(f.documentElement.nodeName=="ARCXML"){a=f.documentElement}else{a=f.documentElement.getElementsByTagName("ARCXML")[0]}}if(!a||a.firstChild.nodeName==="parsererror"){var c,e;try{c=f.firstChild.nodeValue;e=f.firstChild.childNodes[1].firstChild.nodeValue}catch(d){}throw {message:"Error parsing the ArcXML request",error:c,source:e}}var b=this.parseResponse(a);return b},write:function(c){if(!c){c=this.request}var q=this.createElementNS("","ARCXML");q.setAttribute("version","1.1");var h=this.createElementNS("","REQUEST");if(c.get_image!=null){var k=this.createElementNS("","GET_IMAGE");h.appendChild(k);var j=this.createElementNS("","PROPERTIES");k.appendChild(j);var b=c.get_image.properties;if(b.featurecoordsys!=null){var o=this.createElementNS("","FEATURECOORDSYS");j.appendChild(o);if(b.featurecoordsys.id===0){o.setAttribute("string",b.featurecoordsys.string)}else{o.setAttribute("id",b.featurecoordsys.id)}}if(b.filtercoordsys!=null){var m=this.createElementNS("","FILTERCOORDSYS");j.appendChild(m);if(b.filtercoordsys.id===0){m.setAttribute("string",b.filtercoordsys.string)}else{m.setAttribute("id",b.filtercoordsys.id)}}if(b.envelope!=null){var u=this.createElementNS("","ENVELOPE");
j.appendChild(u);u.setAttribute("minx",b.envelope.minx);u.setAttribute("miny",b.envelope.miny);u.setAttribute("maxx",b.envelope.maxx);u.setAttribute("maxy",b.envelope.maxy)}var s=this.createElementNS("","IMAGESIZE");j.appendChild(s);s.setAttribute("height",b.imagesize.height);s.setAttribute("width",b.imagesize.width);if(b.imagesize.height!=b.imagesize.printheight||b.imagesize.width!=b.imagesize.printwidth){s.setAttribute("printheight",b.imagesize.printheight);s.setArrtibute("printwidth",b.imagesize.printwidth)}if(b.background!=null){var a=this.createElementNS("","BACKGROUND");j.appendChild(a);a.setAttribute("color",b.background.color.r+","+b.background.color.g+","+b.background.color.b);if(b.background.transcolor!==null){a.setAttribute("transcolor",b.background.transcolor.r+","+b.background.transcolor.g+","+b.background.transcolor.b)}}if(b.layerlist!=null&&b.layerlist.length>0){var g=this.createElementNS("","LAYERLIST");j.appendChild(g);for(var p=0;p<b.layerlist.length;p++){var n=this.createElementNS("","LAYERDEF");g.appendChild(n);n.setAttribute("id",b.layerlist[p].id);n.setAttribute("visible",b.layerlist[p].visible);if(typeof b.layerlist[p].query=="object"){var f=b.layerlist[p].query;if(f.where.length<0){continue}var x=null;if(typeof f.spatialfilter=="boolean"&&f.spatialfilter){x=this.createElementNS("","SPATIALQUERY")}else{x=this.createElementNS("","QUERY")}x.setAttribute("where",f.where);if(typeof f.accuracy=="number"&&f.accuracy>0){x.setAttribute("accuracy",f.accuracy)}if(typeof f.featurelimit=="number"&&f.featurelimit<2000){x.setAttribute("featurelimit",f.featurelimit)}if(typeof f.subfields=="string"&&f.subfields!="#ALL#"){x.setAttribute("subfields",f.subfields)}if(typeof f.joinexpression=="string"&&f.joinexpression.length>0){x.setAttribute("joinexpression",f.joinexpression)}if(typeof f.jointables=="string"&&f.jointables.length>0){x.setAttribute("jointables",f.jointables)}n.appendChild(x)}if(typeof b.layerlist[p].renderer=="object"){this.addRenderer(n,b.layerlist[p].renderer)}}}}else{if(c.get_feature!=null){var k=this.createElementNS("","GET_FEATURES");k.setAttribute("outputmode","newxml");k.setAttribute("checkesc","true");if(c.get_feature.geometry){k.setAttribute("geometry",c.get_feature.geometry)}else{k.setAttribute("geometry","false")}if(c.get_feature.compact){k.setAttribute("compact",c.get_feature.compact)}if(c.get_feature.featurelimit=="number"){k.setAttribute("featurelimit",c.get_feature.featurelimit)}k.setAttribute("globalenvelope","true");h.appendChild(k);if(c.get_feature.layer!=null&&c.get_feature.layer.length>0){var v=this.createElementNS("","LAYER");v.setAttribute("id",c.get_feature.layer);k.appendChild(v)}var r=c.get_feature.query;if(r!=null){var t=null;if(r.isspatial){t=this.createElementNS("","SPATIALQUERY")}else{t=this.createElementNS("","QUERY")}k.appendChild(t);if(typeof r.accuracy=="number"){t.setAttribute("accuracy",r.accuracy)}if(r.featurecoordsys!=null){var e=this.createElementNS("","FEATURECOORDSYS");if(r.featurecoordsys.id==0){e.setAttribute("string",r.featurecoordsys.string)}else{e.setAttribute("id",r.featurecoordsys.id)}t.appendChild(e)}if(r.filtercoordsys!=null){var d=this.createElementNS("","FILTERCOORDSYS");if(r.filtercoordsys.id===0){d.setAttribute("string",r.filtercoordsys.string)}else{d.setAttribute("id",r.filtercoordsys.id)}t.appendChild(d)}if(r.buffer>0){var l=this.createElementNS("","BUFFER");l.setAttribute("distance",r.buffer);t.appendChild(l)}if(r.isspatial){var i=this.createElementNS("","SPATIALFILTER");i.setAttribute("relation",r.spatialfilter.relation);t.appendChild(i);if(r.spatialfilter.envelope){var w=this.createElementNS("","ENVELOPE");w.setAttribute("minx",r.spatialfilter.envelope.minx);w.setAttribute("miny",r.spatialfilter.envelope.miny);w.setAttribute("maxx",r.spatialfilter.envelope.maxx);w.setAttribute("maxy",r.spatialfilter.envelope.maxy);i.appendChild(w)}else{if(typeof r.spatialfilter.polygon=="object"){i.appendChild(this.writePolygonGeometry(r.spatialfilter.polygon))}}}if(r.where!=null&&r.where.length>0){t.setAttribute("where",r.where)}}}}q.appendChild(h);return OpenLayers.Format.XML.prototype.write.apply(this,[q])
},addGroupRenderer:function(b,a){var e=this.createElementNS("","GROUPRENDERER");b.appendChild(e);for(var c=0;c<a.length;c++){var d=a[c];this.addRenderer(e,d)}},addRenderer:function(c,b){if(OpenLayers.Util.isArray(b)){this.addGroupRenderer(c,b)}else{var a=this.createElementNS("",b.type.toUpperCase()+"RENDERER");c.appendChild(a);if(a.tagName=="VALUEMAPRENDERER"){this.addValueMapRenderer(a,b)}else{if(a.tagName=="VALUEMAPLABELRENDERER"){this.addValueMapLabelRenderer(a,b)}else{if(a.tagName=="SIMPLELABELRENDERER"){this.addSimpleLabelRenderer(a,b)}else{if(a.tagName=="SCALEDEPENDENTRENDERER"){this.addScaleDependentRenderer(a,b)}}}}}},addScaleDependentRenderer:function(a,b){if(typeof b.lower=="string"||typeof b.lower=="number"){a.setAttribute("lower",b.lower)}if(typeof b.upper=="string"||typeof b.upper=="number"){a.setAttribute("upper",b.upper)}this.addRenderer(a,b.renderer)},addValueMapLabelRenderer:function(h,g){h.setAttribute("lookupfield",g.lookupfield);h.setAttribute("labelfield",g.labelfield);if(typeof g.exacts=="object"){for(var a=0,k=g.exacts.length;a<k;a++){var e=g.exacts[a];var d=this.createElementNS("","EXACT");if(typeof e.value=="string"){d.setAttribute("value",e.value)}if(typeof e.label=="string"){d.setAttribute("label",e.label)}if(typeof e.method=="string"){d.setAttribute("method",e.method)}h.appendChild(d);if(typeof e.symbol=="object"){var b=null;if(e.symbol.type=="text"){b=this.createElementNS("","TEXTSYMBOL")}if(b!=null){var l=this.fontStyleKeys;for(var c=0,f=l.length;c<f;c++){var j=l[c];if(e.symbol[j]){b.setAttribute(j,e.symbol[j])}}d.appendChild(b)}}}}},addValueMapRenderer:function(j,i){j.setAttribute("lookupfield",i.lookupfield);if(typeof i.ranges=="object"){for(var a=0,b=i.ranges.length;a<b;a++){var g=i.ranges[a];var e=this.createElementNS("","RANGE");e.setAttribute("lower",g.lower);e.setAttribute("upper",g.upper);j.appendChild(e);if(typeof g.symbol=="object"){var d=null;if(g.symbol.type=="simplepolygon"){d=this.createElementNS("","SIMPLEPOLYGONSYMBOL")}if(d!=null){if(typeof g.symbol.boundarycolor=="string"){d.setAttribute("boundarycolor",g.symbol.boundarycolor)}if(typeof g.symbol.fillcolor=="string"){d.setAttribute("fillcolor",g.symbol.fillcolor)}if(typeof g.symbol.filltransparency=="number"){d.setAttribute("filltransparency",g.symbol.filltransparency)}e.appendChild(d)}}}}else{if(typeof i.exacts=="object"){for(var c=0,k=i.exacts.length;c<k;c++){var h=i.exacts[c];var f=this.createElementNS("","EXACT");if(typeof h.value=="string"){f.setAttribute("value",h.value)}if(typeof h.label=="string"){f.setAttribute("label",h.label)}if(typeof h.method=="string"){f.setAttribute("method",h.method)}j.appendChild(f);if(typeof h.symbol=="object"){var d=null;if(h.symbol.type=="simplemarker"){d=this.createElementNS("","SIMPLEMARKERSYMBOL")}if(d!=null){if(typeof h.symbol.antialiasing=="string"){d.setAttribute("antialiasing",h.symbol.antialiasing)}if(typeof h.symbol.color=="string"){d.setAttribute("color",h.symbol.color)}if(typeof h.symbol.outline=="string"){d.setAttribute("outline",h.symbol.outline)}if(typeof h.symbol.overlap=="string"){d.setAttribute("overlap",h.symbol.overlap)}if(typeof h.symbol.shadow=="string"){d.setAttribute("shadow",h.symbol.shadow)}if(typeof h.symbol.transparency=="number"){d.setAttribute("transparency",h.symbol.transparency)}if(typeof h.symbol.usecentroid=="string"){d.setAttribute("usecentroid",h.symbol.usecentroid)}if(typeof h.symbol.width=="number"){d.setAttribute("width",h.symbol.width)}f.appendChild(d)}}}}}},addSimpleLabelRenderer:function(f,h){f.setAttribute("field",h.field);var e=["featureweight","howmanylabels","labelbufferratio","labelpriorities","labelweight","linelabelposition","rotationalangles"];for(var d=0,a=e.length;d<a;d++){var c=e[d];if(h[c]){f.setAttribute(c,h[c])}}if(h.symbol.type=="text"){var g=h.symbol;var b=this.createElementNS("","TEXTSYMBOL");f.appendChild(b);var e=this.fontStyleKeys;for(var d=0,a=e.length;d<a;d++){var c=e[d];if(g[c]){b.setAttribute(c,h[c])}}}},writePolygonGeometry:function(g){if(!(g instanceof OpenLayers.Geometry.Polygon)){throw {message:"Cannot write polygon geometry to ArcXML with an "+g.CLASS_NAME+" object.",geometry:g}
}var b=this.createElementNS("","POLYGON");for(var e=0,c=g.components.length;e<c;e++){var a=g.components[e];var i=this.createElementNS("","RING");for(var d=0,j=a.components.length;d<j;d++){var h=a.components[d];var f=this.createElementNS("","POINT");f.setAttribute("x",h.x);f.setAttribute("y",h.y);i.appendChild(f)}b.appendChild(i)}return b},parseResponse:function(z){if(typeof z=="string"){var n=new OpenLayers.Format.XML();z=n.read(z)}var a=new OpenLayers.Format.ArcXML.Response();var A=z.getElementsByTagName("ERROR");if(A!=null&&A.length>0){a.error=this.getChildValue(A,"Unknown error.")}else{var r=z.getElementsByTagName("RESPONSE");if(r==null||r.length==0){a.error="No RESPONSE tag found in ArcXML response.";return a}var q=r[0].firstChild.nodeName;if(q=="#text"){q=r[0].firstChild.nextSibling.nodeName}if(q=="IMAGE"){var c=z.getElementsByTagName("ENVELOPE");var w=z.getElementsByTagName("OUTPUT");if(c==null||c.length==0){a.error="No ENVELOPE tag found in ArcXML response."}else{if(w==null||w.length==0){a.error="No OUTPUT tag found in ArcXML response."}else{var u=this.parseAttributes(c[0]);var v=this.parseAttributes(w[0]);if(typeof v.type=="string"){a.image={envelope:u,output:{type:v.type,data:this.getChildValue(w[0])}}}else{a.image={envelope:u,output:v}}}}}else{if(q=="FEATURES"){var i=r[0].getElementsByTagName("FEATURES");var p=i[0].getElementsByTagName("FEATURECOUNT");a.features.featurecount=p[0].getAttribute("count");if(a.features.featurecount>0){var d=i[0].getElementsByTagName("ENVELOPE");a.features.envelope=this.parseAttributes(d[0],typeof(0));var x=i[0].getElementsByTagName("FEATURE");for(var m=0;m<x.length;m++){var h=new OpenLayers.Feature.Vector();var s=x[m].getElementsByTagName("FIELD");for(var f=0;f<s.length;f++){var g=s[f].getAttribute("name");var k=s[f].getAttribute("value");h.attributes[g]=k}var t=x[m].getElementsByTagName("POLYGON");if(t.length>0){var j=t[0].getElementsByTagName("RING");var e=[];for(var o=0;o<j.length;o++){var y=[];y.push(this.parsePointGeometry(j[o]));var l=j[o].getElementsByTagName("HOLE");for(var b=0;b<l.length;b++){y.push(this.parsePointGeometry(l[b]))}l=null;e.push(new OpenLayers.Geometry.Polygon(y));y=null}j=null;if(e.length==1){h.geometry=e[0]}else{h.geometry=new OpenLayers.Geometry.MultiPolygon(e)}}a.features.feature.push(h)}}}else{a.error="Unidentified response type."}}}return a},parseAttributes:function(d,c){var b={};for(var a=0;a<d.attributes.length;a++){if(c=="number"){b[d.attributes[a].nodeName]=parseFloat(d.attributes[a].nodeValue)}else{b[d.attributes[a].nodeName]=d.attributes[a].nodeValue}}return b},parsePointGeometry:function(d){var b=[];var e=d.getElementsByTagName("COORDS");if(e.length>0){var f=this.getChildValue(e[0]);f=f.split(/;/);for(var h=0;h<f.length;h++){var g=f[h].split(/ /);b.push(new OpenLayers.Geometry.Point(parseFloat(g[0]),parseFloat(g[1])))}e=null}else{var a=d.getElementsByTagName("POINT");if(a.length>0){for(var c=0;c<a.length;c++){b.push(new OpenLayers.Geometry.Point(parseFloat(a[c].getAttribute("x")),parseFloat(a[c].getAttribute("y"))))}}a=null}return new OpenLayers.Geometry.LinearRing(b)},CLASS_NAME:"OpenLayers.Format.ArcXML"});OpenLayers.Format.ArcXML.Request=OpenLayers.Class({initialize:function(b){var a={get_image:{properties:{background:null,draw:true,envelope:{minx:0,miny:0,maxx:0,maxy:0},featurecoordsys:{id:0,string:"",datumtransformid:0,datumtransformstring:""},filtercoordsys:{id:0,string:"",datumtransformid:0,datumtransformstring:""},imagesize:{height:0,width:0,dpi:96,printheight:0,printwidth:0,scalesymbols:false},layerlist:[],output:{baseurl:"",legendbaseurl:"",legendname:"",legendpath:"",legendurl:"",name:"",path:"",type:"jpg",url:""}}},get_feature:{layer:"",query:{isspatial:false,featurecoordsys:{id:0,string:"",datumtransformid:0,datumtransformstring:""},filtercoordsys:{id:0,string:"",datumtransformid:0,datumtransformstring:""},buffer:0,where:"",spatialfilter:{relation:"envelope_intersection",envelope:null}}},environment:{separators:{cs:" ",ts:";"}},layer:[],workspaces:[]};return OpenLayers.Util.extend(this,a)},CLASS_NAME:"OpenLayers.Format.ArcXML.Request"});
OpenLayers.Format.ArcXML.Response=OpenLayers.Class({initialize:function(b){var a={image:{envelope:null,output:""},features:{featurecount:0,envelope:null,feature:[]},error:""};return OpenLayers.Util.extend(this,a)},CLASS_NAME:"OpenLayers.Format.ArcXML.Response"});OpenLayers.Layer.ArcIMS=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{ClientVersion:"9.2",ServiceName:""},tileSize:null,featureCoordSys:"4326",filterCoordSys:"4326",layers:null,async:true,name:"ArcIMS",isBaseLayer:true,DEFAULT_OPTIONS:{tileSize:new OpenLayers.Size(512,512),featureCoordSys:"4326",filterCoordSys:"4326",layers:null,isBaseLayer:true,async:true,name:"ArcIMS"},initialize:function(c,b,a){this.tileSize=new OpenLayers.Size(512,512);this.params=OpenLayers.Util.applyDefaults({ServiceName:a.serviceName},this.DEFAULT_PARAMS);this.options=OpenLayers.Util.applyDefaults(a,this.DEFAULT_OPTIONS);OpenLayers.Layer.Grid.prototype.initialize.apply(this,[c,b,this.params,a]);if(this.transparent){if(!this.isBaseLayer){this.isBaseLayer=false}if(this.format=="image/jpeg"){this.format=OpenLayers.Util.alphaHack()?"image/gif":"image/png"}}if(this.options.layers===null){this.options.layers=[]}},destroy:function(){OpenLayers.Layer.Grid.prototype.destroy.apply(this,arguments)},getURL:function(d){var a="";d=this.adjustBounds(d);var c=new OpenLayers.Format.ArcXML(OpenLayers.Util.extend(this.options,{requesttype:"image",envelope:d.toArray(),tileSize:this.tileSize}));var b=new OpenLayers.Request.POST({url:this.getFullRequestString(),data:c.write(),async:false});if(b!=null){var f=b.responseXML;if(!f||!f.documentElement){f=b.responseText}var e=new OpenLayers.Format.ArcXML();var g=e.read(f);a=this.getUrlOrImage(g.image.output)}return a},getURLasync:function(c,a,e,d){c=this.adjustBounds(c);var b=new OpenLayers.Format.ArcXML(OpenLayers.Util.extend(this.options,{requesttype:"image",envelope:c.toArray(),tileSize:this.tileSize}));OpenLayers.Request.POST({url:this.getFullRequestString(),async:true,data:b.write(),callback:function(f){var h=f.responseXML;if(!h||!h.documentElement){h=f.responseText}var g=new OpenLayers.Format.ArcXML();var i=g.read(h);a[e]=this.getUrlOrImage(i.image.output);d.apply(a)},scope:this})},getUrlOrImage:function(a){var b="";if(a.url){b=a.url}else{if(a.data){b="data:image/"+a.type+";base64,"+a.data}}return b},setLayerQuery:function(c,a){for(var b=0;b<this.options.layers.length;b++){if(c==this.options.layers[b].id){this.options.layers[b].query=a;return}}this.options.layers.push({id:c,visible:true,query:a})},getFeatureInfo:function(h,f,k){var b=k.buffer||1;var i=k.callback||function(){};var j=k.scope||window;var a={};OpenLayers.Util.extend(a,this.options);a.requesttype="feature";if(h instanceof OpenLayers.LonLat){a.polygon=null;a.envelope=[h.lon-b,h.lat-b,h.lon+b,h.lat+b]}else{if(h instanceof OpenLayers.Geometry.Polygon){a.envelope=null;a.polygon=h}}var e=new OpenLayers.Format.ArcXML(a);OpenLayers.Util.extend(e.request.get_feature,k);e.request.get_feature.layer=f.id;if(typeof f.query.accuracy=="number"){e.request.get_feature.query.accuracy=f.query.accuracy}else{var g=this.map.getCenter();var d=this.map.getViewPortPxFromLonLat(g);d.x++;var c=this.map.getLonLatFromPixel(d);e.request.get_feature.query.accuracy=c.lon-g.lon}e.request.get_feature.query.where=f.query.where;e.request.get_feature.query.spatialfilter.relation="area_intersection";OpenLayers.Request.POST({url:this.getFullRequestString({CustomService:"Query"}),data:e.write(),callback:function(m){var l=e.parseResponse(m.responseText);if(!e.iserror()){i.call(j,l.features)}else{i.call(j,null)}}})},clone:function(a){if(a==null){a=new OpenLayers.Layer.ArcIMS(this.name,this.url,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},CLASS_NAME:"OpenLayers.Layer.ArcIMS"});OpenLayers.Lang.te=OpenLayers.Util.applyDefaults({Permalink:"స్థిరలింకు",W:"ప",E:"తూ",N:"ఉ",S:"ద"});OpenLayers.Control.PanZoom=OpenLayers.Class(OpenLayers.Control,{slideFactor:50,slideRatio:null,buttons:null,position:null,initialize:function(a){this.position=new OpenLayers.Pixel(OpenLayers.Control.PanZoom.X,OpenLayers.Control.PanZoom.Y);
OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.removeButtons();this.buttons=null;this.position=null;OpenLayers.Control.prototype.destroy.apply(this,arguments)},draw:function(b){OpenLayers.Control.prototype.draw.apply(this,arguments);b=this.position;this.buttons=[];var c=new OpenLayers.Size(18,18);var a=new OpenLayers.Pixel(b.x+c.w/2,b.y);this._addButton("panup","north-mini.png",a,c);b.y=a.y+c.h;this._addButton("panleft","west-mini.png",b,c);this._addButton("panright","east-mini.png",b.add(c.w,0),c);this._addButton("pandown","south-mini.png",a.add(0,c.h*2),c);this._addButton("zoomin","zoom-plus-mini.png",a.add(0,c.h*3+5),c);this._addButton("zoomworld","zoom-world-mini.png",a.add(0,c.h*4+5),c);this._addButton("zoomout","zoom-minus-mini.png",a.add(0,c.h*5+5),c);return this.div},_addButton:function(a,d,i,g){var f=OpenLayers.Util.getImagesLocation()+d;var b=OpenLayers.Util.createAlphaImageDiv(this.id+"_"+a,i,g,f,"absolute");b.style.cursor="pointer";this.div.appendChild(b);OpenLayers.Event.observe(b,"mousedown",OpenLayers.Function.bindAsEventListener(this.buttonDown,b));OpenLayers.Event.observe(b,"dblclick",OpenLayers.Function.bindAsEventListener(this.doubleClick,b));OpenLayers.Event.observe(b,"click",OpenLayers.Function.bindAsEventListener(this.doubleClick,b));b.action=a;b.map=this.map;if(!this.slideRatio){var c=this.slideFactor;var e=function(){return c}}else{var h=this.slideRatio;var e=function(j){return this.map.getSize()[j]*h}}b.getSlideFactor=e;this.buttons.push(b);return b},_removeButton:function(a){OpenLayers.Event.stopObservingElement(a);a.map=null;a.getSlideFactor=null;this.div.removeChild(a);OpenLayers.Util.removeItem(this.buttons,a)},removeButtons:function(){for(var a=this.buttons.length-1;a>=0;--a){this._removeButton(this.buttons[a])}},doubleClick:function(a){OpenLayers.Event.stop(a);return false},buttonDown:function(a){if(!OpenLayers.Event.isLeftClick(a)){return}switch(this.action){case"panup":this.map.pan(0,-this.getSlideFactor("h"));break;case"pandown":this.map.pan(0,this.getSlideFactor("h"));break;case"panleft":this.map.pan(-this.getSlideFactor("w"),0);break;case"panright":this.map.pan(this.getSlideFactor("w"),0);break;case"zoomin":this.map.zoomIn();break;case"zoomout":this.map.zoomOut();break;case"zoomworld":this.map.zoomToMaxExtent();break}OpenLayers.Event.stop(a)},CLASS_NAME:"OpenLayers.Control.PanZoom"});OpenLayers.Control.PanZoom.X=4;OpenLayers.Control.PanZoom.Y=4;OpenLayers.Control.PanZoomBar=OpenLayers.Class(OpenLayers.Control.PanZoom,{zoomStopWidth:18,zoomStopHeight:11,slider:null,sliderEvents:null,zoombarDiv:null,divEvents:null,zoomWorldIcon:false,panIcons:true,forceFixedZoomLevel:false,mouseDragStart:null,deltaY:null,zoomStart:null,destroy:function(){this._removeZoomBar();this.map.events.un({changebaselayer:this.redraw,scope:this});OpenLayers.Control.PanZoom.prototype.destroy.apply(this,arguments);delete this.mouseDragStart;delete this.zoomStart},setMap:function(a){OpenLayers.Control.PanZoom.prototype.setMap.apply(this,arguments);this.map.events.register("changebaselayer",this,this.redraw)},redraw:function(){if(this.div!=null){this.removeButtons();this._removeZoomBar()}this.draw()},draw:function(b){OpenLayers.Control.prototype.draw.apply(this,arguments);b=this.position.clone();this.buttons=[];var d=new OpenLayers.Size(18,18);if(this.panIcons){var a=new OpenLayers.Pixel(b.x+d.w/2,b.y);var c=d.w;if(this.zoomWorldIcon){a=new OpenLayers.Pixel(b.x+d.w,b.y)}this._addButton("panup","north-mini.png",a,d);b.y=a.y+d.h;this._addButton("panleft","west-mini.png",b,d);if(this.zoomWorldIcon){this._addButton("zoomworld","zoom-world-mini.png",b.add(d.w,0),d);c*=2}this._addButton("panright","east-mini.png",b.add(c,0),d);this._addButton("pandown","south-mini.png",a.add(0,d.h*2),d);this._addButton("zoomin","zoom-plus-mini.png",a.add(0,d.h*3+5),d);a=this._addZoomBar(a.add(0,d.h*4+5));this._addButton("zoomout","zoom-minus-mini.png",a,d)}else{this._addButton("zoomin","zoom-plus-mini.png",b,d);a=this._addZoomBar(b.add(0,d.h));this._addButton("zoomout","zoom-minus-mini.png",a,d);if(this.zoomWorldIcon){a=a.add(0,d.h+3);
this._addButton("zoomworld","zoom-world-mini.png",a,d)}}return this.div},_addZoomBar:function(a){var e=OpenLayers.Util.getImagesLocation();var g=this.id+"_"+this.map.id;var b=this.map.getNumZoomLevels()-1-this.map.getZoom();var c=OpenLayers.Util.createAlphaImageDiv(g,a.add(-1,b*this.zoomStopHeight),new OpenLayers.Size(20,9),e+"slider.png","absolute");c.style.cursor="move";this.slider=c;this.sliderEvents=new OpenLayers.Events(this,c,null,true,{includeXY:true});this.sliderEvents.on({touchstart:this.zoomBarDown,touchmove:this.zoomBarDrag,touchend:this.zoomBarUp,mousedown:this.zoomBarDown,mousemove:this.zoomBarDrag,mouseup:this.zoomBarUp,dblclick:this.doubleClick,click:this.doubleClick});var d=new OpenLayers.Size();d.h=this.zoomStopHeight*this.map.getNumZoomLevels();d.w=this.zoomStopWidth;var f=null;if(OpenLayers.Util.alphaHack()){var g=this.id+"_"+this.map.id;f=OpenLayers.Util.createAlphaImageDiv(g,a,new OpenLayers.Size(d.w,this.zoomStopHeight),e+"zoombar.png","absolute",null,"crop");f.style.height=d.h+"px"}else{f=OpenLayers.Util.createDiv("OpenLayers_Control_PanZoomBar_Zoombar"+this.map.id,a,d,e+"zoombar.png")}f.style.cursor="pointer";this.zoombarDiv=f;this.divEvents=new OpenLayers.Events(this,f,null,true,{includeXY:true});this.divEvents.on({touchmove:this.passEventToSlider,mousedown:this.divClick,mousemove:this.passEventToSlider,dblclick:this.doubleClick,click:this.doubleClick});this.div.appendChild(f);this.startTop=parseInt(f.style.top);this.div.appendChild(c);this.map.events.register("zoomend",this,this.moveZoomBar);a=a.add(0,this.zoomStopHeight*this.map.getNumZoomLevels());return a},_removeZoomBar:function(){this.sliderEvents.un({touchmove:this.zoomBarDrag,mousedown:this.zoomBarDown,mousemove:this.zoomBarDrag,mouseup:this.zoomBarUp,dblclick:this.doubleClick,click:this.doubleClick});this.sliderEvents.destroy();this.divEvents.un({touchmove:this.passEventToSlider,mousedown:this.divClick,mousemove:this.passEventToSlider,dblclick:this.doubleClick,click:this.doubleClick});this.divEvents.destroy();this.div.removeChild(this.zoombarDiv);this.zoombarDiv=null;this.div.removeChild(this.slider);this.slider=null;this.map.events.unregister("zoomend",this,this.moveZoomBar)},passEventToSlider:function(a){this.sliderEvents.handleBrowserEvent(a)},divClick:function(a){if(!OpenLayers.Event.isLeftClick(a)){return}var c=a.xy.y/this.zoomStopHeight;if(this.forceFixedZoomLevel||!this.map.fractionalZoom){c=Math.floor(c)}var b=(this.map.getNumZoomLevels()-1)-c;b=Math.min(Math.max(b,0),this.map.getNumZoomLevels()-1);this.map.zoomTo(b);OpenLayers.Event.stop(a)},zoomBarDown:function(a){if(!OpenLayers.Event.isLeftClick(a)&&!OpenLayers.Event.isSingleTouch(a)){return}this.map.events.on({touchmove:this.passEventToSlider,mousemove:this.passEventToSlider,mouseup:this.passEventToSlider,scope:this});this.mouseDragStart=a.xy.clone();this.zoomStart=a.xy.clone();this.div.style.cursor="move";this.zoombarDiv.offsets=null;OpenLayers.Event.stop(a)},zoomBarDrag:function(b){if(this.mouseDragStart!=null){var a=this.mouseDragStart.y-b.xy.y;var d=OpenLayers.Util.pagePosition(this.zoombarDiv);if((b.clientY-d[1])>0&&(b.clientY-d[1])<parseInt(this.zoombarDiv.style.height)-2){var c=parseInt(this.slider.style.top)-a;this.slider.style.top=c+"px";this.mouseDragStart=b.xy.clone()}this.deltaY=this.zoomStart.y-b.xy.y;OpenLayers.Event.stop(b)}},zoomBarUp:function(a){if(!OpenLayers.Event.isLeftClick(a)&&a.type!=="touchend"){return}if(this.mouseDragStart){this.div.style.cursor="";this.map.events.un({touchmove:this.passEventToSlider,mouseup:this.passEventToSlider,mousemove:this.passEventToSlider,scope:this});var b=this.map.zoom;if(!this.forceFixedZoomLevel&&this.map.fractionalZoom){b+=this.deltaY/this.zoomStopHeight;b=Math.min(Math.max(b,0),this.map.getNumZoomLevels()-1)}else{b+=this.deltaY/this.zoomStopHeight;b=Math.max(Math.round(b),0)}this.map.zoomTo(b);this.mouseDragStart=null;this.zoomStart=null;this.deltaY=0;OpenLayers.Event.stop(a)}},moveZoomBar:function(){var a=((this.map.getNumZoomLevels()-1)-this.map.getZoom())*this.zoomStopHeight+this.startTop+1;this.slider.style.top=a+"px"
},CLASS_NAME:"OpenLayers.Control.PanZoomBar"});OpenLayers.Format.WFSCapabilities.v1_1_0=OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1,{initialize:function(a){OpenLayers.Format.WFSCapabilities.v1.prototype.initialize.apply(this,[a])},read_cap_DefaultSRS:function(c,b){var a=this.getChildValue(b);if(a){c.srs=a}},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1_1_0"});OpenLayers.Layer.Image=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:true,url:null,extent:null,size:null,tile:null,aspectRatio:null,initialize:function(c,b,e,d,a){this.url=b;this.extent=e;this.maxExtent=e;this.size=d;OpenLayers.Layer.prototype.initialize.apply(this,[c,a]);this.aspectRatio=(this.extent.getHeight()/this.size.h)/(this.extent.getWidth()/this.size.w)},destroy:function(){if(this.tile){this.removeTileMonitoringHooks(this.tile);this.tile.destroy();this.tile=null}OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(a){if(a==null){a=new OpenLayers.Layer.Image(this.name,this.url,this.extent,this.size,this.getOptions())}a=OpenLayers.Layer.prototype.clone.apply(this,[a]);return a},setMap:function(a){if(this.options.maxResolution==null){this.options.maxResolution=this.aspectRatio*this.extent.getWidth()/this.size.w}OpenLayers.Layer.prototype.setMap.apply(this,arguments)},moveTo:function(e,a,f){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);var b=(this.tile==null);if(a||b){this.setTileSize();var d=new OpenLayers.LonLat(this.extent.left,this.extent.top);var c=this.map.getLayerPxFromLonLat(d);if(b){this.tile=new OpenLayers.Tile.Image(this,c,this.extent,null,this.tileSize);this.addTileMonitoringHooks(this.tile)}else{this.tile.size=this.tileSize.clone();this.tile.position=c.clone()}this.tile.draw()}},setTileSize:function(){var b=this.extent.getWidth()/this.map.getResolution();var a=this.extent.getHeight()/this.map.getResolution();this.tileSize=new OpenLayers.Size(b,a)},addTileMonitoringHooks:function(a){a.onLoadStart=function(){this.events.triggerEvent("loadstart")};a.events.register("loadstart",this,a.onLoadStart);a.onLoadEnd=function(){this.events.triggerEvent("loadend")};a.events.register("loadend",this,a.onLoadEnd);a.events.register("unload",this,a.onLoadEnd)},removeTileMonitoringHooks:function(a){a.unload();a.events.un({loadstart:a.onLoadStart,loadend:a.onLoadEnd,unload:a.onLoadEnd,scope:this})},setUrl:function(a){this.url=a;this.tile.draw()},getURL:function(a){return this.url},CLASS_NAME:"OpenLayers.Layer.Image"});OpenLayers.Strategy=OpenLayers.Class({layer:null,options:null,active:null,autoActivate:true,autoDestroy:true,initialize:function(a){OpenLayers.Util.extend(this,a);this.options=a;this.active=false},destroy:function(){this.deactivate();this.layer=null;this.options=null},setLayer:function(a){this.layer=a},activate:function(){if(!this.active){this.active=true;return true}return false},deactivate:function(){if(this.active){this.active=false;return true}return false},CLASS_NAME:"OpenLayers.Strategy"});OpenLayers.Strategy.Save=OpenLayers.Class(OpenLayers.Strategy,{EVENT_TYPES:["start","success","fail"],events:null,auto:false,timer:null,initialize:function(a){OpenLayers.Strategy.prototype.initialize.apply(this,[a]);this.events=new OpenLayers.Events(this,null,this.EVENT_TYPES)},activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);if(a){if(this.auto){if(typeof this.auto==="number"){this.timer=window.setInterval(OpenLayers.Function.bind(this.save,this),this.auto*1000)}else{this.layer.events.on({featureadded:this.triggerSave,afterfeaturemodified:this.triggerSave,scope:this})}}}return a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);if(a){if(this.auto){if(typeof this.auto==="number"){window.clearInterval(this.timer)}else{this.layer.events.un({featureadded:this.triggerSave,afterfeaturemodified:this.triggerSave,scope:this})}}}return a},triggerSave:function(b){var a=b.feature;if(a.state===OpenLayers.State.INSERT||a.state===OpenLayers.State.UPDATE||a.state===OpenLayers.State.DELETE){this.save([b.feature])}},save:function(d){if(!d){d=this.layer.features}this.events.triggerEvent("start",{features:d});
var f=this.layer.projection;var c=this.layer.map.getProjectionObject();if(!c.equals(f)){var a=d.length;var e=new Array(a);var h,g;for(var b=0;b<a;++b){h=d[b];g=h.clone();g.fid=h.fid;g.state=h.state;if(h.url){g.url=h.url}g._original=h;g.geometry.transform(c,f);e[b]=g}d=e}this.layer.protocol.commit(d,{callback:this.onCommit,scope:this})},onCommit:function(d){var k={response:d};if(d.success()){var b=d.reqFeatures;var a,l;var c=[];var h=d.insertIds||[];var e=0;for(var f=0,g=b.length;f<g;++f){l=b[f];l=l._original||l;a=l.state;if(a){if(a==OpenLayers.State.DELETE){c.push(l)}else{if(a==OpenLayers.State.INSERT){l.fid=h[e];++e}}l.state=null}}if(c.length>0){this.layer.destroyFeatures(c)}this.events.triggerEvent("success",k)}else{this.events.triggerEvent("fail",k)}},CLASS_NAME:"OpenLayers.Strategy.Save"});OpenLayers.Format.GPX=OpenLayers.Class(OpenLayers.Format.XML,{extractWaypoints:true,extractTracks:true,extractRoutes:true,extractAttributes:true,initialize:function(a){this.externalProjection=new OpenLayers.Projection("EPSG:4326");OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(x){if(typeof x=="string"){x=OpenLayers.Format.XML.prototype.read.apply(this,[x])}var c=[];if(this.extractTracks){var t=x.getElementsByTagName("trk");for(var s=0,u=t.length;s<u;s++){var n={};if(this.extractAttributes){n=this.parseAttributes(t[s])}var h=this.getElementsByTagNameNS(t[s],t[s].namespaceURI,"trkseg");for(var r=0,f=h.length;r<f;r++){var m=this.extractSegment(h[r],"trkpt");c.push(new OpenLayers.Feature.Vector(m,n))}}}if(this.extractRoutes){var a=x.getElementsByTagName("rte");for(var q=0,p=a.length;q<p;q++){var n={};if(this.extractAttributes){n=this.parseAttributes(a[q])}var w=this.extractSegment(a[q],"rtept");c.push(new OpenLayers.Feature.Vector(w,n))}}if(this.extractWaypoints){var b=x.getElementsByTagName("wpt");for(var o=0,u=b.length;o<u;o++){var n={};if(this.extractAttributes){n=this.parseAttributes(b[o])}var e=new OpenLayers.Geometry.Point(b[o].getAttribute("lon"),b[o].getAttribute("lat"));c.push(new OpenLayers.Feature.Vector(e,n))}}if(this.internalProjection&&this.externalProjection){for(var v=0,d=c.length;v<d;v++){c[v].geometry.transform(this.externalProjection,this.internalProjection)}}return c},extractSegment:function(e,f){var d=this.getElementsByTagNameNS(e,e.namespaceURI,f);var b=[];for(var c=0,a=d.length;c<a;c++){b.push(new OpenLayers.Geometry.Point(d[c].getAttribute("lon"),d[c].getAttribute("lat")))}return new OpenLayers.Geometry.LineString(b)},parseAttributes:function(c){var a={};var e=c.firstChild,d,b;while(e){if(e.nodeType==1){d=e.firstChild;if(d.nodeType==3||d.nodeType==4){b=(e.prefix)?e.nodeName.split(":")[1]:e.nodeName;if(b!="trkseg"&&b!="rtept"){a[b]=d.nodeValue}}}e=e.nextSibling}return a},CLASS_NAME:"OpenLayers.Format.GPX"});OpenLayers.Format.WFSDescribeFeatureType=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xsd:"http://www.w3.org/2001/XMLSchema"},readers:{xsd:{schema:function(d,j){var e=[];var b={};var f={complexTypes:e,customTypes:b};this.readChildNodes(d,f);var g=d.attributes;var l,a;for(var h=0,k=g.length;h<k;++h){l=g[h];a=l.name;if(a.indexOf("xmlns")==0){this.setNamespace(a.split(":")[1]||"",l.value)}else{j[a]=l.value}}j.featureTypes=e;j.targetPrefix=this.namespaceAlias[j.targetNamespace];var m,c;for(var h=0,k=e.length;h<k;++h){m=e[h];c=b[m.typeName];if(b[m.typeName]){m.typeName=c.name}}},complexType:function(b,c){var a={typeName:b.getAttribute("name")};this.readChildNodes(b,a);c.complexTypes.push(a)},complexContent:function(a,b){this.readChildNodes(a,b)},extension:function(a,b){this.readChildNodes(a,b)},sequence:function(a,b){var c={elements:[]};this.readChildNodes(a,c);b.properties=c.elements},element:function(a,c){if(c.elements){var d={};var b=a.attributes;var g;for(var e=0,f=b.length;e<f;++e){g=b[e];d[g.name]=g.value}var h=d.type;if(!h){h={};this.readChildNodes(a,h);d.restriction=h;d.type=h.base}var k=h.base||h;d.localType=k.split(":").pop();c.elements.push(d)}if(c.complexTypes){var h=a.getAttribute("type");var j=h.split(":").pop();c.customTypes[j]={name:a.getAttribute("name"),type:h}}},simpleType:function(a,b){this.readChildNodes(a,b)
},restriction:function(a,b){b.base=a.getAttribute("base");this.readRestriction(a,b)}}},readRestriction:function(d,f){var c=d.childNodes;var h,g,e;for(var b=0,a=c.length;b<a;++b){h=c[b];if(h.nodeType==1){g=h.nodeName.split(":").pop();e=h.getAttribute("value");if(!f[g]){f[g]=e}else{if(typeof f[g]=="string"){f[g]=[f[g]]}f[g].push(e)}}}},read:function(b){if(typeof b=="string"){b=OpenLayers.Format.XML.prototype.read.apply(this,[b])}if(b&&b.nodeType==9){b=b.documentElement}var a={};this.readNode(b,a);return a},CLASS_NAME:"OpenLayers.Format.WFSDescribeFeatureType"});OpenLayers.Renderer=OpenLayers.Class({container:null,root:null,extent:null,locked:false,size:null,resolution:null,map:null,initialize:function(a,b){this.container=OpenLayers.Util.getElement(a);OpenLayers.Util.extend(this,b)},destroy:function(){this.container=null;this.extent=null;this.size=null;this.resolution=null;this.map=null},supported:function(){return false},setExtent:function(a,b){this.extent=a.clone();if(b){this.resolution=null}},setSize:function(a){this.size=a.clone();this.resolution=null},getResolution:function(){this.resolution=this.resolution||this.map.getResolution();return this.resolution},drawFeature:function(c,e){if(e==null){e=c.style}if(c.geometry){var f=c.geometry.getBounds();if(f){if(!f.intersectsBounds(this.extent)){e={display:"none"}}var h=this.drawGeometry(c.geometry,e,c.id);if(e.display!="none"&&e.label&&h!==false){var a=c.geometry.getCentroid();if(e.labelXOffset||e.labelYOffset){var d=isNaN(e.labelXOffset)?0:e.labelXOffset;var g=isNaN(e.labelYOffset)?0:e.labelYOffset;var b=this.getResolution();a.move(d*b,g*b)}this.drawText(c.id,e,a)}else{this.removeText(c.id)}return h}}},drawGeometry:function(c,a,b){},drawText:function(c,b,a){},removeText:function(a){},clear:function(){},getFeatureIdFromEvent:function(a){},eraseFeatures:function(d){if(!(OpenLayers.Util.isArray(d))){d=[d]}for(var c=0,a=d.length;c<a;++c){var b=d[c];this.eraseGeometry(b.geometry,b.id);this.removeText(b.id)}},eraseGeometry:function(b,a){},moveRoot:function(a){},getRenderLayerId:function(){return this.container.id},applyDefaultSymbolizer:function(b){var a=OpenLayers.Util.extend({},OpenLayers.Renderer.defaultSymbolizer);if(b.stroke===false){delete a.strokeWidth;delete a.strokeColor}if(b.fill===false){delete a.fillColor}OpenLayers.Util.extend(a,b);return a},CLASS_NAME:"OpenLayers.Renderer"});OpenLayers.Renderer.defaultSymbolizer={fillColor:"#000000",strokeColor:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,pointRadius:0};OpenLayers.Renderer.Canvas=OpenLayers.Class(OpenLayers.Renderer,{hitDetection:true,hitOverflow:0,canvas:null,features:null,pendingRedraw:false,initialize:function(a,b){OpenLayers.Renderer.prototype.initialize.apply(this,arguments);this.root=document.createElement("canvas");this.container.appendChild(this.root);this.canvas=this.root.getContext("2d");this.features={};if(this.hitDetection){this.hitCanvas=document.createElement("canvas");this.hitContext=this.hitCanvas.getContext("2d")}},eraseGeometry:function(b,a){this.eraseFeatures(this.features[a][0])},supported:function(){var a=document.createElement("canvas");return !!a.getContext},setSize:function(b){this.size=b.clone();var a=this.root;a.style.width=b.w+"px";a.style.height=b.h+"px";a.width=b.w;a.height=b.h;this.resolution=null;if(this.hitDetection){var c=this.hitCanvas;c.style.width=b.w+"px";c.style.height=b.h+"px";c.width=b.w;c.height=b.h}},drawFeature:function(a,b){var d;if(a.geometry){b=this.applyDefaultSymbolizer(b||a.style);var c=a.geometry.getBounds();d=(b.display!=="none")&&!!c&&c.intersectsBounds(this.extent);if(d){this.features[a.id]=[a,b]}else{delete (this.features[a.id])}this.pendingRedraw=true}if(this.pendingRedraw&&!this.locked){this.redraw();this.pendingRedraw=false}return d},drawGeometry:function(e,c,d){var b=e.CLASS_NAME;if((b=="OpenLayers.Geometry.Collection")||(b=="OpenLayers.Geometry.MultiPoint")||(b=="OpenLayers.Geometry.MultiLineString")||(b=="OpenLayers.Geometry.MultiPolygon")){for(var a=0;a<e.components.length;a++){this.drawGeometry(e.components[a],c,d)}return}switch(e.CLASS_NAME){case"OpenLayers.Geometry.Point":this.drawPoint(e,c,d);
break;case"OpenLayers.Geometry.LineString":this.drawLineString(e,c,d);break;case"OpenLayers.Geometry.LinearRing":this.drawLinearRing(e,c,d);break;case"OpenLayers.Geometry.Polygon":this.drawPolygon(e,c,d);break;default:break}},drawExternalGraphic:function(i,a,d){var e=new Image();if(a.graphicTitle){e.title=a.graphicTitle}var b=a.graphicWidth||a.graphicHeight;var j=a.graphicHeight||a.graphicWidth;b=b?b:a.pointRadius*2;j=j?j:a.pointRadius*2;var g=(a.graphicXOffset!=undefined)?a.graphicXOffset:-(0.5*b);var c=(a.graphicYOffset!=undefined)?a.graphicYOffset:-(0.5*j);var f=a.graphicOpacity||a.fillOpacity;var h=function(){if(!this.features[d]){return}var n=this.getLocalXY(i);var q=n[0];var o=n[1];if(!isNaN(q)&&!isNaN(o)){var k=(q+g)|0;var p=(o+c)|0;var l=this.canvas;l.globalAlpha=f;var m=OpenLayers.Renderer.Canvas.drawImageScaleFactor||(OpenLayers.Renderer.Canvas.drawImageScaleFactor=/android 2.1/.test(navigator.userAgent.toLowerCase())?320/window.screen.width:1);l.drawImage(e,k*m,p*m,b*m,j*m);if(this.hitDetection){this.setHitContextStyle("fill",d);this.hitContext.fillRect(k,p,b,j)}}};e.onload=OpenLayers.Function.bind(h,this);e.src=a.externalGraphic},setCanvasStyle:function(b,a){if(b==="fill"){this.canvas.globalAlpha=a.fillOpacity;this.canvas.fillStyle=a.fillColor}else{if(b==="stroke"){this.canvas.globalAlpha=a.strokeOpacity;this.canvas.strokeStyle=a.strokeColor;this.canvas.lineWidth=a.strokeWidth}else{this.canvas.globalAlpha=0;this.canvas.lineWidth=1}}},featureIdToHex:function(c){var d=Number(c.split("_").pop())+1;if(d>=16777216){this.hitOverflow=d-16777215;d=d%16777216+1}var b="000000"+d.toString(16);var a=b.length;b="#"+b.substring(a-6,a);return b},setHitContextStyle:function(b,d,a){var c=this.featureIdToHex(d);if(b=="fill"){this.hitContext.globalAlpha=1;this.hitContext.fillStyle=c}else{if(b=="stroke"){this.hitContext.globalAlpha=1;this.hitContext.strokeStyle=c;this.hitContext.lineWidth=a.strokeWidth+2}else{this.hitContext.globalAlpha=0;this.hitContext.lineWidth=1}}},drawPoint:function(g,c,f){if(c.graphic!==false){if(c.externalGraphic){this.drawExternalGraphic(g,c,f)}else{var d=this.getLocalXY(g);var h=d[0];var e=d[1];if(!isNaN(h)&&!isNaN(e)){var b=Math.PI*2;var a=c.pointRadius;if(c.fill!==false){this.setCanvasStyle("fill",c);this.canvas.beginPath();this.canvas.arc(h,e,a,0,b,true);this.canvas.fill();if(this.hitDetection){this.setHitContextStyle("fill",f,c);this.hitContext.beginPath();this.hitContext.arc(h,e,a,0,b,true);this.hitContext.fill()}}if(c.stroke!==false){this.setCanvasStyle("stroke",c);this.canvas.beginPath();this.canvas.arc(h,e,a,0,b,true);this.canvas.stroke();if(this.hitDetection){this.setHitContextStyle("stroke",f,c);this.hitContext.beginPath();this.hitContext.arc(h,e,a,0,b,true);this.hitContext.stroke()}this.setCanvasStyle("reset")}}}}},drawLineString:function(c,a,b){a=OpenLayers.Util.applyDefaults({fill:false},a);this.drawLinearRing(c,a,b)},drawLinearRing:function(c,a,b){if(a.fill!==false){this.setCanvasStyle("fill",a);this.renderPath(this.canvas,c,a,b,"fill");if(this.hitDetection){this.setHitContextStyle("fill",b,a);this.renderPath(this.hitContext,c,a,b,"fill")}}if(a.stroke!==false){this.setCanvasStyle("stroke",a);this.renderPath(this.canvas,c,a,b,"stroke");if(this.hitDetection){this.setHitContextStyle("stroke",b,a);this.renderPath(this.hitContext,c,a,b,"stroke")}}this.setCanvasStyle("reset")},renderPath:function(c,k,a,e,h){var f=k.components;var g=f.length;c.beginPath();var b=this.getLocalXY(f[0]);var l=b[0];var j=b[1];if(!isNaN(l)&&!isNaN(j)){c.moveTo(b[0],b[1]);for(var d=1;d<g;++d){var m=this.getLocalXY(f[d]);c.lineTo(m[0],m[1])}if(h==="fill"){c.fill()}else{c.stroke()}}},drawPolygon:function(f,c,e){var d=f.components;var a=d.length;this.drawLinearRing(d[0],c,e);for(var b=1;b<a;++b){this.canvas.globalCompositeOperation="destination-out";if(this.hitDetection){this.hitContext.globalCompositeOperation="destination-out"}this.drawLinearRing(d[b],OpenLayers.Util.applyDefaults({stroke:false,fillOpacity:1},c),e);this.canvas.globalCompositeOperation="source-over";if(this.hitDetection){this.hitContext.globalCompositeOperation="source-over"
}this.drawLinearRing(d[b],OpenLayers.Util.applyDefaults({fill:false},c),e)}},drawText:function(l,a){a=OpenLayers.Util.extend({fontColor:"#000000",labelAlign:"cm"},a);var m=this.getLocalXY(l);this.setCanvasStyle("reset");this.canvas.fillStyle=a.fontColor;this.canvas.globalAlpha=a.fontOpacity||1;var d=[a.fontStyle?a.fontStyle:"normal","normal",a.fontWeight?a.fontWeight:"normal",a.fontSize?a.fontSize:"1em",a.fontFamily?a.fontFamily:"sans-serif"].join(" ");var c=a.label.split("\n");var f=c.length;if(this.canvas.fillText){this.canvas.font=d;this.canvas.textAlign=OpenLayers.Renderer.Canvas.LABEL_ALIGN[a.labelAlign[0]]||"center";this.canvas.textBaseline=OpenLayers.Renderer.Canvas.LABEL_ALIGN[a.labelAlign[1]]||"middle";var j=OpenLayers.Renderer.Canvas.LABEL_FACTOR[a.labelAlign[1]];if(j==null){j=-0.5}var k=this.canvas.measureText("Mg").height||this.canvas.measureText("xx").width;m[1]+=k*j*(f-1);for(var e=0;e<f;e++){this.canvas.fillText(c[e],m[0],m[1]+(k*e))}}else{if(this.canvas.mozDrawText){this.canvas.mozTextStyle=d;var b=OpenLayers.Renderer.Canvas.LABEL_FACTOR[a.labelAlign[0]];if(b==null){b=-0.5}var j=OpenLayers.Renderer.Canvas.LABEL_FACTOR[a.labelAlign[1]];if(j==null){j=-0.5}var k=this.canvas.mozMeasureText("xx");m[1]+=k*(1+(j*f));for(var e=0;e<f;e++){var h=m[0]+(b*this.canvas.mozMeasureText(c[e]));var g=m[1]+(e*k);this.canvas.translate(h,g);this.canvas.mozDrawText(c[e]);this.canvas.translate(-h,-g)}}}this.setCanvasStyle("reset")},getLocalXY:function(b){var c=this.getResolution();var d=this.extent;var a=(b.x/c+(-d.left/c));var e=((d.top/c)-b.y/c);return[a,e]},clear:function(){var a=this.root.height;var b=this.root.width;this.canvas.clearRect(0,0,b,a);this.features={};if(this.hitDetection){this.hitContext.clearRect(0,0,b,a)}},getFeatureIdFromEvent:function(b){var c=null;if(this.hitDetection){if(!this.map.dragging){var e=b.xy;var a=e.x|0;var g=e.y|0;var d=this.hitContext.getImageData(a,g,1,1).data;if(d[3]===255){var f=d[2]+(256*(d[1]+(256*d[0])));if(f){c=this.features["OpenLayers.Feature.Vector_"+(f-1+this.hitOverflow)][0]}}}}return c},eraseFeatures:function(b){if(!(OpenLayers.Util.isArray(b))){b=[b]}for(var a=0;a<b.length;++a){delete this.features[b[a].id]}this.redraw()},redraw:function(){if(!this.locked){var g=this.root.height;var c=this.root.width;this.canvas.clearRect(0,0,c,g);if(this.hitDetection){this.hitContext.clearRect(0,0,c,g)}var f=[];var j,a;for(var b in this.features){if(!this.features.hasOwnProperty(b)){continue}j=this.features[b][0];a=this.features[b][1];this.drawGeometry(j.geometry,a,j.id);if(a.label){f.push([j,a])}}var h;for(var d=0,e=f.length;d<e;++d){h=f[d];this.drawText(h[0].geometry.getCentroid(),h[1])}}},CLASS_NAME:"OpenLayers.Renderer.Canvas"});OpenLayers.Renderer.Canvas.LABEL_ALIGN={l:"left",r:"right",t:"top",b:"bottom"};OpenLayers.Renderer.Canvas.LABEL_FACTOR={l:0,r:-1,t:0,b:-1};OpenLayers.Renderer.Canvas.drawImageScaleFactor=null;OpenLayers.Format.OSM=OpenLayers.Class(OpenLayers.Format.XML,{checkTags:false,interestingTagsExclude:null,areaTags:null,initialize:function(a){var d={interestingTagsExclude:["source","source_ref","source:ref","history","attribution","created_by"],areaTags:["area","building","leisure","tourism","ruins","historic","landuse","military","natural","sport"]};d=OpenLayers.Util.extend(d,a);var e={};for(var b=0;b<d.interestingTagsExclude.length;b++){e[d.interestingTagsExclude[b]]=true}d.interestingTagsExclude=e;var c={};for(var b=0;b<d.areaTags.length;b++){c[d.areaTags[b]]=true}d.areaTags=c;this.externalProjection=new OpenLayers.Projection("EPSG:4326");OpenLayers.Format.XML.prototype.initialize.apply(this,[d])},read:function(n){if(typeof n=="string"){n=OpenLayers.Format.XML.prototype.read.apply(this,[n])}var b=this.getNodes(n);var o=this.getWays(n);var g=new Array(o.length);for(var f=0;f<o.length;f++){var l=new Array(o[f].nodes.length);var a=this.isWayArea(o[f])?1:0;for(var e=0;e<o[f].nodes.length;e++){var c=b[o[f].nodes[e]];var m=new OpenLayers.Geometry.Point(c.lon,c.lat);m.osm_id=parseInt(o[f].nodes[e]);l[e]=m;c.used=true}var k=null;if(a){k=new OpenLayers.Geometry.Polygon(new OpenLayers.Geometry.LinearRing(l))
}else{k=new OpenLayers.Geometry.LineString(l)}if(this.internalProjection&&this.externalProjection){k.transform(this.externalProjection,this.internalProjection)}var h=new OpenLayers.Feature.Vector(k,o[f].tags);h.osm_id=parseInt(o[f].id);h.fid="way."+h.osm_id;g[f]=h}for(var d in b){var c=b[d];if(!c.used||this.checkTags){var q=null;if(this.checkTags){var p=this.getTags(c.node,true);if(c.used&&!p[1]){continue}q=p[0]}else{q=this.getTags(c.node)}var h=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(c.lon,c.lat),q);if(this.internalProjection&&this.externalProjection){h.geometry.transform(this.externalProjection,this.internalProjection)}h.osm_id=parseInt(d);h.fid="node."+h.osm_id;g.push(h)}c.node=null}return g},getNodes:function(e){var d=e.getElementsByTagName("node");var a={};for(var b=0;b<d.length;b++){var c=d[b];var f=c.getAttribute("id");a[f]={lat:c.getAttribute("lat"),lon:c.getAttribute("lon"),node:c}}return a},getWays:function(g){var f=g.getElementsByTagName("way");var h=[];for(var d=0;d<f.length;d++){var b=f[d];var c={id:b.getAttribute("id")};c.tags=this.getTags(b);var e=b.getElementsByTagName("nd");c.nodes=new Array(e.length);for(var a=0;a<e.length;a++){c.nodes[a]=e[a].getAttribute("ref")}h.push(c)}return h},getTags:function(e,g){var a=e.getElementsByTagName("tag");var c={};var f=false;for(var b=0;b<a.length;b++){var d=a[b].getAttribute("k");c[d]=a[b].getAttribute("v");if(g){if(!this.interestingTagsExclude[d]){f=true}}}return g?[c,f]:c},isWayArea:function(b){var a=false;var d=false;if(b.nodes[0]==b.nodes[b.nodes.length-1]){a=true}if(this.checkTags){for(var c in b.tags){if(this.areaTags[c]){d=true;break}}}return a&&(this.checkTags?d:true)},write:function(d){if(!(OpenLayers.Util.isArray(d))){d=[d]}this.osm_id=1;this.created_nodes={};var e=this.createElementNS(null,"osm");e.setAttribute("version","0.5");e.setAttribute("generator","OpenLayers "+OpenLayers.VERSION_NUMBER);for(var c=d.length-1;c>=0;c--){var a=this.createFeatureNodes(d[c]);for(var b=0;b<a.length;b++){e.appendChild(a[b])}}return OpenLayers.Format.XML.prototype.write.apply(this,[e])},createFeatureNodes:function(c){var b=[];var e=c.geometry.CLASS_NAME;var d=e.substring(e.lastIndexOf(".")+1);d=d.toLowerCase();var a=this.createXML[d];if(a){b=a.apply(this,[c])}return b},createXML:{point:function(a){var e=null;var c=a.geometry?a.geometry:a;if(this.internalProjection&&this.externalProjection){c=c.clone();c.transform(this.internalProjection,this.externalProjection)}var d=false;if(a.osm_id){e=a.osm_id;if(this.created_nodes[e]){d=true}}else{e=-this.osm_id;this.osm_id++}if(d){b=this.created_nodes[e]}else{var b=this.createElementNS(null,"node")}this.created_nodes[e]=b;b.setAttribute("id",e);b.setAttribute("lon",c.x);b.setAttribute("lat",c.y);if(a.attributes){this.serializeTags(a,b)}this.setState(a,b);return d?[]:[b]},linestring:function(j){var b;var a=[];var f=j.geometry;if(j.osm_id){b=j.osm_id}else{b=-this.osm_id;this.osm_id++}var h=this.createElementNS(null,"way");h.setAttribute("id",b);for(var d=0;d<f.components.length;d++){var c=this.createXML.point.apply(this,[f.components[d]]);if(c.length){c=c[0];var g=c.getAttribute("id");a.push(c)}else{g=f.components[d].osm_id;c=this.created_nodes[g]}this.setState(j,c);var e=this.createElementNS(null,"nd");e.setAttribute("ref",g);h.appendChild(e)}this.serializeTags(j,h);a.push(h);return a},polygon:function(b){var a=OpenLayers.Util.extend({area:"yes"},b.attributes);var c=new OpenLayers.Feature.Vector(b.geometry.components[0],a);c.osm_id=b.osm_id;return this.createXML.linestring.apply(this,[c])}},serializeTags:function(c,d){for(var b in c.attributes){var a=this.createElementNS(null,"tag");a.setAttribute("k",b);a.setAttribute("v",c.attributes[b]);d.appendChild(a)}},setState:function(a,b){if(a.state){var c=null;switch(a.state){case OpenLayers.State.UPDATE:c="modify";case OpenLayers.State.DELETE:c="delete"}if(c){b.setAttribute("action",c)}}},CLASS_NAME:"OpenLayers.Format.OSM"});OpenLayers.Handler.Drag=OpenLayers.Class(OpenLayers.Handler,{started:false,stopDown:true,dragging:false,touch:false,last:null,start:null,lastMoveEvt:null,oldOnselectstart:null,interval:0,timeoutId:null,documentDrag:false,documentEvents:null,initialize:function(d,c,a){OpenLayers.Handler.prototype.initialize.apply(this,arguments);
if(this.documentDrag===true){var b=this;this._docMove=function(e){b.mousemove({xy:{x:e.clientX,y:e.clientY},element:document})};this._docUp=function(e){b.mouseup({xy:{x:e.clientX,y:e.clientY}})}}},dragstart:function(b){var a=true;this.dragging=false;if(this.checkModifiers(b)&&(OpenLayers.Event.isLeftClick(b)||OpenLayers.Event.isSingleTouch(b))){this.started=true;this.start=b.xy;this.last=b.xy;OpenLayers.Element.addClass(this.map.viewPortDiv,"olDragDown");this.down(b);this.callback("down",[b.xy]);OpenLayers.Event.stop(b);if(!this.oldOnselectstart){this.oldOnselectstart=document.onselectstart?document.onselectstart:OpenLayers.Function.True}document.onselectstart=OpenLayers.Function.False;a=!this.stopDown}else{this.started=false;this.start=null;this.last=null}return a},dragmove:function(a){this.lastMoveEvt=a;if(this.started&&!this.timeoutId&&(a.xy.x!=this.last.x||a.xy.y!=this.last.y)){if(this.documentDrag===true&&this.documentEvents){if(a.element===document){this.adjustXY(a);this.setEvent(a)}else{this.removeDocumentEvents()}}if(this.interval>0){this.timeoutId=setTimeout(OpenLayers.Function.bind(this.removeTimeout,this),this.interval)}this.dragging=true;this.move(a);this.callback("move",[a.xy]);if(!this.oldOnselectstart){this.oldOnselectstart=document.onselectstart;document.onselectstart=OpenLayers.Function.False}this.last=a.xy}return true},dragend:function(b){if(this.started){if(this.documentDrag===true&&this.documentEvents){this.adjustXY(b);this.removeDocumentEvents()}var a=(this.start!=this.last);this.started=false;this.dragging=false;OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown");this.up(b);this.callback("up",[b.xy]);if(a){this.callback("done",[b.xy])}document.onselectstart=this.oldOnselectstart}return true},down:function(a){},move:function(a){},up:function(a){},out:function(a){},mousedown:function(a){return this.dragstart(a)},touchstart:function(a){if(!this.touch){this.touch=true;this.map.events.un({mousedown:this.mousedown,mouseup:this.mouseup,mousemove:this.mousemove,click:this.click,scope:this})}return this.dragstart(a)},mousemove:function(a){return this.dragmove(a)},touchmove:function(a){return this.dragmove(a)},removeTimeout:function(){this.timeoutId=null;if(this.dragging){this.mousemove(this.lastMoveEvt)}},mouseup:function(a){return this.dragend(a)},touchend:function(a){a.xy=this.last;return this.dragend(a)},mouseout:function(b){if(this.started&&OpenLayers.Util.mouseLeft(b,this.map.eventsDiv)){if(this.documentDrag===true){this.addDocumentEvents()}else{var a=(this.start!=this.last);this.started=false;this.dragging=false;OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown");this.out(b);this.callback("out",[]);if(a){this.callback("done",[b.xy])}if(document.onselectstart){document.onselectstart=this.oldOnselectstart}}}return true},click:function(a){return(this.start==this.last)},activate:function(){var a=false;if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.dragging=false;a=true}return a},deactivate:function(){var a=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.touch=false;this.started=false;this.dragging=false;this.start=null;this.last=null;a=true;OpenLayers.Element.removeClass(this.map.viewPortDiv,"olDragDown")}return a},adjustXY:function(a){var b=OpenLayers.Util.pagePosition(this.map.viewPortDiv);a.xy.x-=b[0];a.xy.y-=b[1]},addDocumentEvents:function(){OpenLayers.Element.addClass(document.body,"olDragDown");this.documentEvents=true;OpenLayers.Event.observe(document,"mousemove",this._docMove);OpenLayers.Event.observe(document,"mouseup",this._docUp)},removeDocumentEvents:function(){OpenLayers.Element.removeClass(document.body,"olDragDown");this.documentEvents=false;OpenLayers.Event.stopObserving(document,"mousemove",this._docMove);OpenLayers.Event.stopObserving(document,"mouseup",this._docUp)},CLASS_NAME:"OpenLayers.Handler.Drag"});OpenLayers.Handler.Feature=OpenLayers.Class(OpenLayers.Handler,{EVENTMAP:{click:{"in":"click",out:"clickout"},mousemove:{"in":"over",out:"out"},dblclick:{"in":"dblclick",out:null},mousedown:{"in":null,out:null},mouseup:{"in":null,out:null},touchstart:{"in":"click",out:"clickout"}},feature:null,lastFeature:null,down:null,up:null,touch:false,clickTolerance:4,geometryTypes:null,stopClick:true,stopDown:true,stopUp:false,initialize:function(d,b,c,a){OpenLayers.Handler.prototype.initialize.apply(this,[d,c,a]);
this.layer=b},touchstart:function(a){if(!this.touch){this.touch=true;this.map.events.un({mousedown:this.mousedown,mouseup:this.mouseup,mousemove:this.mousemove,click:this.click,dblclick:this.dblclick,scope:this})}return OpenLayers.Event.isMultiTouch(a)?true:this.mousedown(a)},touchmove:function(a){OpenLayers.Event.stop(a)},mousedown:function(a){this.down=a.xy;return this.handle(a)?!this.stopDown:true},mouseup:function(a){this.up=a.xy;return this.handle(a)?!this.stopUp:true},click:function(a){return this.handle(a)?!this.stopClick:true},mousemove:function(a){if(!this.callbacks.over&&!this.callbacks.out){return true}this.handle(a);return true},dblclick:function(a){return !this.handle(a)},geometryTypeMatches:function(a){return this.geometryTypes==null||OpenLayers.Util.indexOf(this.geometryTypes,a.geometry.CLASS_NAME)>-1},handle:function(a){if(this.feature&&!this.feature.layer){this.feature=null}var c=a.type;var f=false;var e=!!(this.feature);var d=(c=="click"||c=="dblclick"||c=="touchstart");this.feature=this.layer.getFeatureFromEvent(a);if(this.feature&&!this.feature.layer){this.feature=null}if(this.lastFeature&&!this.lastFeature.layer){this.lastFeature=null}if(this.feature){if(c==="touchstart"){OpenLayers.Event.stop(a)}var b=(this.feature!=this.lastFeature);if(this.geometryTypeMatches(this.feature)){if(e&&b){if(this.lastFeature){this.triggerCallback(c,"out",[this.lastFeature])}this.triggerCallback(c,"in",[this.feature])}else{if(!e||d){this.triggerCallback(c,"in",[this.feature])}}this.lastFeature=this.feature;f=true}else{if(this.lastFeature&&(e&&b||d)){this.triggerCallback(c,"out",[this.lastFeature])}this.feature=null}}else{if(this.lastFeature&&(e||d)){this.triggerCallback(c,"out",[this.lastFeature])}}return f},triggerCallback:function(d,e,b){var c=this.EVENTMAP[d][e];if(c){if(d=="click"&&this.up&&this.down){var a=Math.sqrt(Math.pow(this.up.x-this.down.x,2)+Math.pow(this.up.y-this.down.y,2));if(a<=this.clickTolerance){this.callback(c,b)}}else{this.callback(c,b)}}},activate:function(){var a=false;if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.moveLayerToTop();this.map.events.on({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this});a=true}return a},deactivate:function(){var a=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.moveLayerBack();this.feature=null;this.lastFeature=null;this.down=null;this.up=null;this.touch=false;this.map.events.un({removelayer:this.handleMapEvents,changelayer:this.handleMapEvents,scope:this});a=true}return a},handleMapEvents:function(a){if(a.type=="removelayer"||a.property=="order"){this.moveLayerToTop()}},moveLayerToTop:function(){var a=Math.max(this.map.Z_INDEX_BASE.Feature-1,this.layer.getZIndex())+1;this.layer.setZIndex(a)},moveLayerBack:function(){var a=this.layer.getZIndex()-1;if(a>=this.map.Z_INDEX_BASE.Feature){this.layer.setZIndex(a)}else{this.map.setLayerZIndex(this.layer,this.map.getLayerIndex(this.layer))}},CLASS_NAME:"OpenLayers.Handler.Feature"});OpenLayers.Control.DragFeature=OpenLayers.Class(OpenLayers.Control,{geometryTypes:null,onStart:function(b,a){},onDrag:function(b,a){},onComplete:function(b,a){},onEnter:function(a){},onLeave:function(a){},documentDrag:false,layer:null,feature:null,dragCallbacks:{},featureCallbacks:{},lastPixel:null,initialize:function(b,a){OpenLayers.Control.prototype.initialize.apply(this,[a]);this.layer=b;this.handlers={drag:new OpenLayers.Handler.Drag(this,OpenLayers.Util.extend({down:this.downFeature,move:this.moveFeature,up:this.upFeature,out:this.cancel,done:this.doneDragging},this.dragCallbacks),{documentDrag:this.documentDrag}),feature:new OpenLayers.Handler.Feature(this,this.layer,OpenLayers.Util.extend({click:this.clickFeature,clickout:this.clickoutFeature,over:this.overFeature,out:this.outFeature},this.featureCallbacks),{geometryTypes:this.geometryTypes})}},clickFeature:function(a){if(this.handlers.feature.touch&&!this.over&&this.overFeature(a)){this.handlers.drag.dragstart(this.handlers.feature.evt);this.handlers.drag.stopDown=false}},clickoutFeature:function(a){if(this.handlers.feature.touch&&this.over){this.outFeature(a);
this.handlers.drag.stopDown=true}},destroy:function(){this.layer=null;OpenLayers.Control.prototype.destroy.apply(this,[])},activate:function(){return(this.handlers.feature.activate()&&OpenLayers.Control.prototype.activate.apply(this,arguments))},deactivate:function(){this.handlers.drag.deactivate();this.handlers.feature.deactivate();this.feature=null;this.dragging=false;this.lastPixel=null;OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass+"Over");return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},overFeature:function(b){var a=false;if(!this.handlers.drag.dragging){this.feature=b;this.handlers.drag.activate();a=true;this.over=true;OpenLayers.Element.addClass(this.map.viewPortDiv,this.displayClass+"Over");this.onEnter(b)}else{if(this.feature.id==b.id){this.over=true}else{this.over=false}}return a},downFeature:function(a){this.lastPixel=a;this.onStart(this.feature,a)},moveFeature:function(a){var b=this.map.getResolution();this.feature.geometry.move(b*(a.x-this.lastPixel.x),b*(this.lastPixel.y-a.y));this.layer.drawFeature(this.feature);this.lastPixel=a;this.onDrag(this.feature,a)},upFeature:function(a){if(!this.over){this.handlers.drag.deactivate()}},doneDragging:function(a){this.onComplete(this.feature,a)},outFeature:function(a){if(!this.handlers.drag.dragging){this.over=false;this.handlers.drag.deactivate();OpenLayers.Element.removeClass(this.map.viewPortDiv,this.displayClass+"Over");this.onLeave(a);this.feature=null}else{if(this.feature.id==a.id){this.over=false}}},cancel:function(){this.handlers.drag.deactivate();this.over=false},setMap:function(a){this.handlers.drag.setMap(a);this.handlers.feature.setMap(a);OpenLayers.Control.prototype.setMap.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.DragFeature"});OpenLayers.StyleMap=OpenLayers.Class({styles:null,extendDefault:true,initialize:function(c,a){this.styles={"default":new OpenLayers.Style(OpenLayers.Feature.Vector.style["default"]),select:new OpenLayers.Style(OpenLayers.Feature.Vector.style.select),temporary:new OpenLayers.Style(OpenLayers.Feature.Vector.style.temporary),"delete":new OpenLayers.Style(OpenLayers.Feature.Vector.style["delete"])};if(c instanceof OpenLayers.Style){this.styles["default"]=c;this.styles.select=c;this.styles.temporary=c;this.styles["delete"]=c}else{if(typeof c=="object"){for(var b in c){if(c[b] instanceof OpenLayers.Style){this.styles[b]=c[b]}else{if(typeof c[b]=="object"){this.styles[b]=new OpenLayers.Style(c[b])}else{this.styles["default"]=new OpenLayers.Style(c);this.styles.select=new OpenLayers.Style(c);this.styles.temporary=new OpenLayers.Style(c);this.styles["delete"]=new OpenLayers.Style(c);break}}}}}OpenLayers.Util.extend(this,a)},destroy:function(){for(var a in this.styles){this.styles[a].destroy()}this.styles=null},createSymbolizer:function(b,c){if(!b){b=new OpenLayers.Feature.Vector()}if(!this.styles[c]){c="default"}b.renderIntent=c;var a={};if(this.extendDefault&&c!="default"){a=this.styles["default"].createSymbolizer(b)}return OpenLayers.Util.extend(a,this.styles[c].createSymbolizer(b))},addUniqueValueRules:function(b,d,f,a){var e=[];for(var c in f){e.push(new OpenLayers.Rule({symbolizer:f[c],context:a,filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:d,value:c})}))}this.styles[b].addRules(e)},CLASS_NAME:"OpenLayers.StyleMap"});OpenLayers.Layer.Vector=OpenLayers.Class(OpenLayers.Layer,{EVENT_TYPES:["beforefeatureadded","beforefeaturesadded","featureadded","featuresadded","beforefeatureremoved","beforefeaturesremoved","featureremoved","featuresremoved","beforefeatureselected","featureselected","featureunselected","beforefeaturemodified","featuremodified","afterfeaturemodified","vertexmodified","vertexremoved","sketchstarted","sketchmodified","sketchcomplete","refresh"],isBaseLayer:false,isFixed:false,features:null,filter:null,selectedFeatures:null,unrenderedFeatures:null,reportError:true,style:null,styleMap:null,strategies:null,protocol:null,renderers:["SVG","VML","Canvas"],renderer:null,rendererOptions:null,geometryType:null,drawn:false,initialize:function(c,b){this.EVENT_TYPES=OpenLayers.Layer.Vector.prototype.EVENT_TYPES.concat(OpenLayers.Layer.prototype.EVENT_TYPES);
OpenLayers.Layer.prototype.initialize.apply(this,arguments);if(!this.renderer||!this.renderer.supported()){this.assignRenderer()}if(!this.renderer||!this.renderer.supported()){this.renderer=null;this.displayError()}if(!this.styleMap){this.styleMap=new OpenLayers.StyleMap()}this.features=[];this.selectedFeatures=[];this.unrenderedFeatures={};if(this.strategies){for(var d=0,a=this.strategies.length;d<a;d++){this.strategies[d].setLayer(this)}}},destroy:function(){if(this.strategies){var c,b,a;for(b=0,a=this.strategies.length;b<a;b++){c=this.strategies[b];if(c.autoDestroy){c.destroy()}}this.strategies=null}if(this.protocol){if(this.protocol.autoDestroy){this.protocol.destroy()}this.protocol=null}this.destroyFeatures();this.features=null;this.selectedFeatures=null;this.unrenderedFeatures=null;if(this.renderer){this.renderer.destroy()}this.renderer=null;this.geometryType=null;this.drawn=null;OpenLayers.Layer.prototype.destroy.apply(this,arguments)},clone:function(e){if(e==null){e=new OpenLayers.Layer.Vector(this.name,this.getOptions())}e=OpenLayers.Layer.prototype.clone.apply(this,[e]);var c=this.features;var a=c.length;var d=new Array(a);for(var b=0;b<a;++b){d[b]=c[b].clone()}e.features=d;return e},refresh:function(a){if(this.calculateInRange()&&this.visibility){this.events.triggerEvent("refresh",a)}},assignRenderer:function(){for(var c=0,a=this.renderers.length;c<a;c++){var b=this.renderers[c];var d=(typeof b=="function")?b:OpenLayers.Renderer[b];if(d&&d.prototype.supported()){this.renderer=new d(this.div,this.rendererOptions);break}}},displayError:function(){if(this.reportError){OpenLayers.Console.userError(OpenLayers.i18n("browserNotSupported",{renderers:this.renderers.join("\n")}))}},setMap:function(a){OpenLayers.Layer.prototype.setMap.apply(this,arguments);if(!this.renderer){this.map.removeLayer(this)}else{this.renderer.map=this.map;this.renderer.setSize(this.map.getSize())}},afterAdd:function(){if(this.strategies){var c,b,a;for(b=0,a=this.strategies.length;b<a;b++){c=this.strategies[b];if(c.autoActivate){c.activate()}}}},removeMap:function(c){this.drawn=false;if(this.strategies){var d,b,a;for(b=0,a=this.strategies.length;b<a;b++){d=this.strategies[b];if(d.autoActivate){d.deactivate()}}}},onMapResize:function(){OpenLayers.Layer.prototype.onMapResize.apply(this,arguments);this.renderer.setSize(this.map.getSize())},moveTo:function(a,b,g){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);var d=(OpenLayers.Renderer.NG&&this.renderer instanceof OpenLayers.Renderer.NG);if(d){g||this.renderer.updateDimensions(b)}else{var c=true;if(!g){this.renderer.root.style.visibility="hidden";this.div.style.left=-parseInt(this.map.layerContainerDiv.style.left)+"px";this.div.style.top=-parseInt(this.map.layerContainerDiv.style.top)+"px";var h=this.map.getExtent();c=this.renderer.setExtent(h,b);this.renderer.root.style.visibility="visible";if(OpenLayers.IS_GECKO===true){this.div.scrollLeft=this.div.scrollLeft}if(!b&&c){for(var e in this.unrenderedFeatures){var j=this.unrenderedFeatures[e];this.drawFeature(j)}}}}if(!this.drawn||(!d&&(b||!c))){this.drawn=true;var j;for(var e=0,f=this.features.length;e<f;e++){this.renderer.locked=(e!==(f-1));j=this.features[e];this.drawFeature(j)}}},redraw:function(){if(OpenLayers.Renderer.NG&&this.renderer instanceof OpenLayers.Renderer.NG){this.drawn=false}return OpenLayers.Layer.prototype.redraw.apply(this,arguments)},display:function(a){OpenLayers.Layer.prototype.display.apply(this,arguments);var b=this.div.style.display;if(b!=this.renderer.root.style.display){this.renderer.root.style.display=b}},addFeatures:function(b,k){if(!(OpenLayers.Util.isArray(b))){b=[b]}var h=!k||!k.silent;if(h){var a={features:b};var g=this.events.triggerEvent("beforefeaturesadded",a);if(g===false){return}b=a.features}var d=[];for(var c=0,f=b.length;c<f;c++){if(c!=(b.length-1)){this.renderer.locked=true}else{this.renderer.locked=false}var j=b[c];if(this.geometryType&&!(j.geometry instanceof this.geometryType)){var e=OpenLayers.i18n("componentShouldBe",{geomType:this.geometryType.prototype.CLASS_NAME});throw e}j.layer=this;if(!j.style&&this.style){j.style=OpenLayers.Util.extend({},this.style)
}if(h){if(this.events.triggerEvent("beforefeatureadded",{feature:j})===false){continue}this.preFeatureInsert(j)}d.push(j);this.features.push(j);this.drawFeature(j);if(h){this.events.triggerEvent("featureadded",{feature:j});this.onFeatureInsert(j)}}if(h){this.events.triggerEvent("featuresadded",{features:d})}},removeFeatures:function(e,a){if(!e||e.length===0){return}if(e===this.features){return this.removeAllFeatures(a)}if(!(OpenLayers.Util.isArray(e))){e=[e]}if(e===this.selectedFeatures){e=e.slice()}var d=!a||!a.silent;if(d){this.events.triggerEvent("beforefeaturesremoved",{features:e})}for(var c=e.length-1;c>=0;c--){if(c!=0&&e[c-1].geometry){this.renderer.locked=true}else{this.renderer.locked=false}var b=e[c];delete this.unrenderedFeatures[b.id];if(d){this.events.triggerEvent("beforefeatureremoved",{feature:b})}this.features=OpenLayers.Util.removeItem(this.features,b);b.layer=null;if(b.geometry){this.renderer.eraseFeatures(b)}if(OpenLayers.Util.indexOf(this.selectedFeatures,b)!=-1){OpenLayers.Util.removeItem(this.selectedFeatures,b)}if(d){this.events.triggerEvent("featureremoved",{feature:b})}}if(d){this.events.triggerEvent("featuresremoved",{features:e})}},removeAllFeatures:function(a){var d=!a||!a.silent;var e=this.features;if(d){this.events.triggerEvent("beforefeaturesremoved",{features:e})}var c;for(var b=e.length-1;b>=0;b--){c=e[b];if(d){this.events.triggerEvent("beforefeatureremoved",{feature:c})}c.layer=null;if(d){this.events.triggerEvent("featureremoved",{feature:c})}}this.renderer.clear();this.features=[];this.unrenderedFeatures={};this.selectedFeatures=[];if(d){this.events.triggerEvent("featuresremoved",{features:e})}},destroyFeatures:function(d,a){var c=(d==undefined);if(c){d=this.features}if(d){this.removeFeatures(d,a);for(var b=d.length-1;b>=0;b--){d[b].destroy()}}},drawFeature:function(a,b){if(!this.drawn){return}if(typeof b!="object"){if(!b&&a.state===OpenLayers.State.DELETE){b="delete"}var c=b||a.renderIntent;b=a.style||this.style;if(!b){b=this.styleMap.createSymbolizer(a,c)}}var d=this.renderer.drawFeature(a,b);if(d===false||d===null){this.unrenderedFeatures[a.id]=a}else{delete this.unrenderedFeatures[a.id]}},eraseFeatures:function(a){this.renderer.eraseFeatures(a)},getFeatureFromEvent:function(a){if(!this.renderer){OpenLayers.Console.error(OpenLayers.i18n("getFeatureError"));return null}var b=null;var c=this.renderer.getFeatureIdFromEvent(a);if(c){if(typeof c==="string"){b=this.getFeatureById(c)}else{b=c}}return b},getFeatureBy:function(e,d){var c=null;for(var b=0,a=this.features.length;b<a;++b){if(this.features[b][e]==d){c=this.features[b];break}}return c},getFeatureById:function(a){return this.getFeatureBy("id",a)},getFeatureByFid:function(a){return this.getFeatureBy("fid",a)},getFeaturesByAttribute:function(d,e){var c,b,a=this.features.length,f=[];for(c=0;c<a;c++){b=this.features[c];if(b&&b.attributes){if(b.attributes[d]===e){f.push(b)}}}return f},onFeatureInsert:function(a){},preFeatureInsert:function(a){},getDataExtent:function(){var b=null;var d=this.features;if(d&&(d.length>0)){var e=null;for(var c=0,a=d.length;c<a;c++){e=d[c].geometry;if(e){if(b===null){b=new OpenLayers.Bounds()}b.extend(e.getBounds())}}}return b},CLASS_NAME:"OpenLayers.Layer.Vector"});OpenLayers.Layer.Vector.RootContainer=OpenLayers.Class(OpenLayers.Layer.Vector,{displayInLayerSwitcher:false,layers:null,initialize:function(b,a){OpenLayers.Layer.Vector.prototype.initialize.apply(this,arguments)},display:function(){},getFeatureFromEvent:function(a){var d=this.layers;var c;for(var b=0;b<d.length;b++){c=d[b].getFeatureFromEvent(a);if(c){return c}}},setMap:function(a){OpenLayers.Layer.Vector.prototype.setMap.apply(this,arguments);this.collectRoots();a.events.register("changelayer",this,this.handleChangeLayer)},removeMap:function(a){a.events.unregister("changelayer",this,this.handleChangeLayer);this.resetRoots();OpenLayers.Layer.Vector.prototype.removeMap.apply(this,arguments)},collectRoots:function(){var b;for(var a=0;a<this.map.layers.length;++a){b=this.map.layers[a];if(OpenLayers.Util.indexOf(this.layers,b)!=-1){b.renderer.moveRoot(this.renderer)
}}},resetRoots:function(){var b;for(var a=0;a<this.layers.length;++a){b=this.layers[a];if(this.renderer&&b.renderer.getRenderLayerId()==this.id){this.renderer.moveRoot(b.renderer)}}},handleChangeLayer:function(a){var b=a.layer;if(a.property=="order"&&OpenLayers.Util.indexOf(this.layers,b)!=-1){this.resetRoots();this.collectRoots()}},CLASS_NAME:"OpenLayers.Layer.Vector.RootContainer"});OpenLayers.Control.SelectFeature=OpenLayers.Class(OpenLayers.Control,{EVENT_TYPES:["beforefeaturehighlighted","featurehighlighted","featureunhighlighted"],multipleKey:null,toggleKey:null,multiple:false,clickout:true,toggle:false,hover:false,highlightOnly:false,box:false,onBeforeSelect:function(){},onSelect:function(){},onUnselect:function(){},scope:null,geometryTypes:null,layer:null,layers:null,callbacks:null,selectStyle:null,renderIntent:"select",handlers:null,initialize:function(c,a){this.EVENT_TYPES=OpenLayers.Control.SelectFeature.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);OpenLayers.Control.prototype.initialize.apply(this,[a]);if(this.scope===null){this.scope=this}this.initLayer(c);var b={click:this.clickFeature,clickout:this.clickoutFeature};if(this.hover){b.over=this.overFeature;b.out=this.outFeature}this.callbacks=OpenLayers.Util.extend(b,this.callbacks);this.handlers={feature:new OpenLayers.Handler.Feature(this,this.layer,this.callbacks,{geometryTypes:this.geometryTypes})};if(this.box){this.handlers.box=new OpenLayers.Handler.Box(this,{done:this.selectBox},{boxDivClassName:"olHandlerBoxSelectFeature"})}},initLayer:function(a){if(OpenLayers.Util.isArray(a)){this.layers=a;this.layer=new OpenLayers.Layer.Vector.RootContainer(this.id+"_container",{layers:a})}else{this.layer=a}},destroy:function(){if(this.active&&this.layers){this.map.removeLayer(this.layer)}OpenLayers.Control.prototype.destroy.apply(this,arguments);if(this.layers){this.layer.destroy()}},activate:function(){if(!this.active){if(this.layers){this.map.addLayer(this.layer)}this.handlers.feature.activate();if(this.box&&this.handlers.box){this.handlers.box.activate()}}return OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){if(this.active){this.handlers.feature.deactivate();if(this.handlers.box){this.handlers.box.deactivate()}if(this.layers){this.map.removeLayer(this.layer)}}return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},unselectAll:function(b){var f=this.layers||[this.layer];var e,d;for(var a=0;a<f.length;++a){e=f[a];for(var c=e.selectedFeatures.length-1;c>=0;--c){d=e.selectedFeatures[c];if(!b||b.except!=d){this.unselect(d)}}}},clickFeature:function(a){if(!this.hover){var b=(OpenLayers.Util.indexOf(a.layer.selectedFeatures,a)>-1);if(b){if(this.toggleSelect()){this.unselect(a)}else{if(!this.multipleSelect()){this.unselectAll({except:a})}}}else{if(!this.multipleSelect()){this.unselectAll({except:a})}this.select(a)}}},multipleSelect:function(){return this.multiple||(this.handlers.feature.evt&&this.handlers.feature.evt[this.multipleKey])},toggleSelect:function(){return this.toggle||(this.handlers.feature.evt&&this.handlers.feature.evt[this.toggleKey])},clickoutFeature:function(a){if(!this.hover&&this.clickout){this.unselectAll()}},overFeature:function(b){var a=b.layer;if(this.hover){if(this.highlightOnly){this.highlight(b)}else{if(OpenLayers.Util.indexOf(a.selectedFeatures,b)==-1){this.select(b)}}}},outFeature:function(a){if(this.hover){if(this.highlightOnly){if(a._lastHighlighter==this.id){if(a._prevHighlighter&&a._prevHighlighter!=this.id){delete a._lastHighlighter;var b=this.map.getControl(a._prevHighlighter);if(b){b.highlight(a)}}else{this.unhighlight(a)}}}else{this.unselect(a)}}},highlight:function(c){var b=c.layer;var a=this.events.triggerEvent("beforefeaturehighlighted",{feature:c});if(a!==false){c._prevHighlighter=c._lastHighlighter;c._lastHighlighter=this.id;var d=this.selectStyle||this.renderIntent;b.drawFeature(c,d);this.events.triggerEvent("featurehighlighted",{feature:c})}},unhighlight:function(b){var a=b.layer;if(b._prevHighlighter==undefined){delete b._lastHighlighter}else{if(b._prevHighlighter==this.id){delete b._prevHighlighter
}else{b._lastHighlighter=b._prevHighlighter;delete b._prevHighlighter}}a.drawFeature(b,b.style||b.layer.style||"default");this.events.triggerEvent("featureunhighlighted",{feature:b})},select:function(c){var a=this.onBeforeSelect.call(this.scope,c);var b=c.layer;if(a!==false){a=b.events.triggerEvent("beforefeatureselected",{feature:c});if(a!==false){b.selectedFeatures.push(c);this.highlight(c);if(!this.handlers.feature.lastFeature){this.handlers.feature.lastFeature=b.selectedFeatures[0]}b.events.triggerEvent("featureselected",{feature:c});this.onSelect.call(this.scope,c)}}},unselect:function(b){var a=b.layer;this.unhighlight(b);OpenLayers.Util.removeItem(a.selectedFeatures,b);a.events.triggerEvent("featureunselected",{feature:b});this.onUnselect.call(this.scope,b)},selectBox:function(e){if(e instanceof OpenLayers.Bounds){var h=this.map.getLonLatFromPixel(new OpenLayers.Pixel(e.left,e.bottom));var k=this.map.getLonLatFromPixel(new OpenLayers.Pixel(e.right,e.top));var a=new OpenLayers.Bounds(h.lon,h.lat,k.lon,k.lat);if(!this.multipleSelect()){this.unselectAll()}var j=this.multiple;this.multiple=true;var d=this.layers||[this.layer];var f;for(var b=0;b<d.length;++b){f=d[b];for(var c=0,g=f.features.length;c<g;++c){var m=f.features[c];if(!m.getVisibility()){continue}if(this.geometryTypes==null||OpenLayers.Util.indexOf(this.geometryTypes,m.geometry.CLASS_NAME)>-1){if(a.toGeometry().intersects(m.geometry)){if(OpenLayers.Util.indexOf(f.selectedFeatures,m)==-1){this.select(m)}}}}}this.multiple=j}},setMap:function(a){this.handlers.feature.setMap(a);if(this.box){this.handlers.box.setMap(a)}OpenLayers.Control.prototype.setMap.apply(this,arguments)},setLayer:function(b){var a=this.active;this.unselectAll();this.deactivate();if(this.layers){this.layer.destroy();this.layers=null}this.initLayer(b);this.handlers.feature.layer=this.layer;if(a){this.activate()}},CLASS_NAME:"OpenLayers.Control.SelectFeature"});OpenLayers.Handler.Keyboard=OpenLayers.Class(OpenLayers.Handler,{KEY_EVENTS:["keydown","keyup"],eventListener:null,initialize:function(c,b,a){OpenLayers.Handler.prototype.initialize.apply(this,arguments);this.eventListener=OpenLayers.Function.bindAsEventListener(this.handleKeyEvent,this)},destroy:function(){this.deactivate();this.eventListener=null;OpenLayers.Handler.prototype.destroy.apply(this,arguments)},activate:function(){if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){for(var b=0,a=this.KEY_EVENTS.length;b<a;b++){OpenLayers.Event.observe(document,this.KEY_EVENTS[b],this.eventListener)}return true}else{return false}},deactivate:function(){var c=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){for(var b=0,a=this.KEY_EVENTS.length;b<a;b++){OpenLayers.Event.stopObserving(document,this.KEY_EVENTS[b],this.eventListener)}c=true}return c},handleKeyEvent:function(a){if(this.checkModifiers(a)){this.callback(a.type,[a])}},CLASS_NAME:"OpenLayers.Handler.Keyboard"});OpenLayers.Control.ModifyFeature=OpenLayers.Class(OpenLayers.Control,{geometryTypes:null,clickout:true,toggle:true,standalone:false,layer:null,feature:null,vertices:null,virtualVertices:null,selectControl:null,dragControl:null,handlers:null,deleteCodes:null,virtualStyle:null,vertexRenderIntent:null,mode:null,modified:false,radiusHandle:null,dragHandle:null,onModificationStart:function(){},onModification:function(){},onModificationEnd:function(){},initialize:function(d,c){c=c||{};this.layer=d;this.vertices=[];this.virtualVertices=[];this.virtualStyle=OpenLayers.Util.extend({},this.layer.style||this.layer.styleMap.createSymbolizer(null,c.vertexRenderIntent));this.virtualStyle.fillOpacity=0.3;this.virtualStyle.strokeOpacity=0.3;this.deleteCodes=[46,68];this.mode=OpenLayers.Control.ModifyFeature.RESHAPE;OpenLayers.Control.prototype.initialize.apply(this,[c]);if(!(OpenLayers.Util.isArray(this.deleteCodes))){this.deleteCodes=[this.deleteCodes]}var f=this;var a={geometryTypes:this.geometryTypes,clickout:this.clickout,toggle:this.toggle,onBeforeSelect:this.beforeSelectFeature,onSelect:this.selectFeature,onUnselect:this.unselectFeature,scope:this};if(this.standalone===false){this.selectControl=new OpenLayers.Control.SelectFeature(d,a)
}var b={geometryTypes:["OpenLayers.Geometry.Point"],snappingOptions:this.snappingOptions,onStart:function(h,g){f.dragStart.apply(f,[h,g])},onDrag:function(h,g){f.dragVertex.apply(f,[h,g])},onComplete:function(g){f.dragComplete.apply(f,[g])},featureCallbacks:{over:function(g){if(f.standalone!==true||g._sketch||f.feature===g){f.dragControl.overFeature.apply(f.dragControl,[g])}}}};this.dragControl=new OpenLayers.Control.DragFeature(d,b);var e={keydown:this.handleKeypress};this.handlers={keyboard:new OpenLayers.Handler.Keyboard(this,e)}},destroy:function(){this.layer=null;this.standalone||this.selectControl.destroy();this.dragControl.destroy();OpenLayers.Control.prototype.destroy.apply(this,[])},activate:function(){return((this.standalone||this.selectControl.activate())&&this.handlers.keyboard.activate()&&OpenLayers.Control.prototype.activate.apply(this,arguments))},deactivate:function(){var c=false;if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){this.layer.removeFeatures(this.vertices,{silent:true});this.layer.removeFeatures(this.virtualVertices,{silent:true});this.vertices=[];this.dragControl.deactivate();var a=this.feature;var b=a&&a.geometry&&a.layer;if(this.standalone===false){if(b){this.selectControl.unselect.apply(this.selectControl,[a])}this.selectControl.deactivate()}else{if(b){this.unselectFeature(a)}}this.handlers.keyboard.deactivate();c=true}return c},beforeSelectFeature:function(a){return this.layer.events.triggerEvent("beforefeaturemodified",{feature:a})},selectFeature:function(b){if(!this.standalone||this.beforeSelectFeature(b)!==false){this.feature=b;this.modified=false;this.resetVertices();this.dragControl.activate();this.onModificationStart(this.feature)}var a=b.modified;if(b.geometry&&!(a&&a.geometry)){this._originalGeometry=b.geometry.clone()}},unselectFeature:function(a){this.layer.removeFeatures(this.vertices,{silent:true});this.vertices=[];this.layer.destroyFeatures(this.virtualVertices,{silent:true});this.virtualVertices=[];if(this.dragHandle){this.layer.destroyFeatures([this.dragHandle],{silent:true});delete this.dragHandle}if(this.radiusHandle){this.layer.destroyFeatures([this.radiusHandle],{silent:true});delete this.radiusHandle}this.feature=null;this.dragControl.deactivate();this.onModificationEnd(a);this.layer.events.triggerEvent("afterfeaturemodified",{feature:a,modified:this.modified});this.modified=false},dragStart:function(b,a){if(b!=this.feature&&!b.geometry.parent&&b!=this.dragHandle&&b!=this.radiusHandle){if(this.standalone===false&&this.feature){this.selectControl.clickFeature.apply(this.selectControl,[this.feature])}if(this.geometryTypes==null||OpenLayers.Util.indexOf(this.geometryTypes,b.geometry.CLASS_NAME)!=-1){this.standalone||this.selectControl.clickFeature.apply(this.selectControl,[b]);this.dragControl.overFeature.apply(this.dragControl,[b]);this.dragControl.lastPixel=a;this.dragControl.handlers.drag.started=true;this.dragControl.handlers.drag.start=a;this.dragControl.handlers.drag.last=a}}},dragVertex:function(b,a){this.modified=true;if(this.feature.geometry.CLASS_NAME=="OpenLayers.Geometry.Point"){if(this.feature!=b){this.feature=b}this.layer.events.triggerEvent("vertexmodified",{vertex:b.geometry,feature:this.feature,pixel:a})}else{if(b._index){b.geometry.parent.addComponent(b.geometry,b._index);delete b._index;OpenLayers.Util.removeItem(this.virtualVertices,b);this.vertices.push(b)}else{if(b==this.dragHandle){this.layer.removeFeatures(this.vertices,{silent:true});this.vertices=[];if(this.radiusHandle){this.layer.destroyFeatures([this.radiusHandle],{silent:true});this.radiusHandle=null}}else{if(b!==this.radiusHandle){this.layer.events.triggerEvent("vertexmodified",{vertex:b.geometry,feature:this.feature,pixel:a})}}}if(this.virtualVertices.length>0){this.layer.destroyFeatures(this.virtualVertices,{silent:true});this.virtualVertices=[]}this.layer.drawFeature(this.feature,this.standalone?undefined:this.selectControl.renderIntent)}this.layer.drawFeature(b)},dragComplete:function(a){this.resetVertices();this.setFeatureState();this.onModification(this.feature);this.layer.events.triggerEvent("featuremodified",{feature:this.feature})
},setFeatureState:function(){if(this.feature.state!=OpenLayers.State.INSERT&&this.feature.state!=OpenLayers.State.DELETE){this.feature.state=OpenLayers.State.UPDATE;if(this.modified&&this._originalGeometry){var a=this.feature;a.modified=OpenLayers.Util.extend(a.modified,{geometry:this._originalGeometry});delete this._originalGeometry}}},resetVertices:function(){if(this.dragControl.feature){this.dragControl.outFeature(this.dragControl.feature)}if(this.vertices.length>0){this.layer.removeFeatures(this.vertices,{silent:true});this.vertices=[]}if(this.virtualVertices.length>0){this.layer.removeFeatures(this.virtualVertices,{silent:true});this.virtualVertices=[]}if(this.dragHandle){this.layer.destroyFeatures([this.dragHandle],{silent:true});this.dragHandle=null}if(this.radiusHandle){this.layer.destroyFeatures([this.radiusHandle],{silent:true});this.radiusHandle=null}if(this.feature&&this.feature.geometry.CLASS_NAME!="OpenLayers.Geometry.Point"){if((this.mode&OpenLayers.Control.ModifyFeature.DRAG)){this.collectDragHandle()}if((this.mode&(OpenLayers.Control.ModifyFeature.ROTATE|OpenLayers.Control.ModifyFeature.RESIZE))){this.collectRadiusHandle()}if(this.mode&OpenLayers.Control.ModifyFeature.RESHAPE){if(!(this.mode&OpenLayers.Control.ModifyFeature.RESIZE)){this.collectVertices()}}}},handleKeypress:function(a){var b=a.keyCode;if(this.feature&&OpenLayers.Util.indexOf(this.deleteCodes,b)!=-1){var c=this.dragControl.feature;if(c&&OpenLayers.Util.indexOf(this.vertices,c)!=-1&&!this.dragControl.handlers.drag.dragging&&c.geometry.parent){c.geometry.parent.removeComponent(c.geometry);this.layer.events.triggerEvent("vertexremoved",{vertex:c.geometry,feature:this.feature,pixel:a.xy});this.layer.drawFeature(this.feature,this.standalone?undefined:this.selectControl.renderIntent);this.modified=true;this.resetVertices();this.setFeatureState();this.onModification(this.feature);this.layer.events.triggerEvent("featuremodified",{feature:this.feature})}}},collectVertices:function(){this.vertices=[];this.virtualVertices=[];var a=this;function b(h){var d,e,j,f;if(h.CLASS_NAME=="OpenLayers.Geometry.Point"){e=new OpenLayers.Feature.Vector(h);e._sketch=true;e.renderIntent=a.vertexRenderIntent;a.vertices.push(e)}else{var c=h.components.length;if(h.CLASS_NAME=="OpenLayers.Geometry.LinearRing"){c-=1}for(d=0;d<c;++d){j=h.components[d];if(j.CLASS_NAME=="OpenLayers.Geometry.Point"){e=new OpenLayers.Feature.Vector(j);e._sketch=true;e.renderIntent=a.vertexRenderIntent;a.vertices.push(e)}else{b(j)}}if(h.CLASS_NAME!="OpenLayers.Geometry.MultiPoint"){for(d=0,f=h.components.length;d<f-1;++d){var m=h.components[d];var n=h.components[d+1];if(m.CLASS_NAME=="OpenLayers.Geometry.Point"&&n.CLASS_NAME=="OpenLayers.Geometry.Point"){var k=(m.x+n.x)/2;var g=(m.y+n.y)/2;var l=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(k,g),null,a.virtualStyle);l.geometry.parent=h;l._index=d+1;l._sketch=true;a.virtualVertices.push(l)}}}}}b.call(this,this.feature.geometry);this.layer.addFeatures(this.virtualVertices,{silent:true});this.layer.addFeatures(this.vertices,{silent:true})},collectDragHandle:function(){var d=this.feature.geometry;var a=d.getBounds().getCenterLonLat();var c=new OpenLayers.Geometry.Point(a.lon,a.lat);var b=new OpenLayers.Feature.Vector(c);c.move=function(e,f){OpenLayers.Geometry.Point.prototype.move.call(this,e,f);d.move(e,f)};b._sketch=true;this.dragHandle=b;this.layer.addFeatures([this.dragHandle],{silent:true})},collectRadiusHandle:function(){var h=this.feature.geometry;var a=h.getBounds();var b=a.getCenterLonLat();var i=new OpenLayers.Geometry.Point(b.lon,b.lat);var g=new OpenLayers.Geometry.Point(a.right,a.bottom);var f=new OpenLayers.Feature.Vector(g);var c=(this.mode&OpenLayers.Control.ModifyFeature.RESIZE);var e=(this.mode&OpenLayers.Control.ModifyFeature.RESHAPE);var d=(this.mode&OpenLayers.Control.ModifyFeature.ROTATE);g.move=function(t,s){OpenLayers.Geometry.Point.prototype.move.call(this,t,s);var u=this.x-i.x;var p=this.y-i.y;var v=u-t;var q=p-s;if(d){var k=Math.atan2(q,v);var j=Math.atan2(p,u);var n=j-k;n*=180/Math.PI;h.rotate(n,i)}if(c){var m,r;
if(e){m=p/q;r=(u/v)/m}else{var o=Math.sqrt((v*v)+(q*q));var l=Math.sqrt((u*u)+(p*p));m=l/o}h.resize(m,i,r)}};f._sketch=true;this.radiusHandle=f;this.layer.addFeatures([this.radiusHandle],{silent:true})},setMap:function(a){this.standalone||this.selectControl.setMap(a);this.dragControl.setMap(a);OpenLayers.Control.prototype.setMap.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.ModifyFeature"});OpenLayers.Control.ModifyFeature.RESHAPE=1;OpenLayers.Control.ModifyFeature.RESIZE=2;OpenLayers.Control.ModifyFeature.ROTATE=4;OpenLayers.Control.ModifyFeature.DRAG=8;OpenLayers.Layer.XYZ=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:true,sphericalMercator:false,zoomOffset:0,serverResolutions:null,initialize:function(d,c,b){if(b&&b.sphericalMercator||this.sphericalMercator){b=OpenLayers.Util.extend({maxExtent:new OpenLayers.Bounds(-128*156543.03390625,-128*156543.03390625,128*156543.03390625,128*156543.03390625),maxResolution:156543.03390625,numZoomLevels:19,units:"m",projection:"EPSG:900913"},b)}c=c||this.url;d=d||this.name;var a=[d,c,{},b];OpenLayers.Layer.Grid.prototype.initialize.apply(this,a)},clone:function(a){if(a==null){a=new OpenLayers.Layer.XYZ(this.name,this.url,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(d){var a=this.getXYZ(d);var b=this.url;if(OpenLayers.Util.isArray(b)){var c=""+a.x+a.y+a.z;b=this.selectUrl(c,b)}return OpenLayers.String.format(b,a)},getXYZ:function(d){var c=this.map.getResolution();var a=Math.round((d.left-this.maxExtent.left)/(c*this.tileSize.w));var f=Math.round((this.maxExtent.top-d.top)/(c*this.tileSize.h));var e=this.serverResolutions!=null?OpenLayers.Util.indexOf(this.serverResolutions,c):this.map.getZoom()+this.zoomOffset;var b=Math.pow(2,e);if(this.wrapDateLine){a=((a%b)+b)%b}return{x:a,y:f,z:e}},setMap:function(a){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments);if(!this.tileOrigin){this.tileOrigin=new OpenLayers.LonLat(this.maxExtent.left,this.maxExtent.bottom)}},CLASS_NAME:"OpenLayers.Layer.XYZ"});OpenLayers.Layer.OSM=OpenLayers.Class(OpenLayers.Layer.XYZ,{name:"OpenStreetMap",attribution:"Data CC-By-SA by <a href='http://openstreetmap.org/'>OpenStreetMap</a>",sphericalMercator:true,url:"http://tile.openstreetmap.org/${z}/${x}/${y}.png",clone:function(a){if(a==null){a=new OpenLayers.Layer.OSM(this.name,this.url,this.getOptions())}a=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a]);return a},wrapDateLine:true,CLASS_NAME:"OpenLayers.Layer.OSM"});OpenLayers.Layer.Bing=OpenLayers.Class(OpenLayers.Layer.XYZ,{serverResolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,0.5971642833948135,0.29858214169740677,0.14929107084870338,0.07464553542435169],attributionTemplate:'<span class="olBingAttribution ${type}"><div><a target="_blank" href="http://www.bing.com/maps/"><img src="${logo}" /></a></div>${copyrights}<a style="white-space: nowrap" target="_blank" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a></span>',metadata:null,type:"Road",metadataParams:null,initialize:function(c){c=OpenLayers.Util.applyDefaults({sphericalMercator:true},c);var b=c.name||"Bing "+(c.type||this.type);var a=[b,null,c];OpenLayers.Layer.XYZ.prototype.initialize.apply(this,a);this.loadMetadata()},loadMetadata:function(){this._callbackId="_callback_"+this.id.replace(/\./g,"_");window[this._callbackId]=OpenLayers.Function.bind(OpenLayers.Layer.Bing.processMetadata,this);var c=OpenLayers.Util.applyDefaults({key:this.key,jsonp:this._callbackId,include:"ImageryProviders"},this.metadataParams);var b="http://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.type+"?"+OpenLayers.Util.getParameterString(c);var a=document.createElement("script");a.type="text/javascript";a.src=b;a.id=this._callbackId;document.getElementsByTagName("head")[0].appendChild(a)
},initLayer:function(){var c=this.metadata.resourceSets[0].resources[0];var a=c.imageUrl.replace("{quadkey}","${quadkey}");this.url=[];for(var b=0;b<c.imageUrlSubdomains.length;++b){this.url.push(a.replace("{subdomain}",c.imageUrlSubdomains[b]))}this.addOptions({maxResolution:Math.min(this.serverResolutions[c.zoomMin],this.maxResolution),zoomOffset:c.zoomMin,numZoomLevels:Math.min(c.zoomMax+1-c.zoomMin,this.numZoomLevels)},true)},getURL:function(a){if(!this.url){return OpenLayers.Util.getImagesLocation()+"blank.gif"}var g=this.getXYZ(a),k=g.x,h=g.y,f=g.z;var c=[];for(var d=f;d>0;--d){var j="0";var l=1<<(d-1);if((k&l)!=0){j++}if((h&l)!=0){j++;j++}c.push(j)}var e=c.join("");var b=this.selectUrl(""+k+h+f,this.url);return OpenLayers.String.format(b,{quadkey:e})},updateAttribution:function(){var g=this.metadata;if(!g||!this.map||!this.map.center){return}var f=g.resourceSets[0].resources[0];var o=this.map.getExtent().transform(this.map.getProjectionObject(),new OpenLayers.Projection("EPSG:4326"));var c=f.imageryProviders,n=this.map.getZoom()+1,a="",h,d,m,b,e,l,k;for(d=0,m=c.length;d<m;++d){h=c[d];for(b=0,e=h.coverageAreas.length;b<e;++b){k=h.coverageAreas[b];l=OpenLayers.Bounds.fromArray(k.bbox);if(o.intersectsBounds(l)&&n<=k.zoomMax&&n>=k.zoomMin){a+=h.attribution+" "}}}this.attribution=OpenLayers.String.format(this.attributionTemplate,{type:this.type.toLowerCase(),logo:g.brandLogoUri,copyrights:a});this.map&&this.map.events.triggerEvent("changelayer",{layer:this,property:"attribution"})},setMap:function(){OpenLayers.Layer.XYZ.prototype.setMap.apply(this,arguments);this.updateAttribution();this.map.events.register("moveend",this,this.updateAttribution)},clone:function(a){if(a==null){a=new OpenLayers.Layer.Bing(this.options)}a=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a]);return a},destroy:function(){this.map&&this.map.events.unregister("moveend",this,this.updateAttribution);OpenLayers.Layer.XYZ.prototype.destroy.apply(this,arguments)},CLASS_NAME:"OpenLayers.Layer.Bing"});OpenLayers.Layer.Bing.processMetadata=function(b){this.metadata=b;this.initLayer();var a=document.getElementById(this._callbackId);a.parentNode.removeChild(a);window[this._callbackId]=undefined;delete this._callbackId};OpenLayers.Format.SOSGetFeatureOfInterest=OpenLayers.Class(OpenLayers.Format.XML,{VERSION:"1.0.0",namespaces:{sos:"http://www.opengis.net/sos/1.0",gml:"http://www.opengis.net/gml",sa:"http://www.opengis.net/sampling/1.0",xsi:"http://www.w3.org/2001/XMLSchema-instance"},schemaLocation:"http://www.opengis.net/sos/1.0 http://schemas.opengis.net/sos/1.0.0/sosAll.xsd",defaultPrefix:"sos",regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},read:function(f){if(typeof f=="string"){f=OpenLayers.Format.XML.prototype.read.apply(this,[f])}if(f&&f.nodeType==9){f=f.documentElement}var g={features:[]};this.readNode(f,g);var e=[];for(var d=0,a=g.features.length;d<a;d++){var b=g.features[d];if(this.internalProjection&&this.externalProjection&&b.components[0]){b.components[0].transform(this.externalProjection,this.internalProjection)}var c=new OpenLayers.Feature.Vector(b.components[0],b.attributes);e.push(c)}return e},readers:{sa:{SamplingPoint:function(b,c){if(!c.attributes){var a={attributes:{}};c.features.push(a);c=a}c.attributes.id=this.getAttributeNS(b,this.namespaces.gml,"id");this.readChildNodes(b,c)},position:function(a,b){this.readChildNodes(a,b)}},gml:OpenLayers.Util.applyDefaults({FeatureCollection:function(a,b){this.readChildNodes(a,b)},featureMember:function(b,c){var a={attributes:{}};c.features.push(a);this.readChildNodes(b,a)},name:function(a,b){b.attributes.name=this.getChildValue(a)},pos:function(a,b){if(!this.externalProjection){this.externalProjection=new OpenLayers.Projection(a.getAttribute("srsName"))}OpenLayers.Format.GML.v3.prototype.readers.gml.pos.apply(this,[a,b])}},OpenLayers.Format.GML.v3.prototype.readers.gml)},writers:{sos:{GetFeatureOfInterest:function(b){var d=this.createElementNSPlus("GetFeatureOfInterest",{attributes:{version:this.VERSION,service:"SOS","xsi:schemaLocation":this.schemaLocation}});
for(var c=0,a=b.fois.length;c<a;c++){this.writeNode("FeatureOfInterestId",{foi:b.fois[c]},d)}return d},FeatureOfInterestId:function(a){var b=this.createElementNSPlus("FeatureOfInterestId",{value:a.foi});return b}}},CLASS_NAME:"OpenLayers.Format.SOSGetFeatureOfInterest"});OpenLayers.Format.SOSGetObservation=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ows:"http://www.opengis.net/ows",gml:"http://www.opengis.net/gml",sos:"http://www.opengis.net/sos/1.0",ogc:"http://www.opengis.net/ogc",om:"http://www.opengis.net/om/1.0",sa:"http://www.opengis.net/sampling/1.0",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/sos/1.0 http://schemas.opengis.net/sos/1.0.0/sosGetObservation.xsd",defaultPrefix:"sos",read:function(a){if(typeof a=="string"){a=OpenLayers.Format.XML.prototype.read.apply(this,[a])}if(a&&a.nodeType==9){a=a.documentElement}var b={measurements:[],observations:[]};this.readNode(a,b);return b},write:function(a){var b=this.writeNode("sos:GetObservation",a);b.setAttribute("xmlns:om",this.namespaces.om);b.setAttribute("xmlns:ogc",this.namespaces.ogc);this.setAttributeNS(b,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},readers:{om:{ObservationCollection:function(a,b){b.id=this.getAttributeNS(a,this.namespaces.gml,"id");this.readChildNodes(a,b)},member:function(a,b){this.readChildNodes(a,b)},Measurement:function(b,c){var a={};c.measurements.push(a);this.readChildNodes(b,a)},Observation:function(b,c){var a={};c.observations.push(a);this.readChildNodes(b,a)},samplingTime:function(b,a){var c={};a.samplingTime=c;this.readChildNodes(b,c)},observedProperty:function(b,a){a.observedProperty=this.getAttributeNS(b,this.namespaces.xlink,"href");this.readChildNodes(b,a)},procedure:function(b,a){a.procedure=this.getAttributeNS(b,this.namespaces.xlink,"href");this.readChildNodes(b,a)},featureOfInterest:function(g,b){var f={features:[]};b.fois=[];b.fois.push(f);this.readChildNodes(g,f);var e=[];for(var d=0,a=f.features.length;d<a;d++){var c=f.features[d];e.push(new OpenLayers.Feature.Vector(c.components[0],c.attributes))}f.features=e},result:function(c,b){var a={};b.result=a;if(this.getChildValue(c)!==""){a.value=this.getChildValue(c);a.uom=c.getAttribute("uom")}else{this.readChildNodes(c,a)}}},sa:OpenLayers.Format.SOSGetFeatureOfInterest.prototype.readers.sa,gml:OpenLayers.Util.applyDefaults({TimeInstant:function(a,b){var c={};b.timeInstant=c;this.readChildNodes(a,c)},timePosition:function(a,b){b.timePosition=this.getChildValue(a)}},OpenLayers.Format.SOSGetFeatureOfInterest.prototype.readers.gml)},writers:{sos:{GetObservation:function(b){var d=this.createElementNSPlus("GetObservation",{attributes:{version:this.VERSION,service:"SOS"}});this.writeNode("offering",b,d);if(b.eventTime){this.writeNode("eventTime",b,d)}for(var c in b.procedures){this.writeNode("procedure",b.procedures[c],d)}for(var a in b.observedProperties){this.writeNode("observedProperty",b.observedProperties[a],d)}if(b.foi){this.writeNode("featureOfInterest",b.foi,d)}this.writeNode("responseFormat",b,d);if(b.resultModel){this.writeNode("resultModel",b,d)}if(b.responseMode){this.writeNode("responseMode",b,d)}return d},featureOfInterest:function(a){var b=this.createElementNSPlus("featureOfInterest");this.writeNode("ObjectID",a.objectId,b);return b},ObjectID:function(a){return this.createElementNSPlus("ObjectID",{value:a})},responseFormat:function(a){return this.createElementNSPlus("responseFormat",{value:a.responseFormat})},procedure:function(a){return this.createElementNSPlus("procedure",{value:a})},offering:function(a){return this.createElementNSPlus("offering",{value:a.offering})},observedProperty:function(a){return this.createElementNSPlus("observedProperty",{value:a})},eventTime:function(a){var b=this.createElementNSPlus("eventTime");if(a.eventTime==="latest"){this.writeNode("ogc:TM_Equals",a,b)}return b},resultModel:function(a){return this.createElementNSPlus("resultModel",{value:a.resultModel})
},responseMode:function(a){return this.createElementNSPlus("responseMode",{value:a.responseMode})}},ogc:{TM_Equals:function(a){var b=this.createElementNSPlus("ogc:TM_Equals");this.writeNode("ogc:PropertyName",{property:"urn:ogc:data:time:iso8601"},b);if(a.eventTime==="latest"){this.writeNode("gml:TimeInstant",{value:"latest"},b)}return b},PropertyName:function(a){return this.createElementNSPlus("ogc:PropertyName",{value:a.property})}},gml:{TimeInstant:function(a){var b=this.createElementNSPlus("gml:TimeInstant");this.writeNode("gml:timePosition",a,b);return b},timePosition:function(a){var b=this.createElementNSPlus("gml:timePosition",{value:a.value});return b}}},CLASS_NAME:"OpenLayers.Format.SOSGetObservation"});OpenLayers.Handler.MouseWheel=OpenLayers.Class(OpenLayers.Handler,{wheelListener:null,mousePosition:null,interval:0,delta:0,cumulative:true,initialize:function(c,b,a){OpenLayers.Handler.prototype.initialize.apply(this,arguments);this.wheelListener=OpenLayers.Function.bindAsEventListener(this.onWheelEvent,this)},destroy:function(){OpenLayers.Handler.prototype.destroy.apply(this,arguments);this.wheelListener=null},onWheelEvent:function(k){if(!this.map||!this.checkModifiers(k)){return}var g=false;var m=false;var f=false;var b=OpenLayers.Event.element(k);while((b!=null)&&!f&&!g){if(!g){try{if(b.currentStyle){c=b.currentStyle.overflow}else{var a=document.defaultView.getComputedStyle(b,null);var c=a.getPropertyValue("overflow")}g=(c&&(c=="auto")||(c=="scroll"))}catch(d){}}if(!m){for(var h=0,j=this.map.layers.length;h<j;h++){if(b==this.map.layers[h].div||b==this.map.layers[h].pane){m=true;break}}}f=(b==this.map.div);b=b.parentNode}if(!g&&f){if(m){var l=0;if(!k){k=window.event}if(k.wheelDelta){l=k.wheelDelta/120;if(window.opera&&window.opera.version()<9.2){l=-l}}else{if(k.detail){l=-k.detail/3}}this.delta=this.delta+l;if(this.interval){window.clearTimeout(this._timeoutId);this._timeoutId=window.setTimeout(OpenLayers.Function.bind(function(){this.wheelZoom(k)},this),this.interval)}else{this.wheelZoom(k)}}OpenLayers.Event.stop(k)}},wheelZoom:function(a){var b=this.delta;this.delta=0;if(b){if(this.mousePosition){a.xy=this.mousePosition}if(!a.xy){a.xy=this.map.getPixelFromLonLat(this.map.getCenter())}if(b<0){this.callback("down",[a,this.cumulative?b:-1])}else{this.callback("up",[a,this.cumulative?b:1])}}},mousemove:function(a){this.mousePosition=a.xy},activate:function(a){if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){var b=this.wheelListener;OpenLayers.Event.observe(window,"DOMMouseScroll",b);OpenLayers.Event.observe(window,"mousewheel",b);OpenLayers.Event.observe(document,"mousewheel",b);return true}else{return false}},deactivate:function(a){if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){var b=this.wheelListener;OpenLayers.Event.stopObserving(window,"DOMMouseScroll",b);OpenLayers.Event.stopObserving(window,"mousewheel",b);OpenLayers.Event.stopObserving(document,"mousewheel",b);return true}else{return false}},CLASS_NAME:"OpenLayers.Handler.MouseWheel"});OpenLayers.Format.WFST.v1_0_0=OpenLayers.Class(OpenLayers.Format.Filter.v1_0_0,OpenLayers.Format.WFST.v1,{version:"1.0.0",srsNameInQuery:false,schemaLocations:{wfs:"http://schemas.opengis.net/wfs/1.0.0/WFS-transaction.xsd"},initialize:function(a){OpenLayers.Format.Filter.v1_0_0.prototype.initialize.apply(this,[a]);OpenLayers.Format.WFST.v1.prototype.initialize.apply(this,[a])},readNode:function(a,b,c){return OpenLayers.Format.GML.v2.prototype.readNode.apply(this,[a,b])},readers:{wfs:OpenLayers.Util.applyDefaults({WFS_TransactionResponse:function(a,b){b.insertIds=[];b.success=false;this.readChildNodes(a,b)},InsertResult:function(b,a){var c={fids:[]};this.readChildNodes(b,c);a.insertIds.push(c.fids[0])},TransactionResult:function(a,b){this.readChildNodes(a,b)},Status:function(a,b){this.readChildNodes(a,b)},SUCCESS:function(a,b){b.success=true}},OpenLayers.Format.WFST.v1.prototype.readers.wfs),gml:OpenLayers.Format.GML.v2.prototype.readers.gml,feature:OpenLayers.Format.GML.v2.prototype.readers.feature,ogc:OpenLayers.Format.Filter.v1_0_0.prototype.readers.ogc},writers:{wfs:OpenLayers.Util.applyDefaults({Query:function(b){b=OpenLayers.Util.extend({featureNS:this.featureNS,featurePrefix:this.featurePrefix,featureType:this.featureType,srsName:this.srsName,srsNameInQuery:this.srsNameInQuery},b);
var e=b.featurePrefix;var d=this.createElementNSPlus("wfs:Query",{attributes:{typeName:(e?e+":":"")+b.featureType}});if(b.srsNameInQuery&&b.srsName){d.setAttribute("srsName",b.srsName)}if(b.featureNS){d.setAttribute("xmlns:"+e,b.featureNS)}if(b.propertyNames){for(var c=0,a=b.propertyNames.length;c<a;c++){this.writeNode("ogc:PropertyName",{property:b.propertyNames[c]},d)}}if(b.filter){this.setFilterProperty(b.filter);this.writeNode("ogc:Filter",b.filter,d)}return d}},OpenLayers.Format.WFST.v1.prototype.writers.wfs),gml:OpenLayers.Format.GML.v2.prototype.writers.gml,feature:OpenLayers.Format.GML.v2.prototype.writers.feature,ogc:OpenLayers.Format.Filter.v1_0_0.prototype.writers.ogc},CLASS_NAME:"OpenLayers.Format.WFST.v1_0_0"});OpenLayers.ElementsIndexer=OpenLayers.Class({maxZIndex:null,order:null,indices:null,compare:null,initialize:function(a){this.compare=a?OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_Y_ORDER:OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER_DRAWING_ORDER;this.clear()},insert:function(c){if(this.exists(c)){this.remove(c)}var f=c.id;this.determineZIndex(c);var d=-1;var e=this.order.length;var a;while(e-d>1){a=parseInt((d+e)/2);var b=this.compare(this,c,OpenLayers.Util.getElement(this.order[a]));if(b>0){d=a}else{e=a}}this.order.splice(e,0,f);this.indices[f]=this.getZIndex(c);return this.getNextElement(e)},remove:function(b){var d=b.id;var a=OpenLayers.Util.indexOf(this.order,d);if(a>=0){this.order.splice(a,1);delete this.indices[d];if(this.order.length>0){var c=this.order[this.order.length-1];this.maxZIndex=this.indices[c]}else{this.maxZIndex=0}}},clear:function(){this.order=[];this.indices={};this.maxZIndex=0},exists:function(a){return(this.indices[a.id]!=null)},getZIndex:function(a){return a._style.graphicZIndex},determineZIndex:function(a){var b=a._style.graphicZIndex;if(b==null){b=this.maxZIndex;a._style.graphicZIndex=b}else{if(b>this.maxZIndex){this.maxZIndex=b}}},getNextElement:function(b){var a=b+1;if(a<this.order.length){var c=OpenLayers.Util.getElement(this.order[a]);if(c==undefined){c=this.getNextElement(a)}return c}else{return null}},CLASS_NAME:"OpenLayers.ElementsIndexer"});OpenLayers.ElementsIndexer.IndexingMethods={Z_ORDER:function(e,d,b){var a=e.getZIndex(d);var f=0;if(b){var c=e.getZIndex(b);f=a-c}return f},Z_ORDER_DRAWING_ORDER:function(c,b,a){var d=OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(c,b,a);if(a&&d==0){d=1}return d},Z_ORDER_Y_ORDER:function(d,c,b){var e=OpenLayers.ElementsIndexer.IndexingMethods.Z_ORDER(d,c,b);if(b&&e===0){var a=b._boundsBottom-c._boundsBottom;e=(a===0)?1:a}return e}};OpenLayers.Renderer.Elements=OpenLayers.Class(OpenLayers.Renderer,{rendererRoot:null,root:null,vectorRoot:null,textRoot:null,xmlns:null,indexer:null,BACKGROUND_ID_SUFFIX:"_background",LABEL_ID_SUFFIX:"_label",initialize:function(a,b){OpenLayers.Renderer.prototype.initialize.apply(this,arguments);this.rendererRoot=this.createRenderRoot();this.root=this.createRoot("_root");this.vectorRoot=this.createRoot("_vroot");this.textRoot=this.createRoot("_troot");this.root.appendChild(this.vectorRoot);this.root.appendChild(this.textRoot);this.rendererRoot.appendChild(this.root);this.container.appendChild(this.rendererRoot);if(b&&(b.zIndexing||b.yOrdering)){this.indexer=new OpenLayers.ElementsIndexer(b.yOrdering)}},destroy:function(){this.clear();this.rendererRoot=null;this.root=null;this.xmlns=null;OpenLayers.Renderer.prototype.destroy.apply(this,arguments)},clear:function(){var b;var a=this.vectorRoot;if(a){while(b=a.firstChild){a.removeChild(b)}}a=this.textRoot;if(a){while(b=a.firstChild){a.removeChild(b)}}if(this.indexer){this.indexer.clear()}},getNodeType:function(b,a){},drawGeometry:function(j,a,d){var h=j.CLASS_NAME;var c=true;if((h=="OpenLayers.Geometry.Collection")||(h=="OpenLayers.Geometry.MultiPoint")||(h=="OpenLayers.Geometry.MultiLineString")||(h=="OpenLayers.Geometry.MultiPolygon")){for(var f=0,g=j.components.length;f<g;f++){c=this.drawGeometry(j.components[f],a,d)&&c}return c}c=false;var e=false;if(a.display!="none"){if(a.backgroundGraphic){this.redrawBackgroundNode(j.id,j,a,d)}else{e=true
}c=this.redrawNode(j.id,j,a,d)}if(c==false){var b=document.getElementById(j.id);if(b){if(b._style.backgroundGraphic){e=true}b.parentNode.removeChild(b)}}if(e){var b=document.getElementById(j.id+this.BACKGROUND_ID_SUFFIX);if(b){b.parentNode.removeChild(b)}}return c},redrawNode:function(g,f,b,e){b=this.applyDefaultSymbolizer(b);var c=this.nodeFactory(g,this.getNodeType(f,b));c._featureId=e;c._boundsBottom=f.getBounds().bottom;c._geometryClass=f.CLASS_NAME;c._style=b;var a=this.drawGeometryNode(c,f,b);if(a===false){return false}c=a.node;if(this.indexer){var d=this.indexer.insert(c);if(d){this.vectorRoot.insertBefore(c,d)}else{this.vectorRoot.appendChild(c)}}else{if(c.parentNode!==this.vectorRoot){this.vectorRoot.appendChild(c)}}this.postDraw(c);return a.complete},redrawBackgroundNode:function(e,d,b,c){var a=OpenLayers.Util.extend({},b);a.externalGraphic=a.backgroundGraphic;a.graphicXOffset=a.backgroundXOffset;a.graphicYOffset=a.backgroundYOffset;a.graphicZIndex=a.backgroundGraphicZIndex;a.graphicWidth=a.backgroundWidth||a.graphicWidth;a.graphicHeight=a.backgroundHeight||a.graphicHeight;a.backgroundGraphic=null;a.backgroundXOffset=null;a.backgroundYOffset=null;a.backgroundGraphicZIndex=null;return this.redrawNode(e+this.BACKGROUND_ID_SUFFIX,d,a,null)},drawGeometryNode:function(c,e,b){b=b||c._style;var a={isFilled:b.fill===undefined?true:b.fill,isStroked:b.stroke===undefined?!!b.strokeWidth:b.stroke};var d;switch(e.CLASS_NAME){case"OpenLayers.Geometry.Point":if(b.graphic===false){a.isFilled=false;a.isStroked=false}d=this.drawPoint(c,e);break;case"OpenLayers.Geometry.LineString":a.isFilled=false;d=this.drawLineString(c,e);break;case"OpenLayers.Geometry.LinearRing":d=this.drawLinearRing(c,e);break;case"OpenLayers.Geometry.Polygon":d=this.drawPolygon(c,e);break;case"OpenLayers.Geometry.Surface":d=this.drawSurface(c,e);break;case"OpenLayers.Geometry.Rectangle":d=this.drawRectangle(c,e);break;default:break}c._options=a;if(d!=false){return{node:this.setStyle(c,b,a,e),complete:d}}else{return false}},postDraw:function(a){},drawPoint:function(a,b){},drawLineString:function(a,b){},drawLinearRing:function(a,b){},drawPolygon:function(a,b){},drawRectangle:function(a,b){},drawCircle:function(a,b){},drawSurface:function(a,b){},removeText:function(b){var a=document.getElementById(b+this.LABEL_ID_SUFFIX);if(a){this.textRoot.removeChild(a)}},getFeatureIdFromEvent:function(a){var d=a.target;var b=d&&d.correspondingUseElement;var c=b?b:(d||a.srcElement);var e=c._featureId;return e},eraseGeometry:function(g,f){if((g.CLASS_NAME=="OpenLayers.Geometry.MultiPoint")||(g.CLASS_NAME=="OpenLayers.Geometry.MultiLineString")||(g.CLASS_NAME=="OpenLayers.Geometry.MultiPolygon")||(g.CLASS_NAME=="OpenLayers.Geometry.Collection")){for(var d=0,a=g.components.length;d<a;d++){this.eraseGeometry(g.components[d],f)}}else{var c=OpenLayers.Util.getElement(g.id);if(c&&c.parentNode){if(c.geometry){c.geometry.destroy();c.geometry=null}c.parentNode.removeChild(c);if(this.indexer){this.indexer.remove(c)}if(c._style.backgroundGraphic){var b=g.id+this.BACKGROUND_ID_SUFFIX;var e=OpenLayers.Util.getElement(b);if(e&&e.parentNode){e.parentNode.removeChild(e)}}}}},nodeFactory:function(c,a){var b=OpenLayers.Util.getElement(c);if(b){if(!this.nodeTypeCompare(b,a)){b.parentNode.removeChild(b);b=this.nodeFactory(c,a)}}else{b=this.createNode(a,c)}return b},nodeTypeCompare:function(b,a){},createNode:function(a,b){},moveRoot:function(b){var a=this.root;if(b.root.parentNode==this.rendererRoot){a=b.root}a.parentNode.removeChild(a);b.rendererRoot.appendChild(a)},getRenderLayerId:function(){return this.root.parentNode.parentNode.id},isComplexSymbol:function(a){return(a!="circle")&&!!a},CLASS_NAME:"OpenLayers.Renderer.Elements"});OpenLayers.Renderer.symbol={star:[350,75,379,161,469,161,397,215,423,301,350,250,277,301,303,215,231,161,321,161,350,75],cross:[4,0,6,0,6,4,10,4,10,6,6,6,6,10,4,10,4,6,0,6,0,4,4,4,4,0],x:[0,0,25,0,50,35,75,0,100,0,65,50,100,100,75,100,50,65,25,100,0,100,35,50,0,0],square:[0,0,0,1,1,1,1,0,0,0],triangle:[0,10,10,10,5,0,0,10]};OpenLayers.Control.ArgParser=OpenLayers.Class(OpenLayers.Control,{center:null,zoom:null,layers:null,displayProjection:null,getParameters:function(b){b=b||window.location.href;
var c=OpenLayers.Util.getParameters(b);var a=b.indexOf("#");if(a>0){b="?"+b.substring(a+1,b.length);OpenLayers.Util.extend(c,OpenLayers.Util.getParameters(b))}return c},setMap:function(e){OpenLayers.Control.prototype.setMap.apply(this,arguments);for(var c=0,a=this.map.controls.length;c<a;c++){var d=this.map.controls[c];if((d!=this)&&(d.CLASS_NAME=="OpenLayers.Control.ArgParser")){if(d.displayProjection!=this.displayProjection){this.displayProjection=d.displayProjection}break}}if(c==this.map.controls.length){var b=this.getParameters();if(b.layers){this.layers=b.layers;this.map.events.register("addlayer",this,this.configureLayers);this.configureLayers()}if(b.lat&&b.lon){this.center=new OpenLayers.LonLat(parseFloat(b.lon),parseFloat(b.lat));if(b.zoom){this.zoom=parseInt(b.zoom)}this.map.events.register("changebaselayer",this,this.setCenter);this.setCenter()}}},setCenter:function(){if(this.map.baseLayer){this.map.events.unregister("changebaselayer",this,this.setCenter);if(this.displayProjection){this.center.transform(this.displayProjection,this.map.getProjectionObject())}this.map.setCenter(this.center,this.zoom)}},configureLayers:function(){if(this.layers.length==this.map.layers.length){this.map.events.unregister("addlayer",this,this.configureLayers);for(var d=0,a=this.layers.length;d<a;d++){var b=this.map.layers[d];var e=this.layers.charAt(d);if(e=="B"){this.map.setBaseLayer(b)}else{if((e=="T")||(e=="F")){b.setVisibility(e=="T")}}}}},CLASS_NAME:"OpenLayers.Control.ArgParser"});OpenLayers.Control.Permalink=OpenLayers.Class(OpenLayers.Control,{argParserClass:OpenLayers.Control.ArgParser,element:null,anchor:false,base:"",displayProjection:null,initialize:function(b,c,a){if(b!==null&&typeof b=="object"&&!OpenLayers.Util.isElement(b)){a=b;this.base=document.location.href;OpenLayers.Control.prototype.initialize.apply(this,[a]);if(this.element!=null){this.element=OpenLayers.Util.getElement(this.element)}}else{OpenLayers.Control.prototype.initialize.apply(this,[a]);this.element=OpenLayers.Util.getElement(b);this.base=c||document.location.href}},destroy:function(){if(this.element.parentNode==this.div){this.div.removeChild(this.element)}this.element=null;this.map.events.unregister("moveend",this,this.updateLink);OpenLayers.Control.prototype.destroy.apply(this,arguments)},setMap:function(d){OpenLayers.Control.prototype.setMap.apply(this,arguments);for(var b=0,a=this.map.controls.length;b<a;b++){var c=this.map.controls[b];if(c.CLASS_NAME==this.argParserClass.CLASS_NAME){if(c.displayProjection!=this.displayProjection){this.displayProjection=c.displayProjection}break}}if(b==this.map.controls.length){this.map.addControl(new this.argParserClass({displayProjection:this.displayProjection}))}},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!this.element&&!this.anchor){this.element=document.createElement("a");this.element.innerHTML=OpenLayers.i18n("Permalink");this.element.href="";this.div.appendChild(this.element)}this.map.events.on({moveend:this.updateLink,changelayer:this.updateLink,changebaselayer:this.updateLink,scope:this});this.updateLink();return this.div},updateLink:function(){var b=this.anchor?"#":"?";var a=this.base;if(a.indexOf(b)!=-1){a=a.substring(0,a.indexOf(b))}a+=b+OpenLayers.Util.getParameterString(this.createParams());if(this.anchor&&!this.element){window.location.href=a}else{this.element.href=a}},createParams:function(a,k,e){a=a||this.map.getCenter();var d=OpenLayers.Util.getParameters(this.base);if(a){d.zoom=k||this.map.getZoom();var j=a.lat;var b=a.lon;if(this.displayProjection){var c=OpenLayers.Projection.transform({x:b,y:j},this.map.getProjectionObject(),this.displayProjection);b=c.x;j=c.y}d.lat=Math.round(j*100000)/100000;d.lon=Math.round(b*100000)/100000;e=e||this.map.layers;d.layers="";for(var f=0,h=e.length;f<h;f++){var g=e[f];if(g.isBaseLayer){d.layers+=(g==this.map.baseLayer)?"B":"0"}else{d.layers+=(g.getVisibility())?"T":"F"}}}return d},CLASS_NAME:"OpenLayers.Control.Permalink"});OpenLayers.Layer.TMS=OpenLayers.Class(OpenLayers.Layer.Grid,{serviceVersion:"1.0.0",layername:null,type:null,isBaseLayer:true,tileOrigin:null,serverResolutions:null,zoomOffset:0,initialize:function(d,c,b){var a=[];
a.push(d,c,{},b);OpenLayers.Layer.Grid.prototype.initialize.apply(this,a)},destroy:function(){OpenLayers.Layer.Grid.prototype.destroy.apply(this,arguments)},clone:function(a){if(a==null){a=new OpenLayers.Layer.TMS(this.name,this.url,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(d){d=this.adjustBounds(d);var c=this.map.getResolution();var a=Math.round((d.left-this.tileOrigin.lon)/(c*this.tileSize.w));var g=Math.round((d.bottom-this.tileOrigin.lat)/(c*this.tileSize.h));var f=this.serverResolutions!=null?OpenLayers.Util.indexOf(this.serverResolutions,c):this.map.getZoom()+this.zoomOffset;var e=this.serviceVersion+"/"+this.layername+"/"+f+"/"+a+"/"+g+"."+this.type;var b=this.url;if(OpenLayers.Util.isArray(b)){b=this.selectUrl(e,b)}return b+e},setMap:function(a){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments);if(!this.tileOrigin){this.tileOrigin=new OpenLayers.LonLat(this.map.maxExtent.left,this.map.maxExtent.bottom)}},CLASS_NAME:"OpenLayers.Layer.TMS"});OpenLayers.Strategy.Fixed=OpenLayers.Class(OpenLayers.Strategy,{preload:false,activate:function(){if(OpenLayers.Strategy.prototype.activate.apply(this,arguments)){this.layer.events.on({refresh:this.load,scope:this});if(this.layer.visibility==true||this.preload){this.load()}else{this.layer.events.on({visibilitychanged:this.load,scope:this})}return true}return false},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);if(a){this.layer.events.un({refresh:this.load,visibilitychanged:this.load,scope:this})}return a},load:function(a){var b=this.layer;b.events.triggerEvent("loadstart");b.protocol.read(OpenLayers.Util.applyDefaults({callback:OpenLayers.Function.bind(this.merge,this,b.map.getProjectionObject()),filter:b.filter},a));b.events.un({visibilitychanged:this.load,scope:this})},merge:function(f,g){var d=this.layer;d.destroyFeatures();var e=g.features;if(e&&e.length>0){if(!f.equals(d.projection)){var c;for(var b=0,a=e.length;b<a;++b){c=e[b].geometry;if(c){c.transform(d.projection,f)}}}d.addFeatures(e)}d.events.triggerEvent("loadend")},CLASS_NAME:"OpenLayers.Strategy.Fixed"});OpenLayers.Layer.Markers=OpenLayers.Class(OpenLayers.Layer,{isBaseLayer:false,markers:null,drawn:false,initialize:function(b,a){OpenLayers.Layer.prototype.initialize.apply(this,arguments);this.markers=[]},destroy:function(){this.clearMarkers();this.markers=null;OpenLayers.Layer.prototype.destroy.apply(this,arguments)},setOpacity:function(b){if(b!=this.opacity){this.opacity=b;for(var c=0,a=this.markers.length;c<a;c++){this.markers[c].setOpacity(this.opacity)}}},moveTo:function(d,b,e){OpenLayers.Layer.prototype.moveTo.apply(this,arguments);if(b||!this.drawn){for(var c=0,a=this.markers.length;c<a;c++){this.drawMarker(this.markers[c])}this.drawn=true}},addMarker:function(a){this.markers.push(a);if(this.opacity!=null){a.setOpacity(this.opacity)}if(this.map&&this.map.getExtent()){a.map=this.map;this.drawMarker(a)}},removeMarker:function(a){if(this.markers&&this.markers.length){OpenLayers.Util.removeItem(this.markers,a);a.erase()}},clearMarkers:function(){if(this.markers!=null){while(this.markers.length>0){this.removeMarker(this.markers[0])}}},drawMarker:function(a){var b=this.map.getLayerPxFromLonLat(a.lonlat);if(b==null){a.display(false)}else{if(!a.isDrawn()){var c=a.draw(b);this.div.appendChild(c)}else{if(a.icon){a.icon.moveTo(b)}}}},getDataExtent:function(){var b=null;if(this.markers&&(this.markers.length>0)){var b=new OpenLayers.Bounds();for(var d=0,a=this.markers.length;d<a;d++){var c=this.markers[d];b.extend(c.lonlat)}}return b},CLASS_NAME:"OpenLayers.Layer.Markers"});OpenLayers.Control.MouseDefaults=OpenLayers.Class(OpenLayers.Control,{performedDrag:false,wheelObserver:null,initialize:function(){OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){if(this.handler){this.handler.destroy()}this.handler=null;this.map.events.un({click:this.defaultClick,dblclick:this.defaultDblClick,mousedown:this.defaultMouseDown,mouseup:this.defaultMouseUp,mousemove:this.defaultMouseMove,mouseout:this.defaultMouseOut,scope:this});
OpenLayers.Event.stopObserving(window,"DOMMouseScroll",this.wheelObserver);OpenLayers.Event.stopObserving(window,"mousewheel",this.wheelObserver);OpenLayers.Event.stopObserving(document,"mousewheel",this.wheelObserver);this.wheelObserver=null;OpenLayers.Control.prototype.destroy.apply(this,arguments)},draw:function(){this.map.events.on({click:this.defaultClick,dblclick:this.defaultDblClick,mousedown:this.defaultMouseDown,mouseup:this.defaultMouseUp,mousemove:this.defaultMouseMove,mouseout:this.defaultMouseOut,scope:this});this.registerWheelEvents()},registerWheelEvents:function(){this.wheelObserver=OpenLayers.Function.bindAsEventListener(this.onWheelEvent,this);OpenLayers.Event.observe(window,"DOMMouseScroll",this.wheelObserver);OpenLayers.Event.observe(window,"mousewheel",this.wheelObserver);OpenLayers.Event.observe(document,"mousewheel",this.wheelObserver)},defaultClick:function(b){if(!OpenLayers.Event.isLeftClick(b)){return}var a=!this.performedDrag;this.performedDrag=false;return a},defaultDblClick:function(b){var a=this.map.getLonLatFromViewPortPx(b.xy);this.map.setCenter(a,this.map.zoom+1);OpenLayers.Event.stop(b);return false},defaultMouseDown:function(a){if(!OpenLayers.Event.isLeftClick(a)){return}this.mouseDragStart=a.xy.clone();this.performedDrag=false;if(a.shiftKey){this.map.div.style.cursor="crosshair";this.zoomBox=OpenLayers.Util.createDiv("zoomBox",this.mouseDragStart,null,null,"absolute","2px solid red");this.zoomBox.style.backgroundColor="white";this.zoomBox.style.filter="alpha(opacity=50)";this.zoomBox.style.opacity="0.50";this.zoomBox.style.fontSize="1px";this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.eventsDiv.appendChild(this.zoomBox)}document.onselectstart=OpenLayers.Function.False;OpenLayers.Event.stop(a)},defaultMouseMove:function(e){this.mousePosition=e.xy.clone();if(this.mouseDragStart!=null){if(this.zoomBox){var d=Math.abs(this.mouseDragStart.x-e.xy.x);var b=Math.abs(this.mouseDragStart.y-e.xy.y);this.zoomBox.style.width=Math.max(1,d)+"px";this.zoomBox.style.height=Math.max(1,b)+"px";if(e.xy.x<this.mouseDragStart.x){this.zoomBox.style.left=e.xy.x+"px"}if(e.xy.y<this.mouseDragStart.y){this.zoomBox.style.top=e.xy.y+"px"}}else{var d=this.mouseDragStart.x-e.xy.x;var b=this.mouseDragStart.y-e.xy.y;var f=this.map.getSize();var a=new OpenLayers.Pixel(f.w/2+d,f.h/2+b);var c=this.map.getLonLatFromViewPortPx(a);this.map.setCenter(c,null,true);this.mouseDragStart=e.xy.clone();this.map.div.style.cursor="move"}this.performedDrag=true}},defaultMouseUp:function(a){if(!OpenLayers.Event.isLeftClick(a)){return}if(this.zoomBox){this.zoomBoxEnd(a)}else{if(this.performedDrag){this.map.setCenter(this.map.center)}}document.onselectstart=null;this.mouseDragStart=null;this.map.div.style.cursor=""},defaultMouseOut:function(a){if(this.mouseDragStart!=null&&OpenLayers.Util.mouseLeft(a,this.map.eventsDiv)){if(this.zoomBox){this.removeZoomBox()}this.mouseDragStart=null}},defaultWheelUp:function(a){if(this.map.getZoom()<=this.map.getNumZoomLevels()){this.map.setCenter(this.map.getLonLatFromPixel(a.xy),this.map.getZoom()+1)}},defaultWheelDown:function(a){if(this.map.getZoom()>0){this.map.setCenter(this.map.getLonLatFromPixel(a.xy),this.map.getZoom()-1)}},zoomBoxEnd:function(b){if(this.mouseDragStart!=null){if(Math.abs(this.mouseDragStart.x-b.xy.x)>5||Math.abs(this.mouseDragStart.y-b.xy.y)>5){var h=this.map.getLonLatFromViewPortPx(this.mouseDragStart);var a=this.map.getLonLatFromViewPortPx(b.xy);var g=Math.max(h.lat,a.lat);var c=Math.min(h.lat,a.lat);var f=Math.min(h.lon,a.lon);var d=Math.max(h.lon,a.lon);var e=new OpenLayers.Bounds(f,c,d,g);this.map.zoomToExtent(e)}else{var a=this.map.getLonLatFromViewPortPx(b.xy);this.map.setCenter(new OpenLayers.LonLat((a.lon),(a.lat)),this.map.getZoom()+1)}this.removeZoomBox()}},removeZoomBox:function(){this.map.eventsDiv.removeChild(this.zoomBox);this.zoomBox=null},onWheelEvent:function(c){var b=false;var a=OpenLayers.Event.element(c);while(a!=null){if(this.map&&a==this.map.div){b=true;break}a=a.parentNode}if(b){var d=0;if(!c){c=window.event}if(c.wheelDelta){d=c.wheelDelta/120;
if(window.opera&&window.opera.version()<9.2){d=-d}}else{if(c.detail){d=-c.detail/3}}if(d){c.xy=this.mousePosition;if(d<0){this.defaultWheelDown(c)}else{this.defaultWheelUp(c)}}OpenLayers.Event.stop(c)}},CLASS_NAME:"OpenLayers.Control.MouseDefaults"});OpenLayers.Control.MouseToolbar=OpenLayers.Class(OpenLayers.Control.MouseDefaults,{mode:null,buttons:null,direction:"vertical",buttonClicked:null,initialize:function(a,b){OpenLayers.Control.prototype.initialize.apply(this,arguments);this.position=new OpenLayers.Pixel(OpenLayers.Control.MouseToolbar.X,OpenLayers.Control.MouseToolbar.Y);if(a){this.position=a}if(b){this.direction=b}this.measureDivs=[]},destroy:function(){for(var b in this.buttons){var a=this.buttons[b];a.map=null;a.events.destroy()}OpenLayers.Control.MouseDefaults.prototype.destroy.apply(this,arguments)},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);OpenLayers.Control.MouseDefaults.prototype.draw.apply(this,arguments);this.buttons={};var b=new OpenLayers.Size(28,28);var a=new OpenLayers.Pixel(OpenLayers.Control.MouseToolbar.X,0);this._addButton("zoombox","drag-rectangle-off.png","drag-rectangle-on.png",a,b,"Shift->Drag to zoom to area");a=a.add((this.direction=="vertical"?0:b.w),(this.direction=="vertical"?b.h:0));this._addButton("pan","panning-hand-off.png","panning-hand-on.png",a,b,"Drag the map to pan.");a=a.add((this.direction=="vertical"?0:b.w),(this.direction=="vertical"?b.h:0));this.switchModeTo("pan");return this.div},_addButton:function(a,e,d,i,g,h){var f=OpenLayers.Util.getImagesLocation()+e;var c=OpenLayers.Util.getImagesLocation()+d;var b=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MouseToolbar_"+a,i,g,f,"absolute");this.div.appendChild(b);b.imgLocation=f;b.activeImgLocation=c;b.events=new OpenLayers.Events(this,b,null,true);b.events.on({mousedown:this.buttonDown,mouseup:this.buttonUp,dblclick:OpenLayers.Event.stop,scope:this});b.action=a;b.title=h;b.alt=h;b.map=this.map;this.buttons[a]=b;return b},buttonDown:function(a){if(!OpenLayers.Event.isLeftClick(a)){return}this.buttonClicked=a.element.action;OpenLayers.Event.stop(a)},buttonUp:function(a){if(!OpenLayers.Event.isLeftClick(a)){return}if(this.buttonClicked!=null){if(this.buttonClicked==a.element.action){this.switchModeTo(a.element.action)}OpenLayers.Event.stop(a);this.buttonClicked=null}},defaultDblClick:function(b){this.switchModeTo("pan");this.performedDrag=false;var a=this.map.getLonLatFromViewPortPx(b.xy);this.map.setCenter(a,this.map.zoom+1);OpenLayers.Event.stop(b);return false},defaultMouseDown:function(a){if(!OpenLayers.Event.isLeftClick(a)){return}this.mouseDragStart=a.xy.clone();this.performedDrag=false;this.startViaKeyboard=false;if(a.shiftKey&&this.mode!="zoombox"){this.switchModeTo("zoombox");this.startViaKeyboard=true}else{if(a.altKey&&this.mode!="measure"){this.switchModeTo("measure")}else{if(!this.mode){this.switchModeTo("pan")}}}switch(this.mode){case"zoombox":this.map.div.style.cursor="crosshair";this.zoomBox=OpenLayers.Util.createDiv("zoomBox",this.mouseDragStart,null,null,"absolute","2px solid red");this.zoomBox.style.backgroundColor="white";this.zoomBox.style.filter="alpha(opacity=50)";this.zoomBox.style.opacity="0.50";this.zoomBox.style.fontSize="1px";this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.eventsDiv.appendChild(this.zoomBox);this.performedDrag=true;break;case"measure":var c="";if(this.measureStart){var b=this.map.getLonLatFromViewPortPx(this.mouseDragStart);c=OpenLayers.Util.distVincenty(this.measureStart,b);c=Math.round(c*100)/100;c=c+"km";this.measureStartBox=this.measureBox}this.measureStart=this.map.getLonLatFromViewPortPx(this.mouseDragStart);this.measureBox=OpenLayers.Util.createDiv(null,this.mouseDragStart.add(-2-parseInt(this.map.layerContainerDiv.style.left),-2-parseInt(this.map.layerContainerDiv.style.top)),null,null,"absolute");this.measureBox.style.width="4px";this.measureBox.style.height="4px";this.measureBox.style.fontSize="1px";this.measureBox.style.backgroundColor="red";this.measureBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.layerContainerDiv.appendChild(this.measureBox);
if(c){this.measureBoxDistance=OpenLayers.Util.createDiv(null,this.mouseDragStart.add(-2-parseInt(this.map.layerContainerDiv.style.left),2-parseInt(this.map.layerContainerDiv.style.top)),null,null,"absolute");this.measureBoxDistance.innerHTML=c;this.measureBoxDistance.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.layerContainerDiv.appendChild(this.measureBoxDistance);this.measureDivs.push(this.measureBoxDistance)}this.measureBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.layerContainerDiv.appendChild(this.measureBox);this.measureDivs.push(this.measureBox);break;default:this.map.div.style.cursor="move";break}document.onselectstart=OpenLayers.Function.False;OpenLayers.Event.stop(a)},switchModeTo:function(c){if(c!=this.mode){if(this.mode&&this.buttons[this.mode]){OpenLayers.Util.modifyAlphaImageDiv(this.buttons[this.mode],null,null,null,this.buttons[this.mode].imgLocation)}if(this.mode=="measure"&&c!="measure"){for(var b=0,a=this.measureDivs.length;b<a;b++){if(this.measureDivs[b]){this.map.layerContainerDiv.removeChild(this.measureDivs[b])}}this.measureDivs=[];this.measureStart=null}this.mode=c;if(this.buttons[c]){OpenLayers.Util.modifyAlphaImageDiv(this.buttons[c],null,null,null,this.buttons[c].activeImgLocation)}switch(this.mode){case"zoombox":this.map.div.style.cursor="crosshair";break;default:this.map.div.style.cursor="";break}}},leaveMode:function(){this.switchModeTo("pan")},defaultMouseMove:function(e){if(this.mouseDragStart!=null){switch(this.mode){case"zoombox":var d=Math.abs(this.mouseDragStart.x-e.xy.x);var b=Math.abs(this.mouseDragStart.y-e.xy.y);this.zoomBox.style.width=Math.max(1,d)+"px";this.zoomBox.style.height=Math.max(1,b)+"px";if(e.xy.x<this.mouseDragStart.x){this.zoomBox.style.left=e.xy.x+"px"}if(e.xy.y<this.mouseDragStart.y){this.zoomBox.style.top=e.xy.y+"px"}break;default:var d=this.mouseDragStart.x-e.xy.x;var b=this.mouseDragStart.y-e.xy.y;var f=this.map.getSize();var a=new OpenLayers.Pixel(f.w/2+d,f.h/2+b);var c=this.map.getLonLatFromViewPortPx(a);this.map.setCenter(c,null,true);this.mouseDragStart=e.xy.clone()}this.performedDrag=true}},defaultMouseUp:function(a){if(!OpenLayers.Event.isLeftClick(a)){return}switch(this.mode){case"zoombox":this.zoomBoxEnd(a);if(this.startViaKeyboard){this.leaveMode()}break;case"pan":if(this.performedDrag){this.map.setCenter(this.map.center)}}document.onselectstart=null;this.mouseDragStart=null;this.map.div.style.cursor="default"},defaultMouseOut:function(a){if(this.mouseDragStart!=null&&OpenLayers.Util.mouseLeft(a,this.map.eventsDiv)){if(this.zoomBox){this.removeZoomBox();if(this.startViaKeyboard){this.leaveMode()}}this.mouseDragStart=null;this.map.div.style.cursor="default"}},defaultClick:function(a){if(this.performedDrag){this.performedDrag=false;return false}},CLASS_NAME:"OpenLayers.Control.MouseToolbar"});OpenLayers.Control.MouseToolbar.X=6;OpenLayers.Control.MouseToolbar.Y=300;OpenLayers.Layer.PointTrack=OpenLayers.Class(OpenLayers.Layer.Vector,{dataFrom:null,styleFrom:null,initialize:function(b,a){OpenLayers.Layer.Vector.prototype.initialize.apply(this,arguments)},addNodes:function(g,l){if(g.length<2){OpenLayers.Console.error("At least two point features have to be added to createa line from");return}var m=new Array(g.length-1);var h,b,j;for(var d=0,f=g.length;d<f;d++){h=g[d];j=h.geometry;if(!j){var e=h.lonlat;j=new OpenLayers.Geometry.Point(e.lon,e.lat)}else{if(j.CLASS_NAME!="OpenLayers.Geometry.Point"){OpenLayers.Console.error("Only features with point geometries are supported.");return}}if(d>0){var c=(this.dataFrom!=null)?(g[d+this.dataFrom].data||g[d+this.dataFrom].attributes):null;var a=(this.styleFrom!=null)?(g[d+this.styleFrom].style):null;var k=new OpenLayers.Geometry.LineString([b,j]);m[d-1]=new OpenLayers.Feature.Vector(k,c,a)}b=j}this.addFeatures(m,l)},CLASS_NAME:"OpenLayers.Layer.PointTrack"});OpenLayers.Layer.PointTrack.SOURCE_NODE=-1;OpenLayers.Layer.PointTrack.TARGET_NODE=0;OpenLayers.Layer.PointTrack.dataFrom={SOURCE_NODE:-1,TARGET_NODE:0};OpenLayers.Protocol.WFS=function(b){b=OpenLayers.Util.applyDefaults(b,OpenLayers.Protocol.WFS.DEFAULTS);
var a=OpenLayers.Protocol.WFS["v"+b.version.replace(/\./g,"_")];if(!a){throw"Unsupported WFS version: "+b.version}return new a(b)};OpenLayers.Protocol.WFS.fromWMSLayer=function(d,c){var a,e;var g=d.params.LAYERS;var f=(OpenLayers.Util.isArray(g)?g[0]:g).split(":");if(f.length>1){e=f[0]}a=f.pop();var b={url:d.url,featureType:a,featurePrefix:e,srsName:d.projection&&d.projection.getCode()||d.map&&d.map.getProjectionObject().getCode(),version:"1.1.0"};return new OpenLayers.Protocol.WFS(OpenLayers.Util.applyDefaults(c,b))};OpenLayers.Protocol.WFS.DEFAULTS={version:"1.0.0"};OpenLayers.Lang.oc=OpenLayers.Util.applyDefaults({unhandledRequest:"Requèsta pas gerida, retorna ${statusText}",Permalink:"Permaligam",Overlays:"Calques","Base Layer":"Calc de basa",readNotImplemented:"Lectura pas implementada.",writeNotImplemented:"Escritura pas implementada.",noFID:"Impossible de metre a jorn un objècte sens identificant (fid).",errorLoadingGML:"Error al cargament del fichièr GML ${url}",browserNotSupported:"Vòstre navegidor supòrta pas lo rendut vectorial. Los renderers actualament suportats son : \n${renderers}",componentShouldBe:"addFeatures : lo compausant deuriá èsser de tipe ${geomType}",getFeatureError:"getFeatureFromEvent es estat apelat sus un calc sens renderer. Aquò significa generalament qu'avètz destruch aqueste jaç, mas qu'avètz conservat un handler que li èra associat.",minZoomLevelError:"La proprietat minZoomLevel deu èsser utilizada solament per de jaces FixedZoomLevels-descendent. Lo fach qu'aqueste jaç WFS verifique la preséncia de minZoomLevel es una relica del passat. Çaquelà, la podèm suprimir sens copar d'aplicacions que ne poirián dependre. Es per aquò que la depreciam -- la verificacion del minZoomLevel serà suprimida en version 3.0. A la plaça, mercés d'utilizar los paramètres de resolucions min/max tal coma descrich sus : http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transaccion WFS : SUCCES ${response}",commitFailed:"Transaccion WFS : FRACAS ${response}",googleWarning:"Lo jaç Google es pas estat en mesura de se cargar corrèctament.\x3cbr\x3e\x3cbr\x3ePer suprimir aqueste messatge, causissètz una BaseLayer novèla dins lo selector de jaç en naut a drecha.\x3cbr\x3e\x3cbr\x3eAquò es possiblament causat par la non-inclusion de la librariá Google Maps, o alara perque que la clau de l'API correspond pas a vòstre site.\x3cbr\x3e\x3cbr\x3eDesvolopaires : per saber cossí corregir aquò, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eclicatz aicí\x3c/a\x3e",getLayerWarning:"Lo jaç ${layerType} es pas en mesura de se cargar corrèctament.\x3cbr\x3e\x3cbr\x3ePer suprimir aqueste messatge, causissètz una  BaseLayer novèla dins lo selector de jaç en naut a drecha.\x3cbr\x3e\x3cbr\x3eAquò es possiblament causat per la non-inclusion de la librariá ${layerLib}.\x3cbr\x3e\x3cbr\x3eDesvolopaires : per saber cossí corregir aquí, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclicatz aicí\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Escala ~ 1 : ${scaleDenom}",W:"O",E:"È",N:"N",S:"S",layerAlreadyAdded:"Avètz ensajat d'apondre a la carta lo calc : ${layerName}, mas ja es present",reprojectDeprecated:"Utilizatz l'opcion 'reproject' sul jaç ${layerName}. Aquesta opcion es despreciada : Son usatge permetiá d'afichar de donadas al dessús de jaces raster comercials. Aquesta foncionalitat ara es suportada en utilizant lo supòrt de la projeccion Mercator Esferica. Mai d'informacion es disponibla sus http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Aqueste metòde es despreciada, e serà suprimida a la version 3.0. Mercés d'utilizar ${newMethod} a la plaça.",boundsAddError:"Vos cal passar las doas valors x e y a la foncion add.",lonlatAddError:"Vos cal passar las doas valors lon e lat a la foncion add.",pixelAddError:"Vos cal passar las doas valors x e y a la foncion add.",unsupportedGeometryType:"Tipe de geometria pas suportat : ${geomType}",filterEvaluateNotImplemented:"evaluar es pas encara estat implementat per aqueste tipe de filtre."});OpenLayers.Control.Pan=OpenLayers.Class(OpenLayers.Control,{slideFactor:50,slideRatio:null,direction:null,type:OpenLayers.Control.TYPE_BUTTON,initialize:function(b,a){this.direction=b;
this.CLASS_NAME+=this.direction;OpenLayers.Control.prototype.initialize.apply(this,[a])},trigger:function(){var a=OpenLayers.Function.bind(function(b){return this.slideRatio?this.map.getSize()[b]*this.slideRatio:this.slideFactor},this);switch(this.direction){case OpenLayers.Control.Pan.NORTH:this.map.pan(0,-a("h"));break;case OpenLayers.Control.Pan.SOUTH:this.map.pan(0,a("h"));break;case OpenLayers.Control.Pan.WEST:this.map.pan(-a("w"),0);break;case OpenLayers.Control.Pan.EAST:this.map.pan(a("w"),0);break}},CLASS_NAME:"OpenLayers.Control.Pan"});OpenLayers.Control.Pan.NORTH="North";OpenLayers.Control.Pan.SOUTH="South";OpenLayers.Control.Pan.EAST="East";OpenLayers.Control.Pan.WEST="West";OpenLayers.Layer.WMS=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{service:"WMS",version:"1.1.1",request:"GetMap",styles:"",format:"image/jpeg"},reproject:false,isBaseLayer:true,encodeBBOX:false,noMagic:false,yx:{"EPSG:4326":true},initialize:function(d,c,e,b){var a=[];e=OpenLayers.Util.upperCaseObject(e);if(parseFloat(e.VERSION)>=1.3&&!e.EXCEPTIONS){e.EXCEPTIONS="INIMAGE"}a.push(d,c,e,b);OpenLayers.Layer.Grid.prototype.initialize.apply(this,a);OpenLayers.Util.applyDefaults(this.params,OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));if(!this.noMagic&&this.params.TRANSPARENT&&this.params.TRANSPARENT.toString().toLowerCase()=="true"){if((b==null)||(!b.isBaseLayer)){this.isBaseLayer=false}if(this.params.FORMAT=="image/jpeg"){this.params.FORMAT=OpenLayers.Util.alphaHack()?"image/gif":"image/png"}}},destroy:function(){OpenLayers.Layer.Grid.prototype.destroy.apply(this,arguments)},clone:function(a){if(a==null){a=new OpenLayers.Layer.WMS(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},reverseAxisOrder:function(){return(parseFloat(this.params.VERSION)>=1.3&&!!this.yx[this.map.getProjectionObject().getCode()])},getURL:function(c){c=this.adjustBounds(c);var d=this.getImageSize();var e={};var b=this.reverseAxisOrder();e.BBOX=this.encodeBBOX?c.toBBOX(null,b):c.toArray(b);e.WIDTH=d.w;e.HEIGHT=d.h;var a=this.getFullRequestString(e);return a},mergeNewParams:function(c){var b=OpenLayers.Util.upperCaseObject(c);var a=[b];return OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this,a)},getFullRequestString:function(e,c){var b=this.map.getProjectionObject();var a=this.projection&&this.projection.equals(b)?this.projection.getCode():b.getCode();var d=(a=="none")?null:a;if(parseFloat(this.params.VERSION)>=1.3){this.params.CRS=d}else{this.params.SRS=d}if(typeof this.params.TRANSPARENT=="boolean"){e.TRANSPARENT=this.params.TRANSPARENT?"TRUE":"FALSE"}return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,arguments)},CLASS_NAME:"OpenLayers.Layer.WMS"});OpenLayers.Layer.WMS.Untiled=OpenLayers.Class(OpenLayers.Layer.WMS,{singleTile:true,initialize:function(c,b,e,a){OpenLayers.Layer.WMS.prototype.initialize.apply(this,arguments);var d="The OpenLayers.Layer.WMS.Untiled class is deprecated and will be removed in 3.0. Instead, you should use the normal OpenLayers.Layer.WMS class, passing it the option 'singleTile' as true.";OpenLayers.Console.warn(d)},clone:function(a){if(a==null){a=new OpenLayers.Layer.WMS.Untiled(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.WMS.prototype.clone.apply(this,[a]);return a},CLASS_NAME:"OpenLayers.Layer.WMS.Untiled"});OpenLayers.Geometry.Surface=OpenLayers.Class(OpenLayers.Geometry,{initialize:function(){OpenLayers.Geometry.prototype.initialize.apply(this,arguments)},CLASS_NAME:"OpenLayers.Geometry.Surface"});OpenLayers.Format.ArcXML.Features=OpenLayers.Class(OpenLayers.Format.XML,{initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(c){var b=new OpenLayers.Format.ArcXML();var a=b.read(c);return a.features.feature}});OpenLayers.Lang.gsw=OpenLayers.Util.applyDefaults({unhandledRequest:"Nit behandleti Aafrogsruckmäldig ${statusText}",Permalink:"Permalink",Overlays:"Iberlagerige","Base Layer":"Grundcharte",readNotImplemented:"Läse nit implementiert.",writeNotImplemented:"Schrybe nit implementiert.",noFID:"E Feature, wu s kei FID derfir git, cha nit aktualisiert wäre.",errorLoadingGML:"Fähler bim Lade vu dr GML-Datei ${url}",browserNotSupported:"Dyy Browser unterstitzt kei Vektordarstellig. Aktuäll unterstitzti Renderer:\n${renderers}",componentShouldBe:"addFeatures : Komponänt sott dr Typ ${geomType} syy",getFeatureError:"getFeatureFromEvent isch uf eme Layer ohni Renderer ufgruefe wore. Des heisst normalerwys, ass Du e Layer kaputt gmacht hesch, aber nit dr Handler, wu derzue ghert.",minZoomLevelError:"D minZoomLevel-Eigeschaft isch nume dänk fir d Layer, wu vu dr FixedZoomLevels abstamme. Ass dää wfs-Layer minZoomLevel prieft, scih e Relikt us dr Vergangeheit. Mir chenne s aber nit ändere ohni OL_basierti Aawändige villicht kaputt gehn, wu dervu abhänge.  Us däm Grund het die Funktion d Eigeschaft 'deprecated' iberchuu. D minZoomLevel-Priefig unte wird in dr Version 3.0 usegnuu. Bitte verwänd statt däm e min/max-Uflesig wie s do bschriben isch: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-Transaktion: ERFOLGRYCH ${response}",commitFailed:"WFS-Transaktion: FÄHLGSCHLAA ${response}",googleWarning:"Dr Google-Layer het nit korräkt chenne glade wäre.\x3cbr\x3e\x3cbr\x3eGo die Mäldig nimi z kriege, wehl e andere Hintergrundlayer us em LayerSwitcher im rächte obere Ecke.\x3cbr\x3e\x3cbr\x3eDää Fähler git s seli hyfig, wel s Skript vu dr Google-Maps-Bibliothek nit yybunde woren isch oder wel s kei giltige API-Schlissel fir Dyy URL din het.\x3cbr\x3e\x3cbr\x3eEntwickler: Fir Hilf zum korräkte Yybinde vum Google-Layer \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3edoo drucke\x3c/a\x3e",getLayerWarning:"Dr ${layerType}-Layer het nit korräkt chenne glade wäre.\x3cbr\x3e\x3cbr\x3eGo die Mäldig nimi z kriege, wehl e andere Hintergrundlayer us em LayerSwitcher im rächte obere Ecke.\x3cbr\x3e\x3cbr\x3eDää Fähler git s seli hyfig, wel s Skript vu dr '${layerLib}'-Bibliothek nit yybunde woren isch oder wel s kei giltige API-Schlissel fir Dyy URL din het.\x3cbr\x3e\x3cbr\x3eEntwickler: Fir Hilf zum korräkte Yybinde vu Layer \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3edoo drucke\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Maßstab = 1 : ${scaleDenom}",W:"W",E:"O",N:"N",S:"S",layerAlreadyAdded:"Du hesch versuecht dää Layer in d Charte yyzfiege: ${layerName}, aber är isch schoi yygfiegt",reprojectDeprecated:"Du bruchsch d 'reproject'-Option bim ${layerName}-Layer. Die Option isch nimi giltig: si isch aagleit wore go   Date iber kommerziälli Grundcharte lege, aber des sott mer jetz mache mit dr Unterstitzig vu Spherical Mercator. Meh Informatione git s uf http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Die Methode isch veraltet un wird us dr Version 3.0 usegnuu. Bitte verwäbnd statt däm ${newMethod}.",boundsAddError:"Du muesch e x-Wärt un e y-Wärt yygee bi dr Zuefieg-Funktion",lonlatAddError:"Du meusch e Lengi- un e Breiti-Grad yygee bi dr Zuefieg-Funktion.",pixelAddError:"Du muesch x- un y-Wärt aagee bi dr Zuefieg-Funktion.",unsupportedGeometryType:"Nit unterstitze Geometrii-Typ: ${geomType}",filterEvaluateNotImplemented:"evaluiere isch nit implemäntiert in däm Filtertyp."});
OpenLayers.Control.Snapping=OpenLayers.Class(OpenLayers.Control,{EVENT_TYPES:["beforesnap","snap","unsnap"],DEFAULTS:{tolerance:10,node:true,edge:true,vertex:true},greedy:true,precedence:["node","vertex","edge"],resolution:null,geoToleranceCache:null,layer:null,feature:null,point:null,initialize:function(a){Array.prototype.push.apply(this.EVENT_TYPES,OpenLayers.Control.prototype.EVENT_TYPES);OpenLayers.Control.prototype.initialize.apply(this,[a]);this.options=a||{};if(this.options.layer){this.setLayer(this.options.layer)}var b=OpenLayers.Util.extend({},this.options.defaults);this.defaults=OpenLayers.Util.applyDefaults(b,this.DEFAULTS);this.setTargets(this.options.targets);if(this.targets.length===0&&this.layer){this.addTargetLayer(this.layer)}this.geoToleranceCache={}},setLayer:function(a){if(this.active){this.deactivate();this.layer=a;this.activate()}else{this.layer=a}},setTargets:function(b){this.targets=[];if(b&&b.length){var d;for(var c=0,a=b.length;c<a;++c){d=b[c];if(d instanceof OpenLayers.Layer.Vector){this.addTargetLayer(d)}else{this.addTarget(d)}}}},addTargetLayer:function(a){this.addTarget({layer:a})},addTarget:function(a){a=OpenLayers.Util.applyDefaults(a,this.defaults);a.nodeTolerance=a.nodeTolerance||a.tolerance;a.vertexTolerance=a.vertexTolerance||a.tolerance;a.edgeTolerance=a.edgeTolerance||a.tolerance;this.targets.push(a)},removeTargetLayer:function(b){var c;for(var a=this.targets.length-1;a>=0;--a){c=this.targets[a];if(c.layer===b){this.removeTarget(c)}}},removeTarget:function(a){return OpenLayers.Util.removeItem(this.targets,a)},activate:function(){var a=OpenLayers.Control.prototype.activate.call(this);if(a){if(this.layer&&this.layer.events){this.layer.events.on({sketchstarted:this.onSketchModified,sketchmodified:this.onSketchModified,vertexmodified:this.onVertexModified,scope:this})}}return a},deactivate:function(){var a=OpenLayers.Control.prototype.deactivate.call(this);if(a){if(this.layer&&this.layer.events){this.layer.events.un({sketchstarted:this.onSketchModified,sketchmodified:this.onSketchModified,vertexmodified:this.onVertexModified,scope:this})}}this.feature=null;this.point=null;return a},onSketchModified:function(a){this.feature=a.feature;this.considerSnapping(a.vertex,a.vertex)},onVertexModified:function(a){this.feature=a.feature;var b=this.layer.map.getLonLatFromViewPortPx(a.pixel);this.considerSnapping(a.vertex,new OpenLayers.Geometry.Point(b.lon,b.lat))},considerSnapping:function(h,d){var a={rank:Number.POSITIVE_INFINITY,dist:Number.POSITIVE_INFINITY,x:null,y:null};var c=false;var j,f;for(var b=0,e=this.targets.length;b<e;++b){f=this.targets[b];j=this.testTarget(f,d);if(j){if(this.greedy){a=j;a.target=f;c=true;break}else{if((j.rank<a.rank)||(j.rank===a.rank&&j.dist<a.dist)){a=j;a.target=f;c=true}}}}if(c){var g=this.events.triggerEvent("beforesnap",{point:h,x:a.x,y:a.y,distance:a.dist,layer:a.target.layer,snapType:this.precedence[a.rank]});if(g!==false){h.x=a.x;h.y=a.y;this.point=h;this.events.triggerEvent("snap",{point:h,snapType:this.precedence[a.rank],layer:a.target.layer,distance:a.dist})}else{c=false}}if(this.point&&!c){h.x=d.x;h.y=d.y;this.point=null;this.events.triggerEvent("unsnap",{point:h})}},testTarget:function(z,f){var r=this.layer.map.getResolution();if("minResolution" in z){if(r<z.minResolution){return null}}if("maxResolution" in z){if(r>=z.maxResolution){return null}}var x={node:this.getGeoTolerance(z.nodeTolerance,r),vertex:this.getGeoTolerance(z.vertexTolerance,r),edge:this.getGeoTolerance(z.edgeTolerance,r)};var g=Math.max(x.node,x.vertex,x.edge);var h={rank:Number.POSITIVE_INFINITY,dist:Number.POSITIVE_INFINITY};var e=false;var c=z.layer.features;var b,a,d,y,o,p,n;var m=this.precedence.length;var l=new OpenLayers.LonLat(f.x,f.y);for(var v=0,w=c.length;v<w;++v){b=c[v];if(b!==this.feature&&!b._sketch&&b.state!==OpenLayers.State.DELETE&&(!z.filter||z.filter.evaluate(b.attributes))){if(b.atPoint(l,g,g)){for(var u=0,q=Math.min(h.rank+1,m);u<q;++u){a=this.precedence[u];if(z[a]){if(a==="edge"){o=b.geometry.distanceTo(f,{details:true});p=o.distance;if(p<=x[a]&&p<h.dist){h={rank:u,dist:p,x:o.x0,y:o.y0};
e=true;break}}else{d=b.geometry.getVertices(a==="node");n=false;for(var t=0,s=d.length;t<s;++t){y=d[t];p=y.distanceTo(f);if(p<=x[a]&&(u<h.rank||(u===h.rank&&p<h.dist))){h={rank:u,dist:p,x:y.x,y:y.y};e=true;n=true}}if(n){break}}}}}}}return e?h:null},getGeoTolerance:function(a,b){if(b!==this.resolution){this.resolution=b;this.geoToleranceCache={}}var c=this.geoToleranceCache[a];if(c===undefined){c=a*b;this.geoToleranceCache[a]=c}return c},destroy:function(){if(this.active){this.deactivate()}delete this.layer;delete this.targets;OpenLayers.Control.prototype.destroy.call(this)},CLASS_NAME:"OpenLayers.Control.Snapping"});OpenLayers.Format.CSWGetDomain=function(b){b=OpenLayers.Util.applyDefaults(b,OpenLayers.Format.CSWGetDomain.DEFAULTS);var a=OpenLayers.Format.CSWGetDomain["v"+b.version.replace(/\./g,"_")];if(!a){throw"Unsupported CSWGetDomain version: "+b.version}return new a(b)};OpenLayers.Format.CSWGetDomain.DEFAULTS={version:"2.0.2"};OpenLayers.Format.CSWGetDomain.v2_0_2=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance",csw:"http://www.opengis.net/cat/csw/2.0.2"},defaultPrefix:"csw",version:"2.0.2",schemaLocation:"http://www.opengis.net/cat/csw/2.0.2 http://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd",PropertyName:null,ParameterName:null,initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){if(typeof a=="string"){a=OpenLayers.Format.XML.prototype.read.apply(this,[a])}if(a&&a.nodeType==9){a=a.documentElement}var b={};this.readNode(a,b);return b},readers:{csw:{GetDomainResponse:function(a,b){this.readChildNodes(a,b)},DomainValues:function(d,e){if(!(OpenLayers.Util.isArray(e.DomainValues))){e.DomainValues=[]}var b=d.attributes;var f={};for(var c=0,a=b.length;c<a;++c){f[b[c].name]=b[c].nodeValue}this.readChildNodes(d,f);e.DomainValues.push(f)},PropertyName:function(a,b){b.PropertyName=this.getChildValue(a)},ParameterName:function(a,b){b.ParameterName=this.getChildValue(a)},ListOfValues:function(a,b){if(!(OpenLayers.Util.isArray(b.ListOfValues))){b.ListOfValues=[]}this.readChildNodes(a,b.ListOfValues)},Value:function(d,f){var b=d.attributes;var e={};for(var c=0,a=b.length;c<a;++c){e[b[c].name]=b[c].nodeValue}e.value=this.getChildValue(d);f.push({Value:e})},ConceptualScheme:function(a,b){b.ConceptualScheme={};this.readChildNodes(a,b.ConceptualScheme)},Name:function(a,b){b.Name=this.getChildValue(a)},Document:function(a,b){b.Document=this.getChildValue(a)},Authority:function(a,b){b.Authority=this.getChildValue(a)},RangeOfValues:function(a,b){b.RangeOfValues={};this.readChildNodes(a,b.RangeOfValues)},MinValue:function(d,f){var b=d.attributes;var e={};for(var c=0,a=b.length;c<a;++c){e[b[c].name]=b[c].nodeValue}e.value=this.getChildValue(d);f.MinValue=e},MaxValue:function(d,f){var b=d.attributes;var e={};for(var c=0,a=b.length;c<a;++c){e[b[c].name]=b[c].nodeValue}e.value=this.getChildValue(d);f.MaxValue=e}}},write:function(a){var b=this.writeNode("csw:GetDomain",a);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},writers:{csw:{GetDomain:function(a){var b=this.createElementNSPlus("csw:GetDomain",{attributes:{service:"CSW",version:this.version}});if(a.PropertyName||this.PropertyName){this.writeNode("csw:PropertyName",a.PropertyName||this.PropertyName,b)}else{if(a.ParameterName||this.ParameterName){this.writeNode("csw:ParameterName",a.ParameterName||this.ParameterName,b)}}this.readChildNodes(b,a);return b},PropertyName:function(b){var a=this.createElementNSPlus("csw:PropertyName",{value:b});return a},ParameterName:function(b){var a=this.createElementNSPlus("csw:ParameterName",{value:b});return a}}},CLASS_NAME:"OpenLayers.Format.CSWGetDomain.v2_0_2"});OpenLayers.Format.OWSCommon.v1_1_0=OpenLayers.Class(OpenLayers.Format.OWSCommon.v1,{namespaces:{ows:"http://www.opengis.net/ows/1.1",xlink:"http://www.w3.org/1999/xlink"},readers:{ows:OpenLayers.Util.applyDefaults({ExceptionReport:function(a,b){b.exceptionReport={version:a.getAttribute("version"),language:a.getAttribute("xml:lang"),exceptions:[]};
this.readChildNodes(a,b.exceptionReport)},AllowedValues:function(a,b){b.allowedValues={};this.readChildNodes(a,b.allowedValues)},AnyValue:function(a,b){b.anyValue=true},DataType:function(a,b){b.dataType=this.getChildValue(a)},Range:function(a,b){b.range={};this.readChildNodes(a,b.range)},MinimumValue:function(b,a){a.minValue=this.getChildValue(b)},MaximumValue:function(b,a){a.maxValue=this.getChildValue(b)},Identifier:function(a,b){b.identifier=this.getChildValue(a)},SupportedCRS:function(a,b){b.supportedCRS=this.getChildValue(a)}},OpenLayers.Format.OWSCommon.v1.prototype.readers.ows)},writers:{ows:OpenLayers.Util.applyDefaults({Range:function(a){var b=this.createElementNSPlus("ows:Range",{attributes:{"ows:rangeClosure":a.closure}});this.writeNode("ows:MinimumValue",a.minValue,b);this.writeNode("ows:MaximumValue",a.maxValue,b);return b},MinimumValue:function(b){var a=this.createElementNSPlus("ows:MinimumValue",{value:b});return a},MaximumValue:function(b){var a=this.createElementNSPlus("ows:MaximumValue",{value:b});return a},Value:function(b){var a=this.createElementNSPlus("ows:Value",{value:b});return a}},OpenLayers.Format.OWSCommon.v1.prototype.writers.ows)},CLASS_NAME:"OpenLayers.Format.OWSCommon.v1_1_0"});OpenLayers.Format.WCSGetCoverage=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ows:"http://www.opengis.net/ows/1.1",wcs:"http://www.opengis.net/wcs/1.1",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},VERSION:"1.1.2",schemaLocation:"http://www.opengis.net/wcs/1.1 http://schemas.opengis.net/wcs/1.1/wcsGetCoverage.xsd",write:function(a){var b=this.writeNode("wcs:GetCoverage",a);this.setAttributeNS(b,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},writers:{wcs:{GetCoverage:function(a){var b=this.createElementNSPlus("wcs:GetCoverage",{attributes:{version:a.version||this.VERSION,service:"WCS"}});this.writeNode("ows:Identifier",a.identifier,b);this.writeNode("wcs:DomainSubset",a.domainSubset,b);this.writeNode("wcs:Output",a.output,b);return b},DomainSubset:function(a){var b=this.createElementNSPlus("wcs:DomainSubset",{});this.writeNode("ows:BoundingBox",a.boundingBox,b);if(a.temporalSubset){this.writeNode("wcs:TemporalSubset",a.temporalSubset,b)}return b},TemporalSubset:function(d){var c=this.createElementNSPlus("wcs:TemporalSubset",{});for(var b=0,a=d.timePeriods.length;b<a;++b){this.writeNode("wcs:TimePeriod",d.timePeriods[b],c)}return c},TimePeriod:function(a){var b=this.createElementNSPlus("wcs:TimePeriod",{});this.writeNode("wcs:BeginPosition",a.begin,b);this.writeNode("wcs:EndPosition",a.end,b);if(a.resolution){this.writeNode("wcs:TimeResolution",a.resolution,b)}return b},BeginPosition:function(a){var b=this.createElementNSPlus("wcs:BeginPosition",{value:a});return b},EndPosition:function(a){var b=this.createElementNSPlus("wcs:EndPosition",{value:a});return b},TimeResolution:function(a){var b=this.createElementNSPlus("wcs:TimeResolution",{value:a});return b},Output:function(a){var b=this.createElementNSPlus("wcs:Output",{attributes:{format:a.format,store:a.store}});if(a.gridCRS){this.writeNode("wcs:GridCRS",a.gridCRS,b)}return b},GridCRS:function(a){var b=this.createElementNSPlus("wcs:GridCRS",{});this.writeNode("wcs:GridBaseCRS",a.baseCRS,b);if(a.type){this.writeNode("wcs:GridType",a.type,b)}if(a.origin){this.writeNode("wcs:GridOrigin",a.origin,b)}this.writeNode("wcs:GridOffsets",a.offsets,b);if(a.CS){this.writeNode("wcs:GridCS",a.CS,b)}return b},GridBaseCRS:function(a){return this.createElementNSPlus("wcs:GridBaseCRS",{value:a})},GridOrigin:function(a){return this.createElementNSPlus("wcs:GridOrigin",{value:a})},GridType:function(a){return this.createElementNSPlus("wcs:GridType",{value:a})},GridOffsets:function(a){return this.createElementNSPlus("wcs:GridOffsets",{value:a})},GridCS:function(a){return this.createElementNSPlus("wcs:GridCS",{value:a})}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows},CLASS_NAME:"OpenLayers.Format.WCSGetCoverage"});
OpenLayers.Format.WMSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.1",profile:null,CLASS_NAME:"OpenLayers.Format.WMSCapabilities"});OpenLayers.Format.WMSCapabilities.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{wms:"http://www.opengis.net/wms",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"wms",initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(c){if(typeof c=="string"){c=OpenLayers.Format.XML.prototype.read.apply(this,[c])}var b=c;if(c&&c.nodeType==9){c=c.documentElement}var a={};this.readNode(c,a);if(a.service===undefined){var d=new OpenLayers.Format.OGCExceptionReport();a.error=d.read(b)}else{this.postProcessLayers(a)}return a},postProcessLayers:function(b){if(b.capability){b.capability.layers=[];var e=b.capability.nestedLayers;for(var d=0,a=e.length;d<a;++d){var c=e[d];this.processLayer(b.capability,c)}}},processLayer:function(a,h,c){if(h.formats===undefined){h.formats=a.request.getmap.formats}var f,j;if(c){h.styles=h.styles.concat(c.styles);var e=["queryable","cascaded","fixedWidth","fixedHeight","opaque","noSubsets","llbbox","minScale","maxScale","attribution"];var l=["srs","bbox","dimensions","authorityURLs"];var k;for(f=0,j=e.length;f<j;f++){k=e[f];if(k in c){if(h[k]==null){h[k]=c[k]}if(h[k]==null){var g=["cascaded","fixedWidth","fixedHeight"];var b=["queryable","opaque","noSubsets"];if(OpenLayers.Util.indexOf(g,k)!=-1){h[k]=0}if(OpenLayers.Util.indexOf(b,k)!=-1){h[k]=false}}}}for(f=0,j=l.length;f<j;f++){k=l[f];h[k]=OpenLayers.Util.applyDefaults(h[k],c[k])}}for(f=0,j=h.nestedLayers.length;f<j;f++){var d=h.nestedLayers[f];this.processLayer(a,d,h)}if(h.name){a.layers.push(h)}},readers:{wms:{Service:function(a,b){b.service={};this.readChildNodes(a,b.service)},Name:function(a,b){b.name=this.getChildValue(a)},Title:function(a,b){b.title=this.getChildValue(a)},Abstract:function(a,b){b["abstract"]=this.getChildValue(a)},BoundingBox:function(b,c){var d={};d.bbox=[parseFloat(b.getAttribute("minx")),parseFloat(b.getAttribute("miny")),parseFloat(b.getAttribute("maxx")),parseFloat(b.getAttribute("maxy"))];var a={x:parseFloat(b.getAttribute("resx")),y:parseFloat(b.getAttribute("resy"))};if(!(isNaN(a.x)&&isNaN(a.y))){d.res=a}return d},OnlineResource:function(a,b){b.href=this.getAttributeNS(a,this.namespaces.xlink,"href")},ContactInformation:function(a,b){b.contactInformation={};this.readChildNodes(a,b.contactInformation)},ContactPersonPrimary:function(a,b){b.personPrimary={};this.readChildNodes(a,b.personPrimary)},ContactPerson:function(a,b){b.person=this.getChildValue(a)},ContactOrganization:function(a,b){b.organization=this.getChildValue(a)},ContactPosition:function(a,b){b.position=this.getChildValue(a)},ContactAddress:function(a,b){b.contactAddress={};this.readChildNodes(a,b.contactAddress)},AddressType:function(a,b){b.type=this.getChildValue(a)},Address:function(a,b){b.address=this.getChildValue(a)},City:function(a,b){b.city=this.getChildValue(a)},StateOrProvince:function(a,b){b.stateOrProvince=this.getChildValue(a)},PostCode:function(a,b){b.postcode=this.getChildValue(a)},Country:function(a,b){b.country=this.getChildValue(a)},ContactVoiceTelephone:function(a,b){b.phone=this.getChildValue(a)},ContactFacsimileTelephone:function(a,b){b.fax=this.getChildValue(a)},ContactElectronicMailAddress:function(a,b){b.email=this.getChildValue(a)},Fees:function(b,c){var a=this.getChildValue(b);if(a&&a.toLowerCase()!="none"){c.fees=a}},AccessConstraints:function(a,b){var c=this.getChildValue(a);if(c&&c.toLowerCase()!="none"){b.accessConstraints=c}},Capability:function(a,b){b.capability={nestedLayers:[]};this.readChildNodes(a,b.capability)},Request:function(a,b){b.request={};this.readChildNodes(a,b.request)},GetCapabilities:function(a,b){b.getcapabilities={formats:[]};this.readChildNodes(a,b.getcapabilities)},Format:function(a,b){if(OpenLayers.Util.isArray(b.formats)){b.formats.push(this.getChildValue(a))}else{b.format=this.getChildValue(a)}},DCPType:function(a,b){this.readChildNodes(a,b)},HTTP:function(a,b){this.readChildNodes(a,b)
},Get:function(a,b){b.get={};this.readChildNodes(a,b.get);if(!b.href){b.href=b.get.href}},Post:function(a,b){b.post={};this.readChildNodes(a,b.post);if(!b.href){b.href=b.get.href}},GetMap:function(a,b){b.getmap={formats:[]};this.readChildNodes(a,b.getmap)},GetFeatureInfo:function(a,b){b.getfeatureinfo={formats:[]};this.readChildNodes(a,b.getfeatureinfo)},Exception:function(a,b){b.exception={formats:[]};this.readChildNodes(a,b.exception)},Layer:function(b,e){var k=b.getAttributeNode("queryable");var c=(k&&k.specified)?b.getAttribute("queryable"):null;k=b.getAttributeNode("cascaded");var i=(k&&k.specified)?b.getAttribute("cascaded"):null;k=b.getAttributeNode("opaque");var f=(k&&k.specified)?b.getAttribute("opaque"):null;var j=b.getAttribute("noSubsets");var a=b.getAttribute("fixedWidth");var h=b.getAttribute("fixedHeight");var g={nestedLayers:[],styles:[],srs:{},metadataURLs:[],bbox:{},dimensions:{},authorityURLs:{},identifiers:{},keywords:[],queryable:(c&&c!=="")?(c==="1"||c==="true"):null,cascaded:(i!==null)?parseInt(i):null,opaque:f?(f==="1"||f==="true"):null,noSubsets:(j!==null)?(j==="1"||j==="true"):null,fixedWidth:(a!=null)?parseInt(a):null,fixedHeight:(h!=null)?parseInt(h):null};e.nestedLayers.push(g);this.readChildNodes(b,g);if(g.name){var d=g.name.split(":");if(d.length>0){g.prefix=d[0]}}},Attribution:function(a,b){b.attribution={};this.readChildNodes(a,b.attribution)},LogoURL:function(a,b){b.logo={width:a.getAttribute("width"),height:a.getAttribute("height")};this.readChildNodes(a,b.logo)},Style:function(b,c){var a={};c.styles.push(a);this.readChildNodes(b,a)},LegendURL:function(b,c){var a={width:b.getAttribute("width"),height:b.getAttribute("height")};c.legend=a;this.readChildNodes(b,a)},MetadataURL:function(a,b){var c={type:a.getAttribute("type")};b.metadataURLs.push(c);this.readChildNodes(a,c)},DataURL:function(a,b){b.dataURL={};this.readChildNodes(a,b.dataURL)},FeatureListURL:function(a,b){b.featureListURL={};this.readChildNodes(a,b.featureListURL)},AuthorityURL:function(b,d){var a=b.getAttribute("name");var c={};this.readChildNodes(b,c);d.authorityURLs[a]=c.href},Identifier:function(a,c){var b=a.getAttribute("authority");c.identifiers[b]=this.getChildValue(a)},KeywordList:function(a,b){this.readChildNodes(a,b)},SRS:function(a,b){b.srs[this.getChildValue(a)]=true}}},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1"});OpenLayers.Format.WMSCapabilities.v1_1=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1,{readers:{wms:OpenLayers.Util.applyDefaults({WMT_MS_Capabilities:function(a,b){this.readChildNodes(a,b)},Keyword:function(a,b){if(b.keywords){b.keywords.push(this.getChildValue(a))}},DescribeLayer:function(a,b){b.describelayer={formats:[]};this.readChildNodes(a,b.describelayer)},GetLegendGraphic:function(a,b){b.getlegendgraphic={formats:[]};this.readChildNodes(a,b.getlegendgraphic)},GetStyles:function(a,b){b.getstyles={formats:[]};this.readChildNodes(a,b.getstyles)},PutStyles:function(a,b){b.putstyles={formats:[]};this.readChildNodes(a,b.putstyles)},UserDefinedSymbolization:function(a,b){var c={supportSLD:parseInt(a.getAttribute("SupportSLD"))==1,userLayer:parseInt(a.getAttribute("UserLayer"))==1,userStyle:parseInt(a.getAttribute("UserStyle"))==1,remoteWFS:parseInt(a.getAttribute("RemoteWFS"))==1};b.userSymbols=c},LatLonBoundingBox:function(a,b){b.llbbox=[parseFloat(a.getAttribute("minx")),parseFloat(a.getAttribute("miny")),parseFloat(a.getAttribute("maxx")),parseFloat(a.getAttribute("maxy"))]},BoundingBox:function(a,b){var c=OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms.BoundingBox.apply(this,[a,b]);c.srs=a.getAttribute("SRS");b.bbox[c.srs]=c},ScaleHint:function(e,f){var d=e.getAttribute("min");var a=e.getAttribute("max");var c=Math.pow(2,0.5);var b=OpenLayers.INCHES_PER_UNIT.m;f.maxScale=parseFloat(((d/c)*b*OpenLayers.DOTS_PER_INCH).toPrecision(13));f.minScale=parseFloat(((a/c)*b*OpenLayers.DOTS_PER_INCH).toPrecision(13))},Dimension:function(b,d){var a=b.getAttribute("name").toLowerCase();var c={name:a,units:b.getAttribute("units"),unitsymbol:b.getAttribute("unitSymbol")};d.dimensions[c.name]=c
},Extent:function(d,e){var b=d.getAttribute("name").toLowerCase();if(b in e.dimensions){var c=e.dimensions[b];c.nearestVal=d.getAttribute("nearestValue")==="1";c.multipleVal=d.getAttribute("multipleValues")==="1";c.current=d.getAttribute("current")==="1";c["default"]=d.getAttribute("default")||"";var a=this.getChildValue(d);c.values=a.split(",")}}},OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms)},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_1"});OpenLayers.Format.WMSCapabilities.v1_1_0=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1,{version:"1.1.0",initialize:function(a){OpenLayers.Format.WMSCapabilities.v1_1.prototype.initialize.apply(this,[a])},readers:{wms:OpenLayers.Util.applyDefaults({SRS:function(e,f){var d=this.getChildValue(e);var b=d.split(/ +/);for(var c=0,a=b.length;c<a;c++){f.srs[b[c]]=true}}},OpenLayers.Format.WMSCapabilities.v1_1.prototype.readers.wms)},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_1_0"});OpenLayers.Protocol.WFS.v1=OpenLayers.Class(OpenLayers.Protocol,{version:null,srsName:"EPSG:4326",featureType:null,featureNS:null,geometryName:"the_geom",schema:null,featurePrefix:"feature",formatOptions:null,readFormat:null,readOptions:null,initialize:function(a){OpenLayers.Protocol.prototype.initialize.apply(this,[a]);if(!a.format){this.format=OpenLayers.Format.WFST(OpenLayers.Util.extend({version:this.version,featureType:this.featureType,featureNS:this.featureNS,featurePrefix:this.featurePrefix,geometryName:this.geometryName,srsName:this.srsName,schema:this.schema},this.formatOptions))}if(!a.geometryName&&parseFloat(this.format.version)>1){this.setGeometryName(null)}},destroy:function(){if(this.options&&!this.options.format){this.format.destroy()}this.format=null;OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(b){OpenLayers.Protocol.prototype.read.apply(this,arguments);b=OpenLayers.Util.extend({},b);OpenLayers.Util.applyDefaults(b,this.options||{});var a=new OpenLayers.Protocol.Response({requestType:"read"});var c=OpenLayers.Format.XML.prototype.write.apply(this.format,[this.format.writeNode("wfs:GetFeature",b)]);a.priv=OpenLayers.Request.POST({url:b.url,callback:this.createCallback(this.handleRead,a,b),params:b.params,headers:b.headers,data:c});return a},setFeatureType:function(a){this.featureType=a;this.format.featureType=a},setGeometryName:function(a){this.geometryName=a;this.format.geometryName=a},handleRead:function(b,c){c=OpenLayers.Util.extend({},c);OpenLayers.Util.applyDefaults(c,this.options);if(c.callback){var d=b.priv;if(d.status>=200&&d.status<300){var a=this.parseResponse(d,c.readOptions);if(a&&a.success!==false){if(c.readOptions&&c.readOptions.output=="object"){OpenLayers.Util.extend(b,a)}else{b.features=a}b.code=OpenLayers.Protocol.Response.SUCCESS}else{b.code=OpenLayers.Protocol.Response.FAILURE;b.error=a}}else{b.code=OpenLayers.Protocol.Response.FAILURE}c.callback.call(c.scope,b)}},parseResponse:function(c,b){var e=c.responseXML;if(!e||!e.documentElement){e=c.responseText}if(!e||e.length<=0){return null}var a=(this.readFormat!==null)?this.readFormat.read(e):this.format.read(e,b);if(!this.featureNS){var d=this.readFormat||this.format;this.featureNS=d.featureNS;d.autoConfig=false;if(!this.geometryName){this.setGeometryName(d.geometryName)}}return a},commit:function(c,b){b=OpenLayers.Util.extend({},b);OpenLayers.Util.applyDefaults(b,this.options);var a=new OpenLayers.Protocol.Response({requestType:"commit",reqFeatures:c});a.priv=OpenLayers.Request.POST({url:b.url,headers:b.headers,data:this.format.write(c,b),callback:this.createCallback(this.handleCommit,a,b)});return a},handleCommit:function(a,b){if(b.callback){var c=a.priv;var d=c.responseXML;if(!d||!d.documentElement){d=c.responseText}var e=this.format.read(d)||{};a.insertIds=e.insertIds||[];if(e.success){a.code=OpenLayers.Protocol.Response.SUCCESS}else{a.code=OpenLayers.Protocol.Response.FAILURE;a.error=e}b.callback.call(b.scope,a)}},filterDelete:function(e,c){c=OpenLayers.Util.extend({},c);OpenLayers.Util.applyDefaults(c,this.options);var b=new OpenLayers.Protocol.Response({requestType:"commit"});
var a=this.format.createElementNSPlus("wfs:Transaction",{attributes:{service:"WFS",version:this.version}});var d=this.format.createElementNSPlus("wfs:Delete",{attributes:{typeName:(c.featureNS?this.featurePrefix+":":"")+c.featureType}});if(c.featureNS){d.setAttribute("xmlns:"+this.featurePrefix,c.featureNS)}var g=this.format.writeNode("ogc:Filter",e);d.appendChild(g);a.appendChild(d);var f=OpenLayers.Format.XML.prototype.write.apply(this.format,[a]);return OpenLayers.Request.POST({url:this.url,callback:c.callback||function(){},data:f})},abort:function(a){if(a){a.priv.abort()}},CLASS_NAME:"OpenLayers.Protocol.WFS.v1"});OpenLayers.Handler.Point=OpenLayers.Class(OpenLayers.Handler,{point:null,layer:null,multi:false,mouseDown:false,stoppedDown:null,lastDown:null,lastUp:null,persist:false,stopDown:false,stopUp:false,layerOptions:null,pixelTolerance:5,touch:false,lastTouchPx:null,initialize:function(c,b,a){if(!(a&&a.layerOptions&&a.layerOptions.styleMap)){this.style=OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"],{})}OpenLayers.Handler.prototype.initialize.apply(this,arguments)},activate:function(){if(!OpenLayers.Handler.prototype.activate.apply(this,arguments)){return false}var a=OpenLayers.Util.extend({displayInLayerSwitcher:false,calculateInRange:OpenLayers.Function.True},this.layerOptions);this.layer=new OpenLayers.Layer.Vector(this.CLASS_NAME,a);this.map.addLayer(this.layer);return true},createFeature:function(a){var b=this.map.getLonLatFromPixel(a);var c=new OpenLayers.Geometry.Point(b.lon,b.lat);this.point=new OpenLayers.Feature.Vector(c);this.callback("create",[this.point.geometry,this.point]);this.point.geometry.clearBounds();this.layer.addFeatures([this.point],{silent:true})},deactivate:function(){if(!OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){return false}this.cancel();if(this.layer.map!=null){this.destroyFeature(true);this.layer.destroy(false)}this.layer=null;this.touch=false;return true},destroyFeature:function(a){if(this.layer&&(a||!this.persist)){this.layer.destroyFeatures()}this.point=null},destroyPersistedFeature:function(){var a=this.layer;if(a&&a.features.length>1){this.layer.features[0].destroy()}},finalize:function(b){var a=b?"cancel":"done";this.mouseDown=false;this.lastDown=null;this.lastUp=null;this.lastTouchPx=null;this.callback(a,[this.geometryClone()]);this.destroyFeature(b)},cancel:function(){this.finalize(true)},click:function(a){OpenLayers.Event.stop(a);return false},dblclick:function(a){OpenLayers.Event.stop(a);return false},modifyFeature:function(a){if(!this.point){this.createFeature(a)}var b=this.map.getLonLatFromPixel(a);this.point.geometry.x=b.lon;this.point.geometry.y=b.lat;this.callback("modify",[this.point.geometry,this.point,false]);this.point.geometry.clearBounds();this.drawFeature()},drawFeature:function(){this.layer.drawFeature(this.point,this.style)},getGeometry:function(){var a=this.point&&this.point.geometry;if(a&&this.multi){a=new OpenLayers.Geometry.MultiPoint([a])}return a},geometryClone:function(){var a=this.getGeometry();return a&&a.clone()},mousedown:function(a){return this.down(a)},touchstart:function(a){if(!this.touch){this.touch=true;this.map.events.un({mousedown:this.mousedown,mouseup:this.mouseup,mousemove:this.mousemove,click:this.click,dblclick:this.dblclick,scope:this})}this.lastTouchPx=a.xy;return this.down(a)},mousemove:function(a){return this.move(a)},touchmove:function(a){this.lastTouchPx=a.xy;return this.move(a)},mouseup:function(a){return this.up(a)},touchend:function(a){a.xy=this.lastTouchPx;return this.up(a)},down:function(a){this.mouseDown=true;this.lastDown=a.xy;if(!this.touch){this.modifyFeature(a.xy)}this.stoppedDown=this.stopDown;return !this.stopDown},move:function(a){if(!this.touch&&(!this.mouseDown||this.stoppedDown)){this.modifyFeature(a.xy)}return true},up:function(a){this.mouseDown=false;this.stoppedDown=this.stopDown;if(!this.checkModifiers(a)){return true}if(this.lastUp&&this.lastUp.equals(a.xy)){return true}if(this.lastDown&&this.passesTolerance(this.lastDown,a.xy,this.pixelTolerance)){if(this.touch){this.modifyFeature(a.xy)
}if(this.persist){this.destroyPersistedFeature()}this.lastUp=a.xy;this.finalize();return !this.stopUp}else{return true}},mouseout:function(a){if(OpenLayers.Util.mouseLeft(a,this.map.eventsDiv)){this.stoppedDown=this.stopDown;this.mouseDown=false}},passesTolerance:function(e,d,a){var b=true;if(a!=null&&e&&d){var c=e.distanceTo(d);if(c>a){b=false}}return b},CLASS_NAME:"OpenLayers.Handler.Point"});OpenLayers.Handler.Path=OpenLayers.Class(OpenLayers.Handler.Point,{line:null,maxVertices:null,doubleTouchTolerance:20,freehand:false,freehandToggle:"shiftKey",timerId:null,redoStack:null,initialize:function(c,b,a){OpenLayers.Handler.Point.prototype.initialize.apply(this,arguments)},createFeature:function(a){var b=this.map.getLonLatFromPixel(a);var c=new OpenLayers.Geometry.Point(b.lon,b.lat);this.point=new OpenLayers.Feature.Vector(c);this.line=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([this.point.geometry]));this.callback("create",[this.point.geometry,this.getSketch()]);this.point.geometry.clearBounds();this.layer.addFeatures([this.line,this.point],{silent:true})},destroyFeature:function(a){OpenLayers.Handler.Point.prototype.destroyFeature.call(this,a);this.line=null},destroyPersistedFeature:function(){var a=this.layer;if(a&&a.features.length>2){this.layer.features[0].destroy()}},removePoint:function(){if(this.point){this.layer.removeFeatures([this.point])}},addPoint:function(a){this.layer.removeFeatures([this.point]);var b=this.control.map.getLonLatFromPixel(a);this.point=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(b.lon,b.lat));this.line.geometry.addComponent(this.point.geometry,this.line.geometry.components.length);this.layer.addFeatures([this.point]);this.callback("point",[this.point.geometry,this.getGeometry()]);this.callback("modify",[this.point.geometry,this.getSketch()]);this.drawFeature();delete this.redoStack},insertXY:function(a,b){this.line.geometry.addComponent(new OpenLayers.Geometry.Point(a,b),this.getCurrentPointIndex());this.drawFeature();delete this.redoStack},insertDeltaXY:function(b,a){var c=this.getCurrentPointIndex()-1;var d=this.line.geometry.components[c];if(d&&!isNaN(d.x)&&!isNaN(d.y)){this.insertXY(d.x+b,d.y+a)}},insertDirectionLength:function(d,c){d*=Math.PI/180;var b=c*Math.cos(d);var a=c*Math.sin(d);this.insertDeltaXY(b,a)},insertDeflectionLength:function(c,b){var d=this.getCurrentPointIndex()-1;if(d>0){var e=this.line.geometry.components[d];var f=this.line.geometry.components[d-1];var a=Math.atan2(e.y-f.y,e.x-f.x);this.insertDirectionLength((a*180/Math.PI)+c,b)}},getCurrentPointIndex:function(){return this.line.geometry.components.length-1},undo:function(){var e=this.line.geometry;var b=e.components;var a=this.getCurrentPointIndex()-1;var d=b[a];var c=e.removeComponent(d);if(c){if(!this.redoStack){this.redoStack=[]}this.redoStack.push(d);this.drawFeature()}return c},redo:function(){var a=this.redoStack&&this.redoStack.pop();if(a){this.line.geometry.addComponent(a,this.getCurrentPointIndex());this.drawFeature()}return !!a},freehandMode:function(a){return(this.freehandToggle&&a[this.freehandToggle])?!this.freehand:this.freehand},modifyFeature:function(b,a){if(!this.line){this.createFeature(b)}var c=this.control.map.getLonLatFromPixel(b);this.point.geometry.x=c.lon;this.point.geometry.y=c.lat;this.callback("modify",[this.point.geometry,this.getSketch(),a]);this.point.geometry.clearBounds();this.drawFeature()},drawFeature:function(){this.layer.drawFeature(this.line,this.style);this.layer.drawFeature(this.point,this.style)},getSketch:function(){return this.line},getGeometry:function(){var a=this.line&&this.line.geometry;if(a&&this.multi){a=new OpenLayers.Geometry.MultiLineString([a])}return a},touchstart:function(a){if(this.timerId&&this.passesTolerance(this.lastTouchPx,a.xy,this.doubleTouchTolerance)){this.finishGeometry();window.clearTimeout(this.timerId);this.timerId=null;return false}else{if(this.timerId){window.clearTimeout(this.timerId);this.timerId=null}this.timerId=window.setTimeout(OpenLayers.Function.bind(function(){this.timerId=null},this),300);return OpenLayers.Handler.Point.prototype.touchstart.call(this,a)
}},down:function(a){var b=this.stopDown;if(this.freehandMode(a)){b=true}if(!this.touch&&(!this.lastDown||!this.passesTolerance(this.lastDown,a.xy,this.pixelTolerance))){this.modifyFeature(a.xy,!!this.lastUp)}this.mouseDown=true;this.lastDown=a.xy;this.stoppedDown=b;return !b},move:function(a){if(this.stoppedDown&&this.freehandMode(a)){if(this.persist){this.destroyPersistedFeature()}this.addPoint(a.xy);return false}if(!this.touch&&(!this.mouseDown||this.stoppedDown)){this.modifyFeature(a.xy,!!this.lastUp)}return true},up:function(a){if(this.mouseDown&&(!this.lastUp||!this.lastUp.equals(a.xy))){if(this.stoppedDown&&this.freehandMode(a)){if(this.persist){this.destroyPersistedFeature()}this.removePoint();this.finalize()}else{if(this.passesTolerance(this.lastDown,a.xy,this.pixelTolerance)){if(this.touch){this.modifyFeature(a.xy)}if(this.lastUp==null&&this.persist){this.destroyPersistedFeature()}this.addPoint(a.xy);this.lastUp=a.xy;if(this.line.geometry.components.length===this.maxVertices+1){this.finishGeometry()}}}}this.stoppedDown=this.stopDown;this.mouseDown=false;return !this.stopUp},finishGeometry:function(){var a=this.line.geometry.components.length-1;this.line.geometry.removeComponent(this.line.geometry.components[a]);this.removePoint();this.finalize()},dblclick:function(a){if(!this.freehandMode(a)){this.finishGeometry()}return false},CLASS_NAME:"OpenLayers.Handler.Path"});OpenLayers.Format.WFS=OpenLayers.Class(OpenLayers.Format.GML,{layer:null,wfsns:"http://www.opengis.net/wfs",ogcns:"http://www.opengis.net/ogc",initialize:function(a,b){OpenLayers.Format.GML.prototype.initialize.apply(this,[a]);this.layer=b;if(this.layer.featureNS){this.featureNS=this.layer.featureNS}if(this.layer.options.geometry_column){this.geometryName=this.layer.options.geometry_column}if(this.layer.options.typename){this.featureName=this.layer.options.typename}},write:function(b){var c=this.createElementNS(this.wfsns,"wfs:Transaction");c.setAttribute("version","1.0.0");c.setAttribute("service","WFS");for(var a=0;a<b.length;a++){switch(b[a].state){case OpenLayers.State.INSERT:c.appendChild(this.insert(b[a]));break;case OpenLayers.State.UPDATE:c.appendChild(this.update(b[a]));break;case OpenLayers.State.DELETE:c.appendChild(this.remove(b[a]));break}}return OpenLayers.Format.XML.prototype.write.apply(this,[c])},createFeatureXML:function(f){var c=this.buildGeometryNode(f.geometry);var g=this.createElementNS(this.featureNS,"feature:"+this.geometryName);g.appendChild(c);var b=this.createElementNS(this.featureNS,"feature:"+this.featureName);b.appendChild(g);for(var a in f.attributes){var h=this.createTextNode(f.attributes[a]);var d=a;if(a.search(":")!=-1){d=a.split(":")[1]}var e=this.createElementNS(this.featureNS,"feature:"+d);e.appendChild(h);b.appendChild(e)}return b},insert:function(b){var a=this.createElementNS(this.wfsns,"wfs:Insert");a.appendChild(this.createFeatureXML(b));return a},update:function(j){if(!j.fid){OpenLayers.Console.userError(OpenLayers.i18n("noFID"))}var f=this.createElementNS(this.wfsns,"wfs:Update");f.setAttribute("typeName",this.featurePrefix+":"+this.featureName);f.setAttribute("xmlns:"+this.featurePrefix,this.featureNS);var h=this.createElementNS(this.wfsns,"wfs:Property");var a=this.createElementNS(this.wfsns,"wfs:Name");var c=this.createTextNode(this.geometryName);a.appendChild(c);h.appendChild(a);var i=this.createElementNS(this.wfsns,"wfs:Value");var d=this.buildGeometryNode(j.geometry);if(j.layer){d.setAttribute("srsName",j.layer.projection.getCode())}i.appendChild(d);h.appendChild(i);f.appendChild(h);for(var e in j.attributes){h=this.createElementNS(this.wfsns,"wfs:Property");a=this.createElementNS(this.wfsns,"wfs:Name");a.appendChild(this.createTextNode(e));h.appendChild(a);i=this.createElementNS(this.wfsns,"wfs:Value");i.appendChild(this.createTextNode(j.attributes[e]));h.appendChild(i);f.appendChild(h)}var g=this.createElementNS(this.ogcns,"ogc:Filter");var b=this.createElementNS(this.ogcns,"ogc:FeatureId");b.setAttribute("fid",j.fid);g.appendChild(b);f.appendChild(g);return f},remove:function(b){if(!b.fid){OpenLayers.Console.userError(OpenLayers.i18n("noFID"));
return false}var a=this.createElementNS(this.wfsns,"wfs:Delete");a.setAttribute("typeName",this.featurePrefix+":"+this.featureName);a.setAttribute("xmlns:"+this.featurePrefix,this.featureNS);var c=this.createElementNS(this.ogcns,"ogc:Filter");var d=this.createElementNS(this.ogcns,"ogc:FeatureId");d.setAttribute("fid",b.fid);c.appendChild(d);a.appendChild(c);return a},destroy:function(){this.layer=null},CLASS_NAME:"OpenLayers.Format.WFS"});OpenLayers.Layer.GML=OpenLayers.Class(OpenLayers.Layer.Vector,{loaded:false,format:null,formatOptions:null,initialize:function(d,c,b){var a=[];a.push(d,b);OpenLayers.Layer.Vector.prototype.initialize.apply(this,a);this.url=c},setVisibility:function(a,b){OpenLayers.Layer.Vector.prototype.setVisibility.apply(this,arguments);if(this.visibility&&!this.loaded){this.loadGML()}},moveTo:function(c,a,b){OpenLayers.Layer.Vector.prototype.moveTo.apply(this,arguments);if(this.visibility&&!this.loaded){this.loadGML()}},loadGML:function(){if(!this.loaded){this.events.triggerEvent("loadstart");OpenLayers.Request.GET({url:this.url,success:this.requestSuccess,failure:this.requestFailure,scope:this});this.loaded=true}},setUrl:function(a){this.url=a;this.destroyFeatures();this.loaded=false;this.loadGML()},requestSuccess:function(c){var d=c.responseXML;if(!d||!d.documentElement){d=c.responseText}var a={};OpenLayers.Util.extend(a,this.formatOptions);if(this.map&&!this.projection.equals(this.map.getProjectionObject())){a.externalProjection=this.projection;a.internalProjection=this.map.getProjectionObject()}var b=this.format?new this.format(a):new OpenLayers.Format.GML(a);this.addFeatures(b.read(d));this.events.triggerEvent("loadend")},requestFailure:function(a){OpenLayers.Console.userError(OpenLayers.i18n("errorLoadingGML",{url:this.url}));this.events.triggerEvent("loadend")},CLASS_NAME:"OpenLayers.Layer.GML"});OpenLayers.Control.PanPanel=OpenLayers.Class(OpenLayers.Control.Panel,{slideFactor:50,slideRatio:null,initialize:function(a){OpenLayers.Control.Panel.prototype.initialize.apply(this,[a]);var a={slideFactor:this.slideFactor,slideRatio:this.slideRatio};this.addControls([new OpenLayers.Control.Pan(OpenLayers.Control.Pan.NORTH,a),new OpenLayers.Control.Pan(OpenLayers.Control.Pan.SOUTH,a),new OpenLayers.Control.Pan(OpenLayers.Control.Pan.EAST,a),new OpenLayers.Control.Pan(OpenLayers.Control.Pan.WEST,a)])},CLASS_NAME:"OpenLayers.Control.PanPanel"});OpenLayers.Control.Attribution=OpenLayers.Class(OpenLayers.Control,{separator:", ",destroy:function(){this.map.events.un({removelayer:this.updateAttribution,addlayer:this.updateAttribution,changelayer:this.updateAttribution,changebaselayer:this.updateAttribution,scope:this});OpenLayers.Control.prototype.destroy.apply(this,arguments)},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);this.map.events.on({changebaselayer:this.updateAttribution,changelayer:this.updateAttribution,addlayer:this.updateAttribution,removelayer:this.updateAttribution,scope:this});this.updateAttribution();return this.div},updateAttribution:function(){var d=[];if(this.map&&this.map.layers){for(var c=0,a=this.map.layers.length;c<a;c++){var b=this.map.layers[c];if(b.attribution&&b.getVisibility()){if(OpenLayers.Util.indexOf(d,b.attribution)===-1){d.push(b.attribution)}}}this.div.innerHTML=d.join(this.separator)}},CLASS_NAME:"OpenLayers.Control.Attribution"});OpenLayers.Renderer.NG=OpenLayers.Class(OpenLayers.Renderer.Elements,{labelNodeType:null,updateDimensions:function(b){var a=this.map.getExtent();var d=a.scale(3);this.setExtent(d,true);var c=this.getResolution();var g=this.rendererRoot.parentNode;var e=parseFloat(g.parentNode.style.left);var f=parseFloat(g.parentNode.style.top);g.style.left=((d.left-a.left)/c-e)+"px";g.style.top=((a.top-d.top)/c-f)+"px"},setSize:function(){this.map.getExtent()&&this.updateDimensions()},drawFeature:function(b,c){if(c==null){c=b.style}if(b.geometry){var d=this.drawGeometry(b.geometry,c,b.id);if(d!==false&&c.label){var a=b.geometry.getCentroid();this.drawText(b.id,c,a)}else{this.removeText(b.id)}return d}},drawText:function(g,e,a){var b;if(typeof g!=="string"){b=g
}else{b=this.nodeFactory(g+this.LABEL_ID_SUFFIX,this.labelNodeType);b._featureId=g}b._style=e;b._x=a.x;b._y=a.y;if(e.labelXOffset||e.labelYOffset){var d=isNaN(e.labelXOffset)?0:e.labelXOffset;var f=isNaN(e.labelYOffset)?0:e.labelYOffset;var c=this.getResolution();a.move(d*c,f*c)}if(b.parentNode!==this.textRoot){this.textRoot.appendChild(b)}return b},CLASS_NAME:"OpenLayers.Renderer.NG"});OpenLayers.Renderer.SVG2=OpenLayers.Class(OpenLayers.Renderer.NG,{xmlns:"http://www.w3.org/2000/svg",xlinkns:"http://www.w3.org/1999/xlink",symbolMetrics:null,labelNodeType:"g",initialize:function(a){if(!this.supported()){return}OpenLayers.Renderer.Elements.prototype.initialize.apply(this,arguments);this.symbolMetrics={}},supported:function(){var a="http://www.w3.org/TR/SVG11/feature#";return(document.implementation&&(document.implementation.hasFeature("org.w3c.svg","1.0")||document.implementation.hasFeature(a+"SVG","1.1")||document.implementation.hasFeature(a+"BasicStructure","1.1")))},updateDimensions:function(a){OpenLayers.Renderer.NG.prototype.updateDimensions.apply(this,arguments);var h=this.getResolution();var c=this.extent.getWidth();var k=this.extent.getHeight();var d=[this.extent.left,-this.extent.top,c,k].join(" ");this.rendererRoot.setAttributeNS(null,"viewBox",d);this.rendererRoot.setAttributeNS(null,"width",c/h);this.rendererRoot.setAttributeNS(null,"height",k/h);if(a===true){var e,f;var b=this.vectorRoot.childNodes;for(e=0,f=b.length;e<f;++e){this.setStyle(b[e])}var g=this.textRoot.childNodes;var j;for(e=0,f=g.length;e<f;++e){j=g[e];this.drawText(j,j._style,new OpenLayers.Geometry.Point(j._x,j._y))}}},getNodeType:function(c,b){var a=null;switch(c.CLASS_NAME){case"OpenLayers.Geometry.Point":if(b.externalGraphic){a="image"}else{if(this.isComplexSymbol(b.graphicName)){a="svg"}else{a="circle"}}break;case"OpenLayers.Geometry.Rectangle":a="rect";break;case"OpenLayers.Geometry.LineString":a="polyline";break;case"OpenLayers.Geometry.LinearRing":a="polygon";break;case"OpenLayers.Geometry.Polygon":case"OpenLayers.Geometry.Curve":case"OpenLayers.Geometry.Surface":a="path";break;default:break}return a},setStyle:function(n,s,b){s=s||n._style;b=b||n._options;var q=this.getResolution();var j=n._radius;var i=q;if(n._geometryClass=="OpenLayers.Geometry.Point"&&j){n.style.visibility="";if(s.graphic===false){n.style.visibility="hidden"}else{if(s.externalGraphic){if(s.graphicTitle){n.setAttributeNS(null,"title",s.graphicTitle);var e=this.nodeFactory(null,"title");e.textContent=s.graphicTitle;n.appendChild(e)}if(s.graphicWidth&&s.graphicHeight){n.setAttributeNS(null,"preserveAspectRatio","none")}var m=s.graphicWidth||s.graphicHeight;var l=s.graphicHeight||s.graphicWidth;m=m?m:s.pointRadius*2;l=l?l:s.pointRadius*2;m*=q;l*=q;var t=(s.graphicXOffset!=undefined)?s.graphicXOffset*q:-(0.5*m);var f=(s.graphicYOffset!=undefined)?s.graphicYOffset*q:-(0.5*l);var a=s.graphicOpacity||s.fillOpacity;n.setAttributeNS(null,"x",n._x+t);n.setAttributeNS(null,"y",n._y+f);n.setAttributeNS(null,"width",m);n.setAttributeNS(null,"height",l);n.setAttributeNS(this.xlinkns,"href",s.externalGraphic);n.setAttributeNS(null,"style","opacity: "+a);n.onclick=OpenLayers.Renderer.SVG2.preventDefault}else{if(this.isComplexSymbol(s.graphicName)){var c=s.pointRadius*3*q;var k=c*2;var d=this.importSymbol(s.graphicName);i=this.symbolMetrics[d.id].size*3/k*q;var g=n.parentNode;var h=n.nextSibling;if(g){g.removeChild(n)}n.firstChild&&n.removeChild(n.firstChild);n.appendChild(d.firstChild.cloneNode(true));n.setAttributeNS(null,"viewBox",d.getAttributeNS(null,"viewBox"));n.setAttributeNS(null,"width",k);n.setAttributeNS(null,"height",k);n.setAttributeNS(null,"x",n._x-c);n.setAttributeNS(null,"y",n._y-c);if(h){g.insertBefore(n,h)}else{if(g){g.appendChild(n)}}}else{n.setAttributeNS(null,"r",s.pointRadius*q)}}}var p=s.rotation;if(p!==undefined||n._rotation!==undefined){n._rotation=p;p|=0;if(n.nodeName!=="svg"){n.setAttributeNS(null,"transform",["rotate(",p,n._x,n._y,")"].join(" "))}else{var o=this.symbolMetrics[d.id];n.firstChild.setAttributeNS(null,"transform",["rotate(",p,o.x,o.y,")"].join(" "))
}}}if(b.isFilled){n.setAttributeNS(null,"fill",s.fillColor);n.setAttributeNS(null,"fill-opacity",s.fillOpacity)}else{n.setAttributeNS(null,"fill","none")}if(b.isStroked){n.setAttributeNS(null,"stroke",s.strokeColor);n.setAttributeNS(null,"stroke-opacity",s.strokeOpacity);n.setAttributeNS(null,"stroke-width",s.strokeWidth*i);n.setAttributeNS(null,"stroke-linecap",s.strokeLinecap||"round");n.setAttributeNS(null,"stroke-linejoin","round");s.strokeDashstyle&&n.setAttributeNS(null,"stroke-dasharray",this.dashStyle(s,i))}else{n.setAttributeNS(null,"stroke","none")}if(s.pointerEvents){n.setAttributeNS(null,"pointer-events",s.pointerEvents)}if(s.cursor!=null){n.setAttributeNS(null,"cursor",s.cursor)}return n},dashStyle:function(e,d){var a=e.strokeWidth*d;var g=e.strokeDashstyle;switch(g){case"solid":return"none";case"dot":return[d,4*a].join();case"dash":return[4*a,4*a].join();case"dashdot":return[4*a,4*a,d,4*a].join();case"longdash":return[8*a,4*a].join();case"longdashdot":return[8*a,4*a,d,4*a].join();default:var f=OpenLayers.String.trim(g).split(/\s+/g);for(var b=0,c=f.length;b<c;b++){f[b]=f[b]*d}return f.join()}},createNode:function(a,c){var b=document.createElementNS(this.xmlns,a);if(c){b.setAttributeNS(null,"id",c)}return b},nodeTypeCompare:function(b,a){return(a==b.nodeName)},createRenderRoot:function(){return this.nodeFactory(this.container.id+"_svgRoot","svg")},createRoot:function(a){return this.nodeFactory(this.container.id+a,"g")},createDefs:function(){var a=this.nodeFactory(this.container.id+"_defs","defs");this.rendererRoot.appendChild(a);return a},drawPoint:function(a,b){return this.drawCircle(a,b,1)},drawCircle:function(c,d,b){var a=d.x;var e=-d.y;c.setAttributeNS(null,"cx",a);c.setAttributeNS(null,"cy",e);c._x=a;c._y=e;c._radius=b;return c},drawLineString:function(a,c){var b=this.getComponentsString(c.components);a.setAttributeNS(null,"points",b);return a},drawLinearRing:function(a,c){var b=this.getComponentsString(c.components);a.setAttributeNS(null,"points",b);return a},drawPolygon:function(b,h){var g=[];var i=true;var a=true;var c,k;for(var e=0,f=h.components.length;e<f;e++){g.push("M");k=this.getComponentsString(h.components[e].components," ");g.push(k)}g.push("z");b.setAttributeNS(null,"d",g.join(" "));b.setAttributeNS(null,"fill-rule","evenodd");return b},drawRectangle:function(a,b){a.setAttributeNS(null,"x",b.x);a.setAttributeNS(null,"y",-b.y);a.setAttributeNS(null,"width",b.width);a.setAttributeNS(null,"height",b.height);return a},drawSurface:function(f,h){var g=[];var b=true;for(var e=0,a=h.components.length;e<a;e++){if((e%3)==0&&(e/3)==0){var c=this.getShortString(h.components[e]);g.push("M",c)}else{if((e%3)==1){var c=this.getShortString(h.components[e]);g.push("C",c)}else{var c=this.getShortString(h.components[e]);g.push(c)}}}g.push("Z");f.setAttributeNS(null,"d",g.join(" "));return f},drawText:function(d,a,m){var e=OpenLayers.Renderer.NG.prototype.drawText.apply(this,arguments);var n=e.firstChild||this.nodeFactory(d+this.LABEL_ID_SUFFIX+"_text","text");var j=this.getResolution();n.setAttributeNS(null,"x",m.x/j);n.setAttributeNS(null,"y",-m.y/j);e.setAttributeNS(null,"transform","scale("+j+")");if(a.fontColor){n.setAttributeNS(null,"fill",a.fontColor)}if(a.fontOpacity){n.setAttributeNS(null,"opacity",a.fontOpacity)}if(a.fontFamily){n.setAttributeNS(null,"font-family",a.fontFamily)}if(a.fontSize){n.setAttributeNS(null,"font-size",a.fontSize)}if(a.fontWeight){n.setAttributeNS(null,"font-weight",a.fontWeight)}if(a.fontStyle){n.setAttributeNS(null,"font-style",a.fontStyle)}if(a.labelSelect===true){n.setAttributeNS(null,"pointer-events","visible");n._featureId=d}else{n.setAttributeNS(null,"pointer-events","none")}var h=a.labelAlign||"cm";n.setAttributeNS(null,"text-anchor",OpenLayers.Renderer.SVG2.LABEL_ALIGN[h[0]]||"middle");if(OpenLayers.IS_GECKO===true){n.setAttributeNS(null,"dominant-baseline",OpenLayers.Renderer.SVG2.LABEL_ALIGN[h[1]]||"central")}var b=a.label.split("\n");var f=b.length;while(n.childNodes.length>f){n.removeChild(n.lastChild)}for(var c=0;c<f;c++){var k=n.childNodes[c]||this.nodeFactory(d+this.LABEL_ID_SUFFIX+"_tspan_"+c,"tspan");
if(a.labelSelect===true){k._featureId=d}if(OpenLayers.IS_GECKO===false){k.setAttributeNS(null,"baseline-shift",OpenLayers.Renderer.SVG2.LABEL_VSHIFT[h[1]]||"-35%")}k.setAttribute("x",m.x/j);if(c==0){var l=OpenLayers.Renderer.SVG2.LABEL_VFACTOR[h[1]];if(l==null){l=-0.5}k.setAttribute("dy",(l*(f-1))+"em")}else{k.setAttribute("dy","1em")}k.textContent=(b[c]==="")?" ":b[c];if(!k.parentNode){n.appendChild(k)}}if(!n.parentNode){e.appendChild(n)}return e},getComponentsString:function(d,e){var b=d.length;var a=new Array(b);for(var c=0;c<b;c++){a[c]=this.getShortString(d[c])}return a.join(e||",")},getShortString:function(a){return a.x+","+(-a.y)},importSymbol:function(f){if(!this.defs){this.defs=this.createDefs()}var b=this.container.id+"-"+f;var c=document.getElementById(b);if(c!=null){return c}var e=OpenLayers.Renderer.symbol[f];if(!e){throw new Error(f+" is not a valid symbol name")}var j=this.nodeFactory(b,"symbol");var d=this.nodeFactory(null,"polygon");j.appendChild(d);var o=new OpenLayers.Bounds(Number.MAX_VALUE,Number.MAX_VALUE,0,0);var m=[];var l,k;for(var g=0,h=e.length;g<h;g=g+2){l=e[g];k=e[g+1];o.left=Math.min(o.left,l);o.bottom=Math.min(o.bottom,k);o.right=Math.max(o.right,l);o.top=Math.max(o.top,k);m.push(l,",",k)}d.setAttributeNS(null,"points",m.join(" "));var a=o.getWidth();var n=o.getHeight();var p=[o.left-a,o.bottom-n,a*3,n*3];j.setAttributeNS(null,"viewBox",p.join(" "));this.symbolMetrics[b]={size:Math.max(a,n),x:o.getCenterLonLat().lon,y:o.getCenterLonLat().lat};this.defs.appendChild(j);return j},getFeatureIdFromEvent:function(a){var c=OpenLayers.Renderer.Elements.prototype.getFeatureIdFromEvent.apply(this,arguments);if(!c){var b=a.target;c=b.parentNode&&b!=this.rendererRoot&&b.parentNode._featureId}return c},CLASS_NAME:"OpenLayers.Renderer.SVG2"});OpenLayers.Renderer.SVG2.LABEL_ALIGN={l:"start",r:"end",b:"bottom",t:"hanging"};OpenLayers.Renderer.SVG2.LABEL_VSHIFT={t:"-70%",b:"0"};OpenLayers.Renderer.SVG2.LABEL_VFACTOR={t:0,b:-1};OpenLayers.Renderer.SVG2.preventDefault=function(a){a.preventDefault&&a.preventDefault()};OpenLayers.Layer.TileCache=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:true,format:"image/png",serverResolutions:null,initialize:function(c,b,d,a){this.layername=d;OpenLayers.Layer.Grid.prototype.initialize.apply(this,[c,b,{},a]);this.extension=this.format.split("/")[1].toLowerCase();this.extension=(this.extension=="jpg")?"jpeg":this.extension},clone:function(a){if(a==null){a=new OpenLayers.Layer.TileCache(this.name,this.url,this.layername,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(b){var f=this.map.getResolution();var g=this.maxExtent;var k=this.tileSize;var a=Math.round((b.left-g.left)/(f*k.w));var j=Math.round((b.bottom-g.bottom)/(f*k.h));var h=this.serverResolutions!=null?OpenLayers.Util.indexOf(this.serverResolutions,f):this.map.getZoom();function e(o,n){o=String(o);var l=[];for(var m=0;m<n;++m){l.push("0")}return l.join("").substring(0,n-o.length)+o}var d=[this.layername,e(h,2),e(parseInt(a/1000000),3),e((parseInt(a/1000)%1000),3),e((parseInt(a)%1000),3),e(parseInt(j/1000000),3),e((parseInt(j/1000)%1000),3),e((parseInt(j)%1000),3)+"."+this.extension];var i=d.join("/");var c=this.url;if(OpenLayers.Util.isArray(c)){c=this.selectUrl(i,c)}c=(c.charAt(c.length-1)=="/")?c:c+"/";return c+i},CLASS_NAME:"OpenLayers.Layer.TileCache"});OpenLayers.Kinetic=OpenLayers.Class({threshold:0,interval:10,deceleration:0.0035,nbPoints:100,delay:200,points:undefined,timerId:undefined,initialize:function(a){OpenLayers.Util.extend(this,a)},begin:function(){clearInterval(this.timerId);this.timerId=undefined;this.points=[]},update:function(a){this.points.unshift({xy:a,tick:new Date().getTime()});if(this.points.length>this.nbPoints){this.points.pop()}},end:function(k){var j,a=new Date().getTime();for(var f=0,e=this.points.length,h;f<e;f++){h=this.points[f];if(a-h.tick>this.delay){break}j=h}if(!j){return}var d=new Date().getTime()-j.tick;var g=Math.sqrt(Math.pow(k.x-j.xy.x,2)+Math.pow(k.y-j.xy.y,2));var c=g/d;if(c==0||c<this.threshold){return}var b=Math.asin((k.y-j.xy.y)/g);
if(j.xy.x<=k.x){b=Math.PI-b}return{speed:c,theta:b}},move:function(c,j){var i=c.speed;var g=Math.cos(c.theta);var f=-Math.sin(c.theta);var e=0;var d=new Date().getTime();var b=0;var a=0;var h=function(){if(this.timerId==null){return}e+=this.interval;var q=new Date().getTime()-d;var n=(e+q)/2;var o=(-this.deceleration*Math.pow(n,2))/2+i*n;var k=o*g;var r=o*f;var m={};m.end=false;var l=-this.deceleration*n+i;if(l<=0){clearInterval(this.timerId);this.timerId=null;m.end=true}m.x=k-b;m.y=r-a;b=k;a=r;j(m.x,m.y,m.end)};this.timerId=window.setInterval(OpenLayers.Function.bind(h,this),this.interval)},CLASS_NAME:"OpenLayers.Kinetic"});OpenLayers.ProxyHost="";OpenLayers.nullHandler=function(a){OpenLayers.Console.userError(OpenLayers.i18n("unhandledRequest",{statusText:a.statusText}))};OpenLayers.loadURL=function(d,g,b,e,c){if(typeof g=="string"){g=OpenLayers.Util.getParameters(g)}var f=(e)?e:OpenLayers.nullHandler;var a=(c)?c:OpenLayers.nullHandler;return OpenLayers.Request.GET({url:d,params:g,success:f,failure:a,scope:b})};OpenLayers.parseXMLString=function(c){var a=c.indexOf("<");if(a>0){c=c.substring(a)}var b=OpenLayers.Util.Try(function(){var d=new ActiveXObject("Microsoft.XMLDOM");d.loadXML(c);return d},function(){return new DOMParser().parseFromString(c,"text/xml")},function(){var d=new XMLHttpRequest();d.open("GET","data:text/xml;charset=utf-8,"+encodeURIComponent(c),false);if(d.overrideMimeType){d.overrideMimeType("text/xml")}d.send(null);return d.responseXML});return b};OpenLayers.Ajax={emptyFunction:function(){},getTransport:function(){return OpenLayers.Util.Try(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},activeRequestCount:0};OpenLayers.Ajax.Responders={responders:[],register:function(b){for(var a=0;a<this.responders.length;a++){if(b==this.responders[a]){return}}this.responders.push(b)},unregister:function(a){OpenLayers.Util.removeItem(this.reponders,a)},dispatch:function(g,c,f){var a;for(var b=0;b<this.responders.length;b++){a=this.responders[b];if(a[g]&&typeof a[g]=="function"){try{a[g].apply(a,[c,f])}catch(d){}}}}};OpenLayers.Ajax.Responders.register({onCreate:function(){OpenLayers.Ajax.activeRequestCount++},onComplete:function(){OpenLayers.Ajax.activeRequestCount--}});OpenLayers.Ajax.Base=OpenLayers.Class({initialize:function(a){this.options={method:"post",asynchronous:true,contentType:"application/xml",parameters:""};OpenLayers.Util.extend(this.options,a||{});this.options.method=this.options.method.toLowerCase();if(typeof this.options.parameters=="string"){this.options.parameters=OpenLayers.Util.getParameters(this.options.parameters)}}});OpenLayers.Ajax.Request=OpenLayers.Class(OpenLayers.Ajax.Base,{_complete:false,initialize:function(b,a){OpenLayers.Ajax.Base.prototype.initialize.apply(this,[a]);if(OpenLayers.ProxyHost&&OpenLayers.String.startsWith(b,"http")){b=OpenLayers.ProxyHost+encodeURIComponent(b)}this.transport=OpenLayers.Ajax.getTransport();this.request(b)},request:function(b){this.url=b;this.method=this.options.method;var d=OpenLayers.Util.extend({},this.options.parameters);if(this.method!="get"&&this.method!="post"){d._method=this.method;this.method="post"}this.parameters=d;if(d=OpenLayers.Util.getParameterString(d)){if(this.method=="get"){this.url+=((this.url.indexOf("?")>-1)?"&":"?")+d}else{if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){d+="&_="}}}try{var a=new OpenLayers.Ajax.Response(this);if(this.options.onCreate){this.options.onCreate(a)}OpenLayers.Ajax.Responders.dispatch("onCreate",this,a);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){window.setTimeout(OpenLayers.Function.bind(this.respondToReadyState,this,1),10)}this.transport.onreadystatechange=OpenLayers.Function.bind(this.onStateChange,this);this.setRequestHeaders();this.body=this.method=="post"?(this.options.postBody||d):null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange()}}catch(c){this.dispatchException(c)
}},onStateChange:function(){var a=this.transport.readyState;if(a>1&&!((a==4)&&this._complete)){this.respondToReadyState(this.transport.readyState)}},setRequestHeaders:function(){var e={"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*",OpenLayers:true};if(this.method=="post"){e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){e.Connection="close"}}if(typeof this.options.requestHeaders=="object"){var c=this.options.requestHeaders;if(typeof c.push=="function"){for(var b=0,d=c.length;b<d;b+=2){e[c[b]]=c[b+1]}}else{for(var b in c){e[b]=c[b]}}}for(var a in e){this.transport.setRequestHeader(a,e[a])}},success:function(){var a=this.getStatus();return !a||(a>=200&&a<300)},getStatus:function(){try{return this.transport.status||0}catch(a){return 0}},respondToReadyState:function(a){var c=OpenLayers.Ajax.Request.Events[a];var b=new OpenLayers.Ajax.Response(this);if(c=="Complete"){try{this._complete=true;(this.options["on"+b.status]||this.options["on"+(this.success()?"Success":"Failure")]||OpenLayers.Ajax.emptyFunction)(b)}catch(d){this.dispatchException(d)}var f=b.getHeader("Content-type")}try{(this.options["on"+c]||OpenLayers.Ajax.emptyFunction)(b);OpenLayers.Ajax.Responders.dispatch("on"+c,this,b)}catch(d){this.dispatchException(d)}if(c=="Complete"){this.transport.onreadystatechange=OpenLayers.Ajax.emptyFunction}},getHeader:function(a){try{return this.transport.getResponseHeader(a)}catch(b){return null}},dispatchException:function(c){var d=this.options.onException;if(d){d(this,c);OpenLayers.Ajax.Responders.dispatch("onException",this,c)}else{var e=false;var a=OpenLayers.Ajax.Responders.responders;for(var b=0;b<a.length;b++){if(a[b].onException){e=true;break}}if(e){OpenLayers.Ajax.Responders.dispatch("onException",this,c)}else{throw c}}}});OpenLayers.Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];OpenLayers.Ajax.Response=OpenLayers.Class({status:0,statusText:"",initialize:function(c){this.request=c;var d=this.transport=c.transport,a=this.readyState=d.readyState;if((a>2&&!(!!(window.attachEvent&&!window.opera)))||a==4){this.status=this.getStatus();this.statusText=this.getStatusText();this.responseText=d.responseText==null?"":String(d.responseText)}if(a==4){var b=d.responseXML;this.responseXML=b===undefined?null:b}},getStatus:OpenLayers.Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(a){return""}},getHeader:OpenLayers.Ajax.Request.prototype.getHeader,getResponseHeader:function(a){return this.transport.getResponseHeader(a)}});OpenLayers.Ajax.getElementsByTagNameNS=function(b,a,c,e){var d=null;if(b.getElementsByTagNameNS){d=b.getElementsByTagNameNS(a,e)}else{d=b.getElementsByTagName(c+":"+e)}return d};OpenLayers.Ajax.serializeXMLToString=function(a){var b=new XMLSerializer();var c=b.serializeToString(a);return c};OpenLayers.Format.WPSExecute=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ows:"http://www.opengis.net/ows/1.1",gml:"http://www.opengis.net/gml",wps:"http://www.opengis.net/wps/1.0.0",wfs:"http://www.opengis.net/wfs",ogc:"http://www.opengis.net/ogc",wcs:"http://www.opengis.net/wcs",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",schemaLocationAttr:function(a){return undefined},write:function(a){var c;if(window.ActiveXObject){c=new ActiveXObject("Microsoft.XMLDOM");this.xmldom=c}else{c=document.implementation.createDocument("","",null)}var b=this.writeNode("wps:Execute",a,c);this.setAttributeNS(b,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},writers:{wps:{Execute:function(a){var b=this.createElementNSPlus("wps:Execute",{attributes:{version:this.VERSION,service:"WPS"}});
this.writeNode("ows:Identifier",a.identifier,b);this.writeNode("wps:DataInputs",a.dataInputs,b);this.writeNode("wps:ResponseForm",a.responseForm,b);return b},ResponseForm:function(a){var b=this.createElementNSPlus("wps:ResponseForm",{});if(a.rawDataOutput){this.writeNode("wps:RawDataOutput",a.rawDataOutput,b)}if(a.responseDocument){this.writeNode("wps:ResponseDocument",a.responseDocument,b)}return b},ResponseDocument:function(a){var b=this.createElementNSPlus("wps:ResponseDocument",{attributes:{storeExecuteResponse:a.storeExecuteResponse,lineage:a.lineage,status:a.status}});if(a.output){this.writeNode("wps:Output",a.output,b)}return b},Output:function(a){var b=this.createElementNSPlus("wps:Output",{attributes:{asReference:a.asReference}});this.writeNode("ows:Identifier",a.identifier,b);this.writeNode("ows:Title",a.title,b);this.writeNode("ows:Abstract",a["abstract"],b);return b},RawDataOutput:function(a){var b=this.createElementNSPlus("wps:RawDataOutput",{attributes:{mimeType:a.mimeType}});this.writeNode("ows:Identifier",a.identifier,b);return b},DataInputs:function(a){var d=this.createElementNSPlus("wps:DataInputs",{});for(var b=0,c=a.length;b<c;++b){this.writeNode("wps:Input",a[b],d)}return d},Input:function(a){var b=this.createElementNSPlus("wps:Input",{});this.writeNode("ows:Identifier",a.identifier,b);if(a.title){this.writeNode("ows:Title",a.title,b)}if(a.data){this.writeNode("wps:Data",a.data,b)}if(a.reference){this.writeNode("wps:Reference",a.reference,b)}return b},Data:function(b){var a=this.createElementNSPlus("wps:Data",{});if(b.literalData){this.writeNode("wps:LiteralData",b.literalData,a)}else{if(b.complexData){this.writeNode("wps:ComplexData",b.complexData,a)}}return a},LiteralData:function(b){var a=this.createElementNSPlus("wps:LiteralData",{attributes:{uom:b.uom},value:b.value});return a},ComplexData:function(a){var b=this.createElementNSPlus("wps:ComplexData",{attributes:{mimeType:a.mimeType,encoding:a.encoding,schema:a.schema}});b.appendChild(this.getXMLDoc().createCDATASection(a.value));return b},Reference:function(a){var b=this.createElementNSPlus("wps:Reference",{attributes:{mimeType:a.mimeType,"xlink:href":a.href,method:a.method,encoding:a.encoding,schema:a.schema}});if(a.body){this.writeNode("wps:Body",a.body,b)}return b},Body:function(a){var b=this.createElementNSPlus("wps:Body",{});if(a.wcs){this.writeNode("wcs:GetCoverage",a.wcs,b)}else{if(a.wfs){this.featureType=a.wfs.featureType;this.version=a.wfs.version;this.writeNode("wfs:GetFeature",a.wfs,b)}else{this.writeNode("wps:Execute",a,b)}}return b}},wcs:OpenLayers.Format.WCSGetCoverage.prototype.writers.wcs,wfs:OpenLayers.Format.WFST.v1_1_0.prototype.writers.wfs,ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows},CLASS_NAME:"OpenLayers.Format.WPSExecute"});OpenLayers.Layer.GeoRSS=OpenLayers.Class(OpenLayers.Layer.Markers,{location:null,features:null,formatOptions:null,selectedFeature:null,icon:null,popupSize:null,useFeedTitle:true,initialize:function(c,a,b){OpenLayers.Layer.Markers.prototype.initialize.apply(this,[c,b]);this.location=a;this.features=[]},destroy:function(){OpenLayers.Layer.Markers.prototype.destroy.apply(this,arguments);this.clearFeatures();this.features=null},loadRSS:function(){if(!this.loaded){this.events.triggerEvent("loadstart");OpenLayers.Request.GET({url:this.location,success:this.parseData,scope:this});this.loaded=true}},moveTo:function(c,a,b){OpenLayers.Layer.Markers.prototype.moveTo.apply(this,arguments);if(this.visibility&&!this.loaded){this.loadRSS()}},parseData:function(k){var o=k.responseXML;if(!o||!o.documentElement){o=OpenLayers.Format.XML.prototype.read(k.responseText)}if(this.useFeedTitle){var a=null;try{a=o.getElementsByTagNameNS("*","title")[0].firstChild.nodeValue}catch(j){a=o.getElementsByTagName("title")[0].firstChild.nodeValue}if(a){this.setName(a)}}var s={};OpenLayers.Util.extend(s,this.formatOptions);if(this.map&&!this.projection.equals(this.map.getProjectionObject())){s.externalProjection=this.projection;s.internalProjection=this.map.getProjectionObject()}var p=new OpenLayers.Format.GeoRSS(s);var b=p.read(o);
for(var g=0,h=b.length;g<h;g++){var f={};var r=b[g];if(!r.geometry){continue}var m=r.attributes.title?r.attributes.title:"Untitled";var q=r.attributes.description?r.attributes.description:"No description.";var l=r.attributes.link?r.attributes.link:"";var n=r.geometry.getBounds().getCenterLonLat();f.icon=this.icon==null?OpenLayers.Marker.defaultIcon():this.icon.clone();f.popupSize=this.popupSize?this.popupSize.clone():new OpenLayers.Size(250,120);if(m||q){f.title=m;f.description=q;var c='<div class="olLayerGeoRSSClose">[x]</div>';c+='<div class="olLayerGeoRSSTitle">';if(l){c+='<a class="link" href="'+l+'" target="_blank">'}c+=m;if(l){c+="</a>"}c+="</div>";c+='<div style="" class="olLayerGeoRSSDescription">';c+=q;c+="</div>";f.popupContentHTML=c}var r=new OpenLayers.Feature(this,n,f);this.features.push(r);var d=r.createMarker();d.events.register("click",r,this.markerClick);this.addMarker(d)}this.events.triggerEvent("loadend")},markerClick:function(c){var e=(this==this.layer.selectedFeature);this.layer.selectedFeature=(!e)?this:null;for(var d=0,a=this.layer.map.popups.length;d<a;d++){this.layer.map.removePopup(this.layer.map.popups[d])}if(!e){var b=this.createPopup();OpenLayers.Event.observe(b.div,"click",OpenLayers.Function.bind(function(){for(var g=0,f=this.layer.map.popups.length;g<f;g++){this.layer.map.removePopup(this.layer.map.popups[g])}},this));this.layer.map.addPopup(b)}OpenLayers.Event.stop(c)},clearFeatures:function(){if(this.features!=null){while(this.features.length>0){var a=this.features[0];OpenLayers.Util.removeItem(this.features,a);a.destroy()}}},CLASS_NAME:"OpenLayers.Layer.GeoRSS"});OpenLayers.Lang.br=OpenLayers.Util.applyDefaults({unhandledRequest:"Distro evel reked anveret ${statusText}",Permalink:"Peurliamm",Overlays:"Gwiskadoù","Base Layer":"Gwiskad diazez",readNotImplemented:"N'eo ket emplementet al lenn.",writeNotImplemented:"N'eo ket emplementet ar skrivañ.",noFID:"N'haller ket hizivaat un elfenn ma n'eus ket a niverenn-anaout (FID) eviti.",errorLoadingGML:"Fazi e-ser kargañ ar restr GML ${url}",browserNotSupported:"N'eo ket skoret an daskor vektorel gant ho merdeer. Setu aze an daskorerioù skoret evit ar poent :\n${renderers}",componentShouldBe:"addFeatures : bez' e tlefe ar parzh besañ eus ar seurt ${geomType}",getFeatureError:"Galvet eo bet getFeatureFromEvent called war ur gwiskad hep daskorer. Kement-se a dalvez ez eus bet freuzet ur gwiskad hag hoc'h eus miret un embreger bennak stag outañ.",minZoomLevelError:"Ne zleer implijout ar perzh minZoomLevel nemet evit gwiskadoù FixedZoomLevels-descendent. Ar fed ma wiria ar gwiskad WHS-se hag-eñ ez eus eus minZoomLevel zo un aspadenn gozh. Koulskoude n'omp ket evit e ziverkañ kuit da derriñ arloadoù diazezet war OL a c'hallfe bezañ stag outañ. Setu perak eo dispredet -- Lamet kuit e vo ar gwiriañ minZoomLevel a-is er stumm 3.0. Ober gant an arventennoù bihanañ/brasañ evel deskrivet amañ e plas : http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Treuzgread WFS : MAT EO ${response}",commitFailed:"Treuzgread WFS Transaction: C'HWITET ${response}",googleWarning:"N'eus ket bet gallet kargañ ar gwiskad Google ent reizh.\x3cbr\x3e\x3cbr\x3eEvit en em zizober eus ar c'hemenn-mañ, dibabit ur BaseLayer nevez en diuzer gwiskadoù er c'horn dehoù el laez.\x3cbr\x3e\x3cbr\x3eSur a-walc'h eo peogwir n'eo ket bet ensoc'het levraoueg Google Maps pe neuze ne glot ket an alc'hwez API gant ho lec'hienn.\x3cbr\x3e\x3cbr\x3eDiorroerien : Evit reizhañ an dra-se, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eclick here\x3c/a\x3e",getLayerWarning:"N'haller ket kargañ ar gwiskad ${layerType} ent reizh.\x3cbr\x3e\x3cbr\x3eEvit en em zizober eus ar c'hemenn-mañ, dibabit ur BaseLayer nevez en diuzer gwiskadoù er c'horn dehoù el laez.\x3cbr\x3e\x3cbr\x3eSur a-walc'h eo peogwir n'eo ket bet ensoc'het mat al levraoueg ${layerLib}.\x3cbr\x3e\x3cbr\x3eDiorroerien : Evit gouzout penaos reizhañ an dra-se, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclick here\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Skeul = 1 : ${scaleDenom}",W:"K",E:"R",N:"N",S:"S",layerAlreadyAdded:"Klasket hoc'h eus ouzhpennañ ar gwiskad : ${layerName} d'ar gartenn, met ouzhpennet e oa bet c'hoazh",reprojectDeprecated:"Emaoc'h oc'h implijout an dibarzh 'reproject' war ar gwiskad ${layerName}. Dispredet eo an dibarzh-mañ : bet eo hag e talveze da ziskwel roadennoù war-c'horre kartennoù diazez kenwerzhel, un dra hag a c'haller ober bremañ gant an arc'hwel dre skor banndres boullek Mercator. Muioc'h a ditouroù a c'haller da gaout war http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Dispredet eo an daore-se ha tennet e vo kuit eus ar stumm 3.0. Grit gant ${newMethod} e plas.",boundsAddError:"Rekis eo tremen an div dalvoudenn x ha y d'an arc'hwel add.",lonlatAddError:"Rekis eo tremen an div dalvoudenn hedred ha ledred d'an arc'hwel add.",pixelAddError:"Rekis eo tremen an div dalvoudenn x ha y d'an arc'hwel add.",unsupportedGeometryType:"Seurt mentoniezh anskoret : ${geomType}",filterEvaluateNotImplemented:"N'eo ket bet emplementet ar priziañ evit seurt siloù c'hoazh."});
OpenLayers.Strategy.Filter=OpenLayers.Class(OpenLayers.Strategy,{filter:null,cache:null,caching:false,activate:function(){var a=OpenLayers.Strategy.prototype.activate.apply(this,arguments);if(a){this.cache=[];this.layer.events.on({beforefeaturesadded:this.handleAdd,beforefeaturesremoved:this.handleRemove,scope:this})}return a},deactivate:function(){this.cache=null;if(this.layer&&this.layer.events){this.layer.events.un({beforefeaturesadded:this.handleAdd,beforefeaturesremoved:this.handleRemove,scope:this})}return OpenLayers.Strategy.prototype.deactivate.apply(this,arguments)},handleAdd:function(e){if(!this.caching&&this.filter){var d=e.features;e.features=[];var b;for(var a=0,c=d.length;a<c;++a){b=d[a];if(this.filter.evaluate(b)){e.features.push(b)}else{this.cache.push(b)}}}},handleRemove:function(a){if(!this.caching){this.cache=[]}},setFilter:function(a){this.filter=a;var c=this.cache;this.cache=[];this.handleAdd({features:this.layer.features});if(this.cache.length>0){this.caching=true;this.layer.removeFeatures(this.cache.slice());this.caching=false}if(c.length>0){var b={features:c};this.handleAdd(b);if(b.features.length>0){this.caching=true;this.layer.addFeatures(b.features);this.caching=false}}},CLASS_NAME:"OpenLayers.Strategy.Filter"});OpenLayers.Format.SOSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",CLASS_NAME:"OpenLayers.Format.SOSCapabilities"});OpenLayers.Lang.ia=OpenLayers.Util.applyDefaults({unhandledRequest:"Le responsa a un requesta non esseva maneate: ${statusText}",Permalink:"Permaligamine",Overlays:"Superpositiones","Base Layer":"Strato de base",readNotImplemented:"Lectura non implementate.",writeNotImplemented:"Scriptura non implementate.",noFID:"Non pote actualisar un elemento sin FID.",errorLoadingGML:"Error al cargamento del file GML ${url}",browserNotSupported:"Tu navigator non supporta le rendition de vectores. Le renditores actualmente supportate es:\n${renderers}",componentShouldBe:"addFeatures: le componente debe esser del typo ${geomType}",getFeatureError:"getFeatureFromEvent ha essite appellate in un strato sin renditor. Isto significa generalmente que tu ha destruite un strato, ma lassava un gestor associate con illo.",minZoomLevelError:"Le proprietate minZoomLevel es solmente pro uso con le stratos descendente de FixedZoomLevels. Le facto que iste strato WFS verifica minZoomLevel es un reliquia del passato. Nonobstante, si nos lo remove immediatemente, nos pote rumper applicationes a base de OL que depende de illo. Ergo nos lo declara obsolete; le verification de minZoomLevel in basso essera removite in version 3.0. Per favor usa in su loco le configuration de resolutiones min/max como describite a: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transaction WFS: SUCCESSO ${response}",commitFailed:"Transaction WFS: FALLEVA ${response}",googleWarning:"Le strato Google non poteva esser cargate correctemente.\x3cbr\x3e\x3cbr\x3ePro disfacer te de iste message, selige un nove BaseLayer in le selector de strato in alto a dextra.\x3cbr\x3e\x3cbr\x3eMulto probabilemente, isto es proque le script del libreria de Google Maps non esseva includite o non contine le clave API correcte pro tu sito.\x3cbr\x3e\x3cbr\x3eDisveloppatores: Pro adjuta de corriger isto, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eclicca hic\x3c/a",getLayerWarning:"Le strato ${layerType} non poteva esser cargate correctemente.\x3cbr\x3e\x3cbr\x3ePro disfacer te de iste message, selige un nove BaseLayer in le selector de strato in alto a dextra.\x3cbr\x3e\x3cbr\x3eMulto probabilemente, isto es proque le script del libreria de ${layerLib} non esseva correctemente includite.\x3cbr\x3e\x3cbr\x3eDisveloppatores: Pro adjuta de corriger isto, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclicca hic\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Scala = 1 : ${scaleDenom}",W:"W",E:"E",N:"N",S:"S",layerAlreadyAdded:"Tu tentava adder le strato: ${layerName} al carta, ma illo es ja presente",reprojectDeprecated:"Tu usa le option 'reproject' in le strato ${layerName} layer. Iste option es obsolescente: illo esseva pro poter monstrar datos super cartas de base commercial, ma iste functionalitate pote ora esser attingite con le uso de Spherical Mercator. Ulterior information es disponibile a http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Iste methodo ha essite declarate obsolescente e essera removite in version 3.0. Per favor usa ${newMethod} in su loco.",boundsAddError:"Tu debe passar le duo valores x e y al function add.",lonlatAddError:"Tu debe passar le duo valores lon e lat al function add.",pixelAddError:"Tu debe passar le duo valores x e y al function add.",unsupportedGeometryType:"Typo de geometria non supportate: ${geomType}",filterEvaluateNotImplemented:'"evaluate" non es implementate pro iste typo de filtro.'});
OpenLayers.Layer.KaMap=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:true,units:null,resolution:OpenLayers.DOTS_PER_INCH,DEFAULT_PARAMS:{i:"jpeg",map:""},initialize:function(d,c,e,b){var a=[];a.push(d,c,e,b);OpenLayers.Layer.Grid.prototype.initialize.apply(this,a);this.params=OpenLayers.Util.applyDefaults(this.params,this.DEFAULT_PARAMS)},getURL:function(c){c=this.adjustBounds(c);var d=this.map.getResolution();var e=Math.round((this.map.getScale()*10000))/10000;var b=Math.round(c.left/d);var a=-Math.round(c.top/d);return this.getFullRequestString({t:a,l:b,s:e})},calculateGridLayout:function(a,n,e){var k=e*this.tileSize.w;var c=e*this.tileSize.h;var i=a.left;var l=Math.floor(i/k)-this.buffer;var j=i/k-l;var f=-j*this.tileSize.w;var m=l*k;var b=a.top;var h=Math.ceil(b/c)+this.buffer;var o=h-b/c;var d=-(o+1)*this.tileSize.h;var g=h*c;return{tilelon:k,tilelat:c,tileoffsetlon:m,tileoffsetlat:g,tileoffsetx:f,tileoffsety:d}},clone:function(a){if(a==null){a=new OpenLayers.Layer.KaMap(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);if(this.tileSize!=null){a.tileSize=this.tileSize.clone()}a.grid=[];return a},getTileBounds:function(c){var e=this.getResolution();var d=e*this.tileSize.w;var b=e*this.tileSize.h;var g=this.getLonLatFromViewPortPx(c);var a=d*Math.floor(g.lon/d);var f=b*Math.floor(g.lat/b);return new OpenLayers.Bounds(a,f,a+d,f+b)},CLASS_NAME:"OpenLayers.Layer.KaMap"});OpenLayers.Format.WMC=OpenLayers.Class(OpenLayers.Format.Context,{defaultVersion:"1.1.0",layerToContext:function(c){var g=this.getParser();var e={queryable:c.queryable,visibility:c.visibility,name:c.params.LAYERS,title:c.name,"abstract":c.metadata["abstract"],dataURL:c.metadata.dataURL,metadataURL:c.metadataURL,server:{version:c.params.VERSION,url:c.url},maxExtent:c.maxExtent,transparent:c.params.TRANSPARENT,numZoomLevels:c.numZoomLevels,units:c.units,isBaseLayer:c.isBaseLayer,opacity:c.opacity,displayInLayerSwitcher:c.displayInLayerSwitcher,singleTile:c.singleTile,tileSize:(c.singleTile||!c.tileSize)?undefined:{width:c.tileSize.w,height:c.tileSize.h},minScale:(c.options.resolutions||c.options.scales||c.options.maxResolution||c.options.minScale)?c.minScale:undefined,maxScale:(c.options.resolutions||c.options.scales||c.options.minResolution||c.options.maxScale)?c.maxScale:undefined,formats:[],styles:[],srs:c.srs,dimensions:c.dimensions};if(c.metadata.servertitle){e.server.title=c.metadata.servertitle}if(c.metadata.formats&&c.metadata.formats.length>0){for(var b=0,a=c.metadata.formats.length;b<a;b++){var f=c.metadata.formats[b];e.formats.push({value:f.value,current:(f.value==c.params.FORMAT)})}}else{e.formats.push({value:c.params.FORMAT,current:true})}if(c.metadata.styles&&c.metadata.styles.length>0){for(var b=0,a=c.metadata.styles.length;b<a;b++){var d=c.metadata.styles[b];if((d.href==c.params.SLD)||(d.body==c.params.SLD_BODY)||(d.name==c.params.STYLES)){d.current=true}else{d.current=false}e.styles.push(d)}}else{e.styles.push({href:c.params.SLD,body:c.params.SLD_BODY,name:c.params.STYLES||g.defaultStyleName,title:g.defaultStyleTitle,current:true})}return e},toContext:function(g){var e={};var f=g.layers;if(g.CLASS_NAME=="OpenLayers.Map"){var d=g.metadata||{};e.size=g.getSize();e.bounds=g.getExtent();e.projection=g.projection;e.title=g.title;e.keywords=d.keywords;e["abstract"]=d["abstract"];e.logo=d.logo;e.descriptionURL=d.descriptionURL;e.contactInformation=d.contactInformation;e.maxExtent=g.maxExtent}else{OpenLayers.Util.applyDefaults(e,g);if(e.layers!=undefined){delete (e.layers)}}if(e.layersContext==undefined){e.layersContext=[]}if(f!=undefined&&OpenLayers.Util.isArray(f)){for(var c=0,a=f.length;c<a;c++){var b=f[c];if(b instanceof OpenLayers.Layer.WMS){e.layersContext.push(this.layerToContext(b))}}}return e},CLASS_NAME:"OpenLayers.Format.WMC"});OpenLayers.Format.WMC.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ol:"http://openlayers.org/context",wmc:"http://www.opengis.net/context",sld:"http://www.opengis.net/sld",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},schemaLocation:"",getNamespacePrefix:function(a){var b=null;
if(a==null){b=this.namespaces[this.defaultPrefix]}else{for(b in this.namespaces){if(this.namespaces[b]==a){break}}}return b},defaultPrefix:"wmc",rootPrefix:null,defaultStyleName:"",defaultStyleTitle:"Default",initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(c){if(typeof c=="string"){c=OpenLayers.Format.XML.prototype.read.apply(this,[c])}var a=c.documentElement;this.rootPrefix=a.prefix;var b={version:a.getAttribute("version")};this.runChildNodes(b,a);return b},runChildNodes:function(e,d){var b=d.childNodes;var a,c,g,j;for(var f=0,h=b.length;f<h;++f){a=b[f];if(a.nodeType==1){g=this.getNamespacePrefix(a.namespaceURI);j=a.nodeName.split(":").pop();c=this["read_"+g+"_"+j];if(c){c.apply(this,[e,a])}}}},read_wmc_General:function(a,b){this.runChildNodes(a,b)},read_wmc_BoundingBox:function(a,b){a.projection=b.getAttribute("SRS");a.bounds=new OpenLayers.Bounds(parseFloat(b.getAttribute("minx")),parseFloat(b.getAttribute("miny")),parseFloat(b.getAttribute("maxx")),parseFloat(b.getAttribute("maxy")))},read_wmc_LayerList:function(a,b){a.layersContext=[];this.runChildNodes(a,b)},read_wmc_Layer:function(a,b){var c={visibility:(b.getAttribute("hidden")!="1"),queryable:(b.getAttribute("queryable")=="1"),formats:[],styles:[],metadata:{}};this.runChildNodes(c,b);a.layersContext.push(c)},read_wmc_Extension:function(b,a){this.runChildNodes(b,a)},read_ol_units:function(b,a){b.units=this.getChildValue(a)},read_ol_maxExtent:function(c,b){var a=new OpenLayers.Bounds(b.getAttribute("minx"),b.getAttribute("miny"),b.getAttribute("maxx"),b.getAttribute("maxy"));c.maxExtent=a},read_ol_transparent:function(b,a){b.transparent=this.getChildValue(a)},read_ol_numZoomLevels:function(b,a){b.numZoomLevels=parseInt(this.getChildValue(a))},read_ol_opacity:function(b,a){b.opacity=parseFloat(this.getChildValue(a))},read_ol_singleTile:function(b,a){b.singleTile=(this.getChildValue(a)=="true")},read_ol_tileSize:function(b,a){var c={width:a.getAttribute("width"),height:a.getAttribute("height")};b.tileSize=c},read_ol_isBaseLayer:function(b,a){b.isBaseLayer=(this.getChildValue(a)=="true")},read_ol_displayInLayerSwitcher:function(b,a){b.displayInLayerSwitcher=(this.getChildValue(a)=="true")},read_wmc_Server:function(b,a){b.version=a.getAttribute("version");b.url=this.getOnlineResource_href(a);b.metadata.servertitle=a.getAttribute("title")},read_wmc_FormatList:function(b,a){this.runChildNodes(b,a)},read_wmc_Format:function(b,a){var c={value:this.getChildValue(a)};if(a.getAttribute("current")=="1"){c.current=true}b.formats.push(c)},read_wmc_StyleList:function(b,a){this.runChildNodes(b,a)},read_wmc_Style:function(c,b){var a={};this.runChildNodes(a,b);if(b.getAttribute("current")=="1"){a.current=true}c.styles.push(a)},read_wmc_SLD:function(a,b){this.runChildNodes(a,b)},read_sld_StyledLayerDescriptor:function(c,b){var a=OpenLayers.Format.XML.prototype.write.apply(this,[b]);c.body=a},read_sld_FeatureTypeStyle:function(c,b){var a=OpenLayers.Format.XML.prototype.write.apply(this,[b]);c.body=a},read_wmc_OnlineResource:function(b,a){b.href=this.getAttributeNS(a,this.namespaces.xlink,"href")},read_wmc_Name:function(c,b){var a=this.getChildValue(b);if(a){c.name=a}},read_wmc_Title:function(b,a){var c=this.getChildValue(a);if(c){b.title=c}},read_wmc_MetadataURL:function(b,a){b.metadataURL=this.getOnlineResource_href(a)},read_wmc_KeywordList:function(a,b){a.keywords=[];this.runChildNodes(a.keywords,b)},read_wmc_Keyword:function(a,b){a.push(this.getChildValue(b))},read_wmc_Abstract:function(c,b){var a=this.getChildValue(b);if(a){c["abstract"]=a}},read_wmc_LogoURL:function(a,b){a.logo={width:b.getAttribute("width"),height:b.getAttribute("height"),format:b.getAttribute("format"),href:this.getOnlineResource_href(b)}},read_wmc_DescriptionURL:function(a,b){a.descriptionURL=this.getOnlineResource_href(b)},read_wmc_ContactInformation:function(c,b){var a={};this.runChildNodes(a,b);c.contactInformation=a},read_wmc_ContactPersonPrimary:function(b,c){var a={};this.runChildNodes(a,c);b.personPrimary=a},read_wmc_ContactPerson:function(b,c){var a=this.getChildValue(c);
if(a){b.person=a}},read_wmc_ContactOrganization:function(b,c){var a=this.getChildValue(c);if(a){b.organization=a}},read_wmc_ContactPosition:function(b,c){var a=this.getChildValue(c);if(a){b.position=a}},read_wmc_ContactAddress:function(a,b){var c={};this.runChildNodes(c,b);a.contactAddress=c},read_wmc_AddressType:function(c,b){var a=this.getChildValue(b);if(a){c.type=a}},read_wmc_Address:function(c,b){var a=this.getChildValue(b);if(a){c.address=a}},read_wmc_City:function(c,a){var b=this.getChildValue(a);if(b){c.city=b}},read_wmc_StateOrProvince:function(c,a){var b=this.getChildValue(a);if(b){c.stateOrProvince=b}},read_wmc_PostCode:function(c,b){var a=this.getChildValue(b);if(a){c.postcode=a}},read_wmc_Country:function(c,a){var b=this.getChildValue(a);if(b){c.country=b}},read_wmc_ContactVoiceTelephone:function(a,c){var b=this.getChildValue(c);if(b){a.phone=b}},read_wmc_ContactFacsimileTelephone:function(a,c){var b=this.getChildValue(c);if(b){a.fax=b}},read_wmc_ContactElectronicMailAddress:function(a,c){var b=this.getChildValue(c);if(b){a.email=b}},read_wmc_DataURL:function(b,a){b.dataURL=this.getOnlineResource_href(a)},read_wmc_LegendURL:function(b,c){var a={width:c.getAttribute("width"),height:c.getAttribute("height"),format:c.getAttribute("format"),href:this.getOnlineResource_href(c)};b.legend=a},read_wmc_DimensionList:function(b,a){b.dimensions={};this.runChildNodes(b.dimensions,a)},read_wmc_Dimension:function(d,c){var b=c.getAttribute("name").toLowerCase();var e={name:b,units:c.getAttribute("units")||"",unitSymbol:c.getAttribute("unitSymbol")||"",userValue:c.getAttribute("userValue")||"",nearestValue:c.getAttribute("nearestValue")==="1",multipleValues:c.getAttribute("multipleValues")==="1",current:c.getAttribute("current")==="1","default":c.getAttribute("default")||""};var a=this.getChildValue(c);e.values=a.split(",");d[e.name]=e},write:function(c,b){var a=this.createElementDefaultNS("ViewContext");this.setAttributes(a,{version:this.VERSION,id:(b&&typeof b.id=="string")?b.id:OpenLayers.Util.createUniqueID("OpenLayers_Context_")});this.setAttributeNS(a,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);a.appendChild(this.write_wmc_General(c));a.appendChild(this.write_wmc_LayerList(c));return OpenLayers.Format.XML.prototype.write.apply(this,[a])},createElementDefaultNS:function(c,b,a){var d=this.createElementNS(this.namespaces[this.defaultPrefix],c);if(b){d.appendChild(this.createTextNode(b))}if(a){this.setAttributes(d,a)}return d},setAttributes:function(b,d){var c;for(var a in d){c=d[a].toString();if(c.match(/[A-Z]/)){this.setAttributeNS(b,null,a,c)}else{b.setAttribute(a,c)}}},write_wmc_General:function(a){var c=this.createElementDefaultNS("General");if(a.size){c.appendChild(this.createElementDefaultNS("Window",null,{width:a.size.w,height:a.size.h}))}var b=a.bounds;c.appendChild(this.createElementDefaultNS("BoundingBox",null,{minx:b.left.toPrecision(18),miny:b.bottom.toPrecision(18),maxx:b.right.toPrecision(18),maxy:b.top.toPrecision(18),SRS:a.projection}));c.appendChild(this.createElementDefaultNS("Title",a.title));if(a.keywords){c.appendChild(this.write_wmc_KeywordList(a.keywords))}if(a["abstract"]){c.appendChild(this.createElementDefaultNS("Abstract",a["abstract"]))}if(a.logo){c.appendChild(this.write_wmc_URLType("LogoURL",a.logo.href,a.logo))}if(a.descriptionURL){c.appendChild(this.write_wmc_URLType("DescriptionURL",a.descriptionURL))}if(a.contactInformation){c.appendChild(this.write_wmc_ContactInformation(a.contactInformation))}c.appendChild(this.write_ol_MapExtension(a));return c},write_wmc_KeywordList:function(c){var d=this.createElementDefaultNS("KeywordList");for(var b=0,a=c.length;b<a;b++){d.appendChild(this.createElementDefaultNS("Keyword",c[b]))}return d},write_wmc_ContactInformation:function(a){var b=this.createElementDefaultNS("ContactInformation");if(a.personPrimary){b.appendChild(this.write_wmc_ContactPersonPrimary(a.personPrimary))}if(a.position){b.appendChild(this.createElementDefaultNS("ContactPosition",a.position))}if(a.contactAddress){b.appendChild(this.write_wmc_ContactAddress(a.contactAddress))
}if(a.phone){b.appendChild(this.createElementDefaultNS("ContactVoiceTelephone",a.phone))}if(a.fax){b.appendChild(this.createElementDefaultNS("ContactFacsimileTelephone",a.fax))}if(a.email){b.appendChild(this.createElementDefaultNS("ContactElectronicMailAddress",a.email))}return b},write_wmc_ContactPersonPrimary:function(a){var b=this.createElementDefaultNS("ContactPersonPrimary");if(a.person){b.appendChild(this.createElementDefaultNS("ContactPerson",a.person))}if(a.organization){b.appendChild(this.createElementDefaultNS("ContactOrganization",a.organization))}return b},write_wmc_ContactAddress:function(b){var a=this.createElementDefaultNS("ContactAddress");if(b.type){a.appendChild(this.createElementDefaultNS("AddressType",b.type))}if(b.address){a.appendChild(this.createElementDefaultNS("Address",b.address))}if(b.city){a.appendChild(this.createElementDefaultNS("City",b.city))}if(b.stateOrProvince){a.appendChild(this.createElementDefaultNS("StateOrProvince",b.stateOrProvince))}if(b.postcode){a.appendChild(this.createElementDefaultNS("PostCode",b.postcode))}if(b.country){a.appendChild(this.createElementDefaultNS("Country",b.country))}return a},write_ol_MapExtension:function(b){var d=this.createElementDefaultNS("Extension");var c=b.maxExtent;if(c){var a=this.createElementNS(this.namespaces.ol,"ol:maxExtent");this.setAttributes(a,{minx:c.left.toPrecision(18),miny:c.bottom.toPrecision(18),maxx:c.right.toPrecision(18),maxy:c.top.toPrecision(18)});d.appendChild(a)}return d},write_wmc_LayerList:function(c){var d=this.createElementDefaultNS("LayerList");for(var b=0,a=c.layersContext.length;b<a;++b){d.appendChild(this.write_wmc_Layer(c.layersContext[b]))}return d},write_wmc_Layer:function(a){var b=this.createElementDefaultNS("Layer",null,{queryable:a.queryable?"1":"0",hidden:a.visibility?"0":"1"});b.appendChild(this.write_wmc_Server(a));b.appendChild(this.createElementDefaultNS("Name",a.name));b.appendChild(this.createElementDefaultNS("Title",a.title));if(a["abstract"]){b.appendChild(this.createElementDefaultNS("Abstract",a["abstract"]))}if(a.dataURL){b.appendChild(this.write_wmc_URLType("DataURL",a.dataURL))}if(a.metadataURL){b.appendChild(this.write_wmc_URLType("MetadataURL",a.metadataURL))}return b},write_wmc_LayerExtension:function(b){var d=this.createElementDefaultNS("Extension");var a=b.maxExtent;var h=this.createElementNS(this.namespaces.ol,"ol:maxExtent");this.setAttributes(h,{minx:a.left.toPrecision(18),miny:a.bottom.toPrecision(18),maxx:a.right.toPrecision(18),maxy:a.top.toPrecision(18)});d.appendChild(h);if(b.tileSize&&!b.singleTile){var j=this.createElementNS(this.namespaces.ol,"ol:tileSize");this.setAttributes(j,b.tileSize);d.appendChild(j)}var g=["transparent","numZoomLevels","units","isBaseLayer","opacity","displayInLayerSwitcher","singleTile"];var c;for(var e=0,f=g.length;e<f;++e){c=this.createOLPropertyNode(b,g[e]);if(c){d.appendChild(c)}}return d},createOLPropertyNode:function(b,c){var a=null;if(b[c]!=null){a=this.createElementNS(this.namespaces.ol,"ol:"+c);a.appendChild(this.createTextNode(b[c].toString()))}return a},write_wmc_Server:function(b){var d=b.server;var c=this.createElementDefaultNS("Server");var a={service:"OGC:WMS",version:d.version};if(d.title){a.title=d.title}this.setAttributes(c,a);c.appendChild(this.write_wmc_OnlineResource(d.url));return c},write_wmc_URLType:function(f,b,a){var e=this.createElementDefaultNS(f);e.appendChild(this.write_wmc_OnlineResource(b));if(a){var d=["width","height","format"];for(var c=0;c<d.length;c++){if(d[c] in a){e.setAttribute(d[c],a[d[c]])}}}return e},write_wmc_DimensionList:function(e){var f=this.createElementDefaultNS("DimensionList");var d={name:true,units:true,unitSymbol:true,userValue:true};for(var h in e.dimensions){var b={};var g=e.dimensions[h];for(var c in g){if(typeof g[c]=="boolean"){b[c]=Number(g[c])}else{b[c]=g[c]}}var a="";if(b.values){a=b.values.join(",");delete b.values}f.appendChild(this.createElementDefaultNS("Dimension",a,b))}return f},write_wmc_FormatList:function(c){var d=this.createElementDefaultNS("FormatList");for(var b=0,a=c.formats.length;b<a;b++){var e=c.formats[b];
d.appendChild(this.createElementDefaultNS("Format",e.value,(e.current&&e.current==true)?{current:"1"}:null))}return d},write_wmc_StyleList:function(e){var c=this.createElementDefaultNS("StyleList");var k=e.styles;if(k&&OpenLayers.Util.isArray(k)){var a;for(var d=0,f=k.length;d<f;d++){var l=k[d];var b=this.createElementDefaultNS("Style",null,(l.current&&l.current==true)?{current:"1"}:null);if(l.href){a=this.createElementDefaultNS("SLD");if(l.name){a.appendChild(this.createElementDefaultNS("Name",l.name))}if(l.title){a.appendChild(this.createElementDefaultNS("Title",l.title))}if(l.legend){a.appendChild(this.write_wmc_URLType("LegendURL",l.legend.href,l.legend))}var g=this.write_wmc_OnlineResource(l.href);a.appendChild(g);b.appendChild(a)}else{if(l.body){a=this.createElementDefaultNS("SLD");if(l.name){a.appendChild(this.createElementDefaultNS("Name",l.name))}if(l.title){a.appendChild(this.createElementDefaultNS("Title",l.title))}if(l.legend){a.appendChild(this.write_wmc_URLType("LegendURL",l.legend.href,l.legend))}var h=OpenLayers.Format.XML.prototype.read.apply(this,[l.body]);var j=h.documentElement;if(a.ownerDocument&&a.ownerDocument.importNode){j=a.ownerDocument.importNode(j,true)}a.appendChild(j);b.appendChild(a)}else{b.appendChild(this.createElementDefaultNS("Name",l.name));b.appendChild(this.createElementDefaultNS("Title",l.title));if(l["abstract"]){b.appendChild(this.createElementDefaultNS("Abstract",l["abstract"]))}if(l.legend){b.appendChild(this.write_wmc_URLType("LegendURL",l.legend.href,l.legend))}}}c.appendChild(b)}}return c},write_wmc_OnlineResource:function(a){var b=this.createElementDefaultNS("OnlineResource");this.setAttributeNS(b,this.namespaces.xlink,"xlink:type","simple");this.setAttributeNS(b,this.namespaces.xlink,"xlink:href",a);return b},getOnlineResource_href:function(c){var b={};var a=c.getElementsByTagName("OnlineResource");if(a.length>0){this.read_wmc_OnlineResource(b,a[0])}return b.href},CLASS_NAME:"OpenLayers.Format.WMC.v1"});OpenLayers.Format.WMC.v1_1_0=OpenLayers.Class(OpenLayers.Format.WMC.v1,{VERSION:"1.1.0",schemaLocation:"http://www.opengis.net/context http://schemas.opengis.net/context/1.1.0/context.xsd",initialize:function(a){OpenLayers.Format.WMC.v1.prototype.initialize.apply(this,[a])},read_sld_MinScaleDenominator:function(c,b){var a=parseFloat(this.getChildValue(b));if(a>0){c.maxScale=a}},read_sld_MaxScaleDenominator:function(b,a){b.minScale=parseFloat(this.getChildValue(a))},read_wmc_SRS:function(b,a){if(!("srs" in b)){b.srs={}}b.srs[this.getChildValue(a)]=true},write_wmc_Layer:function(c){var d=OpenLayers.Format.WMC.v1.prototype.write_wmc_Layer.apply(this,[c]);if(c.maxScale){var e=this.createElementNS(this.namespaces.sld,"sld:MinScaleDenominator");e.appendChild(this.createTextNode(c.maxScale.toPrecision(16)));d.appendChild(e)}if(c.minScale){var a=this.createElementNS(this.namespaces.sld,"sld:MaxScaleDenominator");a.appendChild(this.createTextNode(c.minScale.toPrecision(16)));d.appendChild(a)}if(c.srs){for(var b in c.srs){d.appendChild(this.createElementDefaultNS("SRS",b))}}d.appendChild(this.write_wmc_FormatList(c));d.appendChild(this.write_wmc_StyleList(c));if(c.dimensions){d.appendChild(this.write_wmc_DimensionList(c))}d.appendChild(this.write_wmc_LayerExtension(c));return d},CLASS_NAME:"OpenLayers.Format.WMC.v1_1_0"});OpenLayers.Format.XLS=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.0",stringifyOutput:true,CLASS_NAME:"OpenLayers.Format.XLS"});OpenLayers.Format.XLS.v1=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{xls:"http://www.opengis.net/xls",gml:"http://www.opengis.net/gml",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},xy:true,defaultPrefix:"xls",schemaLocation:null,initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(c,a){a=OpenLayers.Util.applyDefaults(a,this.options);var b={};this.readChildNodes(c,b);return b},readers:{xls:{XLS:function(b,a){a.version=b.getAttribute("version");this.readChildNodes(b,a)
},Response:function(b,a){this.readChildNodes(b,a)},GeocodeResponse:function(b,a){a.responseLists=[];this.readChildNodes(b,a)},GeocodeResponseList:function(c,b){var a={features:[],numberOfGeocodedAddresses:parseInt(c.getAttribute("numberOfGeocodedAddresses"))};b.responseLists.push(a);this.readChildNodes(c,a)},GeocodedAddress:function(c,b){var a=new OpenLayers.Feature.Vector();b.features.push(a);this.readChildNodes(c,a);a.geometry=a.components[0]},GeocodeMatchCode:function(b,a){a.attributes.matchCode={accuracy:parseFloat(b.getAttribute("accuracy")),matchType:b.getAttribute("matchType")}},Address:function(c,b){var a={countryCode:c.getAttribute("countryCode"),addressee:c.getAttribute("addressee"),street:[],place:[]};b.attributes.address=a;this.readChildNodes(c,a)},freeFormAddress:function(b,a){a.freeFormAddress=this.getChildValue(b)},StreetAddress:function(b,a){this.readChildNodes(b,a)},Building:function(b,a){a.building={number:b.getAttribute("number"),subdivision:b.getAttribute("subdivision"),buildingName:b.getAttribute("buildingName")}},Street:function(b,a){a.street.push(this.getChildValue(b))},Place:function(b,a){a.place[b.getAttribute("type")]=this.getChildValue(b)},PostalCode:function(b,a){a.postalCode=this.getChildValue(b)}},gml:OpenLayers.Format.GML.v3.prototype.readers.gml},write:function(a){return this.writers.xls.XLS.apply(this,[a])},writers:{xls:{XLS:function(b){var a=this.createElementNSPlus("xls:XLS",{attributes:{version:this.VERSION,"xsi:schemaLocation":this.schemaLocation}});this.writeNode("RequestHeader",b.header,a);this.writeNode("Request",b,a);return a},RequestHeader:function(a){return this.createElementNSPlus("xls:RequestHeader")},Request:function(b){var a=this.createElementNSPlus("xls:Request",{attributes:{methodName:"GeocodeRequest",requestID:b.requestID||"",version:this.VERSION}});this.writeNode("GeocodeRequest",b.addresses,a);return a},GeocodeRequest:function(d){var c=this.createElementNSPlus("xls:GeocodeRequest");for(var b=0,a=d.length;b<a;b++){this.writeNode("Address",d[b],c)}return c},Address:function(a){var b=this.createElementNSPlus("xls:Address",{attributes:{countryCode:a.countryCode}});if(a.freeFormAddress){this.writeNode("freeFormAddess",a.freeFormAddress,b)}else{if(a.street){this.writeNode("StreetAddress",a,b)}if(a.municipality){this.writeNode("Municipality",a.municipality,b)}if(a.countrySubdivision){this.writeNode("CountrySubdivision",a.countrySubdivision,b)}if(a.postalCode){this.writeNode("PostalCode",a.postalCode,b)}}return b},freeFormAddress:function(a){return this.createElementNSPlus("freeFormAddress",{value:a})},StreetAddress:function(b){var d=this.createElementNSPlus("xls:StreetAddress");if(b.building){this.writeNode(d,"Building",b.building)}var e=b.street;if(!(OpenLayers.Util.isArray(e))){e=[e]}for(var c=0,a=e.length;c<a;c++){this.writeNode("Street",e[c],d)}return d},Building:function(a){return this.createElementNSPlus("xls:Building",{attributes:{number:a.number,subdivision:a.subdivision,buildingName:a.buildingName}})},Street:function(a){return this.createElementNSPlus("xls:Street",{value:a})},Municipality:function(a){return this.createElementNSPlus("xls:Place",{attributes:{type:"Municipality"},value:a})},CountrySubdivision:function(a){return this.createElementNSPlus("xls:Place",{attributes:{type:"CountrySubdivision"},value:a})},PostalCode:function(a){return this.createElementNSPlus("xls:PostalCode",{value:a})}}},CLASS_NAME:"OpenLayers.Format.XLS.v1"});OpenLayers.Format.XLS.v1_1_0=OpenLayers.Class(OpenLayers.Format.XLS.v1,{VERSION:"1.1",schemaLocation:"http://www.opengis.net/xls http://schemas.opengis.net/ols/1.1.0/LocationUtilityService.xsd",initialize:function(a){OpenLayers.Format.XLS.v1.prototype.initialize.apply(this,[a])},CLASS_NAME:"OpenLayers.Format.XLS.v1_1_0"});OpenLayers.Format.XLS.v1_1=OpenLayers.Format.XLS.v1_1_0;OpenLayers.Lang.sk=OpenLayers.Util.applyDefaults({unhandledRequest:"Neobslúžené požiadavky vracajú ${statusText}",Permalink:"Trvalý odkaz",Overlays:"Prekrytia","Base Layer":"Základná vrstva",readNotImplemented:"Čítanie nie je implementované.",writeNotImplemented:"Zápis nie je implementovaný.",noFID:"Nie je možné aktualizovať vlastnosť, pre ktorú neexistuje FID.",errorLoadingGML:"Chyba pri načítaní súboru GML ${url}",browserNotSupported:"Váš prehliadač nepodporuje vykresľovanie vektorov. Momentálne podporované vykresľovače sú:\n${renderers}",componentShouldBe:"addFeatures: komponent by mal byť ${geomType}",getFeatureError:"getFeatureFromEvent bola zavolaná na vrstve bez vykresľovača. To zvyčajne znamená, že ste odstránili vrstvu, ale nie niektorú z obslúh, ktorá je s ňou asociovaná.",minZoomLevelError:"Vlastnosť minZoomLevel je určený iba na použitie s vrstvami odvodenými od FixedZoomLevels. To, že táto wfs vrstva kontroluje minZoomLevel je pozostatok z minulosti. Nemôžeme ho však odstrániť, aby sme sa vyhli možnému porušeniu aplikácií založených na Open Layers, ktoré na tomto môže závisieť. Preto ho označujeme ako zavrhovaný - dolu uvedená kontrola minZoomLevel bude odstránená vo verzii 3.0. Použite prosím namiesto toho kontrolu min./max. rozlíšenia podľa tu uvedeného popisu: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transakcia WFS: ÚSPEŠNÁ ${response}",commitFailed:"Transakcia WFS: ZLYHALA ${response}",googleWarning:"Vrstvu Google nebolo možné správne načítať.\x3cbr\x3e\x3cbr\x3eAby ste sa tejto správy zbavili vyberte novú BaseLayer v prepínači vrstiev v pravom hornom rohu.\x3cbr\x3e\x3cbr\x3eToto sa stalo pravdepodobne preto, že skript knižnice Google Maps buď nebol načítaný alebo neobsahuje správny kľúč API pre vašu lokalitu.\x3cbr\x3e\x3cbr\x3eVývojári: Tu môžete získať \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3epomoc so sfunkčnením\x3c/a\x3e",getLayerWarning:"Vrstvu ${layerType} nebolo možné správne načítať.\x3cbr\x3e\x3cbr\x3eAby ste sa tejto správy zbavili vyberte novú BaseLayer v prepínači vrstiev v pravom hornom rohu.\x3cbr\x3e\x3cbr\x3eToto sa stalo pravdepodobne preto, že skript knižnice ${layerType} buď nebol načítaný alebo neobsahuje správny kľúč API pre vašu lokalitu.\x3cbr\x3e\x3cbr\x3eVývojári: Tu môžete získať \x3ca href='http://trac.openlayers.org/wiki/${layerType}' target='_blank'\x3epomoc so sfunkčnením\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Mierka = 1 : ${scaleDenom}",layerAlreadyAdded:"Pokúsili ste sa do mapy pridať vrstvu ${layerName}, ale tá už bola pridaná",reprojectDeprecated:"Používate voľby „reproject“ vrstvy ${layerType}. Táto voľba je zzavrhovaná: jej použitie bolo navrhnuté na podporu zobrazovania údajov nad komerčnými základovými mapami, ale túto funkcionalitu je teraz možné dosiahnuť pomocou Spherical Mercator. Ďalšie informácie získate na stránke http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Táto metóda je zavrhovaná a bude odstránená vo verzii 3.0. Použite prosím namiesto nej metódu ${newMethod}.",boundsAddError:"Sčítacej funkcii musíte dať hodnoty x aj y.",lonlatAddError:"Sčítacej funkcii musíte dať hodnoty lon (zem. dĺžka) aj lat (zem. šírka).",pixelAddError:"Sčítacej funkcii musíte dať hodnoty x aj y.",unsupportedGeometryType:"Nepodporovaný typ geometrie: ${geomType}",filterEvaluateNotImplemented:"evaluate nie je implementovaný pre tento typ filtra"});
OpenLayers.Renderer.SVG=OpenLayers.Class(OpenLayers.Renderer.Elements,{xmlns:"http://www.w3.org/2000/svg",xlinkns:"http://www.w3.org/1999/xlink",MAX_PIXEL:15000,translationParameters:null,symbolMetrics:null,initialize:function(a){if(!this.supported()){return}OpenLayers.Renderer.Elements.prototype.initialize.apply(this,arguments);this.translationParameters={x:0,y:0};this.symbolMetrics={}},supported:function(){var a="http://www.w3.org/TR/SVG11/feature#";return(document.implementation&&(document.implementation.hasFeature("org.w3c.svg","1.0")||document.implementation.hasFeature(a+"SVG","1.1")||document.implementation.hasFeature(a+"BasicStructure","1.1")))},inValidRange:function(a,e,b){var d=a+(b?0:this.translationParameters.x);var c=e+(b?0:this.translationParameters.y);return(d>=-this.MAX_PIXEL&&d<=this.MAX_PIXEL&&c>=-this.MAX_PIXEL&&c<=this.MAX_PIXEL)},setExtent:function(b,d){OpenLayers.Renderer.Elements.prototype.setExtent.apply(this,arguments);var a=this.getResolution();var f=-b.left/a;var e=b.top/a;if(d){this.left=f;this.top=e;var c="0 0 "+this.size.w+" "+this.size.h;this.rendererRoot.setAttributeNS(null,"viewBox",c);this.translate(0,0);return true}else{var g=this.translate(f-this.left,e-this.top);if(!g){this.setExtent(b,true)}return g}},translate:function(a,c){if(!this.inValidRange(a,c,true)){return false}else{var b="";if(a||c){b="translate("+a+","+c+")"}this.root.setAttributeNS(null,"transform",b);this.translationParameters={x:a,y:c};return true}},setSize:function(a){OpenLayers.Renderer.prototype.setSize.apply(this,arguments);this.rendererRoot.setAttributeNS(null,"width",this.size.w);this.rendererRoot.setAttributeNS(null,"height",this.size.h)},getNodeType:function(c,b){var a=null;switch(c.CLASS_NAME){case"OpenLayers.Geometry.Point":if(b.externalGraphic){a="image"}else{if(this.isComplexSymbol(b.graphicName)){a="svg"}else{a="circle"}}break;case"OpenLayers.Geometry.Rectangle":a="rect";break;case"OpenLayers.Geometry.LineString":a="polyline";break;case"OpenLayers.Geometry.LinearRing":a="polygon";break;case"OpenLayers.Geometry.Polygon":case"OpenLayers.Geometry.Curve":case"OpenLayers.Geometry.Surface":a="path";break;default:break}return a},setStyle:function(o,s,b){s=s||o._style;b=b||o._options;var k=parseFloat(o.getAttributeNS(null,"r"));var j=1;var d;if(o._geometryClass=="OpenLayers.Geometry.Point"&&k){o.style.visibility="";if(s.graphic===false){o.style.visibility="hidden"}else{if(s.externalGraphic){d=this.getPosition(o);if(s.graphicTitle){o.setAttributeNS(null,"title",s.graphicTitle);var f=this.nodeFactory(null,"title");f.textContent=s.graphicTitle;o.appendChild(f)}if(s.graphicWidth&&s.graphicHeight){o.setAttributeNS(null,"preserveAspectRatio","none")}var n=s.graphicWidth||s.graphicHeight;var m=s.graphicHeight||s.graphicWidth;n=n?n:s.pointRadius*2;m=m?m:s.pointRadius*2;var t=(s.graphicXOffset!=undefined)?s.graphicXOffset:-(0.5*n);var g=(s.graphicYOffset!=undefined)?s.graphicYOffset:-(0.5*m);var a=s.graphicOpacity||s.fillOpacity;o.setAttributeNS(null,"x",(d.x+t).toFixed());o.setAttributeNS(null,"y",(d.y+g).toFixed());o.setAttributeNS(null,"width",n);o.setAttributeNS(null,"height",m);o.setAttributeNS(this.xlinkns,"href",s.externalGraphic);o.setAttributeNS(null,"style","opacity: "+a);o.onclick=OpenLayers.Renderer.SVG.preventDefault}else{if(this.isComplexSymbol(s.graphicName)){var c=s.pointRadius*3;var l=c*2;var e=this.importSymbol(s.graphicName);d=this.getPosition(o);j=this.symbolMetrics[e.id][0]*3/l;var h=o.parentNode;var i=o.nextSibling;if(h){h.removeChild(o)}o.firstChild&&o.removeChild(o.firstChild);o.appendChild(e.firstChild.cloneNode(true));o.setAttributeNS(null,"viewBox",e.getAttributeNS(null,"viewBox"));o.setAttributeNS(null,"width",l);o.setAttributeNS(null,"height",l);o.setAttributeNS(null,"x",d.x-c);o.setAttributeNS(null,"y",d.y-c);if(i){h.insertBefore(o,i)}else{if(h){h.appendChild(o)}}}else{o.setAttributeNS(null,"r",s.pointRadius)}}}var q=s.rotation;if((q!==undefined||o._rotation!==undefined)&&d){o._rotation=q;q|=0;if(o.nodeName!=="svg"){o.setAttributeNS(null,"transform","rotate("+q+" "+d.x+" "+d.y+")")}else{var p=this.symbolMetrics[e.id];
o.firstChild.setAttributeNS(null,"transform","rotate("+q+" "+p[1]+" "+p[2]+")")}}}if(b.isFilled){o.setAttributeNS(null,"fill",s.fillColor);o.setAttributeNS(null,"fill-opacity",s.fillOpacity)}else{o.setAttributeNS(null,"fill","none")}if(b.isStroked){o.setAttributeNS(null,"stroke",s.strokeColor);o.setAttributeNS(null,"stroke-opacity",s.strokeOpacity);o.setAttributeNS(null,"stroke-width",s.strokeWidth*j);o.setAttributeNS(null,"stroke-linecap",s.strokeLinecap||"round");o.setAttributeNS(null,"stroke-linejoin","round");s.strokeDashstyle&&o.setAttributeNS(null,"stroke-dasharray",this.dashStyle(s,j))}else{o.setAttributeNS(null,"stroke","none")}if(s.pointerEvents){o.setAttributeNS(null,"pointer-events",s.pointerEvents)}if(s.cursor!=null){o.setAttributeNS(null,"cursor",s.cursor)}return o},dashStyle:function(c,b){var a=c.strokeWidth*b;var d=c.strokeDashstyle;switch(d){case"solid":return"none";case"dot":return[1,4*a].join();case"dash":return[4*a,4*a].join();case"dashdot":return[4*a,4*a,1,4*a].join();case"longdash":return[8*a,4*a].join();case"longdashdot":return[8*a,4*a,1,4*a].join();default:return OpenLayers.String.trim(d).replace(/\s+/g,",")}},createNode:function(a,c){var b=document.createElementNS(this.xmlns,a);if(c){b.setAttributeNS(null,"id",c)}return b},nodeTypeCompare:function(b,a){return(a==b.nodeName)},createRenderRoot:function(){return this.nodeFactory(this.container.id+"_svgRoot","svg")},createRoot:function(a){return this.nodeFactory(this.container.id+a,"g")},createDefs:function(){var a=this.nodeFactory(this.container.id+"_defs","defs");this.rendererRoot.appendChild(a);return a},drawPoint:function(a,b){return this.drawCircle(a,b,1)},drawCircle:function(d,e,b){var c=this.getResolution();var a=(e.x/c+this.left);var f=(this.top-e.y/c);if(this.inValidRange(a,f)){d.setAttributeNS(null,"cx",a);d.setAttributeNS(null,"cy",f);d.setAttributeNS(null,"r",b);return d}else{return false}},drawLineString:function(b,c){var a=this.getComponentsString(c.components);if(a.path){b.setAttributeNS(null,"points",a.path);return(a.complete?b:null)}else{return false}},drawLinearRing:function(b,c){var a=this.getComponentsString(c.components);if(a.path){b.setAttributeNS(null,"points",a.path);return(a.complete?b:null)}else{return false}},drawPolygon:function(b,h){var g="";var i=true;var a=true;var c,k;for(var e=0,f=h.components.length;e<f;e++){g+=" M";c=this.getComponentsString(h.components[e].components," ");k=c.path;if(k){g+=" "+k;a=c.complete&&a}else{i=false}}g+=" z";if(i){b.setAttributeNS(null,"d",g);b.setAttributeNS(null,"fill-rule","evenodd");return a?b:null}else{return false}},drawRectangle:function(c,d){var b=this.getResolution();var a=(d.x/b+this.left);var e=(this.top-d.y/b);if(this.inValidRange(a,e)){c.setAttributeNS(null,"x",a);c.setAttributeNS(null,"y",e);c.setAttributeNS(null,"width",d.width/b);c.setAttributeNS(null,"height",d.height/b);return c}else{return false}},drawSurface:function(f,h){var g=null;var b=true;for(var e=0,a=h.components.length;e<a;e++){if((e%3)==0&&(e/3)==0){var c=this.getShortString(h.components[e]);if(!c){b=false}g="M "+c}else{if((e%3)==1){var c=this.getShortString(h.components[e]);if(!c){b=false}g+=" C "+c}else{var c=this.getShortString(h.components[e]);if(!c){b=false}g+=" "+c}}}g+=" Z";if(b){f.setAttributeNS(null,"d",g);return f}else{return false}},drawText:function(e,a,n){var b=this.getResolution();var m=(n.x/b+this.left);var j=(n.y/b-this.top);var l=this.nodeFactory(e+this.LABEL_ID_SUFFIX,"text");l.setAttributeNS(null,"x",m);l.setAttributeNS(null,"y",-j);if(a.fontColor){l.setAttributeNS(null,"fill",a.fontColor)}if(a.fontOpacity){l.setAttributeNS(null,"opacity",a.fontOpacity)}if(a.fontFamily){l.setAttributeNS(null,"font-family",a.fontFamily)}if(a.fontSize){l.setAttributeNS(null,"font-size",a.fontSize)}if(a.fontWeight){l.setAttributeNS(null,"font-weight",a.fontWeight)}if(a.fontStyle){l.setAttributeNS(null,"font-style",a.fontStyle)}if(a.labelSelect===true){l.setAttributeNS(null,"pointer-events","visible");l._featureId=e}else{l.setAttributeNS(null,"pointer-events","none")}var g=a.labelAlign||"cm";l.setAttributeNS(null,"text-anchor",OpenLayers.Renderer.SVG.LABEL_ALIGN[g[0]]||"middle");
if(OpenLayers.IS_GECKO===true){l.setAttributeNS(null,"dominant-baseline",OpenLayers.Renderer.SVG.LABEL_ALIGN[g[1]]||"central")}var c=a.label.split("\n");var f=c.length;while(l.childNodes.length>f){l.removeChild(l.lastChild)}for(var d=0;d<f;d++){var h=this.nodeFactory(e+this.LABEL_ID_SUFFIX+"_tspan_"+d,"tspan");if(a.labelSelect===true){h._featureId=e;h._geometry=n;h._geometryClass=n.CLASS_NAME}if(OpenLayers.IS_GECKO===false){h.setAttributeNS(null,"baseline-shift",OpenLayers.Renderer.SVG.LABEL_VSHIFT[g[1]]||"-35%")}h.setAttribute("x",m);if(d==0){var k=OpenLayers.Renderer.SVG.LABEL_VFACTOR[g[1]];if(k==null){k=-0.5}h.setAttribute("dy",(k*(f-1))+"em")}else{h.setAttribute("dy","1em")}h.textContent=(c[d]==="")?" ":c[d];if(!h.parentNode){l.appendChild(h)}}if(!l.parentNode){this.textRoot.appendChild(l)}},getComponentsString:function(d,c){var f=[];var a=true;var e=d.length;var j=[];var g,h;for(var b=0;b<e;b++){h=d[b];f.push(h);g=this.getShortString(h);if(g){j.push(g)}else{if(b>0){if(this.getShortString(d[b-1])){j.push(this.clipLine(d[b],d[b-1]))}}if(b<e-1){if(this.getShortString(d[b+1])){j.push(this.clipLine(d[b],d[b+1]))}}a=false}}return{path:j.join(c||","),complete:a}},clipLine:function(e,h){if(h.equals(e)){return""}var f=this.getResolution();var b=this.MAX_PIXEL-this.translationParameters.x;var a=this.MAX_PIXEL-this.translationParameters.y;var d=h.x/f+this.left;var j=this.top-h.y/f;var c=e.x/f+this.left;var i=this.top-e.y/f;var g;if(c<-b||c>b){g=(i-j)/(c-d);c=c<0?-b:b;i=j+(c-d)*g}if(i<-a||i>a){g=(c-d)/(i-j);i=i<0?-a:a;c=d+(i-j)*g}return c+","+i},getShortString:function(b){var c=this.getResolution();var a=(b.x/c+this.left);var d=(this.top-b.y/c);if(this.inValidRange(a,d)){return a+","+d}else{return false}},getPosition:function(a){return({x:parseFloat(a.getAttributeNS(null,"cx")),y:parseFloat(a.getAttributeNS(null,"cy"))})},importSymbol:function(f){if(!this.defs){this.defs=this.createDefs()}var b=this.container.id+"-"+f;var c=document.getElementById(b);if(c!=null){return c}var e=OpenLayers.Renderer.symbol[f];if(!e){throw new Error(f+" is not a valid symbol name")}var h=this.nodeFactory(b,"symbol");var d=this.nodeFactory(null,"polygon");h.appendChild(d);var n=new OpenLayers.Bounds(Number.MAX_VALUE,Number.MAX_VALUE,0,0);var l=[];var k,j;for(var g=0;g<e.length;g=g+2){k=e[g];j=e[g+1];n.left=Math.min(n.left,k);n.bottom=Math.min(n.bottom,j);n.right=Math.max(n.right,k);n.top=Math.max(n.top,j);l.push(k,",",j)}d.setAttributeNS(null,"points",l.join(" "));var a=n.getWidth();var m=n.getHeight();var o=[n.left-a,n.bottom-m,a*3,m*3];h.setAttributeNS(null,"viewBox",o.join(" "));this.symbolMetrics[b]=[Math.max(a,m),n.getCenterLonLat().lon,n.getCenterLonLat().lat];this.defs.appendChild(h);return h},getFeatureIdFromEvent:function(a){var c=OpenLayers.Renderer.Elements.prototype.getFeatureIdFromEvent.apply(this,arguments);if(!c){var b=a.target;c=b.parentNode&&b!=this.rendererRoot&&b.parentNode._featureId}return c},CLASS_NAME:"OpenLayers.Renderer.SVG"});OpenLayers.Renderer.SVG.LABEL_ALIGN={l:"start",r:"end",b:"bottom",t:"hanging"};OpenLayers.Renderer.SVG.LABEL_VSHIFT={t:"-70%",b:"0"};OpenLayers.Renderer.SVG.LABEL_VFACTOR={t:0,b:-1};OpenLayers.Renderer.SVG.preventDefault=function(a){a.preventDefault&&a.preventDefault()};OpenLayers.Format.WMSDescribeLayer=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.1.1",getVersion:function(b,c){var a=OpenLayers.Format.XML.VersionedOGC.prototype.getVersion.apply(this,arguments);if(a=="1.1.1"||a=="1.1.0"){a="1.1"}return a},CLASS_NAME:"OpenLayers.Format.WMSDescribeLayer"});OpenLayers.Format.WMSDescribeLayer.v1_1=OpenLayers.Class(OpenLayers.Format.WMSDescribeLayer,{initialize:function(a){OpenLayers.Format.WMSDescribeLayer.prototype.initialize.apply(this,[a])},read:function(d){if(typeof d=="string"){d=OpenLayers.Format.XML.prototype.read.apply(this,[d])}var j=d.documentElement;var b=j.childNodes;var f=[];var a,m;for(var e=0;e<b.length;++e){a=b[e];m=a.nodeName;if(m=="LayerDescription"){var g=a.getAttribute("name");var l="";var c="";var k="";if(a.getAttribute("owsType")){l=a.getAttribute("owsType");c=a.getAttribute("owsURL")
}else{if(a.getAttribute("wfs")!=""){l="WFS";c=a.getAttribute("wfs")}else{if(a.getAttribute("wcs")!=""){l="WCS";c=a.getAttribute("wcs")}}}var h=a.getElementsByTagName("Query");if(h.length>0){k=h[0].getAttribute("typeName");if(!k){k=h[0].getAttribute("typename")}}f.push({layerName:g,owsType:l,owsURL:c,typeName:k})}}return f},CLASS_NAME:"OpenLayers.Format.WMSDescribeLayer.v1_1"});OpenLayers.Popup=OpenLayers.Class({events:null,id:"",lonlat:null,div:null,contentSize:null,size:null,contentHTML:null,backgroundColor:"",opacity:"",border:"",contentDiv:null,groupDiv:null,closeDiv:null,autoSize:false,minSize:null,maxSize:null,displayClass:"olPopup",contentDisplayClass:"olPopupContent",padding:0,disableFirefoxOverflowHack:false,fixPadding:function(){if(typeof this.padding=="number"){this.padding=new OpenLayers.Bounds(this.padding,this.padding,this.padding,this.padding)}},panMapIfOutOfView:false,keepInMap:false,closeOnMove:false,map:null,initialize:function(g,c,f,b,e,d){if(g==null){g=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")}this.id=g;this.lonlat=c;this.contentSize=(f!=null)?f:new OpenLayers.Size(OpenLayers.Popup.WIDTH,OpenLayers.Popup.HEIGHT);if(b!=null){this.contentHTML=b}this.backgroundColor=OpenLayers.Popup.COLOR;this.opacity=OpenLayers.Popup.OPACITY;this.border=OpenLayers.Popup.BORDER;this.div=OpenLayers.Util.createDiv(this.id,null,null,null,null,null,"hidden");this.div.className=this.displayClass;var a=this.id+"_GroupDiv";this.groupDiv=OpenLayers.Util.createDiv(a,null,null,null,"relative",null,"hidden");var g=this.div.id+"_contentDiv";this.contentDiv=OpenLayers.Util.createDiv(g,null,this.contentSize.clone(),null,"relative");this.contentDiv.className=this.contentDisplayClass;this.groupDiv.appendChild(this.contentDiv);this.div.appendChild(this.groupDiv);if(e){this.addCloseBox(d)}this.registerEvents()},destroy:function(){this.id=null;this.lonlat=null;this.size=null;this.contentHTML=null;this.backgroundColor=null;this.opacity=null;this.border=null;if(this.closeOnMove&&this.map){this.map.events.unregister("movestart",this,this.hide)}this.events.destroy();this.events=null;if(this.closeDiv){OpenLayers.Event.stopObservingElement(this.closeDiv);this.groupDiv.removeChild(this.closeDiv)}this.closeDiv=null;this.div.removeChild(this.groupDiv);this.groupDiv=null;if(this.map!=null){this.map.removePopup(this)}this.map=null;this.div=null;this.autoSize=null;this.minSize=null;this.maxSize=null;this.padding=null;this.panMapIfOutOfView=null},draw:function(a){if(a==null){if((this.lonlat!=null)&&(this.map!=null)){a=this.map.getLayerPxFromLonLat(this.lonlat)}}if(this.closeOnMove){this.map.events.register("movestart",this,this.hide)}if(!this.disableFirefoxOverflowHack&&OpenLayers.BROWSER_NAME=="firefox"){this.map.events.register("movestart",this,function(){var b=document.defaultView.getComputedStyle(this.contentDiv,null);var c=b.getPropertyValue("overflow");if(c!="hidden"){this.contentDiv._oldOverflow=c;this.contentDiv.style.overflow="hidden"}});this.map.events.register("moveend",this,function(){var b=this.contentDiv._oldOverflow;if(b){this.contentDiv.style.overflow=b;this.contentDiv._oldOverflow=null}})}this.moveTo(a);if(!this.autoSize&&!this.size){this.setSize(this.contentSize)}this.setBackgroundColor();this.setOpacity();this.setBorder();this.setContentHTML();if(this.panMapIfOutOfView){this.panIntoView()}return this.div},updatePosition:function(){if((this.lonlat)&&(this.map)){var a=this.map.getLayerPxFromLonLat(this.lonlat);if(a){this.moveTo(a)}}},moveTo:function(a){if((a!=null)&&(this.div!=null)){this.div.style.left=a.x+"px";this.div.style.top=a.y+"px"}},visible:function(){return OpenLayers.Element.visible(this.div)},toggle:function(){if(this.visible()){this.hide()}else{this.show()}},show:function(){this.div.style.display="";if(this.panMapIfOutOfView){this.panIntoView()}},hide:function(){this.div.style.display="none"},setSize:function(c){this.size=c.clone();var b=this.getContentDivPadding();var a=b.left+b.right;var e=b.top+b.bottom;this.fixPadding();a+=this.padding.left+this.padding.right;e+=this.padding.top+this.padding.bottom;if(this.closeDiv){var d=parseInt(this.closeDiv.style.width);
a+=d+b.right}this.size.w+=a;this.size.h+=e;if(OpenLayers.BROWSER_NAME=="msie"){this.contentSize.w+=b.left+b.right;this.contentSize.h+=b.bottom+b.top}if(this.div!=null){this.div.style.width=this.size.w+"px";this.div.style.height=this.size.h+"px"}if(this.contentDiv!=null){this.contentDiv.style.width=c.w+"px";this.contentDiv.style.height=c.h+"px"}},updateSize:function(){var e="<div class='"+this.contentDisplayClass+"'>"+this.contentDiv.innerHTML+"</div>";var h=(this.map)?this.map.layerContainerDiv:document.body;var i=OpenLayers.Util.getRenderedDimensions(e,null,{displayClass:this.displayClass,containerElement:h});var g=this.getSafeContentSize(i);var f=null;if(g.equals(i)){f=i}else{var b=new OpenLayers.Size();b.w=(g.w<i.w)?g.w:null;b.h=(g.h<i.h)?g.h:null;if(b.w&&b.h){f=g}else{var d=OpenLayers.Util.getRenderedDimensions(e,b,{displayClass:this.contentDisplayClass,containerElement:h});var c=OpenLayers.Element.getStyle(this.contentDiv,"overflow");if((c!="hidden")&&(d.equals(g))){var a=OpenLayers.Util.getScrollbarWidth();if(b.w){d.h+=a}else{d.w+=a}}f=this.getSafeContentSize(d)}}this.setSize(f)},setBackgroundColor:function(a){if(a!=undefined){this.backgroundColor=a}if(this.div!=null){this.div.style.backgroundColor=this.backgroundColor}},setOpacity:function(a){if(a!=undefined){this.opacity=a}if(this.div!=null){this.div.style.opacity=this.opacity;this.div.style.filter="alpha(opacity="+this.opacity*100+")"}},setBorder:function(a){if(a!=undefined){this.border=a}if(this.div!=null){this.div.style.border=this.border}},setContentHTML:function(a){if(a!=null){this.contentHTML=a}if((this.contentDiv!=null)&&(this.contentHTML!=null)&&(this.contentHTML!=this.contentDiv.innerHTML)){this.contentDiv.innerHTML=this.contentHTML;if(this.autoSize){this.registerImageListeners();this.updateSize()}}},registerImageListeners:function(){var f=function(){this.popup.updateSize();if(this.popup.visible()&&this.popup.panMapIfOutOfView){this.popup.panIntoView()}OpenLayers.Event.stopObserving(this.img,"load",this.img._onImageLoad)};var b=this.contentDiv.getElementsByTagName("img");for(var e=0,a=b.length;e<a;e++){var c=b[e];if(c.width==0||c.height==0){var d={popup:this,img:c};c._onImgLoad=OpenLayers.Function.bind(f,d);OpenLayers.Event.observe(c,"load",c._onImgLoad)}}},getSafeContentSize:function(k){var d=k.clone();var i=this.getContentDivPadding();var j=i.left+i.right;var g=i.top+i.bottom;this.fixPadding();j+=this.padding.left+this.padding.right;g+=this.padding.top+this.padding.bottom;if(this.closeDiv){var c=parseInt(this.closeDiv.style.width);j+=c+i.right}if(this.minSize){d.w=Math.max(d.w,(this.minSize.w-j));d.h=Math.max(d.h,(this.minSize.h-g))}if(this.maxSize){d.w=Math.min(d.w,(this.maxSize.w-j));d.h=Math.min(d.h,(this.maxSize.h-g))}if(this.map&&this.map.size){var f=0,e=0;if(this.keepInMap&&!this.panMapIfOutOfView){var h=this.map.getPixelFromLonLat(this.lonlat);switch(this.relativePosition){case"tr":f=h.x;e=this.map.size.h-h.y;break;case"tl":f=this.map.size.w-h.x;e=this.map.size.h-h.y;break;case"bl":f=this.map.size.w-h.x;e=h.y;break;case"br":f=h.x;e=h.y;break;default:f=h.x;e=this.map.size.h-h.y;break}}var a=this.map.size.h-this.map.paddingForPopups.top-this.map.paddingForPopups.bottom-g-e;var b=this.map.size.w-this.map.paddingForPopups.left-this.map.paddingForPopups.right-j-f;d.w=Math.min(d.w,b);d.h=Math.min(d.h,a)}return d},getContentDivPadding:function(){var a=this._contentDivPadding;if(!a){if(this.div.parentNode==null){this.div.style.display="none";document.body.appendChild(this.div)}a=new OpenLayers.Bounds(OpenLayers.Element.getStyle(this.contentDiv,"padding-left"),OpenLayers.Element.getStyle(this.contentDiv,"padding-bottom"),OpenLayers.Element.getStyle(this.contentDiv,"padding-right"),OpenLayers.Element.getStyle(this.contentDiv,"padding-top"));this._contentDivPadding=a;if(this.div.parentNode==document.body){document.body.removeChild(this.div);this.div.style.display=""}}return a},addCloseBox:function(c){this.closeDiv=OpenLayers.Util.createDiv(this.id+"_close",null,new OpenLayers.Size(17,17));this.closeDiv.className="olPopupCloseBox";var b=this.getContentDivPadding();
this.closeDiv.style.right=b.right+"px";this.closeDiv.style.top=b.top+"px";this.groupDiv.appendChild(this.closeDiv);var a=c||function(d){this.hide();OpenLayers.Event.stop(d)};OpenLayers.Event.observe(this.closeDiv,"touchend",OpenLayers.Function.bindAsEventListener(a,this));OpenLayers.Event.observe(this.closeDiv,"click",OpenLayers.Function.bindAsEventListener(a,this))},panIntoView:function(){var e=this.map.getSize();var d=this.map.getViewPortPxFromLayerPx(new OpenLayers.Pixel(parseInt(this.div.style.left),parseInt(this.div.style.top)));var c=d.clone();if(d.x<this.map.paddingForPopups.left){c.x=this.map.paddingForPopups.left}else{if((d.x+this.size.w)>(e.w-this.map.paddingForPopups.right)){c.x=e.w-this.map.paddingForPopups.right-this.size.w}}if(d.y<this.map.paddingForPopups.top){c.y=this.map.paddingForPopups.top}else{if((d.y+this.size.h)>(e.h-this.map.paddingForPopups.bottom)){c.y=e.h-this.map.paddingForPopups.bottom-this.size.h}}var b=d.x-c.x;var a=d.y-c.y;this.map.pan(b,a)},registerEvents:function(){this.events=new OpenLayers.Events(this,this.div,null,true);function a(b){OpenLayers.Event.stop(b,true)}this.events.on({mousedown:this.onmousedown,mousemove:this.onmousemove,mouseup:this.onmouseup,click:this.onclick,mouseout:this.onmouseout,dblclick:this.ondblclick,touchstart:a,scope:this})},onmousedown:function(a){this.mousedown=true;OpenLayers.Event.stop(a,true)},onmousemove:function(a){if(this.mousedown){OpenLayers.Event.stop(a,true)}},onmouseup:function(a){if(this.mousedown){this.mousedown=false;OpenLayers.Event.stop(a,true)}},onclick:function(a){OpenLayers.Event.stop(a,true)},onmouseout:function(a){this.mousedown=false},ondblclick:function(a){OpenLayers.Event.stop(a,true)},CLASS_NAME:"OpenLayers.Popup"});OpenLayers.Popup.WIDTH=200;OpenLayers.Popup.HEIGHT=200;OpenLayers.Popup.COLOR="white";OpenLayers.Popup.OPACITY=1;OpenLayers.Popup.BORDER="0px";OpenLayers.Control.ScaleLine=OpenLayers.Class(OpenLayers.Control,{maxWidth:100,topOutUnits:"km",topInUnits:"m",bottomOutUnits:"mi",bottomInUnits:"ft",eTop:null,eBottom:null,geodesic:false,draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!this.eTop){this.eTop=document.createElement("div");this.eTop.className=this.displayClass+"Top";var a=this.topInUnits.length;this.div.appendChild(this.eTop);if((this.topOutUnits=="")||(this.topInUnits=="")){this.eTop.style.visibility="hidden"}else{this.eTop.style.visibility="visible"}this.eBottom=document.createElement("div");this.eBottom.className=this.displayClass+"Bottom";this.div.appendChild(this.eBottom);if((this.bottomOutUnits=="")||(this.bottomInUnits=="")){this.eBottom.style.visibility="hidden"}else{this.eBottom.style.visibility="visible"}}this.map.events.register("moveend",this,this.update);this.update();return this.div},getBarLen:function(b){var d=parseInt(Math.log(b)/Math.log(10));var a=Math.pow(10,d);var c=parseInt(b/a);var e;if(c>5){e=5}else{if(c>2){e=2}else{e=1}}return e*a},update:function(){var j=this.map.getResolution();if(!j){return}var o=this.map.getUnits();var e=OpenLayers.INCHES_PER_UNIT;var l=this.maxWidth*j*e[o];var n=1;if(this.geodesic===true){var b=(this.map.getGeodesicPixelSize().w||0.000001)*this.maxWidth;var f=l/e.km;n=b/f;l*=n}var a;var d;if(l>100000){a=this.topOutUnits;d=this.bottomOutUnits}else{a=this.topInUnits;d=this.bottomInUnits}var h=l/e[a];var k=l/e[d];var i=this.getBarLen(h);var g=this.getBarLen(k);h=i/e[o]*e[a];k=g/e[o]*e[d];var c=h/j/n;var m=k/j/n;if(this.eBottom.style.visibility=="visible"){this.eBottom.style.width=Math.round(m)+"px";this.eBottom.innerHTML=g+" "+d}if(this.eTop.style.visibility=="visible"){this.eTop.style.width=Math.round(c)+"px";this.eTop.innerHTML=i+" "+a}},CLASS_NAME:"OpenLayers.Control.ScaleLine"});OpenLayers.Icon=OpenLayers.Class({url:null,size:null,offset:null,calculateOffset:null,imageDiv:null,px:null,initialize:function(a,b,d,c){this.url=a;this.size=(b)?b:new OpenLayers.Size(20,20);this.offset=d?d:new OpenLayers.Pixel(-(this.size.w/2),-(this.size.h/2));this.calculateOffset=c;var e=OpenLayers.Util.createUniqueID("OL_Icon_");this.imageDiv=OpenLayers.Util.createAlphaImageDiv(e)
},destroy:function(){this.erase();OpenLayers.Event.stopObservingElement(this.imageDiv.firstChild);this.imageDiv.innerHTML="";this.imageDiv=null},clone:function(){return new OpenLayers.Icon(this.url,this.size,this.offset,this.calculateOffset)},setSize:function(a){if(a!=null){this.size=a}this.draw()},setUrl:function(a){if(a!=null){this.url=a}this.draw()},draw:function(a){OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,null,this.size,this.url,"absolute");this.moveTo(a);return this.imageDiv},erase:function(){if(this.imageDiv!=null&&this.imageDiv.parentNode!=null){OpenLayers.Element.remove(this.imageDiv)}},setOpacity:function(a){OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,null,null,null,null,null,null,a)},moveTo:function(a){if(a!=null){this.px=a}if(this.imageDiv!=null){if(this.px==null){this.display(false)}else{if(this.calculateOffset){this.offset=this.calculateOffset(this.size)}var b=this.px.offset(this.offset);OpenLayers.Util.modifyAlphaImageDiv(this.imageDiv,null,b)}}},display:function(a){this.imageDiv.style.display=(a)?"":"none"},isDrawn:function(){var a=(this.imageDiv&&this.imageDiv.parentNode&&(this.imageDiv.parentNode.nodeType!=11));return a},CLASS_NAME:"OpenLayers.Icon"});OpenLayers.Marker=OpenLayers.Class({icon:null,lonlat:null,events:null,map:null,initialize:function(c,b){this.lonlat=c;var a=(b)?b:OpenLayers.Marker.defaultIcon();if(this.icon==null){this.icon=a}else{this.icon.url=a.url;this.icon.size=a.size;this.icon.offset=a.offset;this.icon.calculateOffset=a.calculateOffset}this.events=new OpenLayers.Events(this,this.icon.imageDiv,null)},destroy:function(){this.erase();this.map=null;this.events.destroy();this.events=null;if(this.icon!=null){this.icon.destroy();this.icon=null}},draw:function(a){return this.icon.draw(a)},erase:function(){if(this.icon!=null){this.icon.erase()}},moveTo:function(a){if((a!=null)&&(this.icon!=null)){this.icon.moveTo(a)}this.lonlat=this.map.getLonLatFromLayerPx(a)},isDrawn:function(){var a=(this.icon&&this.icon.isDrawn());return a},onScreen:function(){var b=false;if(this.map){var a=this.map.getExtent();b=a.containsLonLat(this.lonlat)}return b},inflate:function(b){if(this.icon){var a=new OpenLayers.Size(this.icon.size.w*b,this.icon.size.h*b);this.icon.setSize(a)}},setOpacity:function(a){this.icon.setOpacity(a)},setUrl:function(a){this.icon.setUrl(a)},display:function(a){this.icon.display(a)},CLASS_NAME:"OpenLayers.Marker"});OpenLayers.Marker.defaultIcon=function(){var a=OpenLayers.Util.getImagesLocation()+"marker.png";var b=new OpenLayers.Size(21,25);var c=function(d){return new OpenLayers.Pixel(-(d.w/2),-d.h)};return new OpenLayers.Icon(a,b,null,c)};OpenLayers.Format.GeoJSON=OpenLayers.Class(OpenLayers.Format.JSON,{ignoreExtraDims:false,read:function(j,g,a){g=(g)?g:"FeatureCollection";var d=null;var c=null;if(typeof j=="string"){c=OpenLayers.Format.JSON.prototype.read.apply(this,[j,a])}else{c=j}if(!c){OpenLayers.Console.error("Bad JSON: "+j)}else{if(typeof(c.type)!="string"){OpenLayers.Console.error("Bad GeoJSON - no type: "+j)}else{if(this.isValidType(c,g)){switch(g){case"Geometry":try{d=this.parseGeometry(c)}catch(b){OpenLayers.Console.error(b)}break;case"Feature":try{d=this.parseFeature(c);d.type="Feature"}catch(b){OpenLayers.Console.error(b)}break;case"FeatureCollection":d=[];switch(c.type){case"Feature":try{d.push(this.parseFeature(c))}catch(b){d=null;OpenLayers.Console.error(b)}break;case"FeatureCollection":for(var e=0,f=c.features.length;e<f;++e){try{d.push(this.parseFeature(c.features[e]))}catch(b){d=null;OpenLayers.Console.error(b)}}break;default:try{var h=this.parseGeometry(c);d.push(new OpenLayers.Feature.Vector(h))}catch(b){d=null;OpenLayers.Console.error(b)}}break}}}}return d},isValidType:function(c,a){var b=false;switch(a){case"Geometry":if(OpenLayers.Util.indexOf(["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Box","GeometryCollection"],c.type)==-1){OpenLayers.Console.error("Unsupported geometry type: "+c.type)}else{b=true}break;case"FeatureCollection":b=true;break;default:if(c.type==a){b=true}else{OpenLayers.Console.error("Cannot convert types from "+c.type+" to "+a)
}}return b},parseFeature:function(d){var b,f,a,e;a=(d.properties)?d.properties:{};e=(d.geometry&&d.geometry.bbox)||d.bbox;try{f=this.parseGeometry(d.geometry)}catch(c){throw c}b=new OpenLayers.Feature.Vector(f,a);if(e){b.bounds=OpenLayers.Bounds.fromArray(e)}if(d.id){b.fid=d.id}return b},parseGeometry:function(e){if(e==null){return null}var g,f=false;if(e.type=="GeometryCollection"){if(!(OpenLayers.Util.isArray(e.geometries))){throw"GeometryCollection must have geometries array: "+e}var b=e.geometries.length;var d=new Array(b);for(var a=0;a<b;++a){d[a]=this.parseGeometry.apply(this,[e.geometries[a]])}g=new OpenLayers.Geometry.Collection(d);f=true}else{if(!(OpenLayers.Util.isArray(e.coordinates))){throw"Geometry must have coordinates array: "+e}if(!this.parseCoords[e.type.toLowerCase()]){throw"Unsupported geometry type: "+e.type}try{g=this.parseCoords[e.type.toLowerCase()].apply(this,[e.coordinates])}catch(c){throw c}}if(this.internalProjection&&this.externalProjection&&!f){g.transform(this.externalProjection,this.internalProjection)}return g},parseCoords:{point:function(a){if(this.ignoreExtraDims==false&&a.length!=2){throw"Only 2D points are supported: "+a}return new OpenLayers.Geometry.Point(a[0],a[1])},multipoint:function(f){var c=[];var e=null;for(var b=0,a=f.length;b<a;++b){try{e=this.parseCoords.point.apply(this,[f[b]])}catch(d){throw d}c.push(e)}return new OpenLayers.Geometry.MultiPoint(c)},linestring:function(f){var c=[];var e=null;for(var b=0,a=f.length;b<a;++b){try{e=this.parseCoords.point.apply(this,[f[b]])}catch(d){throw d}c.push(e)}return new OpenLayers.Geometry.LineString(c)},multilinestring:function(f){var c=[];var b=null;for(var d=0,a=f.length;d<a;++d){try{b=this.parseCoords.linestring.apply(this,[f[d]])}catch(e){throw e}c.push(b)}return new OpenLayers.Geometry.MultiLineString(c)},polygon:function(g){var f=[];var e,b;for(var c=0,a=g.length;c<a;++c){try{b=this.parseCoords.linestring.apply(this,[g[c]])}catch(d){throw d}e=new OpenLayers.Geometry.LinearRing(b.components);f.push(e)}return new OpenLayers.Geometry.Polygon(f)},multipolygon:function(f){var b=[];var e=null;for(var c=0,a=f.length;c<a;++c){try{e=this.parseCoords.polygon.apply(this,[f[c]])}catch(d){throw d}b.push(e)}return new OpenLayers.Geometry.MultiPolygon(b)},box:function(a){if(a.length!=2){throw"GeoJSON box coordinates must have 2 elements"}return new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing([new OpenLayers.Geometry.Point(a[0][0],a[0][1]),new OpenLayers.Geometry.Point(a[1][0],a[0][1]),new OpenLayers.Geometry.Point(a[1][0],a[1][1]),new OpenLayers.Geometry.Point(a[0][0],a[1][1]),new OpenLayers.Geometry.Point(a[0][0],a[0][1])])])}},write:function(e,d){var a={type:null};if(OpenLayers.Util.isArray(e)){a.type="FeatureCollection";var g=e.length;a.features=new Array(g);for(var c=0;c<g;++c){var b=e[c];if(!b instanceof OpenLayers.Feature.Vector){var f="FeatureCollection only supports collections of features: "+b;throw f}a.features[c]=this.extract.feature.apply(this,[b])}}else{if(e.CLASS_NAME.indexOf("OpenLayers.Geometry")==0){a=this.extract.geometry.apply(this,[e])}else{if(e instanceof OpenLayers.Feature.Vector){a=this.extract.feature.apply(this,[e]);if(e.layer&&e.layer.projection){a.crs=this.createCRSObject(e)}}}}return OpenLayers.Format.JSON.prototype.write.apply(this,[a,d])},createCRSObject:function(b){var c=b.layer.projection.toString();var a={};if(c.match(/epsg:/i)){var d=parseInt(c.substring(c.indexOf(":")+1));if(d==4326){a={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}}else{a={type:"name",properties:{name:"EPSG:"+d}}}}return a},extract:{feature:function(c){var b=this.extract.geometry.apply(this,[c.geometry]);var a={type:"Feature",properties:c.attributes,geometry:b};if(c.fid!=null){a.id=c.fid}return a},geometry:function(d){if(d==null){return null}if(this.internalProjection&&this.externalProjection){d=d.clone();d.transform(this.internalProjection,this.externalProjection)}var a=d.CLASS_NAME.split(".")[2];var c=this.extract[a.toLowerCase()].apply(this,[d]);var b;if(a=="Collection"){b={type:"GeometryCollection",geometries:c}
}else{b={type:a,coordinates:c}}return b},point:function(a){return[a.x,a.y]},multipoint:function(c){var d=[];for(var b=0,a=c.components.length;b<a;++b){d.push(this.extract.point.apply(this,[c.components[b]]))}return d},linestring:function(b){var d=[];for(var c=0,a=b.components.length;c<a;++c){d.push(this.extract.point.apply(this,[b.components[c]]))}return d},multilinestring:function(c){var d=[];for(var b=0,a=c.components.length;b<a;++b){d.push(this.extract.linestring.apply(this,[c.components[b]]))}return d},polygon:function(c){var d=[];for(var b=0,a=c.components.length;b<a;++b){d.push(this.extract.linestring.apply(this,[c.components[b]]))}return d},multipolygon:function(d){var c=[];for(var b=0,a=d.components.length;b<a;++b){c.push(this.extract.polygon.apply(this,[d.components[b]]))}return c},collection:function(c){var a=c.components.length;var d=new Array(a);for(var b=0;b<a;++b){d[b]=this.extract.geometry.apply(this,[c.components[b]])}return d}},CLASS_NAME:"OpenLayers.Format.GeoJSON"});OpenLayers.Strategy.Paging=OpenLayers.Class(OpenLayers.Strategy,{features:null,length:10,num:null,paging:false,activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);if(a){this.layer.events.on({beforefeaturesadded:this.cacheFeatures,scope:this})}return a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);if(a){this.clearCache();this.layer.events.un({beforefeaturesadded:this.cacheFeatures,scope:this})}return a},cacheFeatures:function(a){if(!this.paging){this.clearCache();this.features=a.features;this.pageNext(a)}},clearCache:function(){if(this.features){for(var a=0;a<this.features.length;++a){this.features[a].destroy()}}this.features=null;this.num=null},pageCount:function(){var a=this.features?this.features.length:0;return Math.ceil(a/this.length)},pageNum:function(){return this.num},pageLength:function(a){if(a&&a>0){this.length=a}return this.length},pageNext:function(a){var b=false;if(this.features){if(this.num===null){this.num=-1}var c=(this.num+1)*this.length;b=this.page(c,a)}return b},pagePrevious:function(){var a=false;if(this.features){if(this.num===null){this.num=this.pageCount()}var b=(this.num-1)*this.length;a=this.page(b)}return a},page:function(e,c){var d=false;if(this.features){if(e>=0&&e<this.features.length){var a=Math.floor(e/this.length);if(a!=this.num){this.paging=true;var b=this.features.slice(e,e+this.length);this.layer.removeFeatures(this.layer.features);this.num=a;if(c&&c.features){c.features=b}else{this.layer.addFeatures(b)}this.paging=false;d=true}}}return d},CLASS_NAME:"OpenLayers.Strategy.Paging"});OpenLayers.Popup.Anchored=OpenLayers.Class(OpenLayers.Popup,{relativePosition:null,keepInMap:true,anchor:null,initialize:function(h,d,g,c,b,f,e){var a=[h,d,g,c,f,e];OpenLayers.Popup.prototype.initialize.apply(this,a);this.anchor=(b!=null)?b:{size:new OpenLayers.Size(0,0),offset:new OpenLayers.Pixel(0,0)}},destroy:function(){this.anchor=null;this.relativePosition=null;OpenLayers.Popup.prototype.destroy.apply(this,arguments)},show:function(){this.updatePosition();OpenLayers.Popup.prototype.show.apply(this,arguments)},moveTo:function(c){var b=this.relativePosition;this.relativePosition=this.calculateRelativePosition(c);var d=this.calculateNewPx(c);var a=new Array(d);OpenLayers.Popup.prototype.moveTo.apply(this,a);if(this.relativePosition!=b){this.updateRelativePosition()}},setSize:function(b){OpenLayers.Popup.prototype.setSize.apply(this,arguments);if((this.lonlat)&&(this.map)){var a=this.map.getLayerPxFromLonLat(this.lonlat);this.moveTo(a)}},calculateRelativePosition:function(b){var d=this.map.getLonLatFromLayerPx(b);var c=this.map.getExtent();var a=c.determineQuadrant(d);return OpenLayers.Bounds.oppositeQuadrant(a)},updateRelativePosition:function(){},calculateNewPx:function(b){var e=b.offset(this.anchor.offset);var a=this.size||this.contentSize;var d=(this.relativePosition.charAt(0)=="t");e.y+=(d)?-a.h:this.anchor.size.h;var c=(this.relativePosition.charAt(1)=="l");e.x+=(c)?-a.w:this.anchor.size.w;return e},CLASS_NAME:"OpenLayers.Popup.Anchored"});OpenLayers.Popup.Framed=OpenLayers.Class(OpenLayers.Popup.Anchored,{imageSrc:null,imageSize:null,isAlphaImage:false,positionBlocks:null,blocks:null,fixedRelativePosition:false,initialize:function(g,c,f,b,a,e,d){OpenLayers.Popup.Anchored.prototype.initialize.apply(this,arguments);
if(this.fixedRelativePosition){this.updateRelativePosition();this.calculateRelativePosition=function(h){return this.relativePosition}}this.contentDiv.style.position="absolute";this.contentDiv.style.zIndex=1;if(e){this.closeDiv.style.zIndex=1}this.groupDiv.style.position="absolute";this.groupDiv.style.top="0px";this.groupDiv.style.left="0px";this.groupDiv.style.height="100%";this.groupDiv.style.width="100%"},destroy:function(){this.imageSrc=null;this.imageSize=null;this.isAlphaImage=null;this.fixedRelativePosition=false;this.positionBlocks=null;for(var a=0;a<this.blocks.length;a++){var b=this.blocks[a];if(b.image){b.div.removeChild(b.image)}b.image=null;if(b.div){this.groupDiv.removeChild(b.div)}b.div=null}this.blocks=null;OpenLayers.Popup.Anchored.prototype.destroy.apply(this,arguments)},setBackgroundColor:function(a){},setBorder:function(){},setOpacity:function(a){},setSize:function(a){OpenLayers.Popup.Anchored.prototype.setSize.apply(this,arguments);this.updateBlocks()},updateRelativePosition:function(){this.padding=this.positionBlocks[this.relativePosition].padding;if(this.closeDiv){var a=this.getContentDivPadding();this.closeDiv.style.right=a.right+this.padding.right+"px";this.closeDiv.style.top=a.top+this.padding.top+"px"}this.updateBlocks()},calculateNewPx:function(a){var b=OpenLayers.Popup.Anchored.prototype.calculateNewPx.apply(this,arguments);b=b.offset(this.positionBlocks[this.relativePosition].offset);return b},createBlocks:function(){this.blocks=[];var f=null;for(var e in this.positionBlocks){f=e;break}var a=this.positionBlocks[f];for(var d=0;d<a.blocks.length;d++){var h={};this.blocks.push(h);var b=this.id+"_FrameDecorationDiv_"+d;h.div=OpenLayers.Util.createDiv(b,null,null,null,"absolute",null,"hidden",null);var c=this.id+"_FrameDecorationImg_"+d;var g=(this.isAlphaImage)?OpenLayers.Util.createAlphaImageDiv:OpenLayers.Util.createImage;h.image=g(c,null,this.imageSize,this.imageSrc,"absolute",null,null,null);h.div.appendChild(h.image);this.groupDiv.appendChild(h.div)}},updateBlocks:function(){if(!this.blocks){this.createBlocks()}if(this.size&&this.relativePosition){var j=this.positionBlocks[this.relativePosition];for(var f=0;f<j.blocks.length;f++){var c=j.blocks[f];var e=this.blocks[f];var d=c.anchor.left;var k=c.anchor.bottom;var a=c.anchor.right;var n=c.anchor.top;var m=(isNaN(c.size.w))?this.size.w-(a+d):c.size.w;var g=(isNaN(c.size.h))?this.size.h-(k+n):c.size.h;e.div.style.width=(m<0?0:m)+"px";e.div.style.height=(g<0?0:g)+"px";e.div.style.left=(d!=null)?d+"px":"";e.div.style.bottom=(k!=null)?k+"px":"";e.div.style.right=(a!=null)?a+"px":"";e.div.style.top=(n!=null)?n+"px":"";e.image.style.left=c.position.x+"px";e.image.style.top=c.position.y+"px"}this.contentDiv.style.left=this.padding.left+"px";this.contentDiv.style.top=this.padding.top+"px"}},CLASS_NAME:"OpenLayers.Popup.Framed"});OpenLayers.Lang.ar=OpenLayers.Util.applyDefaults({Permalink:"وصلة دائمة","Base Layer":"الطبقة الاساسية",readNotImplemented:"القراءة غير محققة.",writeNotImplemented:"الكتابة غير محققة",errorLoadingGML:"خطأ عند تحميل الملف جي ام ال ${url}","Scale = 1 : ${scaleDenom}":"النسبة = 1 : ${scaleDenom}",W:"غ",E:"شر",N:"شم",S:"ج"});OpenLayers.Layer.XYZ=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:true,sphericalMercator:false,zoomOffset:0,serverResolutions:null,initialize:function(d,c,b){if(b&&b.sphericalMercator||this.sphericalMercator){b=OpenLayers.Util.extend({maxExtent:new OpenLayers.Bounds(-128*156543.03390625,-128*156543.03390625,128*156543.03390625,128*156543.03390625),maxResolution:156543.03390625,numZoomLevels:19,units:"m",projection:"EPSG:900913"},b)}c=c||this.url;d=d||this.name;var a=[d,c,{},b];OpenLayers.Layer.Grid.prototype.initialize.apply(this,a)},clone:function(a){if(a==null){a=new OpenLayers.Layer.XYZ(this.name,this.url,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(d){var a=this.getXYZ(d);var b=this.url;if(OpenLayers.Util.isArray(b)){var c=""+a.x+a.y+a.z;b=this.selectUrl(c,b)}return OpenLayers.String.format(b,a)},getXYZ:function(d){var c=this.map.getResolution();
var a=Math.round((d.left-this.maxExtent.left)/(c*this.tileSize.w));var f=Math.round((this.maxExtent.top-d.top)/(c*this.tileSize.h));var e=this.serverResolutions!=null?OpenLayers.Util.indexOf(this.serverResolutions,c):this.map.getZoom()+this.zoomOffset;var b=Math.pow(2,e);if(this.wrapDateLine){a=((a%b)+b)%b}return{x:a,y:f,z:e}},setMap:function(a){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments);if(!this.tileOrigin){this.tileOrigin=new OpenLayers.LonLat(this.maxExtent.left,this.maxExtent.bottom)}},CLASS_NAME:"OpenLayers.Layer.XYZ"});OpenLayers.Layer.OSM=OpenLayers.Class(OpenLayers.Layer.XYZ,{name:"OpenStreetMap",attribution:"Data CC-By-SA by <a href='http://openstreetmap.org/'>OpenStreetMap</a>",sphericalMercator:true,url:"http://tile.openstreetmap.org/${z}/${x}/${y}.png",clone:function(a){if(a==null){a=new OpenLayers.Layer.OSM(this.name,this.url,this.getOptions())}a=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a]);return a},wrapDateLine:true,CLASS_NAME:"OpenLayers.Layer.OSM"});OpenLayers.Handler.Box=OpenLayers.Class(OpenLayers.Handler,{dragHandler:null,boxDivClassName:"olHandlerBoxZoomBox",boxOffsets:null,initialize:function(c,b,a){OpenLayers.Handler.prototype.initialize.apply(this,arguments);this.dragHandler=new OpenLayers.Handler.Drag(this,{down:this.startBox,move:this.moveBox,out:this.removeBox,up:this.endBox},{keyMask:this.keyMask})},destroy:function(){OpenLayers.Handler.prototype.destroy.apply(this,arguments);if(this.dragHandler){this.dragHandler.destroy();this.dragHandler=null}},setMap:function(a){OpenLayers.Handler.prototype.setMap.apply(this,arguments);if(this.dragHandler){this.dragHandler.setMap(a)}},startBox:function(a){this.callback("start",[]);this.zoomBox=OpenLayers.Util.createDiv("zoomBox",new OpenLayers.Pixel(-9999,-9999));this.zoomBox.className=this.boxDivClassName;this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.eventsDiv.appendChild(this.zoomBox);OpenLayers.Element.addClass(this.map.eventsDiv,"olDrawBox")},moveBox:function(e){var d=this.dragHandler.start.x;var b=this.dragHandler.start.y;var c=Math.abs(d-e.x);var a=Math.abs(b-e.y);var f=this.getBoxOffsets();this.zoomBox.style.width=(c+f.width+1)+"px";this.zoomBox.style.height=(a+f.height+1)+"px";this.zoomBox.style.left=(e.x<d?d-c-f.left:d-f.left)+"px";this.zoomBox.style.top=(e.y<b?b-a-f.top:b-f.top)+"px"},endBox:function(b){var a;if(Math.abs(this.dragHandler.start.x-b.x)>5||Math.abs(this.dragHandler.start.y-b.y)>5){var g=this.dragHandler.start;var f=Math.min(g.y,b.y);var c=Math.max(g.y,b.y);var e=Math.min(g.x,b.x);var d=Math.max(g.x,b.x);a=new OpenLayers.Bounds(e,c,d,f)}else{a=this.dragHandler.start.clone()}this.removeBox();this.callback("done",[a])},removeBox:function(){this.map.eventsDiv.removeChild(this.zoomBox);this.zoomBox=null;this.boxOffsets=null;OpenLayers.Element.removeClass(this.map.eventsDiv,"olDrawBox")},activate:function(){if(OpenLayers.Handler.prototype.activate.apply(this,arguments)){this.dragHandler.activate();return true}else{return false}},deactivate:function(){if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){if(this.dragHandler.deactivate()){if(this.zoomBox){this.removeBox()}}return true}else{return false}},getBoxOffsets:function(){if(!this.boxOffsets){var d=document.createElement("div");d.style.position="absolute";d.style.border="1px solid black";d.style.width="3px";document.body.appendChild(d);var a=d.clientWidth==3;document.body.removeChild(d);var f=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-left-width"));var c=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-right-width"));var e=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-top-width"));var b=parseInt(OpenLayers.Element.getStyle(this.zoomBox,"border-bottom-width"));this.boxOffsets={left:f,right:c,top:e,bottom:b,width:a===false?f+c:0,height:a===false?e+b:0}}return this.boxOffsets},CLASS_NAME:"OpenLayers.Handler.Box"});OpenLayers.Control.ZoomBox=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,out:false,alwaysZoom:false,draw:function(){this.handler=new OpenLayers.Handler.Box(this,{done:this.zoomBox},{keyMask:this.keyMask})
},zoomBox:function(h){if(h instanceof OpenLayers.Bounds){var b;if(!this.out){var i=this.map.getLonLatFromPixel(new OpenLayers.Pixel(h.left,h.bottom));var m=this.map.getLonLatFromPixel(new OpenLayers.Pixel(h.right,h.top));b=new OpenLayers.Bounds(i.lon,i.lat,m.lon,m.lat)}else{var g=Math.abs(h.right-h.left);var j=Math.abs(h.top-h.bottom);var e=Math.min((this.map.size.h/j),(this.map.size.w/g));var n=this.map.getExtent();var a=this.map.getLonLatFromPixel(h.getCenterPixel());var c=a.lon-(n.getWidth()/2)*e;var f=a.lon+(n.getWidth()/2)*e;var l=a.lat-(n.getHeight()/2)*e;var d=a.lat+(n.getHeight()/2)*e;b=new OpenLayers.Bounds(c,l,f,d)}var k=this.map.getZoom();this.map.zoomToExtent(b);if(k==this.map.getZoom()&&this.alwaysZoom==true){this.map.zoomTo(k+(this.out?-1:1))}}else{if(!this.out){this.map.setCenter(this.map.getLonLatFromPixel(h),this.map.getZoom()+1)}else{this.map.setCenter(this.map.getLonLatFromPixel(h),this.map.getZoom()-1)}}},CLASS_NAME:"OpenLayers.Control.ZoomBox"});OpenLayers.Control.DragPan=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOOL,panned:false,interval:1,documentDrag:false,kinetic:null,enableKinetic:false,kineticInterval:10,draw:function(){if(this.enableKinetic){var a={interval:this.kineticInterval};if(typeof this.enableKinetic==="object"){a=OpenLayers.Util.extend(a,this.enableKinetic)}this.kinetic=new OpenLayers.Kinetic(a)}this.handler=new OpenLayers.Handler.Drag(this,{move:this.panMap,done:this.panMapDone,down:this.panMapStart},{interval:this.interval,documentDrag:this.documentDrag})},panMapStart:function(){if(this.kinetic){this.kinetic.begin()}},panMap:function(a){if(this.kinetic){this.kinetic.update(a)}this.panned=true;this.map.pan(this.handler.last.x-a.x,this.handler.last.y-a.y,{dragging:true,animate:false})},panMapDone:function(c){if(this.panned){var b=null;if(this.kinetic){b=this.kinetic.end(c)}this.map.pan(this.handler.last.x-c.x,this.handler.last.y-c.y,{dragging:!!b,animate:false});if(b){var a=this;this.kinetic.move(b,function(d,f,e){a.map.pan(d,f,{dragging:!e,animate:false})})}this.panned=false}},CLASS_NAME:"OpenLayers.Control.DragPan"});OpenLayers.Handler.Click=OpenLayers.Class(OpenLayers.Handler,{delay:300,single:true,"double":false,pixelTolerance:0,dblclickTolerance:13,stopSingle:false,stopDouble:false,timerId:null,touch:false,down:null,last:null,first:null,rightclickTimerId:null,initialize:function(c,b,a){OpenLayers.Handler.prototype.initialize.apply(this,arguments)},touchstart:function(a){if(!this.touch){this.unregisterMouseListeners();this.touch=true}this.down=this.getEventInfo(a);this.last=this.getEventInfo(a);return true},touchmove:function(a){this.last=this.getEventInfo(a);return true},touchend:function(a){if(this.down){a.xy=this.last.xy;a.lastTouches=this.last.touches;this.handleSingle(a);this.down=null}return true},unregisterMouseListeners:function(){this.map.events.un({mousedown:this.mousedown,mouseup:this.mouseup,click:this.click,dblclick:this.dblclick,scope:this})},mousedown:function(a){this.down=this.getEventInfo(a);this.last=this.getEventInfo(a);return true},mouseup:function(b){var a=true;if(this.checkModifiers(b)&&this.control.handleRightClicks&&OpenLayers.Event.isRightClick(b)){a=this.rightclick(b)}return a},rightclick:function(b){if(this.passesTolerance(b)){if(this.rightclickTimerId!=null){this.clearTimer();this.callback("dblrightclick",[b]);return !this.stopDouble}else{var a=this["double"]?OpenLayers.Util.extend({},b):this.callback("rightclick",[b]);var c=OpenLayers.Function.bind(this.delayedRightCall,this,a);this.rightclickTimerId=window.setTimeout(c,this.delay)}}return !this.stopSingle},delayedRightCall:function(a){this.rightclickTimerId=null;if(a){this.callback("rightclick",[a])}},click:function(a){if(!this.last){this.last=this.getEventInfo(a)}this.handleSingle(a);return !this.stopSingle},dblclick:function(a){this.handleDouble(a);return !this.stopDouble},handleDouble:function(a){if(this["double"]&&this.passesDblclickTolerance(a)){this.callback("dblclick",[a])}},handleSingle:function(b){if(this.passesTolerance(b)){if(this.timerId!=null){if(this.last.touches&&this.last.touches.length===1){if(this["double"]){OpenLayers.Event.stop(b)
}this.handleDouble(b)}if(!this.last.touches||this.last.touches.length!==2){this.clearTimer()}}else{this.first=this.getEventInfo(b);var a=this.single?OpenLayers.Util.extend({},b):null;this.queuePotentialClick(a)}}},queuePotentialClick:function(a){this.timerId=window.setTimeout(OpenLayers.Function.bind(this.delayedCall,this,a),this.delay)},passesTolerance:function(a){var d=true;if(this.pixelTolerance!=null&&this.down&&this.down.xy){d=this.pixelTolerance>=this.down.xy.distanceTo(a.xy);if(d&&this.touch&&this.down.touches.length===this.last.touches.length){for(var b=0,c=this.down.touches.length;b<c;++b){if(this.getTouchDistance(this.down.touches[b],this.last.touches[b])>this.pixelTolerance){d=false;break}}}}return d},getTouchDistance:function(b,a){return Math.sqrt(Math.pow(b.clientX-a.clientX,2)+Math.pow(b.clientY-a.clientY,2))},passesDblclickTolerance:function(a){var b=true;if(this.down&&this.first){b=this.down.xy.distanceTo(this.first.xy)<=this.dblclickTolerance}return b},clearTimer:function(){if(this.timerId!=null){window.clearTimeout(this.timerId);this.timerId=null}if(this.rightclickTimerId!=null){window.clearTimeout(this.rightclickTimerId);this.rightclickTimerId=null}},delayedCall:function(a){this.timerId=null;if(a){this.callback("click",[a])}},getEventInfo:function(b){var d;if(b.touches){var a=b.touches.length;d=new Array(a);var e;for(var c=0;c<a;c++){e=b.touches[c];d[c]={clientX:e.clientX,clientY:e.clientY}}}return{xy:b.xy,touches:d}},deactivate:function(){var a=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.clearTimer();this.down=null;this.first=null;this.last=null;this.touch=false;a=true}return a},CLASS_NAME:"OpenLayers.Handler.Click"});OpenLayers.Control.Navigation=OpenLayers.Class(OpenLayers.Control,{dragPan:null,dragPanOptions:null,pinchZoom:null,pinchZoomOptions:null,documentDrag:false,zoomBox:null,zoomBoxEnabled:true,zoomWheelEnabled:true,mouseWheelOptions:null,handleRightClicks:false,zoomBoxKeyMask:OpenLayers.Handler.MOD_SHIFT,autoActivate:true,initialize:function(a){this.handlers={};OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.deactivate();if(this.dragPan){this.dragPan.destroy()}this.dragPan=null;if(this.zoomBox){this.zoomBox.destroy()}this.zoomBox=null;if(this.pinchZoom){this.pinchZoom.destroy()}this.pinchZoom=null;OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){this.dragPan.activate();if(this.zoomWheelEnabled){this.handlers.wheel.activate()}this.handlers.click.activate();if(this.zoomBoxEnabled){this.zoomBox.activate()}if(this.pinchZoom){this.pinchZoom.activate()}return OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){if(this.pinchZoom){this.pinchZoom.deactivate()}this.zoomBox.deactivate();this.dragPan.deactivate();this.handlers.click.deactivate();this.handlers.wheel.deactivate();return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},draw:function(){if(this.handleRightClicks){this.map.viewPortDiv.oncontextmenu=OpenLayers.Function.False}var a={click:this.defaultClick,dblclick:this.defaultDblClick,dblrightclick:this.defaultDblRightClick};var b={"double":true,stopDouble:true};this.handlers.click=new OpenLayers.Handler.Click(this,a,b);this.dragPan=new OpenLayers.Control.DragPan(OpenLayers.Util.extend({map:this.map,documentDrag:this.documentDrag},this.dragPanOptions));this.zoomBox=new OpenLayers.Control.ZoomBox({map:this.map,keyMask:this.zoomBoxKeyMask});this.dragPan.draw();this.zoomBox.draw();this.handlers.wheel=new OpenLayers.Handler.MouseWheel(this,{up:this.wheelUp,down:this.wheelDown},this.mouseWheelOptions);if(OpenLayers.Control.PinchZoom){this.pinchZoom=new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({map:this.map},this.pinchZoomOptions))}},defaultClick:function(a){if(a.lastTouches&&a.lastTouches.length==2){this.map.zoomOut()}},defaultDblClick:function(b){var a=this.map.getLonLatFromViewPortPx(b.xy);this.map.setCenter(a,this.map.zoom+1)},defaultDblRightClick:function(b){var a=this.map.getLonLatFromViewPortPx(b.xy);this.map.setCenter(a,this.map.zoom-1)
},wheelChange:function(i,c){var h=this.map.getZoom();var f=this.map.getZoom()+Math.round(c);f=Math.max(f,0);f=Math.min(f,this.map.getNumZoomLevels());if(f===h){return}var j=this.map.getSize();var e=j.w/2-i.xy.x;var d=i.xy.y-j.h/2;var g=this.map.baseLayer.getResolutionForZoom(f);var a=this.map.getLonLatFromPixel(i.xy);var b=new OpenLayers.LonLat(a.lon+e*g,a.lat+d*g);this.map.setCenter(b,f)},wheelUp:function(a,b){this.wheelChange(a,b||1)},wheelDown:function(a,b){this.wheelChange(a,b||-1)},disableZoomBox:function(){this.zoomBoxEnabled=false;this.zoomBox.deactivate()},enableZoomBox:function(){this.zoomBoxEnabled=true;if(this.active){this.zoomBox.activate()}},disableZoomWheel:function(){this.zoomWheelEnabled=false;this.handlers.wheel.deactivate()},enableZoomWheel:function(){this.zoomWheelEnabled=true;if(this.active){this.handlers.wheel.activate()}},CLASS_NAME:"OpenLayers.Control.Navigation"});OpenLayers.Control.DrawFeature=OpenLayers.Class(OpenLayers.Control,{layer:null,callbacks:null,EVENT_TYPES:["featureadded"],multi:false,featureAdded:function(){},handlerOptions:null,initialize:function(b,c,a){this.EVENT_TYPES=OpenLayers.Control.DrawFeature.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);OpenLayers.Control.prototype.initialize.apply(this,[a]);this.callbacks=OpenLayers.Util.extend({done:this.drawFeature,modify:function(f,e){this.layer.events.triggerEvent("sketchmodified",{vertex:f,feature:e})},create:function(f,e){this.layer.events.triggerEvent("sketchstarted",{vertex:f,feature:e})}},this.callbacks);this.layer=b;this.handlerOptions=this.handlerOptions||{};if(!("multi" in this.handlerOptions)){this.handlerOptions.multi=this.multi}var d=this.layer.styleMap&&this.layer.styleMap.styles.temporary;if(d){this.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions,{styleMap:new OpenLayers.StyleMap({"default":d})})}this.handler=new c(this,this.callbacks,this.handlerOptions)},drawFeature:function(c){var a=new OpenLayers.Feature.Vector(c);var b=this.layer.events.triggerEvent("sketchcomplete",{feature:a});if(b!==false){a.state=OpenLayers.State.INSERT;this.layer.addFeatures([a]);this.featureAdded(a);this.events.triggerEvent("featureadded",{feature:a})}},insertXY:function(a,b){if(this.handler&&this.handler.line){this.handler.insertXY(a,b)}},insertDeltaXY:function(b,a){if(this.handler&&this.handler.line){this.handler.insertDeltaXY(b,a)}},insertDirectionLength:function(b,a){if(this.handler&&this.handler.line){this.handler.insertDirectionLength(b,a)}},insertDeflectionLength:function(b,a){if(this.handler&&this.handler.line){this.handler.insertDeflectionLength(b,a)}},undo:function(){return this.handler.undo&&this.handler.undo()},redo:function(){return this.handler.redo&&this.handler.redo()},finishSketch:function(){this.handler.finishGeometry()},cancel:function(){this.handler.cancel()},CLASS_NAME:"OpenLayers.Control.DrawFeature"});OpenLayers.Handler.Polygon=OpenLayers.Class(OpenLayers.Handler.Path,{holeModifier:null,drawingHole:false,polygon:null,initialize:function(c,b,a){OpenLayers.Handler.Path.prototype.initialize.apply(this,arguments)},createFeature:function(a){var b=this.map.getLonLatFromPixel(a);var c=new OpenLayers.Geometry.Point(b.lon,b.lat);this.point=new OpenLayers.Feature.Vector(c);this.line=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LinearRing([this.point.geometry]));this.polygon=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Polygon([this.line.geometry]));this.callback("create",[this.point.geometry,this.getSketch()]);this.point.geometry.clearBounds();this.layer.addFeatures([this.polygon,this.point],{silent:true})},addPoint:function(a){if(!this.drawingHole&&this.holeModifier&&this.evt&&this.evt[this.holeModifier]){var f=this.point.geometry;var e=this.control.layer.features;var d,c;for(var b=e.length-1;b>=0;--b){d=e[b].geometry;if((d instanceof OpenLayers.Geometry.Polygon||d instanceof OpenLayers.Geometry.MultiPolygon)&&d.intersects(f)){c=e[b];this.control.layer.removeFeatures([c],{silent:true});this.control.layer.events.registerPriority("sketchcomplete",this,this.finalizeInteriorRing);
this.control.layer.events.registerPriority("sketchmodified",this,this.enforceTopology);c.geometry.addComponent(this.line.geometry);this.polygon=c;this.drawingHole=true;break}}}OpenLayers.Handler.Path.prototype.addPoint.apply(this,arguments)},getCurrentPointIndex:function(){return this.line.geometry.components.length-2},enforceTopology:function(d){var a=d.vertex;var c=this.line.geometry.components;if(!this.polygon.geometry.intersects(a)){var b=c[c.length-3];a.x=b.x;a.y=b.y}},finishGeometry:function(){var a=this.line.geometry.components.length-2;this.line.geometry.removeComponent(this.line.geometry.components[a]);this.removePoint();this.finalize()},finalizeInteriorRing:function(){var c=this.line.geometry;var b=(c.getArea()!==0);if(b){var h=this.polygon.geometry.components;for(var d=h.length-2;d>=0;--d){if(c.intersects(h[d])){b=false;break}}if(b){var g;outer:for(var d=h.length-2;d>0;--d){var e=h[d].components;for(var a=0,f=e.length;a<f;++a){if(c.containsPoint(e[a])){b=false;break outer}}}}}if(b){if(this.polygon.state!==OpenLayers.State.INSERT){this.polygon.state=OpenLayers.State.UPDATE}}else{this.polygon.geometry.removeComponent(c)}this.restoreFeature();return false},cancel:function(){if(this.drawingHole){this.polygon.geometry.removeComponent(this.line.geometry);this.restoreFeature(true)}return OpenLayers.Handler.Path.prototype.cancel.apply(this,arguments)},restoreFeature:function(a){this.control.layer.events.unregister("sketchcomplete",this,this.finalizeInteriorRing);this.control.layer.events.unregister("sketchmodified",this,this.enforceTopology);this.layer.removeFeatures([this.polygon],{silent:true});this.control.layer.addFeatures([this.polygon],{silent:true});this.drawingHole=false;if(!a){this.control.layer.events.triggerEvent("sketchcomplete",{feature:this.polygon})}},destroyFeature:function(a){OpenLayers.Handler.Path.prototype.destroyFeature.call(this,a);this.polygon=null},drawFeature:function(){this.layer.drawFeature(this.polygon,this.style);this.layer.drawFeature(this.point,this.style)},getSketch:function(){return this.polygon},getGeometry:function(){var a=this.polygon&&this.polygon.geometry;if(a&&this.multi){a=new OpenLayers.Geometry.MultiPolygon([a])}return a},CLASS_NAME:"OpenLayers.Handler.Polygon"});OpenLayers.Control.EditingToolbar=OpenLayers.Class(OpenLayers.Control.Panel,{initialize:function(c,b){OpenLayers.Control.Panel.prototype.initialize.apply(this,[b]);this.addControls([new OpenLayers.Control.Navigation()]);var a=[new OpenLayers.Control.DrawFeature(c,OpenLayers.Handler.Point,{displayClass:"olControlDrawFeaturePoint"}),new OpenLayers.Control.DrawFeature(c,OpenLayers.Handler.Path,{displayClass:"olControlDrawFeaturePath"}),new OpenLayers.Control.DrawFeature(c,OpenLayers.Handler.Polygon,{displayClass:"olControlDrawFeaturePolygon"})];this.addControls(a)},draw:function(){var a=OpenLayers.Control.Panel.prototype.draw.apply(this,arguments);if(this.defaultControl===null){this.defaultControl=this.controls[0]}return a},CLASS_NAME:"OpenLayers.Control.EditingToolbar"});OpenLayers.Rico=OpenLayers.Rico||{};OpenLayers.Rico.Color=OpenLayers.Class({initialize:function(c,b,a){this.rgb={r:c,g:b,b:a}},setRed:function(a){this.rgb.r=a},setGreen:function(a){this.rgb.g=a},setBlue:function(a){this.rgb.b=a},setHue:function(b){var a=this.asHSB();a.h=b;this.rgb=OpenLayers.Rico.Color.HSBtoRGB(a.h,a.s,a.b)},setSaturation:function(b){var a=this.asHSB();a.s=b;this.rgb=OpenLayers.Rico.Color.HSBtoRGB(a.h,a.s,a.b)},setBrightness:function(a){var c=this.asHSB();c.b=a;this.rgb=OpenLayers.Rico.Color.HSBtoRGB(c.h,c.s,c.b)},darken:function(b){var a=this.asHSB();this.rgb=OpenLayers.Rico.Color.HSBtoRGB(a.h,a.s,Math.max(a.b-b,0))},brighten:function(b){var a=this.asHSB();this.rgb=OpenLayers.Rico.Color.HSBtoRGB(a.h,a.s,Math.min(a.b+b,1))},blend:function(a){this.rgb.r=Math.floor((this.rgb.r+a.rgb.r)/2);this.rgb.g=Math.floor((this.rgb.g+a.rgb.g)/2);this.rgb.b=Math.floor((this.rgb.b+a.rgb.b)/2)},isBright:function(){var a=this.asHSB();return this.asHSB().b>0.5},isDark:function(){return !this.isBright()},asRGB:function(){return"rgb("+this.rgb.r+","+this.rgb.g+","+this.rgb.b+")"
},asHex:function(){return"#"+this.rgb.r.toColorPart()+this.rgb.g.toColorPart()+this.rgb.b.toColorPart()},asHSB:function(){return OpenLayers.Rico.Color.RGBtoHSB(this.rgb.r,this.rgb.g,this.rgb.b)},toString:function(){return this.asHex()}});OpenLayers.Rico.Color.createFromHex=function(d){if(d.length==4){var b=d;var d="#";for(var c=1;c<4;c++){d+=(b.charAt(c)+b.charAt(c))}}if(d.indexOf("#")==0){d=d.substring(1)}var f=d.substring(0,2);var e=d.substring(2,4);var a=d.substring(4,6);return new OpenLayers.Rico.Color(parseInt(f,16),parseInt(e,16),parseInt(a,16))};OpenLayers.Rico.Color.createColorFromBackground=function(d){var b=OpenLayers.Element.getStyle(OpenLayers.Util.getElement(d),"backgroundColor");if(b=="transparent"&&d.parentNode){return OpenLayers.Rico.Color.createColorFromBackground(d.parentNode)}if(b==null){return new OpenLayers.Rico.Color(255,255,255)}if(b.indexOf("rgb(")==0){var a=b.substring(4,b.length-1);var c=a.split(",");return new OpenLayers.Rico.Color(parseInt(c[0]),parseInt(c[1]),parseInt(c[2]))}else{if(b.indexOf("#")==0){return OpenLayers.Rico.Color.createFromHex(b)}else{return new OpenLayers.Rico.Color(255,255,255)}}};OpenLayers.Rico.Color.HSBtoRGB=function(i,e,k){var c=0;var d=0;var l=0;if(e==0){c=parseInt(k*255+0.5);d=c;l=c}else{var g=(i-Math.floor(i))*6;var j=g-Math.floor(g);var b=k*(1-e);var a=k*(1-e*j);var m=k*(1-(e*(1-j)));switch(parseInt(g)){case 0:c=(k*255+0.5);d=(m*255+0.5);l=(b*255+0.5);break;case 1:c=(a*255+0.5);d=(k*255+0.5);l=(b*255+0.5);break;case 2:c=(b*255+0.5);d=(k*255+0.5);l=(m*255+0.5);break;case 3:c=(b*255+0.5);d=(a*255+0.5);l=(k*255+0.5);break;case 4:c=(m*255+0.5);d=(b*255+0.5);l=(k*255+0.5);break;case 5:c=(k*255+0.5);d=(b*255+0.5);l=(a*255+0.5);break}}return{r:parseInt(c),g:parseInt(d),b:parseInt(l)}};OpenLayers.Rico.Color.RGBtoHSB=function(a,f,l){var h;var e;var k;var m=(a>f)?a:f;if(l>m){m=l}var i=(a<f)?a:f;if(l<i){i=l}k=m/255;if(m!=0){e=(m-i)/m}else{e=0}if(e==0){h=0}else{var c=(m-a)/(m-i);var j=(m-f)/(m-i);var d=(m-l)/(m-i);if(a==m){h=d-j}else{if(f==m){h=2+c-d}else{h=4+j-c}}h=h/6;if(h<0){h=h+1}}return{h:h,s:e,b:k}};OpenLayers.Popup.AnchoredBubble=OpenLayers.Class(OpenLayers.Popup.Anchored,{rounded:false,initialize:function(g,c,f,b,a,e,d){this.padding=new OpenLayers.Bounds(0,OpenLayers.Popup.AnchoredBubble.CORNER_SIZE,0,OpenLayers.Popup.AnchoredBubble.CORNER_SIZE);OpenLayers.Popup.Anchored.prototype.initialize.apply(this,arguments)},draw:function(a){OpenLayers.Popup.Anchored.prototype.draw.apply(this,arguments);this.setContentHTML();this.setBackgroundColor();this.setOpacity();return this.div},updateRelativePosition:function(){this.setRicoCorners()},setSize:function(a){OpenLayers.Popup.Anchored.prototype.setSize.apply(this,arguments);this.setRicoCorners()},setBackgroundColor:function(a){if(a!=undefined){this.backgroundColor=a}if(this.div!=null){if(this.contentDiv!=null){this.div.style.background="transparent";OpenLayers.Rico.Corner.changeColor(this.groupDiv,this.backgroundColor)}}},setOpacity:function(a){OpenLayers.Popup.Anchored.prototype.setOpacity.call(this,a);if(this.div!=null){if(this.groupDiv!=null){OpenLayers.Rico.Corner.changeOpacity(this.groupDiv,this.opacity)}}},setBorder:function(a){this.border=0},setRicoCorners:function(){var a=this.getCornersToRound(this.relativePosition);var b={corners:a,color:this.backgroundColor,bgColor:"transparent",blend:false};if(!this.rounded){OpenLayers.Rico.Corner.round(this.div,b);this.rounded=true}else{OpenLayers.Rico.Corner.reRound(this.groupDiv,b);this.setBackgroundColor();this.setOpacity()}},getCornersToRound:function(){var a=["tl","tr","bl","br"];var b=OpenLayers.Bounds.oppositeQuadrant(this.relativePosition);OpenLayers.Util.removeItem(a,b);return a.join(" ")},CLASS_NAME:"OpenLayers.Popup.AnchoredBubble"});OpenLayers.Popup.AnchoredBubble.CORNER_SIZE=5;OpenLayers.Strategy.BBOX=OpenLayers.Class(OpenLayers.Strategy,{bounds:null,resolution:null,ratio:2,resFactor:null,response:null,activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);if(a){this.layer.events.on({moveend:this.update,scope:this});this.layer.events.on({refresh:this.update,scope:this});
if(this.layer.visibility===true&&this.layer.inRange===true){this.update()}else{this.layer.events.on({visibilitychanged:this.update,scope:this})}}return a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);if(a){this.layer.events.un({moveend:this.update,refresh:this.update,visibilitychanged:this.update,scope:this})}return a},update:function(b){var a=this.getMapBounds();if(a!==null&&((b&&b.force)||this.invalidBounds(a))){this.calculateBounds(a);this.resolution=this.layer.map.getResolution();this.triggerRead(b)}},getMapBounds:function(){if(this.layer.map===null){return null}var a=this.layer.map.getExtent();if(a&&!this.layer.projection.equals(this.layer.map.getProjectionObject())){a=a.clone().transform(this.layer.map.getProjectionObject(),this.layer.projection)}return a},invalidBounds:function(a){if(!a){a=this.getMapBounds()}var c=!this.bounds||!this.bounds.containsBounds(a);if(!c&&this.resFactor){var b=this.resolution/this.layer.map.getResolution();c=(b>=this.resFactor||b<=(1/this.resFactor))}return c},calculateBounds:function(b){if(!b){b=this.getMapBounds()}var a=b.getCenterLonLat();var d=b.getWidth()*this.ratio;var c=b.getHeight()*this.ratio;this.bounds=new OpenLayers.Bounds(a.lon-(d/2),a.lat-(c/2),a.lon+(d/2),a.lat+(c/2))},triggerRead:function(a){if(this.response){this.layer.protocol.abort(this.response);this.layer.events.triggerEvent("loadend")}this.layer.events.triggerEvent("loadstart");this.response=this.layer.protocol.read(OpenLayers.Util.applyDefaults({filter:this.createFilter(),callback:this.merge,scope:this},a))},createFilter:function(){var a=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.BBOX,value:this.bounds,projection:this.layer.projection});if(this.layer.filter){a=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[this.layer.filter,a]})}return a},merge:function(g){this.layer.destroyFeatures();var e=g.features;if(e&&e.length>0){var f=this.layer.projection;var d=this.layer.map.getProjectionObject();if(!d.equals(f)){var c;for(var b=0,a=e.length;b<a;++b){c=e[b].geometry;if(c){c.transform(f,d)}}}this.layer.addFeatures(e)}this.response=null;this.layer.events.triggerEvent("loadend")},CLASS_NAME:"OpenLayers.Strategy.BBOX"});OpenLayers.Lang.nn=OpenLayers.Util.applyDefaults({"Scale = 1 : ${scaleDenom}":"Skala = 1 : ${scaleDenom}",layerAlreadyAdded:"Du freista å leggja til laget «${layerName}» på kartet, men det har alt vorte lagt til.",boundsAddError:"Du er nøydd til å gje både ein x- og ein y-verdi til «add»-funksjonen.",lonlatAddError:"Du er nøydd til å gje både lon- og lat-verdiar til «add»-funksjonen.",pixelAddError:"Du er nøydd til å gje både ein x- og ein y-verdi til «add»-funksjonen."});OpenLayers.Lang.fi=OpenLayers.Util.applyDefaults({Permalink:"Ikilinkki",Overlays:"Kerrokset","Base Layer":"Peruskerros",W:"L",E:"I",N:"P",S:"E"});OpenLayers.Layer.WorldWind=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{},isBaseLayer:true,lzd:null,zoomLevels:null,initialize:function(d,c,e,g,f,b){this.lzd=e;this.zoomLevels=g;var a=[];a.push(d,c,f,b);OpenLayers.Layer.Grid.prototype.initialize.apply(this,a);this.params=OpenLayers.Util.applyDefaults(this.params,this.DEFAULT_PARAMS)},getZoom:function(){var b=this.map.getZoom();var a=this.map.getMaxExtent();b=b-Math.log(this.maxResolution/(this.lzd/512))/Math.log(2);return b},getURL:function(e){e=this.adjustBounds(e);var d=this.getZoom();var b=this.map.getMaxExtent();var c=this.lzd/Math.pow(2,this.getZoom());var a=Math.floor((e.left-b.left)/c);var f=Math.floor((e.bottom-b.bottom)/c);if(this.map.getResolution()<=(this.lzd/512)&&this.getZoom()<=this.zoomLevels){return this.getFullRequestString({L:d,X:a,Y:f})}else{return OpenLayers.Util.getImagesLocation()+"blank.gif"}},CLASS_NAME:"OpenLayers.Layer.WorldWind"});OpenLayers.Lang.en={unhandledRequest:"Unhandled request return ${statusText}",Permalink:"Permalink",Overlays:"Overlays","Base Layer":"Base Layer",readNotImplemented:"Read not implemented.",writeNotImplemented:"Write not implemented.",noFID:"Can't update a feature for which there is no FID.",errorLoadingGML:"Error in loading GML file ${url}",browserNotSupported:"Your browser does not support vector rendering. Currently supported renderers are:\n${renderers}",componentShouldBe:"addFeatures : component should be an ${geomType}",getFeatureError:"getFeatureFromEvent called on layer with no renderer. This usually means you destroyed a layer, but not some handler which is associated with it.",minZoomLevelError:"The minZoomLevel property is only intended for use with the FixedZoomLevels-descendent layers. That this wfs layer checks for minZoomLevel is a relic of thepast. We cannot, however, remove it without possibly breaking OL based applications that may depend on it. Therefore we are deprecating it -- the minZoomLevel check below will be removed at 3.0. Please instead use min/max resolution setting as described here: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS Transaction: SUCCESS ${response}",commitFailed:"WFS Transaction: FAILED ${response}",googleWarning:"The Google Layer was unable to load correctly.<br><br>To get rid of this message, select a new BaseLayer in the layer switcher in the upper-right corner.<br><br>Most likely, this is because the Google Maps library script was either not included, or does not contain the correct API key for your site.<br><br>Developers: For help getting this working correctly, <a href='http://trac.openlayers.org/wiki/Google' target='_blank'>click here</a>",getLayerWarning:"The ${layerType} Layer was unable to load correctly.<br><br>To get rid of this message, select a new BaseLayer in the layer switcher in the upper-right corner.<br><br>Most likely, this is because the ${layerLib} library script was not correctly included.<br><br>Developers: For help getting this working correctly, <a href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'>click here</a>","Scale = 1 : ${scaleDenom}":"Scale = 1 : ${scaleDenom}",W:"W",E:"E",N:"N",S:"S",Graticule:"Graticule",layerAlreadyAdded:"You tried to add the layer: ${layerName} to the map, but it has already been added",reprojectDeprecated:"You are using the 'reproject' option on the ${layerName} layer. This option is deprecated: its use was designed to support displaying data over commercial basemaps, but that functionality should now be achieved by using Spherical Mercator support. More information is available from http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"This method has been deprecated and will be removed in 3.0. Please use ${newMethod} instead.",boundsAddError:"You must pass both x and y values to the add function.",lonlatAddError:"You must pass both lon and lat values to the add function.",pixelAddError:"You must pass both x and y values to the add function.",unsupportedGeometryType:"Unsupported geometry type: ${geomType}",filterEvaluateNotImplemented:"evaluate is not implemented for this filter type.",proxyNeeded:"You probably need to set OpenLayers.ProxyHost to access ${url}.See http://trac.osgeo.org/openlayers/wiki/FrequentlyAskedQuestions#ProxyHost",end:""};
OpenLayers.Layer.Google.v3={DEFAULTS:{maxExtent:new OpenLayers.Bounds(-128*156543.03390625,-128*156543.03390625,128*156543.03390625,128*156543.03390625),sphericalMercator:true,maxResolution:156543.03390625,units:"m",projection:"EPSG:900913"},animationEnabled:true,loadMapObject:function(){if(!this.type){this.type=google.maps.MapTypeId.ROADMAP}var d;var c=OpenLayers.Layer.Google.cache[this.map.id];if(c){d=c.mapObject;++c.count}else{var b=this.map.viewPortDiv;var e=document.createElement("div");e.id=this.map.id+"_GMapContainer";e.style.position="absolute";e.style.width="100%";e.style.height="100%";b.appendChild(e);var a=this.map.getCenter();d=new google.maps.Map(e,{center:a?new google.maps.LatLng(a.lat,a.lon):new google.maps.LatLng(0,0),zoom:this.map.getZoom()||0,mapTypeId:this.type,disableDefaultUI:true,keyboardShortcuts:false,draggable:false,disableDoubleClickZoom:true,scrollwheel:false,streetViewControl:false});c={mapObject:d,count:1};OpenLayers.Layer.Google.cache[this.map.id]=c;this.repositionListener=google.maps.event.addListenerOnce(d,"center_changed",OpenLayers.Function.bind(this.repositionMapElements,this))}this.mapObject=d;this.setGMapVisibility(this.visibility)},repositionMapElements:function(){google.maps.event.trigger(this.mapObject,"resize");var e=this.mapObject.getDiv().firstChild;if(!e||e.childNodes.length<3){this.repositionTimer=window.setTimeout(OpenLayers.Function.bind(this.repositionMapElements,this),250);return false}var d=OpenLayers.Layer.Google.cache[this.map.id];var b=this.map.viewPortDiv;while(e.lastChild.style.display=="none"){b.appendChild(e.lastChild)}var c=e.lastChild;b.appendChild(c);c.style.zIndex="1100";c.style.bottom="";c.className="olLayerGoogleCopyright olLayerGoogleV3";c.style.display="";d.termsOfUse=c;var a=e.lastChild;b.appendChild(a);a.style.zIndex="1100";a.style.bottom="";a.className="olLayerGooglePoweredBy olLayerGoogleV3 gmnoprint";a.style.display="";d.poweredBy=a;this.setGMapVisibility(this.visibility)},onMapResize:function(){if(this.visibility){google.maps.event.trigger(this.mapObject,"resize")}else{var a=OpenLayers.Layer.Google.cache[this.map.id];if(!a.resized){var b=this;google.maps.event.addListenerOnce(this.mapObject,"tilesloaded",function(){google.maps.event.trigger(b.mapObject,"resize");b.moveTo(b.map.getCenter(),b.map.getZoom());delete a.resized})}a.resized=true}},setGMapVisibility:function(g){var b=OpenLayers.Layer.Google.cache[this.map.id];if(b){var e=this.type;var f=this.map.layers;var d;for(var c=f.length-1;c>=0;--c){d=f[c];if(d instanceof OpenLayers.Layer.Google&&d.visibility===true&&d.inRange===true){e=d.type;g=true;break}}var a=this.mapObject.getDiv();if(g===true){this.mapObject.setMapTypeId(e);a.style.left="";if(b.termsOfUse&&b.termsOfUse.style){b.termsOfUse.style.left="";b.termsOfUse.style.display="";b.poweredBy.style.display=""}b.displayed=this.id}else{delete b.displayed;a.style.left="-9999px";if(b.termsOfUse&&b.termsOfUse.style){b.termsOfUse.style.display="none";b.termsOfUse.style.left="-9999px";b.poweredBy.style.display="none"}}}},getMapContainer:function(){return this.mapObject.getDiv()},getMapObjectBoundsFromOLBounds:function(c){var b=null;if(c!=null){var a=this.sphericalMercator?this.inverseMercator(c.bottom,c.left):new OpenLayers.LonLat(c.bottom,c.left);var d=this.sphericalMercator?this.inverseMercator(c.top,c.right):new OpenLayers.LonLat(c.top,c.right);b=new google.maps.LatLngBounds(new google.maps.LatLng(a.lat,a.lon),new google.maps.LatLng(d.lat,d.lon))}return b},getMapObjectLonLatFromMapObjectPixel:function(h){var b=this.map.getSize();var f=this.getLongitudeFromMapObjectLonLat(this.mapObject.center);var d=this.getLatitudeFromMapObjectLonLat(this.mapObject.center);var a=this.map.getResolution();var g=h.x-(b.w/2);var e=h.y-(b.h/2);var c=new OpenLayers.LonLat(f+g*a,d-e*a);if(this.wrapDateLine){c=c.wrapDateLine(this.maxExtent)}return this.getMapObjectLonLatFromLonLat(c.lon,c.lat)},getMapObjectPixelFromMapObjectLonLat:function(f){var e=this.getLongitudeFromMapObjectLonLat(f);var d=this.getLatitudeFromMapObjectLonLat(f);var b=this.map.getResolution();var c=this.map.getExtent();
var a=new OpenLayers.Pixel((1/b*(e-c.left)),(1/b*(c.top-d)));return this.getMapObjectPixelFromXY(a.x,a.y)},setMapObjectCenter:function(a,c){if(this.animationEnabled===false&&c!=this.mapObject.zoom){var b=this.getMapContainer();google.maps.event.addListenerOnce(this.mapObject,"idle",function(){b.style.visibility=""});b.style.visibility="hidden"}this.mapObject.setOptions({center:a,zoom:c})},getMapObjectZoomFromMapObjectBounds:function(a){return this.mapObject.getBoundsZoomLevel(a)},getMapObjectLonLatFromLonLat:function(d,b){var c;if(this.sphericalMercator){var a=this.inverseMercator(d,b);c=new google.maps.LatLng(a.lat,a.lon)}else{c=new google.maps.LatLng(b,d)}return c},getMapObjectPixelFromXY:function(a,b){return new google.maps.Point(a,b)},destroy:function(){if(this.repositionListener){google.maps.event.removeListener(this.repositionListener)}if(this.repositionTimer){window.clearTimeout(this.repositionTimer)}OpenLayers.Layer.Google.prototype.destroy.apply(this,arguments)}};OpenLayers.Format.WPSDescribeProcess=OpenLayers.Class(OpenLayers.Format.XML,{VERSION:"1.0.0",namespaces:{wps:"http://www.opengis.net/wps/1.0.0",ows:"http://www.opengis.net/ows/1.1",xsi:"http://www.w3.org/2001/XMLSchema-instance"},schemaLocation:"http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",defaultPrefix:"wps",regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},read:function(a){if(typeof a=="string"){a=OpenLayers.Format.XML.prototype.read.apply(this,[a])}if(a&&a.nodeType==9){a=a.documentElement}var b={};this.readNode(a,b);return b},readers:{wps:{ProcessDescriptions:function(a,b){b.processDescriptions={};this.readChildNodes(a,b.processDescriptions)},ProcessDescription:function(c,a){var d=this.getAttributeNS(c,this.namespaces.wps,"processVersion");var b={processVersion:d,statusSupported:(c.getAttribute("statusSupported")==="true"),storeSupported:(c.getAttribute("storeSupported")==="true")};this.readChildNodes(c,b);a[b.identifier]=b},DataInputs:function(b,a){a.dataInputs=[];this.readChildNodes(b,a.dataInputs)},ProcessOutputs:function(b,a){a.processOutputs=[];this.readChildNodes(b,a.processOutputs)},Output:function(c,b){var a={};this.readChildNodes(c,a);b.push(a)},ComplexOutput:function(b,a){a.complexOutput={};this.readChildNodes(b,a.complexOutput)},Input:function(c,b){var a={maxOccurs:parseInt(c.getAttribute("maxOccurs")),minOccurs:parseInt(c.getAttribute("minOccurs"))};this.readChildNodes(c,a);b.push(a)},BoundingBoxData:function(b,a){a.boundingBoxData={};this.readChildNodes(b,a.boundingBoxData)},CRS:function(a,b){if(!b.CRSs){b.CRSs={}}b.CRSs[this.getChildValue(a)]=true},LiteralData:function(b,a){a.literalData={};this.readChildNodes(b,a.literalData)},ComplexData:function(b,a){a.complexData={};this.readChildNodes(b,a.complexData)},Default:function(b,a){a["default"]={};this.readChildNodes(b,a["default"])},Supported:function(b,a){a.supported={};this.readChildNodes(b,a.supported)},Format:function(a,c){var b={};this.readChildNodes(a,b);if(!c.formats){c.formats={}}c.formats[b.mimeType]=true},MimeType:function(a,b){b.mimeType=this.getChildValue(a)}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WPSDescribeProcess"});OpenLayers.Lang.ru=OpenLayers.Util.applyDefaults({unhandledRequest:"Необработанный запрос вернул ${statusText}",Permalink:"Постоянная ссылка",Overlays:"Слои","Base Layer":"Основной слой",readNotImplemented:"Чтение не реализовано.",writeNotImplemented:"Запись не реализована.",noFID:"Невозможно обновить объект, для которого нет FID.",errorLoadingGML:"Ошибка при загрузке файла GML ${url}",browserNotSupported:"Ваш браузер не поддерживает векторную графику. На данный момент поддерживаются:\n${renderers}",componentShouldBe:"addFeatures: компонент должен быть ${geomType}",getFeatureError:"getFeatureFromEvent вызван для слоя без рендерера. Обычно это говорит о том, что вы уничтожили слой, но оставили связанный с ним обработчик.",minZoomLevelError:"Свойство minZoomLevel предназначено только для использования со слоями, являющимися потомками FixedZoomLevels. То, что этот WFS-слой проверяется на minZoomLevel — реликт прошлого. Однако мы не можем удалить эту функцию, так как, возможно, от неё зависят некоторые основанные на OpenLayers приложения. Функция объявлена устаревшей — проверка minZoomLevel будет удалена в 3.0. Пожалуйста, используйте вместо неё настройку мин/макс разрешения, описанную здесь: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Транзакция WFS: УСПЕШНО ${response}",commitFailed:"Транзакция WFS: ОШИБКА ${response}",googleWarning:"Слой Google не удалось нормально загрузить.\x3cbr\x3e\x3cbr\x3eЧтобы избавиться от этого сообщения, выбите другой основной слой в переключателе в правом верхнем углу.\x3cbr\x3e\x3cbr\x3eСкорее всего, причина в том, что библиотека Google Maps не была включена или не содержит корректного API-ключа для вашего сайта.\x3cbr\x3e\x3cbr\x3eРазработчикам: чтобы узнать, как сделать, чтобы всё заработало, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eщёлкните тут\x3c/a\x3e",getLayerWarning:"Слой ${layerType} не удалось нормально загрузить. \x3cbr\x3e\x3cbr\x3eЧтобы избавиться от этого сообщения, выбите другой основной слой в переключателе в правом верхнем углу.\x3cbr\x3e\x3cbr\x3eСкорее всего, причина в том, что библиотека ${layerLib} не была включена или была включена некорректно.\x3cbr\x3e\x3cbr\x3eРазработчикам: чтобы узнать, как сделать, чтобы всё заработало, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eщёлкните тут\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Масштаб = 1 : ${scaleDenom}",W:"З",E:"В",N:"С",S:"Ю",layerAlreadyAdded:"Вы попытались добавить слой «${layerName}» на карту, но он уже был добавлен",reprojectDeprecated:"Вы используете опцию 'reproject' для слоя ${layerName}. Эта опция является устаревшей: ее использование предполагалось для поддержки показа данных поверх коммерческих базовых карт, но теперь этот функционал несёт встроенная поддержка сферической проекции Меркатора. Больше сведений доступно на http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Этот метод считается устаревшим и будет удалён в версии 3.0. Пожалуйста, пользуйтесь ${newMethod}.",boundsAddError:"Функции add надо передавать оба значения, x и y.",lonlatAddError:"Функции add надо передавать оба значения, lon и lat.",pixelAddError:"Функции add надо передавать оба значения, x и y.",unsupportedGeometryType:"Неподдерживаемый тип геометрии: ${geomType}",filterEvaluateNotImplemented:"evaluate не реализовано для фильтра данного типа."});
OpenLayers.Format.CSWGetRecords.v2_0_2=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{csw:"http://www.opengis.net/cat/csw/2.0.2",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",geonet:"http://www.fao.org/geonetwork",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},defaultPrefix:"csw",version:"2.0.2",schemaLocation:"http://www.opengis.net/cat/csw/2.0.2 http://schemas.opengis.net/csw/2.0.2/CSW-discovery.xsd",requestId:null,resultType:null,outputFormat:null,outputSchema:null,startPosition:null,maxRecords:null,DistributedSearch:null,ResponseHandler:null,Query:null,regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(a){if(typeof a=="string"){a=OpenLayers.Format.XML.prototype.read.apply(this,[a])}if(a&&a.nodeType==9){a=a.documentElement}var b={};this.readNode(a,b);return b},readers:{csw:{GetRecordsResponse:function(b,c){c.records=[];this.readChildNodes(b,c);var a=this.getAttributeNS(b,"","version");if(a!=""){c.version=a}},RequestId:function(a,b){b.RequestId=this.getChildValue(a)},SearchStatus:function(a,c){c.SearchStatus={};var b=this.getAttributeNS(a,"","timestamp");if(b!=""){c.SearchStatus.timestamp=b}},SearchResults:function(d,e){this.readChildNodes(d,e);var b=d.attributes;var f={};for(var c=0,a=b.length;c<a;++c){if((b[c].name=="numberOfRecordsMatched")||(b[c].name=="numberOfRecordsReturned")||(b[c].name=="nextRecord")){f[b[c].name]=parseInt(b[c].nodeValue)}else{f[b[c].name]=b[c].nodeValue}}e.SearchResults=f},SummaryRecord:function(b,c){var a={type:"SummaryRecord"};this.readChildNodes(b,a);c.records.push(a)},BriefRecord:function(b,c){var a={type:"BriefRecord"};this.readChildNodes(b,a);c.records.push(a)},DCMIRecord:function(b,c){var a={type:"DCMIRecord"};this.readChildNodes(b,a);c.records.push(a)},Record:function(b,c){var a={type:"Record"};this.readChildNodes(b,a);c.records.push(a)},"*":function(b,c){var a=b.localName||b.nodeName.split(":").pop();c[a]=this.getChildValue(b)}},geonet:{info:function(b,c){var a={};this.readChildNodes(b,a);c.gninfo=a}},dc:{"*":function(f,g){var d=f.localName||f.nodeName.split(":").pop();if(!(OpenLayers.Util.isArray(g[d]))){g[d]=new Array()}var c={};var b=f.attributes;for(var e=0,a=b.length;e<a;++e){c[b[e].name]=b[e].nodeValue}c.value=this.getChildValue(f);g[d].push(c)}},dct:{"*":function(b,c){var a=b.localName||b.nodeName.split(":").pop();if(!(OpenLayers.Util.isArray(c[a]))){c[a]=new Array()}c[a].push(this.getChildValue(b))}},ows:OpenLayers.Util.applyDefaults({BoundingBox:function(a,b){if(b.bounds){b.BoundingBox=[{crs:b.projection,value:[b.bounds.left,b.bounds.bottom,b.bounds.right,b.bounds.top]}];delete b.projection;delete b.bounds}OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows["BoundingBox"].apply(this,arguments)}},OpenLayers.Format.OWSCommon.v1_0_0.prototype.readers.ows)},write:function(a){var b=this.writeNode("csw:GetRecords",a);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},writers:{csw:{GetRecords:function(b){if(!b){b={}}var e=this.createElementNSPlus("csw:GetRecords",{attributes:{service:"CSW",version:this.version,requestId:b.requestId||this.requestId,resultType:b.resultType||this.resultType,outputFormat:b.outputFormat||this.outputFormat,outputSchema:b.outputSchema||this.outputSchema,startPosition:b.startPosition||this.startPosition,maxRecords:b.maxRecords||this.maxRecords}});if(b.DistributedSearch||this.DistributedSearch){this.writeNode("csw:DistributedSearch",b.DistributedSearch||this.DistributedSearch,e)}var d=b.ResponseHandler||this.ResponseHandler;if(OpenLayers.Util.isArray(d)&&d.length>0){for(var c=0,a=d.length;c<a;c++){this.writeNode("csw:ResponseHandler",d[c],e)}}this.writeNode("Query",b.Query||this.Query,e);return e},DistributedSearch:function(a){var b=this.createElementNSPlus("csw:DistributedSearch",{attributes:{hopCount:a.hopCount}});return b},ResponseHandler:function(a){var b=this.createElementNSPlus("csw:ResponseHandler",{value:a.value});
return b},Query:function(b){if(!b){b={}}var e=this.createElementNSPlus("csw:Query",{attributes:{typeNames:b.typeNames||"csw:Record"}});var d=b.ElementName;if(OpenLayers.Util.isArray(d)&&d.length>0){for(var c=0,a=d.length;c<a;c++){this.writeNode("csw:ElementName",d[c],e)}}else{this.writeNode("csw:ElementSetName",b.ElementSetName||{value:"summary"},e)}if(b.Constraint){this.writeNode("csw:Constraint",b.Constraint,e)}if(b.SortBy){this.writeNode("ogc:SortBy",b.SortBy,e)}return e},ElementName:function(a){var b=this.createElementNSPlus("csw:ElementName",{value:a.value});return b},ElementSetName:function(a){var b=this.createElementNSPlus("csw:ElementSetName",{attributes:{typeNames:a.typeNames},value:a.value});return b},Constraint:function(a){var b=this.createElementNSPlus("csw:Constraint",{attributes:{version:a.version}});if(a.Filter){var c=new OpenLayers.Format.Filter({version:a.version});b.appendChild(c.write(a.Filter))}else{if(a.CqlText){var d=this.createElementNSPlus("CqlText",{value:a.CqlText.value});b.appendChild(d)}}return b}},ogc:OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc},CLASS_NAME:"OpenLayers.Format.CSWGetRecords.v2_0_2"});OpenLayers.Lang.hsb=OpenLayers.Util.applyDefaults({unhandledRequest:"Wotmołwa njewobdźěłaneho naprašowanja ${statusText}",Permalink:"Trajny wotkaz",Overlays:"Naworštowanja","Base Layer":"Zakładna runina",readNotImplemented:"Čitanje njeimplementowane.",writeNotImplemented:"Pisanje njeimplementowane.",noFID:"Funkcija, za kotruž FID njeje, njeda so aktualizować.",errorLoadingGML:"Zmylk při začitowanju dataje ${url}",browserNotSupported:"Twój wobhladowak wektorowe rysowanje njepodpěruje. Tuchwilu podpěrowane rysowaki su:\n${renderers}",componentShouldBe:"addFeatures: komponenta měła ${geomType} być",getFeatureError:"getFeatureFromEvent bu na woršće bjez rysowak zawołany. To zwjetša woznamjenja, zo sy worštu zničił, ale nic wobdźěłak, kotryž je z njej zwjazany.",minZoomLevelError:"Kajkosć minZoomLevel je jenož za wužiwanje z worštami myslena, kotrež wot FixedZoomLevels pochadźeja. Zo tuta woršta wfs za minZoomLevel přepruwuje, je relikt zańdźenosće. Njemóžemy wšak ju wotstronić, bjeztoho zo aplikacije, kotrež na OpenLayers bazěruja a snano tutu kajkosć wužiwaja, hižo njefunguja. Tohodla smy ju jako zestarjenu woznamjenili -- přepruwowanje za minZoomLevel budu so we wersiji 3.0 wotstronjeć. Prošu wužij město toho nastajenje min/max, kaž je tu wopisane: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-Transakcija: WUSPĚŠNA ${response}",commitFailed:"WFS-Transakcija: NJEPORADŹENA ${response}",googleWarning:"Woršta Google njemóžeše so korektnje začitać.\x3cbr\x3e\x3cbr\x3eZo by tutu zdźělenku wotbył, wubjer nowy BaseLayer z wuběra worštow horjeka naprawo.\x3cbr\x3e\x3cbr\x3eNajskerje so to stawa, dokelž skript biblioteki Google Maps pak njebu zapřijaty pak njewobsahuje korektny kluč API za twoje sydło.\x3cbr\x3e\x3cbr\x3eWuwiwarjo: Za pomoc ke korektnemu fungowanju worštow\n\x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3etu kliknyć\x3c/a\x3e",getLayerWarning:"Woršta ${layerType} njemóžeše so korektnje začitać.\x3cbr\x3e\x3cbr\x3eZo by tutu zdźělenku wotbył, wubjer nowy BaseLayer z wuběra worštow horjeka naprawo.\x3cbr\x3e\x3cbr\x3eNajskerje so to stawa, dokelž skript biblioteki ${layerLib} njebu korektnje zapřijaty.\x3cbr\x3e\x3cbr\x3eWuwiwarjo: Za pomoc ke korektnemu fungowanju worštow\n\x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3etu kliknyć\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Měritko = 1 : ${scaleDenom}",W:"Z",E:"W",N:"S",S:"J",layerAlreadyAdded:"Sy spytał runinu ${layerName} karće dodać, ale je so hižo dodała",reprojectDeprecated:'Wužiwaš opciju "reproject" wořšty ${layerName}. Tuta opcija je zestarjena: jeje wužiwanje bě myslene, zo by zwobraznjenje datow nad komercielnymi bazowymi kartami podpěrało, ale funkcionalnosć měła so nětko z pomocu Sperical Mercator docpěć. Dalše informacije steja na http://trac.openlayers.org/wiki/SphericalMercator k dispoziciji.',methodDeprecated:"Tuta metoda je so njeschwaliła a budźe so w 3.0 wotstronjeć. Prošu wužij ${newMethod} město toho.",boundsAddError:'Dyrbiš hódnotu x kaž tež y funkciji "add" přepodać.',lonlatAddError:'Dyrbiš hódnotu lon kaž tež lat funkciji "add" přepodać.',pixelAddError:'Dyrbiš hódnotu x kaž tež y funkciji "add" přepodać.',unsupportedGeometryType:"Njepodpěrowany geometrijowy typ: ${geomType}",filterEvaluateNotImplemented:"wuhódnoćenje njeje za tutón filtrowy typ implementowany."});
OpenLayers.Marker.Box=OpenLayers.Class(OpenLayers.Marker,{bounds:null,div:null,initialize:function(b,c,a){this.bounds=b;this.div=OpenLayers.Util.createDiv();this.div.style.overflow="hidden";this.events=new OpenLayers.Events(this,this.div,null);this.setBorder(c,a)},destroy:function(){this.bounds=null;this.div=null;OpenLayers.Marker.prototype.destroy.apply(this,arguments)},setBorder:function(a,b){if(!a){a="red"}if(!b){b=2}this.div.style.border=b+"px solid "+a},draw:function(a,b){OpenLayers.Util.modifyDOMElement(this.div,null,a,b);return this.div},onScreen:function(){var b=false;if(this.map){var a=this.map.getExtent();b=a.containsBounds(this.bounds,true,true)}return b},display:function(a){this.div.style.display=(a)?"":"none"},CLASS_NAME:"OpenLayers.Marker.Box"});OpenLayers.Format.Text=OpenLayers.Class(OpenLayers.Format,{defaultStyle:null,extractStyles:true,initialize:function(a){a=a||{};if(a.extractStyles!==false){a.defaultStyle={externalGraphic:OpenLayers.Util.getImagesLocation()+"marker.png",graphicWidth:21,graphicHeight:25,graphicXOffset:-10.5,graphicYOffset:-12.5}}OpenLayers.Format.prototype.initialize.apply(this,[a])},read:function(j){var a=j.split("\n");var b;var g=[];for(var t=0;t<(a.length-1);t++){var s=a[t].replace(/^\s*/,"").replace(/\s*$/,"");if(s.charAt(0)!="#"){if(!b){b=s.split("\t")}else{var l=s.split("\t");var d=new OpenLayers.Geometry.Point(0,0);var h={};var p=this.defaultStyle?OpenLayers.Util.applyDefaults({},this.defaultStyle):null;var q,r,c,n;var k=false;for(var i=0;i<l.length;i++){if(l[i]){if(b[i]=="point"){var o=l[i].split(",");d.y=parseFloat(o[0]);d.x=parseFloat(o[1]);k=true}else{if(b[i]=="lat"){d.y=parseFloat(l[i]);k=true}else{if(b[i]=="lon"){d.x=parseFloat(l[i]);k=true}else{if(b[i]=="title"){h.title=l[i]}else{if(b[i]=="image"||b[i]=="icon"&&p){p.externalGraphic=l[i]}else{if(b[i]=="iconSize"&&p){var m=l[i].split(",");p.graphicWidth=parseFloat(m[0]);p.graphicHeight=parseFloat(m[1])}else{if(b[i]=="iconOffset"&&p){var f=l[i].split(",");p.graphicXOffset=parseFloat(f[0]);p.graphicYOffset=parseFloat(f[1])}else{if(b[i]=="description"){h.description=l[i]}else{if(b[i]=="overflow"){h.overflow=l[i]}else{h[b[i]]=l[i]}}}}}}}}}}}if(k){if(this.internalProjection&&this.externalProjection){d.transform(this.externalProjection,this.internalProjection)}var e=new OpenLayers.Feature.Vector(d,h,p);g.push(e)}}}}return g},CLASS_NAME:"OpenLayers.Format.Text"});OpenLayers.Layer.Text=OpenLayers.Class(OpenLayers.Layer.Markers,{location:null,features:null,formatOptions:null,selectedFeature:null,initialize:function(b,a){OpenLayers.Layer.Markers.prototype.initialize.apply(this,arguments);this.features=new Array()},destroy:function(){OpenLayers.Layer.Markers.prototype.destroy.apply(this,arguments);this.clearFeatures();this.features=null},loadText:function(){if(!this.loaded){if(this.location!=null){var a=function(b){this.events.triggerEvent("loadend")};this.events.triggerEvent("loadstart");OpenLayers.Request.GET({url:this.location,success:this.parseData,failure:a,scope:this});this.loaded=true}}},moveTo:function(c,a,b){OpenLayers.Layer.Markers.prototype.moveTo.apply(this,arguments);if(this.visibility&&!this.loaded){this.loadText()}},parseData:function(k){var m=k.responseText;var o={};OpenLayers.Util.extend(o,this.formatOptions);if(this.map&&!this.projection.equals(this.map.getProjectionObject())){o.externalProjection=this.projection;o.internalProjection=this.map.getProjectionObject()}var b=new OpenLayers.Format.Text(o);var c=b.read(m);for(var g=0,h=c.length;g<h;g++){var f={};var n=c[g];var l;var j,d;l=new OpenLayers.LonLat(n.geometry.x,n.geometry.y);if(n.style.graphicWidth&&n.style.graphicHeight){j=new OpenLayers.Size(n.style.graphicWidth,n.style.graphicHeight)}if(n.style.graphicXOffset!==undefined&&n.style.graphicYOffset!==undefined){d=new OpenLayers.Pixel(n.style.graphicXOffset,n.style.graphicYOffset)}if(n.style.externalGraphic!=null){f.icon=new OpenLayers.Icon(n.style.externalGraphic,j,d)}else{f.icon=OpenLayers.Marker.defaultIcon();if(j!=null){f.icon.setSize(j)}}if((n.attributes.title!=null)&&(n.attributes.description!=null)){f.popupContentHTML="<h2>"+n.attributes.title+"</h2><p>"+n.attributes.description+"</p>"
}f.overflow=n.attributes.overflow||"auto";var a=new OpenLayers.Feature(this,l,f);this.features.push(a);var e=a.createMarker();if((n.attributes.title!=null)&&(n.attributes.description!=null)){e.events.register("click",a,this.markerClick)}this.addMarker(e)}this.events.triggerEvent("loadend")},markerClick:function(b){var d=(this==this.layer.selectedFeature);this.layer.selectedFeature=(!d)?this:null;for(var c=0,a=this.layer.map.popups.length;c<a;c++){this.layer.map.removePopup(this.layer.map.popups[c])}if(!d){this.layer.map.addPopup(this.createPopup())}OpenLayers.Event.stop(b)},clearFeatures:function(){if(this.features!=null){while(this.features.length>0){var a=this.features[0];OpenLayers.Util.removeItem(this.features,a);a.destroy()}}},CLASS_NAME:"OpenLayers.Layer.Text"});OpenLayers.Handler.RegularPolygon=OpenLayers.Class(OpenLayers.Handler.Drag,{sides:4,radius:null,snapAngle:null,snapToggle:"shiftKey",layerOptions:null,persist:false,irregular:false,angle:null,fixedRadius:false,feature:null,layer:null,origin:null,initialize:function(c,b,a){if(!(a&&a.layerOptions&&a.layerOptions.styleMap)){this.style=OpenLayers.Util.extend(OpenLayers.Feature.Vector.style["default"],{})}OpenLayers.Handler.Drag.prototype.initialize.apply(this,[c,b,a]);this.options=(a)?a:{}},setOptions:function(a){OpenLayers.Util.extend(this.options,a);OpenLayers.Util.extend(this,a)},activate:function(){var a=false;if(OpenLayers.Handler.Drag.prototype.activate.apply(this,arguments)){var b=OpenLayers.Util.extend({displayInLayerSwitcher:false,calculateInRange:OpenLayers.Function.True},this.layerOptions);this.layer=new OpenLayers.Layer.Vector(this.CLASS_NAME,b);this.map.addLayer(this.layer);a=true}return a},deactivate:function(){var a=false;if(OpenLayers.Handler.Drag.prototype.deactivate.apply(this,arguments)){if(this.dragging){this.cancel()}if(this.layer.map!=null){this.layer.destroy(false);if(this.feature){this.feature.destroy()}}this.layer=null;this.feature=null;a=true}return a},down:function(a){this.fixedRadius=!!(this.radius);var b=this.map.getLonLatFromPixel(a.xy);this.origin=new OpenLayers.Geometry.Point(b.lon,b.lat);if(!this.fixedRadius||this.irregular){this.radius=this.map.getResolution()}if(this.persist){this.clear()}this.feature=new OpenLayers.Feature.Vector();this.createGeometry();this.callback("create",[this.origin,this.feature]);this.layer.addFeatures([this.feature],{silent:true});this.layer.drawFeature(this.feature,this.style)},move:function(c){var f=this.map.getLonLatFromPixel(c.xy);var a=new OpenLayers.Geometry.Point(f.lon,f.lat);if(this.irregular){var g=Math.sqrt(2)*Math.abs(a.y-this.origin.y)/2;this.radius=Math.max(this.map.getResolution()/2,g)}else{if(this.fixedRadius){this.origin=a}else{this.calculateAngle(a,c);this.radius=Math.max(this.map.getResolution()/2,a.distanceTo(this.origin))}}this.modifyGeometry();if(this.irregular){var d=a.x-this.origin.x;var b=a.y-this.origin.y;var e;if(b==0){e=d/(this.radius*Math.sqrt(2))}else{e=d/b}this.feature.geometry.resize(1,this.origin,e);this.feature.geometry.move(d/2,b/2)}this.layer.drawFeature(this.feature,this.style)},up:function(a){this.finalize();if(this.start==this.last){this.callback("done",[a.xy])}},out:function(a){this.finalize()},createGeometry:function(){this.angle=Math.PI*((1/this.sides)-(1/2));if(this.snapAngle){this.angle+=this.snapAngle*(Math.PI/180)}this.feature.geometry=OpenLayers.Geometry.Polygon.createRegularPolygon(this.origin,this.radius,this.sides,this.snapAngle)},modifyGeometry:function(){var d,a;var b=this.feature.geometry.components[0];if(b.components.length!=(this.sides+1)){this.createGeometry();b=this.feature.geometry.components[0]}for(var c=0;c<this.sides;++c){a=b.components[c];d=this.angle+(c*2*Math.PI/this.sides);a.x=this.origin.x+(this.radius*Math.cos(d));a.y=this.origin.y+(this.radius*Math.sin(d));a.clearBounds()}},calculateAngle:function(a,b){var d=Math.atan2(a.y-this.origin.y,a.x-this.origin.x);if(this.snapAngle&&(this.snapToggle&&!b[this.snapToggle])){var c=(Math.PI/180)*this.snapAngle;this.angle=Math.round(d/c)*c}else{this.angle=d}},cancel:function(){this.callback("cancel",null);
this.finalize()},finalize:function(){this.origin=null;this.radius=this.options.radius},clear:function(){if(this.layer){this.layer.renderer.clear();this.layer.destroyFeatures()}},callback:function(b,a){if(this.callbacks[b]){this.callbacks[b].apply(this.control,[this.feature.geometry.clone()])}if(!this.persist&&(b=="done"||b=="cancel")){this.clear()}},CLASS_NAME:"OpenLayers.Handler.RegularPolygon"});OpenLayers.Control.SLDSelect=OpenLayers.Class(OpenLayers.Control,{EVENT_TYPES:["selected"],clearOnDeactivate:false,layers:null,callbacks:null,selectionSymbolizer:{Polygon:{fillColor:"#FF0000",stroke:false},Line:{strokeColor:"#FF0000",strokeWidth:2},Point:{graphicName:"square",fillColor:"#FF0000",pointRadius:5}},layerOptions:null,handlerOptions:null,sketchStyle:null,wfsCache:{},layerCache:{},initialize:function(b,a){this.EVENT_TYPES=OpenLayers.Control.SLDSelect.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);OpenLayers.Control.prototype.initialize.apply(this,[a]);this.callbacks=OpenLayers.Util.extend({done:this.select,click:this.select},this.callbacks);this.handlerOptions=this.handlerOptions||{};this.layerOptions=OpenLayers.Util.applyDefaults(this.layerOptions,{displayInLayerSwitcher:false,tileOptions:{maxGetUrlLength:2048}});if(this.sketchStyle){this.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(this.handlerOptions.layerOptions,{styleMap:new OpenLayers.StyleMap({"default":this.sketchStyle})})}this.handler=new b(this,this.callbacks,this.handlerOptions)},destroy:function(){for(var a in this.layerCache){delete this.layerCache[a]}for(var a in this.wfsCache){delete this.wfsCache[a]}OpenLayers.Control.prototype.destroy.apply(this,arguments)},coupleLayerVisiblity:function(a){this.setVisibility(a.object.getVisibility())},createSelectionLayer:function(b){var a;if(!this.layerCache[b.id]){a=new OpenLayers.Layer.WMS(b.name,b.url,b.params,OpenLayers.Util.applyDefaults(this.layerOptions,b.getOptions()));this.layerCache[b.id]=a;if(this.layerOptions.displayInLayerSwitcher===false){b.events.on({visibilitychanged:this.coupleLayerVisiblity,scope:a})}this.map.addLayer(a)}else{a=this.layerCache[b.id]}return a},createSLD:function(f,d,g){var a={version:"1.0.0",namedLayers:{}};var j=[f.params.LAYERS].join(",").split(",");for(var e=0,h=j.length;e<h;e++){var b=j[e];a.namedLayers[b]={name:b,userStyles:[]};var l=this.selectionSymbolizer;var k=g[e];if(k.type.indexOf("Polygon")>=0){l={Polygon:this.selectionSymbolizer.Polygon}}else{if(k.type.indexOf("LineString")>=0){l={Line:this.selectionSymbolizer.Line}}else{if(k.type.indexOf("Point")>=0){l={Point:this.selectionSymbolizer.Point}}}}var c=d[e];a.namedLayers[b].userStyles.push({name:"default",rules:[new OpenLayers.Rule({symbolizer:l,filter:c,maxScaleDenominator:f.options.minScale})]})}return new OpenLayers.Format.SLD({srsName:this.map.getProjection()}).write(a)},parseDescribeLayer:function(c){var g=new OpenLayers.Format.WMSDescribeLayer();var h=c.responseXML;if(!h||!h.documentElement){h=c.responseText}var b=g.read(h);var f=[];var a=null;for(var d=0,e=b.length;d<e;d++){if(b[d].owsType=="WFS"){f.push(b[d].typeName);a=b[d].owsURL}}var j={url:a,params:{SERVICE:"WFS",TYPENAME:f.toString(),REQUEST:"DescribeFeatureType",VERSION:"1.0.0"},callback:function(k){var m=new OpenLayers.Format.WFSDescribeFeatureType();var l=k.responseXML;if(!l||!l.documentElement){l=k.responseText}var i=m.read(l);this.control.wfsCache[this.layer.id]=i;this.control._queue&&this.control.applySelection()},scope:this};OpenLayers.Request.GET(j)},getGeometryAttributes:function(d){var m=[];var a=this.wfsCache[d.id];for(var c=0,e=a.featureTypes.length;c<e;c++){var h=a.featureTypes[c];var f=h.properties;for(var b=0,l=f.length;b<l;b++){var k=f[b];var g=k.type;if((g.indexOf("LineString")>=0)||(g.indexOf("GeometryAssociationType")>=0)||(g.indexOf("GeometryPropertyType")>=0)||(g.indexOf("Point")>=0)||(g.indexOf("Polygon")>=0)){m.push(k)}}}return m},activate:function(){var b=OpenLayers.Control.prototype.activate.call(this);if(b){for(var e=0,a=this.layers.length;e<a;e++){var d=this.layers[e];if(d&&!this.wfsCache[d.id]){var c={url:d.url,params:{SERVICE:"WMS",VERSION:d.params.VERSION,LAYERS:d.params.LAYERS,REQUEST:"DescribeLayer"},callback:this.parseDescribeLayer,scope:{layer:d,control:this}};
OpenLayers.Request.GET(c)}}}return b},deactivate:function(){var f=OpenLayers.Control.prototype.deactivate.call(this);if(f){for(var e=0,a=this.layers.length;e<a;e++){var d=this.layers[e];if(d&&this.clearOnDeactivate===true){var c=this.layerCache;var b=c[d.id];if(b){d.events.un({visibilitychanged:this.coupleLayerVisiblity,scope:b});b.destroy();delete c[d.id]}}}}return f},setLayers:function(a){if(this.active){this.deactivate();this.layers=a;this.activate()}else{this.layers=a}},createFilter:function(a,c){var b=null;if(this.handler instanceof OpenLayers.Handler.RegularPolygon){if(this.handler.irregular===true){b=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.BBOX,property:a.name,value:c.getBounds()})}else{b=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.INTERSECTS,property:a.name,value:c})}}else{if(this.handler instanceof OpenLayers.Handler.Polygon){b=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.INTERSECTS,property:a.name,value:c})}else{if(this.handler instanceof OpenLayers.Handler.Path){if(a.type.indexOf("Point")>=0){b=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.DWITHIN,property:a.name,distance:this.map.getExtent().getWidth()*0.01,distanceUnits:this.map.getUnits(),value:c})}else{b=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.INTERSECTS,property:a.name,value:c})}}else{if(this.handler instanceof OpenLayers.Handler.Click){if(a.type.indexOf("Polygon")>=0){b=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.INTERSECTS,property:a.name,value:c})}else{b=new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.DWITHIN,property:a.name,distance:this.map.getExtent().getWidth()*0.01,distanceUnits:this.map.getUnits(),value:c})}}}}}return b},select:function(a){this._queue=function(){for(var g=0,l=this.layers.length;g<l;g++){var h=this.layers[g];var k=this.getGeometryAttributes(h);var d=[];for(var f=0,n=k.length;f<n;f++){var o=k[f];if(o!==null){if(!(a instanceof OpenLayers.Geometry)){var m=this.map.getLonLatFromPixel(a.xy);a=new OpenLayers.Geometry.Point(m.lon,m.lat)}var c=this.createFilter(o,a);if(c!==null){d.push(c)}}}var e=this.createSelectionLayer(h);var b=this.createSLD(h,d,k);this.events.triggerEvent("selected",{layer:h,filters:d});e.mergeNewParams({SLD_BODY:b});delete this._queue}};this.applySelection()},applySelection:function(){var c=true;for(var b=0,a=this.layers.length;b<a;b++){if(!this.wfsCache[this.layers[b].id]){c=false;break}}c&&this._queue.call(this)},CLASS_NAME:"OpenLayers.Control.SLDSelect"});OpenLayers.Control.Scale=OpenLayers.Class(OpenLayers.Control,{element:null,geodesic:false,initialize:function(b,a){OpenLayers.Control.prototype.initialize.apply(this,[a]);this.element=OpenLayers.Util.getElement(b)},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!this.element){this.element=document.createElement("div");this.div.appendChild(this.element)}this.map.events.register("moveend",this,this.updateScale);this.updateScale();return this.div},updateScale:function(){var c;if(this.geodesic===true){var a=this.map.getUnits();if(!a){return}var b=OpenLayers.INCHES_PER_UNIT;c=(this.map.getGeodesicPixelSize().w||0.000001)*b.km*OpenLayers.DOTS_PER_INCH}else{c=this.map.getScale()}if(!c){return}if(c>=9500&&c<=950000){c=Math.round(c/1000)+"K"}else{if(c>=950000){c=Math.round(c/1000000)+"M"}else{c=Math.round(c)}}this.element.innerHTML=OpenLayers.i18n("Scale = 1 : ${scaleDenom}",{scaleDenom:c})},CLASS_NAME:"OpenLayers.Control.Scale"});OpenLayers.Layer.MapGuide=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:true,useHttpTile:false,singleTile:false,useOverlay:false,useAsyncOverlay:true,TILE_PARAMS:{operation:"GETTILEIMAGE",version:"1.2.0"},SINGLE_TILE_PARAMS:{operation:"GETMAPIMAGE",format:"PNG",locale:"en",clip:"1",version:"1.0.0"},OVERLAY_PARAMS:{operation:"GETDYNAMICMAPOVERLAYIMAGE",format:"PNG",locale:"en",clip:"1",version:"2.0.0"},FOLDER_PARAMS:{tileColumnsPerFolder:30,tileRowsPerFolder:30,format:"png",querystring:null},defaultSize:new OpenLayers.Size(300,300),tileOriginCorner:"tl",initialize:function(c,b,d,a){OpenLayers.Layer.Grid.prototype.initialize.apply(this,arguments);
if(a==null||a.isBaseLayer==null){this.isBaseLayer=((this.transparent!="true")&&(this.transparent!=true))}if(a&&a.useOverlay!=null){this.useOverlay=a.useOverlay}if(this.singleTile){if(this.useOverlay){OpenLayers.Util.applyDefaults(this.params,this.OVERLAY_PARAMS);if(!this.useAsyncOverlay){this.params.version="1.0.0"}}else{OpenLayers.Util.applyDefaults(this.params,this.SINGLE_TILE_PARAMS)}}else{if(this.useHttpTile){OpenLayers.Util.applyDefaults(this.params,this.FOLDER_PARAMS)}else{OpenLayers.Util.applyDefaults(this.params,this.TILE_PARAMS)}this.setTileSize(this.defaultSize)}},clone:function(a){if(a==null){a=new OpenLayers.Layer.MapGuide(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(a){var d;var b=a.getCenterLonLat();var h=this.map.getSize();if(this.singleTile){var e={setdisplaydpi:OpenLayers.DOTS_PER_INCH,setdisplayheight:h.h*this.ratio,setdisplaywidth:h.w*this.ratio,setviewcenterx:b.lon,setviewcentery:b.lat,setviewscale:this.map.getScale()};if(this.useOverlay&&!this.useAsyncOverlay){var i={};i=OpenLayers.Util.extend(i,e);i.operation="GETVISIBLEMAPEXTENT";i.version="1.0.0";i.session=this.params.session;i.mapName=this.params.mapName;i.format="text/xml";d=this.getFullRequestString(i);OpenLayers.Request.GET({url:d,async:false})}d=this.getFullRequestString(e)}else{var g=this.map.getResolution();var f=Math.floor((a.left-this.maxExtent.left)/g);f=Math.round(f/this.tileSize.w);var c=Math.floor((this.maxExtent.top-a.top)/g);c=Math.round(c/this.tileSize.h);if(this.useHttpTile){d=this.getImageFilePath({tilecol:f,tilerow:c,scaleindex:this.resolutions.length-this.map.zoom-1})}else{d=this.getFullRequestString({tilecol:f,tilerow:c,scaleindex:this.resolutions.length-this.map.zoom-1})}}return d},getFullRequestString:function(f,e){var b=(e==null)?this.url:e;if(typeof b=="object"){b=b[Math.floor(Math.random()*b.length)]}var i=b;var g=OpenLayers.Util.extend({},this.params);g=OpenLayers.Util.extend(g,f);var d=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(b));for(var h in g){if(h.toUpperCase() in d){delete g[h]}}var a=OpenLayers.Util.getParameterString(g);a=a.replace(/,/g,"+");if(a!=""){var c=b.charAt(b.length-1);if((c=="&")||(c=="?")){i+=a}else{if(b.indexOf("?")==-1){i+="?"+a}else{i+="&"+a}}}return i},getImageFilePath:function(g,e){var c=(e==null)?this.url:e;if(typeof c=="object"){c=c[Math.floor(Math.random()*c.length)]}var b=c;var d="";var f="";if(g.tilerow<0){d="-"}if(g.tilerow==0){d+="0"}else{d+=Math.floor(Math.abs(g.tilerow/this.params.tileRowsPerFolder))*this.params.tileRowsPerFolder}if(g.tilecol<0){f="-"}if(g.tilecol==0){f+="0"}else{f+=Math.floor(Math.abs(g.tilecol/this.params.tileColumnsPerFolder))*this.params.tileColumnsPerFolder}var a="/S"+Math.floor(g.scaleindex)+"/"+this.params.basemaplayergroupname+"/R"+d+"/C"+f+"/"+(g.tilerow%this.params.tileRowsPerFolder)+"_"+(g.tilecol%this.params.tileColumnsPerFolder)+"."+this.params.format;if(this.params.querystring){a+="?"+this.params.querystring}b+=a;return b},calculateGridLayout:function(a,n,e){var k=e*this.tileSize.w;var c=e*this.tileSize.h;var i=a.left-n.lon;var l=Math.floor(i/k)-this.buffer;var j=i/k-l;var f=-j*this.tileSize.w;var m=n.lon+l*k;var b=n.lat-a.top+c;var h=Math.floor(b/c)-this.buffer;var o=h-b/c;var d=o*this.tileSize.h;var g=n.lat-c*h;return{tilelon:k,tilelat:c,tileoffsetlon:m,tileoffsetlat:g,tileoffsetx:f,tileoffsety:d}},CLASS_NAME:"OpenLayers.Layer.MapGuide"});OpenLayers.Control.Measure=OpenLayers.Class(OpenLayers.Control,{EVENT_TYPES:["measure","measurepartial"],handlerOptions:null,callbacks:null,displaySystem:"metric",geodesic:false,displaySystemUnits:{geographic:["dd"],english:["mi","ft","in"],metric:["km","m"]},partialDelay:300,delayedTrigger:null,persist:false,immediate:false,initialize:function(b,a){this.EVENT_TYPES=OpenLayers.Control.Measure.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);OpenLayers.Control.prototype.initialize.apply(this,[a]);var c={done:this.measureComplete,point:this.measurePartial};if(this.immediate){c.modify=this.measureImmediate
}this.callbacks=OpenLayers.Util.extend(c,this.callbacks);this.handlerOptions=OpenLayers.Util.extend({persist:this.persist},this.handlerOptions);this.handler=new b(this,this.callbacks,this.handlerOptions)},deactivate:function(){this.cancelDelay();return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},cancel:function(){this.cancelDelay();this.handler.cancel()},setImmediate:function(a){this.immediate=a;if(this.immediate){this.callbacks.modify=this.measureImmediate}else{delete this.callbacks.modify}},updateHandler:function(b,a){var c=this.active;if(c){this.deactivate()}this.handler=new b(this,this.callbacks,a);if(c){this.activate()}},measureComplete:function(a){this.cancelDelay();this.measure(a,"measure")},measurePartial:function(a,b){this.cancelDelay();b=b.clone();if(this.handler.freehandMode(this.handler.evt)){this.measure(b,"measurepartial")}else{this.delayedTrigger=window.setTimeout(OpenLayers.Function.bind(function(){this.delayedTrigger=null;this.measure(b,"measurepartial")},this),this.partialDelay)}},measureImmediate:function(a,c,b){if(b&&this.delayedTrigger===null&&!this.handler.freehandMode(this.handler.evt)){this.measure(c.geometry,"measurepartial")}},cancelDelay:function(){if(this.delayedTrigger!==null){window.clearTimeout(this.delayedTrigger);this.delayedTrigger=null}},measure:function(d,b){var c,a;if(d.CLASS_NAME.indexOf("LineString")>-1){c=this.getBestLength(d);a=1}else{c=this.getBestArea(d);a=2}this.events.triggerEvent(b,{measure:c[0],units:c[1],order:a,geometry:d})},getBestArea:function(f){var b=this.displaySystemUnits[this.displaySystem];var e,d;for(var c=0,a=b.length;c<a;++c){e=b[c];d=this.getArea(f,e);if(d>1){break}}return[d,e]},getArea:function(f,a){var b,c;if(this.geodesic){b=f.getGeodesicArea(this.map.getProjectionObject());c="m"}else{b=f.getArea();c=this.map.getUnits()}var e=OpenLayers.INCHES_PER_UNIT[a];if(e){var d=OpenLayers.INCHES_PER_UNIT[c];b*=Math.pow((d/e),2)}return b},getBestLength:function(f){var b=this.displaySystemUnits[this.displaySystem];var e,d;for(var c=0,a=b.length;c<a;++c){e=b[c];d=this.getLength(f,e);if(d>1){break}}return[d,e]},getLength:function(f,a){var b,c;if(this.geodesic){b=f.getGeodesicLength(this.map.getProjectionObject());c="m"}else{b=f.getLength();c=this.map.getUnits()}var e=OpenLayers.INCHES_PER_UNIT[a];if(e){var d=OpenLayers.INCHES_PER_UNIT[c];b*=(d/e)}return b},CLASS_NAME:"OpenLayers.Control.Measure"});OpenLayers.Format.WMC.v1_0_0=OpenLayers.Class(OpenLayers.Format.WMC.v1,{VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/context http://schemas.opengis.net/context/1.0.0/context.xsd",initialize:function(a){OpenLayers.Format.WMC.v1.prototype.initialize.apply(this,[a])},read_wmc_SRS:function(f,e){var d=this.getChildValue(e);if(typeof f.projections!="object"){f.projections={}}var b=d.split(/ +/);for(var c=0,a=b.length;c<a;c++){f.projections[b[c]]=true}},write_wmc_Layer:function(b){var c=OpenLayers.Format.WMC.v1.prototype.write_wmc_Layer.apply(this,[b]);if(b.srs){var d=[];for(var a in b.srs){d.push(a)}c.appendChild(this.createElementDefaultNS("SRS",d.join(" ")))}c.appendChild(this.write_wmc_FormatList(b));c.appendChild(this.write_wmc_StyleList(b));if(b.dimensions){c.appendChild(this.write_wmc_DimensionList(b))}c.appendChild(this.write_wmc_LayerExtension(b))},CLASS_NAME:"OpenLayers.Format.WMC.v1_0_0"});OpenLayers.Format.WMTSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",yx:{"urn:ogc:def:crs:EPSG::4326":true},createLayer:function(e,f){var k;var l={layer:true,matrixSet:true};for(var c in l){if(!(c in f)){throw new Error("Missing property '"+c+"' in layer configuration.")}}var g=e.contents;var d=g.tileMatrixSets[f.matrixSet];var j=g.layers;var b;for(var h=0,m=g.layers.length;h<m;++h){if(g.layers[h].identifier===f.layer){b=g.layers[h];break}}if(b&&d){var a;for(var h=0,m=b.styles.length;h<m;++h){a=b.styles[h];if(a.isDefault){break}}k=new OpenLayers.Layer.WMTS(OpenLayers.Util.applyDefaults(f,{url:e.operationsMetadata.GetTile.dcp.http.get,name:b.title,style:a.identifier,matrixIds:d.matrixIds}))}return k},CLASS_NAME:"OpenLayers.Format.WMTSCapabilities"});
OpenLayers.Format.WMTSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.OWSCommon.v1_1_0,{version:"1.0.0",namespaces:{ows:"http://www.opengis.net/ows/1.1",wmts:"http://www.opengis.net/wmts/1.0",xlink:"http://www.w3.org/1999/xlink"},yx:null,defaultPrefix:"wmts",initialize:function(b){OpenLayers.Format.XML.prototype.initialize.apply(this,[b]);this.options=b;var a=OpenLayers.Util.extend({},OpenLayers.Format.WMTSCapabilities.prototype.yx);this.yx=OpenLayers.Util.extend(a,this.yx)},read:function(b){if(typeof b=="string"){b=OpenLayers.Format.XML.prototype.read.apply(this,[b])}if(b&&b.nodeType==9){b=b.documentElement}var a={};this.readNode(b,a);a.version=this.version;return a},readers:{wmts:{Capabilities:function(a,b){this.readChildNodes(a,b)},Contents:function(a,b){b.contents={};b.contents.layers=[];b.contents.tileMatrixSets={};this.readChildNodes(a,b.contents)},Layer:function(b,c){var a={styles:[],formats:[],tileMatrixSetLinks:[]};a.layers=[];this.readChildNodes(b,a);c.layers.push(a)},Style:function(b,c){var a={};a.isDefault=(b.getAttribute("isDefault")==="true");this.readChildNodes(b,a);c.styles.push(a)},Format:function(a,b){b.formats.push(this.getChildValue(a))},TileMatrixSetLink:function(b,c){var a={};this.readChildNodes(b,a);c.tileMatrixSetLinks.push(a)},TileMatrixSet:function(b,c){if(c.layers){var a={matrixIds:[]};this.readChildNodes(b,a);c.tileMatrixSets[a.identifier]=a}else{c.tileMatrixSet=this.getChildValue(b)}},TileMatrix:function(b,c){var a={supportedCRS:c.supportedCRS};this.readChildNodes(b,a);c.matrixIds.push(a)},ScaleDenominator:function(a,b){b.scaleDenominator=parseFloat(this.getChildValue(a))},TopLeftCorner:function(d,f){var c=this.getChildValue(d);var e=c.split(" ");var a;if(f.supportedCRS){var b=f.supportedCRS.replace(/urn:ogc:def:crs:(\w+):.+:(\w+)$/,"urn:ogc:def:crs:$1::$2");a=!!this.yx[b]}if(a){f.topLeftCorner=new OpenLayers.LonLat(e[1],e[0])}else{f.topLeftCorner=new OpenLayers.LonLat(e[0],e[1])}},TileWidth:function(a,b){b.tileWidth=parseInt(this.getChildValue(a))},TileHeight:function(a,b){b.tileHeight=parseInt(this.getChildValue(a))},MatrixWidth:function(a,b){b.matrixWidth=parseInt(this.getChildValue(a))},MatrixHeight:function(a,b){b.matrixHeight=parseInt(this.getChildValue(a))},ResourceURL:function(a,b){b.resourceUrl=b.resourceUrl||{};b.resourceUrl[a.getAttribute("resourceType")]={format:a.getAttribute("format"),template:a.getAttribute("template")}},WSDL:function(a,b){b.wsdl={};b.wsdl.href=a.getAttribute("xlink:href")},ServiceMetadataURL:function(a,b){b.serviceMetadataUrl={};b.serviceMetadataUrl.href=a.getAttribute("xlink:href")}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WMTSCapabilities.v1_0_0"});OpenLayers.Lang.hu=OpenLayers.Util.applyDefaults({unhandledRequest:"Nem kezelt kérés visszatérése ${statusText}",Permalink:"Permalink",Overlays:"Rávetítések","Base Layer":"Alapréteg",readNotImplemented:"Olvasás nincs végrehajtva.",writeNotImplemented:"Írás nincs végrehajtva.",noFID:"Nem frissíthető olyan jellemző, amely nem rendelkezik FID-del.",errorLoadingGML:"Hiba GML-fájl betöltésekor ${url}",browserNotSupported:"A böngészője nem támogatja a vektoros renderelést. A jelenleg támogatott renderelők:\n${renderers}",componentShouldBe:"addFeatures : az összetevőnek ilyen típusúnak kell lennie: ${geomType}",getFeatureError:"getFeatureFromEvent réteget hívott meg renderelő nélkül. Ez rendszerint azt jelenti, hogy megsemmisített egy fóliát, de néhány ahhoz társított kezelőt nem.",minZoomLevelError:"A minZoomLevel tulajdonságot csak a következővel való használatra szánták: FixedZoomLevels-leszármazott fóliák. Ez azt jelenti, hogy a minZoomLevel wfs fólia jelölőnégyzetei már a múlté. Mi azonban nem távolíthatjuk el annak a veszélye nélkül, hogy az esetlegesen ettől függő OL alapú alkalmazásokat tönkretennénk. Ezért ezt érvénytelenítjük -- a minZoomLevel az alul levő jelölőnégyzet a 3.0-s verzióból el lesz távolítva. Kérjük, helyette használja a  min/max felbontás beállítást, amelyről az alábbi helyen talál leírást: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS tranzakció: SIKERES ${response}",commitFailed:"WFS tranzakció: SIKERTELEN ${response}",googleWarning:"A Google fólia betöltése sikertelen.\x3cbr\x3e\x3cbr\x3eAhhoz, hogy ez az üzenet eltűnjön, válasszon egy új BaseLayer fóliát a jobb felső sarokban található fóliakapcsoló segítségével.\x3cbr\x3e\x3cbr\x3eNagy valószínűséggel ez azért van, mert a Google Maps könyvtár parancsfájlja nem található, vagy nem tartalmazza az Ön oldalához tartozó megfelelő API-kulcsot.\x3cbr\x3e\x3cbr\x3eFejlesztőknek: A helyes működtetésre vonatkozó segítség az alábbi helyen érhető el, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3ekattintson ide\x3c/a\x3e",getLayerWarning:"A(z) ${layerType} fólia nem töltődött be helyesen.\x3cbr\x3e\x3cbr\x3eAhhoz, hogy ez az üzenet eltűnjön, válasszon egy új BaseLayer fóliát a jobb felső sarokban található fóliakapcsoló segítségével.\x3cbr\x3e\x3cbr\x3eNagy valószínűséggel ez azért van, mert a(z) ${layerLib} könyvtár parancsfájlja helytelen.\x3cbr\x3e\x3cbr\x3eFejlesztőknek: A helyes működtetésre vonatkozó segítség az alábbi helyen érhető el, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3ekattintson ide\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Lépték = 1 : ${scaleDenom}",W:"Ny",E:"K",N:"É",S:"D",layerAlreadyAdded:"Megpróbálta hozzáadni a(z) ${layerName} fóliát a térképhez, de az már hozzá van adva",reprojectDeprecated:"Ön a 'reproject' beállítást használja a(z) ${layerName} fólián. Ez a beállítás érvénytelen: használata az üzleti alaptérképek fölötti adatok megjelenítésének támogatására szolgált, de ezt a funkció ezentúl a Gömbi Mercator használatával érhető el. További információ az alábbi helyen érhető el: http://trac.openlayers.org/wiki/SphericalMercator",methodDeprecated:"Ez a módszer érvénytelenítve lett és a 3.0-s verzióból el lesz távolítva. Használja a(z) ${newMethod} módszert helyette.",boundsAddError:"Az x és y értékeknek egyaránt meg kell felelnie, hogy a funkciót hozzáadhassa.",lonlatAddError:"A hossz. és szél. értékeknek egyaránt meg kell felelnie, hogy a funkciót hozzáadhassa.",pixelAddError:"Az x és y értékeknek egyaránt meg kell felelnie, hogy a funkciót hozzáadhassa.",unsupportedGeometryType:"Nem támogatott geometriatípus: ${geomType}",filterEvaluateNotImplemented:"ennél a szűrőtípusnál kiértékelés nem hajtódik végre."});
OpenLayers.Popup.FramedCloud=OpenLayers.Class(OpenLayers.Popup.Framed,{contentDisplayClass:"olFramedCloudPopupContent",autoSize:true,panMapIfOutOfView:true,imageSize:new OpenLayers.Size(1276,736),isAlphaImage:false,fixedRelativePosition:false,positionBlocks:{tl:{offset:new OpenLayers.Pixel(44,0),padding:new OpenLayers.Bounds(8,40,8,9),blocks:[{size:new OpenLayers.Size("auto","auto"),anchor:new OpenLayers.Bounds(0,51,22,0),position:new OpenLayers.Pixel(0,0)},{size:new OpenLayers.Size(22,"auto"),anchor:new OpenLayers.Bounds(null,50,0,0),position:new OpenLayers.Pixel(-1238,0)},{size:new OpenLayers.Size("auto",19),anchor:new OpenLayers.Bounds(0,32,22,null),position:new OpenLayers.Pixel(0,-631)},{size:new OpenLayers.Size(22,18),anchor:new OpenLayers.Bounds(null,32,0,null),position:new OpenLayers.Pixel(-1238,-632)},{size:new OpenLayers.Size(81,35),anchor:new OpenLayers.Bounds(null,0,0,null),position:new OpenLayers.Pixel(0,-688)}]},tr:{offset:new OpenLayers.Pixel(-45,0),padding:new OpenLayers.Bounds(8,40,8,9),blocks:[{size:new OpenLayers.Size("auto","auto"),anchor:new OpenLayers.Bounds(0,51,22,0),position:new OpenLayers.Pixel(0,0)},{size:new OpenLayers.Size(22,"auto"),anchor:new OpenLayers.Bounds(null,50,0,0),position:new OpenLayers.Pixel(-1238,0)},{size:new OpenLayers.Size("auto",19),anchor:new OpenLayers.Bounds(0,32,22,null),position:new OpenLayers.Pixel(0,-631)},{size:new OpenLayers.Size(22,19),anchor:new OpenLayers.Bounds(null,32,0,null),position:new OpenLayers.Pixel(-1238,-631)},{size:new OpenLayers.Size(81,35),anchor:new OpenLayers.Bounds(0,0,null,null),position:new OpenLayers.Pixel(-215,-687)}]},bl:{offset:new OpenLayers.Pixel(45,0),padding:new OpenLayers.Bounds(8,9,8,40),blocks:[{size:new OpenLayers.Size("auto","auto"),anchor:new OpenLayers.Bounds(0,21,22,32),position:new OpenLayers.Pixel(0,0)},{size:new OpenLayers.Size(22,"auto"),anchor:new OpenLayers.Bounds(null,21,0,32),position:new OpenLayers.Pixel(-1238,0)},{size:new OpenLayers.Size("auto",21),anchor:new OpenLayers.Bounds(0,0,22,null),position:new OpenLayers.Pixel(0,-629)},{size:new OpenLayers.Size(22,21),anchor:new OpenLayers.Bounds(null,0,0,null),position:new OpenLayers.Pixel(-1238,-629)},{size:new OpenLayers.Size(81,33),anchor:new OpenLayers.Bounds(null,null,0,0),position:new OpenLayers.Pixel(-101,-674)}]},br:{offset:new OpenLayers.Pixel(-44,0),padding:new OpenLayers.Bounds(8,9,8,40),blocks:[{size:new OpenLayers.Size("auto","auto"),anchor:new OpenLayers.Bounds(0,21,22,32),position:new OpenLayers.Pixel(0,0)},{size:new OpenLayers.Size(22,"auto"),anchor:new OpenLayers.Bounds(null,21,0,32),position:new OpenLayers.Pixel(-1238,0)},{size:new OpenLayers.Size("auto",21),anchor:new OpenLayers.Bounds(0,0,22,null),position:new OpenLayers.Pixel(0,-629)},{size:new OpenLayers.Size(22,21),anchor:new OpenLayers.Bounds(null,0,0,null),position:new OpenLayers.Pixel(-1238,-629)},{size:new OpenLayers.Size(81,33),anchor:new OpenLayers.Bounds(0,null,null,0),position:new OpenLayers.Pixel(-311,-674)}]}},minSize:new OpenLayers.Size(105,10),maxSize:new OpenLayers.Size(1200,660),initialize:function(g,c,f,b,a,e,d){this.imageSrc=OpenLayers.Util.getImagesLocation()+"cloud-popup-relative.png";OpenLayers.Popup.Framed.prototype.initialize.apply(this,arguments);this.contentDiv.className=this.contentDisplayClass},destroy:function(){OpenLayers.Popup.Framed.prototype.destroy.apply(this,arguments)},CLASS_NAME:"OpenLayers.Popup.FramedCloud"});OpenLayers.Lang.pt=OpenLayers.Util.applyDefaults({unhandledRequest:"Servidor devolveu erro não contemplado ${statusText}",Permalink:"Ligação permanente",Overlays:"Sobreposições","Base Layer":"Camada Base",readNotImplemented:"Leitura não implementada.",writeNotImplemented:"Escrita não implementada.",noFID:"Não é possível atualizar um elemento para a qual não há FID.",errorLoadingGML:"Erro ao carregar ficheiro GML ${url}",browserNotSupported:"O seu navegador não suporta renderização vetorial. Actualmente os renderizadores suportados são:\n${renderers}",componentShouldBe:"addFeatures: componente deve ser um(a) ${geomType}",getFeatureError:"getFeatureFromEvent foi chamado numa camada sem renderizador. Isto normalmente significa que destruiu uma camada, mas não um manipulador ''(handler)'' que lhe está associado.",minZoomLevelError:"A propriedade minZoomLevel só deve ser usada com as camadas descendentes da FixedZoomLevels. A verificação da propriedade por esta camada wfs é uma relíquia do passado. No entanto, não podemos removê-la sem correr o risco de afectar aplicações OL que dependam dela. Portanto, estamos a torná-la obsoleta -- a verificação minZoomLevel será removida na versão 3.0. Em vez dela, por favor, use as opções de resolução min/max descritas aqui: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transacção WFS: SUCESSO ${response}",commitFailed:"Transacção WFS: FALHOU ${response}",googleWarning:"A Camada Google não foi correctamente carregada.\x3cbr\x3e\x3cbr\x3ePara deixar de receber esta mensagem, seleccione uma nova Camada-Base no ''switcher'' de camadas no canto superior direito.\x3cbr\x3e\x3cbr\x3eProvavelmente, isto acontece porque o ''script'' da biblioteca do Google Maps não foi incluído ou não contém a chave API correcta para o seu sítio.\x3cbr\x3e\x3cbr\x3eProgramadores: Para ajuda sobre como solucionar o problema \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eclique aqui\x3c/a\x3e .",getLayerWarning:"A camada ${layerType} não foi correctamente carregada.\x3cbr\x3e\x3cbr\x3ePara desactivar esta mensagem, seleccione uma nova Camada-Base no ''switcher'' de camadas no canto superior direito.\x3cbr\x3e\x3cbr\x3eProvavelmente, isto acontece porque o ''script'' da biblioteca ${layerLib} não foi incluído correctamente.\x3cbr\x3e\x3cbr\x3eProgramadores: Para ajuda sobre como solucionar o problema \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eclique aqui\x3c/a\x3e .","Scale = 1 : ${scaleDenom}":"Escala = 1 : ${scaleDenom}",W:"O",E:"E",N:"N",S:"S",layerAlreadyAdded:"Você tentou adicionar a camada: ${layerName} ao mapa, mas ela já tinha sido adicionada antes",reprojectDeprecated:"Está usando a opção 'reproject' na camada ${layerName}. Esta opção é obsoleta: foi concebida para permitir a apresentação de dados sobre mapas-base comerciais, mas esta funcionalidade é agora suportada pelo Mercator Esférico. Mais informação está disponível em http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Este método foi declarado obsoleto e será removido na versão 3.0. Por favor, use ${newMethod} em vez disso.",boundsAddError:"Você deve passar tanto o valor x como o y à função de adição.",lonlatAddError:"Você deve passar tanto o valor lon como o lat à função de adição.",pixelAddError:"Você deve passar tanto o valor x como o y à função de adição.",unsupportedGeometryType:"Tipo de geometria não suportado: ${geomType}",filterEvaluateNotImplemented:"avaliar não está implementado para este tipo de filtro."});
OpenLayers.Lang.vi=OpenLayers.Util.applyDefaults({unhandledRequest:"Không xử lý được phản hồi ${statusText} cho yêu cầu",Permalink:"Liên kết thường trực",Overlays:"Lấp bản đồ","Base Layer":"Lớp nền",readNotImplemented:"Chưa hỗ trợ chức năng đọc.",writeNotImplemented:"Chưa hỗ trợ chức năng viết.",noFID:"Không thể cập nhật tính năng thiếu FID.",errorLoadingGML:"Lỗi tải tập tin GML tại ${url}",browserNotSupported:"Trình duyệt của bạn không hỗ trợ chức năng vẽ bằng vectơ. Hiện hỗ trợ các bộ kết xuất:\n${renderers}",componentShouldBe:"addFeatures: bộ phận cần phải là ${geomType}",getFeatureError:"getFeatureFromEvent được gọi từ lớp không có bộ kết xuất. Thường thì có lẽ lớp bị xóa nhưng một phần xử lý của nó vẫn còn.",minZoomLevelError:"Chỉ nên sử dụng thuộc tính minZoomLevel với các lớp FixedZoomLevels-descendent. Việc lớp wfs này tìm cho minZoomLevel là di tích còn lại từ xưa. Tuy nhiên, nếu chúng tôi dời nó thì sẽ vỡ các chương trình OpenLayers mà dựa trên nó. Bởi vậy chúng tôi phản đối sử dụng nó\x26nbsp;– bước tìm cho minZoomLevel sẽ được dời vào phiên bản 3.0. Xin sử dụng thiết lập độ phân tích tối thiểu / tối đa thay thế, theo hướng dẫn này: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Giao dịch WFS: THÀNH CÔNG ${response}",commitFailed:"Giao dịch WFS: THẤT BẠI ${response}",googleWarning:"Không thể tải lớp Google đúng đắn.\x3cbr\x3e\x3cbr\x3eĐể tránh thông báo này lần sau, hãy chọn BaseLayer mới dùng điều khiển chọn lớp ở góc trên phải.\x3cbr\x3e\x3cbr\x3eChắc script thư viện Google Maps hoặc không được bao gồm hoặc không chứa khóa API hợp với website của bạn.\x3cbr\x3e\x3cbr\x3e\x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eTrợ giúp về tính năng này\x3c/a\x3e cho người phát triển.",getLayerWarning:"Không thể tải lớp ${layerType} đúng đắn.\x3cbr\x3e\x3cbr\x3eĐể tránh thông báo này lần sau, hãy chọn BaseLayer mới dùng điều khiển chọn lớp ở góc trên phải.\x3cbr\x3e\x3cbr\x3eChắc script thư viện ${layerLib} không được bao gồm đúng kiểu.\x3cbr\x3e\x3cbr\x3e\x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eTrợ giúp về tính năng này\x3c/a\x3e cho người phát triển.","Scale = 1 : ${scaleDenom}":"Tỷ lệ = 1 : ${scaleDenom}",W:"T",E:"Đ",N:"B",S:"N",layerAlreadyAdded:"Bạn muốn thêm lớp ${layerName} vào bản đồ, nhưng lớp này đã được thêm",reprojectDeprecated:"Bạn đang áp dụng chế độ “reproject” vào lớp ${layerName}. Chế độ này đã bị phản đối: nó có mục đích hỗ trợ lấp dữ liệu trên các nền bản đồ thương mại; nên thực hiện hiệu ứng đó dùng tính năng Mercator Hình cầu. Có sẵn thêm chi tiết tại http://trac.openlayers.org/wiki/SphericalMercator .",methodDeprecated:"Phương thức này đã bị phản đối và sẽ bị dời vào phiên bản 3.0. Xin hãy sử dụng ${newMethod} thay thế.",boundsAddError:"Cần phải cho cả giá trị x và y vào hàm add.",lonlatAddError:"Cần phải cho cả giá trị lon và lat vào hàm add.",pixelAddError:"Cần phải cho cả giá trị x và y vào hàm add.",unsupportedGeometryType:"Không hỗ trợ kiểu địa lý: ${geomType}",filterEvaluateNotImplemented:"chưa hỗ trợ evaluate cho loại bộ lọc này."});OpenLayers.Lang.gl=OpenLayers.Util.applyDefaults({unhandledRequest:"Solicitude non xerada; a resposta foi: ${statusText}",Permalink:"Ligazón permanente",Overlays:"Capas superpostas","Base Layer":"Capa base",readNotImplemented:"Lectura non implementada.",writeNotImplemented:"Escritura non implementada.",noFID:"Non se pode actualizar a funcionalidade para a que non hai FID.",errorLoadingGML:"Erro ao cargar o ficheiro GML ${url}",browserNotSupported:"O seu navegador non soporta a renderización de vectores. Os renderizadores soportados actualmente son:\n${renderers}",componentShouldBe:"addFeatures: o compoñente debera ser de tipo ${geomType}",getFeatureError:"getFeatureFromEvent ten sido chamado a unha capa sen renderizador. Isto normalmente significa que destruíu unha capa, mais non o executador que está asociado con ela.",minZoomLevelError:"A propiedade minZoomLevel é só para uso conxuntamente coas capas FixedZoomLevels-descendent. O feito de que esa capa wfs verifique o minZoomLevel é unha reliquia do pasado. Non podemos, con todo, eliminala sen a posibilidade de non romper as aplicacións baseadas en OL que poidan depender dela. Por iso a estamos deixando obsoleta (a comprobación minZoomLevel de embaixo será eliminada na versión 3.0). Por favor, no canto diso use o axuste de resolución mín/máx tal e como está descrito aquí: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"Transacción WFS: ÉXITO ${response}",commitFailed:"Transacción WFS: FALLIDA ${response}",googleWarning:"A capa do Google non puido cargarse correctamente.\x3cbr\x3e\x3cbr\x3ePara evitar esta mensaxe, escolla unha nova capa base no seleccionador de capas na marxe superior dereita.\x3cbr\x3e\x3cbr\x3eProbablemente, isto acontece porque a escritura da libraría do Google Maps ou ben non foi incluída ou ben non contén a clave API correcta para o seu sitio.\x3cbr\x3e\x3cbr\x3eDesenvolvedores: para axudar a facer funcionar isto correctamente, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3epremede aquí\x3c/a\x3e",getLayerWarning:"A capa ${layerType} foi incapaz de cargarse correctamente.\x3cbr\x3e\x3cbr\x3ePara evitar esta mensaxe, escolla unha nova capa base no seleccionador de capas na marxe superior dereita.\x3cbr\x3e\x3cbr\x3eProbablemente, isto acontece porque a escritura da libraría ${layerLib} non foi ben incluída.\x3cbr\x3e\x3cbr\x3eDesenvolvedores: para axudar a facer funcionar isto correctamente, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3epremede aquí\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Escala = 1 : ${scaleDenom}",W:"O",E:"L",N:"N",S:"S",layerAlreadyAdded:"Intentou engadir a capa: ${layerName} ao mapa, pero xa fora engadida",reprojectDeprecated:'Está usando a opción "reproject" na capa ${layerName}. Esta opción está obsoleta: o seu uso foi deseñado para a visualización de datos sobre mapas base comerciais, pero esta funcionalidade debera agora ser obtida utilizando a proxección Spherical Mercator. Hai dispoñible máis información en http://trac.openlayers.org/wiki/SphericalMercator.',methodDeprecated:"Este método está obsoleto e será eliminado na versión 3.0. Por favor, no canto deste use ${newMethod}.",boundsAddError:"Debe achegar os valores x e y á función add.",lonlatAddError:"Debe achegar tanto o valor lon coma o lat á función add.",pixelAddError:"Debe achegar os valores x e y á función add.",unsupportedGeometryType:"Tipo xeométrico non soportado: ${geomType}",filterEvaluateNotImplemented:"avaliar non está implementado para este tipo de filtro."});
OpenLayers.Geometry.Rectangle=OpenLayers.Class(OpenLayers.Geometry,{x:null,y:null,width:null,height:null,initialize:function(b,d,c,a){OpenLayers.Geometry.prototype.initialize.apply(this,arguments);this.x=b;this.y=d;this.width=c;this.height=a},calculateBounds:function(){this.bounds=new OpenLayers.Bounds(this.x,this.y,this.x+this.width,this.y+this.height)},getLength:function(){var a=(2*this.width)+(2*this.height);return a},getArea:function(){var a=this.width*this.height;return a},CLASS_NAME:"OpenLayers.Geometry.Rectangle"});OpenLayers.Strategy.Refresh=OpenLayers.Class(OpenLayers.Strategy,{force:false,interval:0,timer:null,activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);if(a){if(this.layer.visibility===true){this.start()}this.layer.events.on({visibilitychanged:this.reset,scope:this})}return a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);if(a){this.stop()}return a},reset:function(){if(this.layer.visibility===true){this.start()}else{this.stop()}},start:function(){if(this.interval&&typeof this.interval==="number"&&this.interval>0){this.timer=window.setInterval(OpenLayers.Function.bind(this.refresh,this),this.interval)}},refresh:function(){if(this.layer&&this.layer.refresh&&typeof this.layer.refresh=="function"){this.layer.refresh({force:this.force})}},stop:function(){if(this.timer!==null){window.clearInterval(this.timer);this.timer=null}},CLASS_NAME:"OpenLayers.Strategy.Refresh"});OpenLayers.Format.SOSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.SOSCapabilities,{namespaces:{ows:"http://www.opengis.net/ows/1.1",sos:"http://www.opengis.net/sos/1.0",gml:"http://www.opengis.net/gml",xlink:"http://www.w3.org/1999/xlink"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a]);this.options=a},read:function(b){if(typeof b=="string"){b=OpenLayers.Format.XML.prototype.read.apply(this,[b])}if(b&&b.nodeType==9){b=b.documentElement}var a={};this.readNode(b,a);return a},readers:{gml:OpenLayers.Util.applyDefaults({name:function(a,b){b.name=this.getChildValue(a)},TimePeriod:function(a,b){b.timePeriod={};this.readChildNodes(a,b.timePeriod)},beginPosition:function(b,a){a.beginPosition=this.getChildValue(b)},endPosition:function(b,a){a.endPosition=this.getChildValue(b)}},OpenLayers.Format.GML.v3.prototype.readers.gml),sos:{Capabilities:function(a,b){this.readChildNodes(a,b)},Contents:function(a,b){b.contents={};this.readChildNodes(a,b.contents)},ObservationOfferingList:function(b,a){a.offeringList={};this.readChildNodes(b,a.offeringList)},ObservationOffering:function(b,a){var c=this.getAttributeNS(b,this.namespaces.gml,"id");a[c]={procedures:[],observedProperties:[],featureOfInterestIds:[],responseFormats:[],resultModels:[],responseModes:[]};this.readChildNodes(b,a[c])},time:function(a,b){b.time={};this.readChildNodes(a,b.time)},procedure:function(a,b){b.procedures.push(this.getAttributeNS(a,this.namespaces.xlink,"href"))},observedProperty:function(a,b){b.observedProperties.push(this.getAttributeNS(a,this.namespaces.xlink,"href"))},featureOfInterest:function(a,b){b.featureOfInterestIds.push(this.getAttributeNS(a,this.namespaces.xlink,"href"))},responseFormat:function(a,b){b.responseFormats.push(this.getChildValue(a))},resultModel:function(a,b){b.resultModels.push(this.getChildValue(a))},responseMode:function(a,b){b.responseModes.push(this.getChildValue(a))}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.SOSCapabilities.v1_0_0"});OpenLayers.Control.NavToolbar=OpenLayers.Class(OpenLayers.Control.Panel,{initialize:function(a){OpenLayers.Control.Panel.prototype.initialize.apply(this,[a]);this.addControls([new OpenLayers.Control.Navigation(),new OpenLayers.Control.ZoomBox()])},draw:function(){var a=OpenLayers.Control.Panel.prototype.draw.apply(this,arguments);if(this.defaultControl===null){this.defaultControl=this.controls[0]}return a},CLASS_NAME:"OpenLayers.Control.NavToolbar"});OpenLayers.Tile.WFS=OpenLayers.Class(OpenLayers.Tile,{features:null,url:null,request:null,initialize:function(d,a,e,b,c){OpenLayers.Tile.prototype.initialize.apply(this,arguments);
this.url=b;this.features=[]},destroy:function(){OpenLayers.Tile.prototype.destroy.apply(this,arguments);this.destroyAllFeatures();this.features=null;this.url=null;if(this.request){this.request.abort();this.request=null}},clear:function(){this.destroyAllFeatures()},draw:function(){if(OpenLayers.Tile.prototype.draw.apply(this,arguments)){if(this.isLoading){this.events.triggerEvent("reload")}else{this.isLoading=true;this.events.triggerEvent("loadstart")}this.loadFeaturesForRegion(this.requestSuccess)}},loadFeaturesForRegion:function(b,a){if(this.request){this.request.abort()}this.request=OpenLayers.Request.GET({url:this.url,success:b,failure:a,scope:this})},requestSuccess:function(b){if(this.features){var d=b.responseXML;if(!d||!d.documentElement){d=b.responseText}if(this.layer.vectorMode){this.layer.addFeatures(this.layer.formatObject.read(d))}else{var a=new OpenLayers.Format.XML();if(typeof d=="string"){d=a.read(d)}var c=a.getElementsByTagNameNS(d,"http://www.opengis.net/gml","featureMember");this.addResults(c)}}if(this.events){this.events.triggerEvent("loadend")}this.request=null},addResults:function(c){for(var b=0;b<c.length;b++){var a=new this.layer.featureClass(this.layer,c[b]);this.features.push(a)}},destroyAllFeatures:function(){while(this.features.length>0){var a=this.features.shift();a.destroy()}},CLASS_NAME:"OpenLayers.Tile.WFS"});OpenLayers.Control.Geolocate=OpenLayers.Class(OpenLayers.Control,{EVENT_TYPES:["locationupdated","locationfailed","locationuncapable"],geolocation:navigator.geolocation,bind:true,watch:false,geolocationOptions:null,initialize:function(a){this.EVENT_TYPES=OpenLayers.Control.Geolocate.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);this.geolocationOptions={};OpenLayers.Control.prototype.initialize.apply(this,[a])},destroy:function(){this.deactivate();OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){if(!this.geolocation){this.events.triggerEvent("locationuncapable");return false}if(OpenLayers.Control.prototype.activate.apply(this,arguments)){if(this.watch){this.watchId=this.geolocation.watchPosition(OpenLayers.Function.bind(this.geolocate,this),OpenLayers.Function.bind(this.failure,this),this.geolocationOptions)}else{this.getCurrentLocation()}return true}return false},deactivate:function(){if(this.active&&this.watchId!==null){this.geolocation.clearWatch(this.watchId)}return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},geolocate:function(b){var a=new OpenLayers.LonLat(b.coords.longitude,b.coords.latitude).transform(new OpenLayers.Projection("EPSG:4326"),this.map.getProjectionObject());if(this.bind){this.map.setCenter(a)}this.events.triggerEvent("locationupdated",{position:b,point:new OpenLayers.Geometry.Point(a.lon,a.lat)})},getCurrentLocation:function(){if(!this.active||this.watch){return false}this.geolocation.getCurrentPosition(OpenLayers.Function.bind(this.geolocate,this),OpenLayers.Function.bind(this.failure,this),this.geolocationOptions);return true},failure:function(a){this.events.triggerEvent("locationfailed",{error:a})},CLASS_NAME:"OpenLayers.Control.Geolocate"});OpenLayers.Layer.ArcGIS93Rest=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{format:"png"},isBaseLayer:true,initialize:function(d,c,e,b){var a=[];e=OpenLayers.Util.upperCaseObject(e);a.push(d,c,e,b);OpenLayers.Layer.Grid.prototype.initialize.apply(this,a);OpenLayers.Util.applyDefaults(this.params,OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));if(this.params.TRANSPARENT&&this.params.TRANSPARENT.toString().toLowerCase()=="true"){if((b==null)||(!b.isBaseLayer)){this.isBaseLayer=false}if(this.params.FORMAT=="jpg"){this.params.FORMAT=OpenLayers.Util.alphaHack()?"gif":"png"}}},destroy:function(){OpenLayers.Layer.Grid.prototype.destroy.apply(this,arguments)},clone:function(a){if(a==null){a=new OpenLayers.Layer.ArcGIS93Rest(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(e){e=this.adjustBounds(e);var d=this.projection.getCode().split(":");var c=d[d.length-1];var g=this.getImageSize();
var h={BBOX:e.toBBOX(),SIZE:g.w+","+g.h,F:"image",BBOXSR:c,IMAGESR:c};if(this.layerDefs){var f=[];var a;for(a in this.layerDefs){if(this.layerDefs.hasOwnProperty(a)){if(this.layerDefs[a]){f.push(a);f.push(":");f.push(this.layerDefs[a]);f.push(";")}}}if(f.length>0){h.LAYERDEFS=f.join("")}}var b=this.getFullRequestString(h);return b},setLayerFilter:function(b,a){if(!this.layerDefs){this.layerDefs={}}if(a){this.layerDefs[b]=a}else{delete this.layerDefs[b]}},clearLayerFilter:function(a){if(a){delete this.layerDefs[a]}else{delete this.layerDefs}},mergeNewParams:function(c){var b=OpenLayers.Util.upperCaseObject(c);var a=[b];return OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this,a)},CLASS_NAME:"OpenLayers.Layer.ArcGIS93Rest"});OpenLayers.Layer.MapServer=OpenLayers.Class(OpenLayers.Layer.Grid,{DEFAULT_PARAMS:{mode:"map",map_imagetype:"png"},initialize:function(d,c,e,b){var a=[];a.push(d,c,e,b);OpenLayers.Layer.Grid.prototype.initialize.apply(this,a);this.params=OpenLayers.Util.applyDefaults(this.params,this.DEFAULT_PARAMS);if(b==null||b.isBaseLayer==null){this.isBaseLayer=((this.params.transparent!="true")&&(this.params.transparent!=true))}},clone:function(a){if(a==null){a=new OpenLayers.Layer.MapServer(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(c){c=this.adjustBounds(c);var b=[c.left,c.bottom,c.right,c.top];var d=this.getImageSize();var a=this.getFullRequestString({mapext:b,imgext:b,map_size:[d.w,d.h],imgx:d.w/2,imgy:d.h/2,imgxy:[d.w,d.h]});return a},getFullRequestString:function(f,e){var b=(e==null)?this.url:e;var g=OpenLayers.Util.extend({},this.params);g=OpenLayers.Util.extend(g,f);var a=OpenLayers.Util.getParameterString(g);if(OpenLayers.Util.isArray(b)){b=this.selectUrl(a,b)}var d=OpenLayers.Util.upperCaseObject(OpenLayers.Util.getParameters(b));for(var h in g){if(h.toUpperCase() in d){delete g[h]}}a=OpenLayers.Util.getParameterString(g);var i=b;a=a.replace(/,/g,"+");if(a!=""){var c=b.charAt(b.length-1);if((c=="&")||(c=="?")){i+=a}else{if(b.indexOf("?")==-1){i+="?"+a}else{i+="&"+a}}}return i},CLASS_NAME:"OpenLayers.Layer.MapServer"});OpenLayers.Layer.MapServer.Untiled=OpenLayers.Class(OpenLayers.Layer.MapServer,{singleTile:true,initialize:function(c,b,e,a){OpenLayers.Layer.MapServer.prototype.initialize.apply(this,arguments);var d="The OpenLayers.Layer.MapServer.Untiled class is deprecated and will be removed in 3.0. Instead, you should use the normal OpenLayers.Layer.MapServer class, passing it the option 'singleTile' as true.";OpenLayers.Console.warn(d)},clone:function(a){if(a==null){a=new OpenLayers.Layer.MapServer.Untiled(this.name,this.url,this.params,this.getOptions())}a=OpenLayers.Layer.MapServer.prototype.clone.apply(this,[a]);return a},CLASS_NAME:"OpenLayers.Layer.MapServer.Untiled"});OpenLayers.Handler.Hover=OpenLayers.Class(OpenLayers.Handler,{delay:500,pixelTolerance:null,stopMove:false,px:null,timerId:null,initialize:function(c,b,a){OpenLayers.Handler.prototype.initialize.apply(this,arguments)},mousemove:function(a){if(this.passesTolerance(a.xy)){this.clearTimer();this.callback("move",[a]);this.px=a.xy;a=OpenLayers.Util.extend({},a);this.timerId=window.setTimeout(OpenLayers.Function.bind(this.delayedCall,this,a),this.delay)}return !this.stopMove},mouseout:function(a){if(OpenLayers.Util.mouseLeft(a,this.map.eventsDiv)){this.clearTimer();this.callback("move",[a])}return true},passesTolerance:function(b){var c=true;if(this.pixelTolerance&&this.px){var a=Math.sqrt(Math.pow(this.px.x-b.x,2)+Math.pow(this.px.y-b.y,2));if(a<this.pixelTolerance){c=false}}return c},clearTimer:function(){if(this.timerId!=null){window.clearTimeout(this.timerId);this.timerId=null}},delayedCall:function(a){this.callback("pause",[a])},deactivate:function(){var a=false;if(OpenLayers.Handler.prototype.deactivate.apply(this,arguments)){this.clearTimer();a=true}return a},CLASS_NAME:"OpenLayers.Handler.Hover"});OpenLayers.Control.GetFeature=OpenLayers.Class(OpenLayers.Control,{protocol:null,multipleKey:null,toggleKey:null,modifiers:null,multiple:false,click:true,single:true,clickout:true,toggle:false,clickTolerance:5,hover:false,box:false,maxFeatures:10,features:null,hoverFeature:null,handlerOptions:null,handlers:null,hoverResponse:null,filterType:OpenLayers.Filter.Spatial.BBOX,EVENT_TYPES:["featureselected","featuresselected","featureunselected","clickout","beforefeatureselected","beforefeaturesselected","hoverfeature","outfeature"],initialize:function(a){this.EVENT_TYPES=OpenLayers.Control.GetFeature.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);
a.handlerOptions=a.handlerOptions||{};OpenLayers.Control.prototype.initialize.apply(this,[a]);this.features={};this.handlers={};if(this.click){this.handlers.click=new OpenLayers.Handler.Click(this,{click:this.selectClick},this.handlerOptions.click||{})}if(this.box){this.handlers.box=new OpenLayers.Handler.Box(this,{done:this.selectBox},OpenLayers.Util.extend(this.handlerOptions.box,{boxDivClassName:"olHandlerBoxSelectFeature"}))}if(this.hover){this.handlers.hover=new OpenLayers.Handler.Hover(this,{move:this.cancelHover,pause:this.selectHover},OpenLayers.Util.extend(this.handlerOptions.hover,{delay:250}))}},activate:function(){if(!this.active){for(var a in this.handlers){this.handlers[a].activate()}}return OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){if(this.active){for(var a in this.handlers){this.handlers[a].deactivate()}}return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},selectClick:function(a){var b=this.pixelToBounds(a.xy);this.setModifiers(a);this.request(b,{single:this.single})},selectBox:function(a){var c;if(a instanceof OpenLayers.Bounds){var d=this.map.getLonLatFromPixel(new OpenLayers.Pixel(a.left,a.bottom));var b=this.map.getLonLatFromPixel(new OpenLayers.Pixel(a.right,a.top));c=new OpenLayers.Bounds(d.lon,d.lat,b.lon,b.lat)}else{if(this.click){return}c=this.pixelToBounds(a)}this.setModifiers(this.handlers.box.dragHandler.evt);this.request(c)},selectHover:function(a){var b=this.pixelToBounds(a.xy);this.request(b,{single:true,hover:true})},cancelHover:function(){if(this.hoverResponse){this.protocol.abort(this.hoverResponse);this.hoverResponse=null;OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait")}},request:function(d,b){b=b||{};var c=new OpenLayers.Filter.Spatial({type:this.filterType,value:d});OpenLayers.Element.addClass(this.map.viewPortDiv,"olCursorWait");var a=this.protocol.read({maxFeatures:b.single==true?this.maxFeatures:undefined,filter:c,callback:function(e){if(e.success()){if(e.features.length){if(b.single==true){this.selectBestFeature(e.features,d.getCenterLonLat(),b)}else{this.select(e.features)}}else{if(b.hover){this.hoverSelect()}else{this.events.triggerEvent("clickout");if(this.clickout){this.unselectAll()}}}}OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait")},scope:this});if(b.hover==true){this.hoverResponse=a}},selectBestFeature:function(b,a,j){j=j||{};if(b.length){var g=new OpenLayers.Geometry.Point(a.lon,a.lat);var h,d,e;var f=Number.MAX_VALUE;for(var c=0;c<b.length;++c){h=b[c];if(h.geometry){e=g.distanceTo(h.geometry,{edge:false});if(e<f){f=e;d=h;if(f==0){break}}}}if(j.hover==true){this.hoverSelect(d)}else{this.select(d||b)}}},setModifiers:function(a){this.modifiers={multiple:this.multiple||(this.multipleKey&&a[this.multipleKey]),toggle:this.toggle||(this.toggleKey&&a[this.toggleKey])}},select:function(e){if(!this.modifiers.multiple&&!this.modifiers.toggle){this.unselectAll()}if(!(OpenLayers.Util.isArray(e))){e=[e]}var b=this.events.triggerEvent("beforefeaturesselected",{features:e});if(b!==false){var f=[];var d;for(var c=0,a=e.length;c<a;++c){d=e[c];if(this.features[d.fid||d.id]){if(this.modifiers.toggle){this.unselect(this.features[d.fid||d.id])}}else{b=this.events.triggerEvent("beforefeatureselected",{feature:d});if(b!==false){this.features[d.fid||d.id]=d;f.push(d);this.events.triggerEvent("featureselected",{feature:d})}}}this.events.triggerEvent("featuresselected",{features:f})}},hoverSelect:function(a){var c=a?a.fid||a.id:null;var b=this.hoverFeature?this.hoverFeature.fid||this.hoverFeature.id:null;if(b&&b!=c){this.events.triggerEvent("outfeature",{feature:this.hoverFeature});this.hoverFeature=null}if(c&&c!=b){this.events.triggerEvent("hoverfeature",{feature:a});this.hoverFeature=a}},unselect:function(a){delete this.features[a.fid||a.id];this.events.triggerEvent("featureunselected",{feature:a})},unselectAll:function(){for(var a in this.features){this.unselect(this.features[a])}},setMap:function(b){for(var a in this.handlers){this.handlers[a].setMap(b)}OpenLayers.Control.prototype.setMap.apply(this,arguments)
},pixelToBounds:function(b){var e=b.add(-this.clickTolerance/2,this.clickTolerance/2);var a=b.add(this.clickTolerance/2,-this.clickTolerance/2);var c=this.map.getLonLatFromPixel(e);var d=this.map.getLonLatFromPixel(a);return new OpenLayers.Bounds(c.lon,c.lat,d.lon,d.lat)},CLASS_NAME:"OpenLayers.Control.GetFeature"});OpenLayers.Format.QueryStringFilter=(function(){var b={};b[OpenLayers.Filter.Comparison.EQUAL_TO]="eq";b[OpenLayers.Filter.Comparison.NOT_EQUAL_TO]="ne";b[OpenLayers.Filter.Comparison.LESS_THAN]="lt";b[OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO]="lte";b[OpenLayers.Filter.Comparison.GREATER_THAN]="gt";b[OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO]="gte";b[OpenLayers.Filter.Comparison.LIKE]="ilike";function a(c){c=c.replace(/%/g,"\\%");c=c.replace(/\\\\\.(\*)?/g,function(e,d){return d?e:"\\\\_"});c=c.replace(/\\\\\.\*/g,"\\\\%");c=c.replace(/(\\)?\.(\*)?/g,function(e,d,f){return d||f?e:"_"});c=c.replace(/(\\)?\.\*/g,function(e,d){return d?e:"%"});c=c.replace(/\\\./g,".");c=c.replace(/(\\)?\\\*/g,function(e,d){return d?e:"*"});return c}return OpenLayers.Class(OpenLayers.Format,{wildcarded:false,srsInBBOX:false,write:function(f,j){j=j||{};var e=f.CLASS_NAME;var g=e.substring(e.lastIndexOf(".")+1);switch(g){case"Spatial":switch(f.type){case OpenLayers.Filter.Spatial.BBOX:j.bbox=f.value.toArray();if(this.srsInBBOX&&f.projection){j.bbox.push(f.projection.getCode())}break;case OpenLayers.Filter.Spatial.DWITHIN:j.tolerance=f.distance;case OpenLayers.Filter.Spatial.WITHIN:j.lon=f.value.x;j.lat=f.value.y;break;default:OpenLayers.Console.warn("Unknown spatial filter type "+f.type)}break;case"Comparison":var k=b[f.type];if(k!==undefined){var h=f.value;if(f.type==OpenLayers.Filter.Comparison.LIKE){h=a(h);if(this.wildcarded){h="%"+h+"%"}}j[f.property+"__"+k]=h;j.queryable=j.queryable||[];j.queryable.push(f.property)}else{OpenLayers.Console.warn("Unknown comparison filter type "+f.type)}break;case"Logical":if(f.type===OpenLayers.Filter.Logical.AND){for(var d=0,c=f.filters.length;d<c;d++){j=this.write(f.filters[d],j)}}else{OpenLayers.Console.warn("Unsupported logical filter type "+f.type)}break;default:OpenLayers.Console.warn("Unknown filter type "+g)}return j},CLASS_NAME:"OpenLayers.Format.QueryStringFilter"})})();OpenLayers.Lang.fur=OpenLayers.Util.applyDefaults({Permalink:"Leam Permanent",Overlays:"Livei parsore","Base Layer":"Livel di base",browserNotSupported:"Il to sgarfadôr nol supuarte la renderizazion vetoriâl. Al moment a son supuartâts:\n${renderers}","Scale = 1 : ${scaleDenom}":"Scjale = 1 : ${scaleDenom}",W:"O",E:"E",N:"N",S:"S"});OpenLayers.Control.MousePosition=OpenLayers.Class(OpenLayers.Control,{autoActivate:true,element:null,prefix:"",separator:", ",suffix:"",numDigits:5,granularity:10,emptyString:null,lastXy:null,displayProjection:null,destroy:function(){this.deactivate();OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){if(OpenLayers.Control.prototype.activate.apply(this,arguments)){this.map.events.register("mousemove",this,this.redraw);this.map.events.register("mouseout",this,this.reset);this.redraw();return true}else{return false}},deactivate:function(){if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){this.map.events.unregister("mousemove",this,this.redraw);this.map.events.unregister("mouseout",this,this.reset);this.element.innerHTML="";return true}else{return false}},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!this.element){this.div.left="";this.div.top="";this.element=this.div}return this.div},redraw:function(a){var c;if(a==null){this.reset();return}else{if(this.lastXy==null||Math.abs(a.xy.x-this.lastXy.x)>this.granularity||Math.abs(a.xy.y-this.lastXy.y)>this.granularity){this.lastXy=a.xy;return}c=this.map.getLonLatFromPixel(a.xy);if(!c){return}if(this.displayProjection){c.transform(this.map.getProjectionObject(),this.displayProjection)}this.lastXy=a.xy}var b=this.formatOutput(c);if(b!=this.element.innerHTML){this.element.innerHTML=b}},reset:function(a){if(this.emptyString!=null){this.element.innerHTML=this.emptyString
}},formatOutput:function(b){var c=parseInt(this.numDigits);var a=this.prefix+b.lon.toFixed(c)+this.separator+b.lat.toFixed(c)+this.suffix;return a},CLASS_NAME:"OpenLayers.Control.MousePosition"});OpenLayers.Format.WMSGetFeatureInfo=OpenLayers.Class(OpenLayers.Format.XML,{layerIdentifier:"_layer",featureIdentifier:"_feature",regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},gmlFormat:null,read:function(e){var a;if(typeof e=="string"){e=OpenLayers.Format.XML.prototype.read.apply(this,[e])}var b=e.documentElement;if(b){var c=this;var d=this["read_"+b.nodeName];if(d){a=d.call(this,b)}else{a=new OpenLayers.Format.GML((this.options?this.options:{})).read(e)}}else{a=e}return a},read_msGMLOutput:function(h){var e=[];var b=this.getSiblingNodesByTagCriteria(h,this.layerIdentifier);if(b){for(var k=0,n=b.length;k<n;++k){var c=b[k];var l=c.nodeName;if(c.prefix){l=l.split(":")[1]}var l=l.replace(this.layerIdentifier,"");var m=this.getSiblingNodesByTagCriteria(c,this.featureIdentifier);if(m){for(var g=0;g<m.length;g++){var a=m[g];var d=this.parseGeometry(a);var f=this.parseAttributes(a);var o=new OpenLayers.Feature.Vector(d.geometry,f,null);o.bounds=d.bounds;o.type=l;e.push(o)}}}}return e},read_FeatureInfoResponse:function(h){var e=[];var l=this.getElementsByTagNameNS(h,"*","FIELDS");for(var k=0,m=l.length;k<m;k++){var b=l[k];var n=null;var g={};var f;var o=b.attributes.length;if(o>0){for(f=0;f<o;f++){var c=b.attributes[f];g[c.nodeName]=c.nodeValue}}else{var a=b.childNodes;for(f=0,o=a.length;f<o;++f){var d=a[f];if(d.nodeType!=3){g[d.getAttribute("name")]=d.getAttribute("value")}}}e.push(new OpenLayers.Feature.Vector(n,g,null))}return e},getSiblingNodesByTagCriteria:function(f,i){var a=[];var c,e,d,g,b;if(f&&f.hasChildNodes()){c=f.childNodes;d=c.length;for(var h=0;h<d;h++){b=c[h];while(b&&b.nodeType!=1){b=b.nextSibling;h++}e=(b?b.nodeName:"");if(e.length>0&&e.indexOf(i)>-1){a.push(b)}else{g=this.getSiblingNodesByTagCriteria(b,i);if(g.length>0){(a.length==0)?a=g:a.push(g)}}}}return a},parseAttributes:function(e){var f={};if(e.nodeType==1){var c=e.childNodes;var d=c.length;for(var g=0;g<d;++g){var b=c[g];if(b.nodeType==1){var k=b.childNodes;var a=(b.prefix)?b.nodeName.split(":")[1]:b.nodeName;if(k.length==0){f[a]=null}else{if(k.length==1){var j=k[0];if(j.nodeType==3||j.nodeType==4){var h=j.nodeValue.replace(this.regExes.trimSpace,"");f[a]=h}}}}}}return f},parseGeometry:function(c){if(!this.gmlFormat){this.gmlFormat=new OpenLayers.Format.GML()}var a=this.gmlFormat.parseFeature(c);var d,b=null;if(a){d=a.geometry&&a.geometry.clone();b=a.bounds&&a.bounds.clone();a.destroy()}return{geometry:d,bounds:b}},CLASS_NAME:"OpenLayers.Format.WMSGetFeatureInfo"});OpenLayers.Control.Button=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_BUTTON,trigger:function(){},CLASS_NAME:"OpenLayers.Control.Button"});OpenLayers.Control.NavigationHistory=OpenLayers.Class(OpenLayers.Control,{type:OpenLayers.Control.TYPE_TOGGLE,previous:null,previousOptions:null,next:null,nextOptions:null,limit:50,autoActivate:true,clearOnDeactivate:false,registry:null,nextStack:null,previousStack:null,listeners:null,restoring:false,initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,[a]);this.registry=OpenLayers.Util.extend({moveend:this.getState},this.registry);var b={trigger:OpenLayers.Function.bind(this.previousTrigger,this),displayClass:this.displayClass+" "+this.displayClass+"Previous"};OpenLayers.Util.extend(b,this.previousOptions);this.previous=new OpenLayers.Control.Button(b);var c={trigger:OpenLayers.Function.bind(this.nextTrigger,this),displayClass:this.displayClass+" "+this.displayClass+"Next"};OpenLayers.Util.extend(c,this.nextOptions);this.next=new OpenLayers.Control.Button(c);this.clear()},onPreviousChange:function(b,a){if(b&&!this.previous.active){this.previous.activate()}else{if(!b&&this.previous.active){this.previous.deactivate()}}},onNextChange:function(b,a){if(b&&!this.next.active){this.next.activate()}else{if(!b&&this.next.active){this.next.deactivate()}}},destroy:function(){OpenLayers.Control.prototype.destroy.apply(this);
this.previous.destroy();this.next.destroy();this.deactivate();for(var a in this){this[a]=null}},setMap:function(a){this.map=a;this.next.setMap(a);this.previous.setMap(a)},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);this.next.draw();this.previous.draw()},previousTrigger:function(){var b=this.previousStack.shift();var a=this.previousStack.shift();if(a!=undefined){this.nextStack.unshift(b);this.previousStack.unshift(a);this.restoring=true;this.restore(a);this.restoring=false;this.onNextChange(this.nextStack[0],this.nextStack.length);this.onPreviousChange(this.previousStack[1],this.previousStack.length-1)}else{this.previousStack.unshift(b)}return a},nextTrigger:function(){var a=this.nextStack.shift();if(a!=undefined){this.previousStack.unshift(a);this.restoring=true;this.restore(a);this.restoring=false;this.onNextChange(this.nextStack[0],this.nextStack.length);this.onPreviousChange(this.previousStack[1],this.previousStack.length-1)}return a},clear:function(){this.previousStack=[];this.previous.deactivate();this.nextStack=[];this.next.deactivate()},getState:function(){return{center:this.map.getCenter(),resolution:this.map.getResolution(),projection:this.map.getProjectionObject(),units:this.map.getProjectionObject().getUnits()||this.map.units||this.map.baseLayer.units}},restore:function(e){var a,d;if(this.map.getProjectionObject()==e.projection){d=this.map.getZoomForResolution(e.resolution);a=e.center}else{a=e.center.clone();a.transform(e.projection,this.map.getProjectionObject());var f=e.units;var b=this.map.getProjectionObject().getUnits()||this.map.units||this.map.baseLayer.units;var c=f&&b?OpenLayers.INCHES_PER_UNIT[f]/OpenLayers.INCHES_PER_UNIT[b]:1;d=this.map.getZoomForResolution(c*e.resolution)}this.map.setCenter(a,d)},setListeners:function(){this.listeners={};for(var a in this.registry){this.listeners[a]=OpenLayers.Function.bind(function(){if(!this.restoring){var b=this.registry[a].apply(this,arguments);this.previousStack.unshift(b);if(this.previousStack.length>1){this.onPreviousChange(this.previousStack[1],this.previousStack.length-1)}if(this.previousStack.length>(this.limit+1)){this.previousStack.pop()}if(this.nextStack.length>0){this.nextStack=[];this.onNextChange(null,0)}}return true},this)}},activate:function(){var a=false;if(this.map){if(OpenLayers.Control.prototype.activate.apply(this)){if(this.listeners==null){this.setListeners()}for(var b in this.listeners){this.map.events.register(b,this,this.listeners[b])}a=true;if(this.previousStack.length==0){this.initStack()}}}return a},initStack:function(){if(this.map.getCenter()){this.listeners.moveend()}},deactivate:function(){var b=false;if(this.map){if(OpenLayers.Control.prototype.deactivate.apply(this)){for(var a in this.listeners){this.map.events.unregister(a,this,this.listeners[a])}if(this.clearOnDeactivate){this.clear()}b=true}}return b},CLASS_NAME:"OpenLayers.Control.NavigationHistory"});OpenLayers.Protocol.HTTP=OpenLayers.Class(OpenLayers.Protocol,{url:null,headers:null,params:null,callback:null,scope:null,readWithPOST:false,wildcarded:false,srsInBBOX:false,initialize:function(a){a=a||{};this.params={};this.headers={};OpenLayers.Protocol.prototype.initialize.apply(this,arguments);if(!this.filterToParams&&OpenLayers.Format.QueryStringFilter){var b=new OpenLayers.Format.QueryStringFilter({wildcarded:this.wildcarded,srsInBBOX:this.srsInBBOX});this.filterToParams=function(c,d){return b.write(c,d)}}},destroy:function(){this.params=null;this.headers=null;OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(a){OpenLayers.Protocol.prototype.read.apply(this,arguments);a=a||{};a.params=OpenLayers.Util.applyDefaults(a.params,this.options.params);a=OpenLayers.Util.applyDefaults(a,this.options);if(a.filter&&this.filterToParams){a.params=this.filterToParams(a.filter,a.params)}var b=(a.readWithPOST!==undefined)?a.readWithPOST:this.readWithPOST;var c=new OpenLayers.Protocol.Response({requestType:"read"});if(b){c.priv=OpenLayers.Request.POST({url:a.url,callback:this.createCallback(this.handleRead,c,a),data:OpenLayers.Util.getParameterString(a.params),headers:{"Content-Type":"application/x-www-form-urlencoded"}})
}else{c.priv=OpenLayers.Request.GET({url:a.url,callback:this.createCallback(this.handleRead,c,a),params:a.params,headers:a.headers})}return c},handleRead:function(b,a){this.handleResponse(b,a)},create:function(b,a){a=OpenLayers.Util.applyDefaults(a,this.options);var c=new OpenLayers.Protocol.Response({reqFeatures:b,requestType:"create"});c.priv=OpenLayers.Request.POST({url:a.url,callback:this.createCallback(this.handleCreate,c,a),headers:a.headers,data:this.format.write(b)});return c},handleCreate:function(b,a){this.handleResponse(b,a)},update:function(c,b){b=b||{};var a=b.url||c.url||this.options.url+"/"+c.fid;b=OpenLayers.Util.applyDefaults(b,this.options);var d=new OpenLayers.Protocol.Response({reqFeatures:c,requestType:"update"});d.priv=OpenLayers.Request.PUT({url:a,callback:this.createCallback(this.handleUpdate,d,b),headers:b.headers,data:this.format.write(c)});return d},handleUpdate:function(b,a){this.handleResponse(b,a)},"delete":function(c,b){b=b||{};var a=b.url||c.url||this.options.url+"/"+c.fid;b=OpenLayers.Util.applyDefaults(b,this.options);var d=new OpenLayers.Protocol.Response({reqFeatures:c,requestType:"delete"});d.priv=OpenLayers.Request.DELETE({url:a,callback:this.createCallback(this.handleDelete,d,b),headers:b.headers});return d},handleDelete:function(b,a){this.handleResponse(b,a)},handleResponse:function(c,a){var b=c.priv;if(a.callback){if(b.status>=200&&b.status<300){if(c.requestType!="delete"){c.features=this.parseFeatures(b)}c.code=OpenLayers.Protocol.Response.SUCCESS}else{c.code=OpenLayers.Protocol.Response.FAILURE}a.callback.call(a.scope,c)}},parseFeatures:function(a){var b=a.responseXML;if(!b||!b.documentElement){b=a.responseText}if(!b||b.length<=0){return null}return this.format.read(b)},commit:function(b,q){q=OpenLayers.Util.applyDefaults(q,this.options);var d=[],m=0;var k={};k[OpenLayers.State.INSERT]=[];k[OpenLayers.State.UPDATE]=[];k[OpenLayers.State.DELETE]=[];var p,l,c=[];for(var e=0,j=b.length;e<j;++e){p=b[e];l=k[p.state];if(l){l.push(p);c.push(p)}}var g=(k[OpenLayers.State.INSERT].length>0?1:0)+k[OpenLayers.State.UPDATE].length+k[OpenLayers.State.DELETE].length;var o=true;var a=new OpenLayers.Protocol.Response({reqFeatures:c});function h(s){var r=s.features?s.features.length:0;var u=new Array(r);for(var t=0;t<r;++t){u[t]=s.features[t].fid}a.insertIds=u;n.apply(this,[s])}function n(i){this.callUserCallback(i,q);o=o&&i.success();m++;if(m>=g){if(q.callback){a.code=o?OpenLayers.Protocol.Response.SUCCESS:OpenLayers.Protocol.Response.FAILURE;q.callback.apply(q.scope,[a])}}}var f=k[OpenLayers.State.INSERT];if(f.length>0){d.push(this.create(f,OpenLayers.Util.applyDefaults({callback:h,scope:this},q.create)))}f=k[OpenLayers.State.UPDATE];for(var e=f.length-1;e>=0;--e){d.push(this.update(f[e],OpenLayers.Util.applyDefaults({callback:n,scope:this},q.update)))}f=k[OpenLayers.State.DELETE];for(var e=f.length-1;e>=0;--e){d.push(this["delete"](f[e],OpenLayers.Util.applyDefaults({callback:n,scope:this},q["delete"])))}return d},abort:function(a){if(a){a.priv.abort()}},callUserCallback:function(c,a){var b=a[c.requestType];if(b&&b.callback){b.callback.call(b.scope,c)}},CLASS_NAME:"OpenLayers.Protocol.HTTP"});OpenLayers.Strategy.Cluster=OpenLayers.Class(OpenLayers.Strategy,{distance:20,threshold:null,features:null,clusters:null,clustering:false,resolution:null,activate:function(){var a=OpenLayers.Strategy.prototype.activate.call(this);if(a){this.layer.events.on({beforefeaturesadded:this.cacheFeatures,moveend:this.cluster,scope:this})}return a},deactivate:function(){var a=OpenLayers.Strategy.prototype.deactivate.call(this);if(a){this.clearCache();this.layer.events.un({beforefeaturesadded:this.cacheFeatures,moveend:this.cluster,scope:this})}return a},cacheFeatures:function(b){var a=true;if(!this.clustering){this.clearCache();this.features=b.features;this.cluster();a=false}return a},clearCache:function(){this.features=null},cluster:function(a){if((!a||a.zoomChanged)&&this.features){var c=this.layer.map.getResolution();if(c!=this.resolution||!this.clustersExist()){this.resolution=c;var h=[];var m,b,k;for(var e=0;e<this.features.length;
++e){m=this.features[e];if(m.geometry){b=false;for(var d=h.length-1;d>=0;--d){k=h[d];if(this.shouldCluster(k,m)){this.addToCluster(k,m);b=true;break}}if(!b){h.push(this.createCluster(this.features[e]))}}}this.layer.removeAllFeatures();if(h.length>0){if(this.threshold>1){var g=h.slice();h=[];var l;for(var e=0,f=g.length;e<f;++e){l=g[e];if(l.attributes.count<this.threshold){Array.prototype.push.apply(h,l.cluster)}else{h.push(l)}}}this.clustering=true;this.layer.addFeatures(h);this.clustering=false}this.clusters=h}}},clustersExist:function(){var b=false;if(this.clusters&&this.clusters.length>0&&this.clusters.length==this.layer.features.length){b=true;for(var a=0;a<this.clusters.length;++a){if(this.clusters[a]!=this.layer.features[a]){b=false;break}}}return b},shouldCluster:function(a,b){var e=a.geometry.getBounds().getCenterLonLat();var c=b.geometry.getBounds().getCenterLonLat();var d=(Math.sqrt(Math.pow((e.lon-c.lon),2)+Math.pow((e.lat-c.lat),2))/this.resolution);return(d<=this.distance)},addToCluster:function(a,b){a.cluster.push(b);a.attributes.count+=1},createCluster:function(c){var b=c.geometry.getBounds().getCenterLonLat();var a=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(b.lon,b.lat),{count:1});a.cluster=[c];return a},CLASS_NAME:"OpenLayers.Strategy.Cluster"});OpenLayers.Lang.id=OpenLayers.Util.applyDefaults({unhandledRequest:"Permintaan yang tak tertangani menghasilkan ${statusText}",Permalink:"Pranala permanen",Overlays:"Hamparan","Base Layer":"Lapisan Dasar",readNotImplemented:"Membaca tidak diterapkan.",writeNotImplemented:"Menyimpan tidak diterapkan.",noFID:"Tidak dapat memperbarui fitur yang tidak memiliki FID.",errorLoadingGML:"Kesalahan dalam memuat berkas GML ${url}",browserNotSupported:"Peramban Anda tidak mendukung penggambaran vektor. Penggambar yang didukung saat ini adalah:\n${renderers}",componentShouldBe:"addFeatures : komponen harus berupa ${geomType}",getFeatureError:"getFeatureFromEvent diterapkan pada lapisan tanpa penggambar. Ini biasanya berarti Anda menghapus sebuah lapisan, tetapi tidak menghapus penangan yang terkait dengannya.",minZoomLevelError:"Properti minZoomLevel hanya ditujukan bekerja dengan lapisan FixedZoomLevels-descendent. Pengecekan minZoomLevel oleh lapisan wfs adalah peninggalan masa lalu. Kami tidak dapat menghapusnya tanpa kemungkinan merusak aplikasi berbasis OL yang mungkin bergantung padanya. Karenanya, kami menganggapnya tidak berlaku -- Cek minZoomLevel di bawah ini akan dihapus pada 3.0. Silakan gunakan penyetelan resolusi min/maks seperti dijabarkan di sini: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS Transaksi: BERHASIL ${respon}",commitFailed:"WFS Transaksi: GAGAL ${respon}",googleWarning:"Lapisan Google tidak dapat dimuat dengan benar.\x3cbr\x3e\x3cbr\x3eUntuk menghilangkan pesan ini, pilih suatu BaseLayer baru melalui penukar lapisan (layer switcher) di ujung kanan atas.\x3cbr\x3e\x3cbr\x3eKemungkinan besar ini karena pustaka skrip Google Maps tidak disertakan atau tidak mengandung kunci API yang tepat untuk situs Anda.\x3cbr\x3e\x3cbr\x3ePengembang: Untuk bantuan mengatasi masalah ini, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eklik di sini\x3c/a\x3e",getLayerWarning:"Lapisan ${layerType} tidak dapat dimuat dengan benar.\x3cbr\x3e\x3cbr\x3eUntuk menghilangkan pesan ini, pilih suatu BaseLayer baru melalui penukar lapisan (layer switcher) di ujung kanan atas.\x3cbr\x3e\x3cbr\x3eKemungkinan besar ini karena pustaka skrip Google Maps tidak disertakan dengan benar.\x3cbr\x3e\x3cbr\x3ePengembang: Untuk bantuan mengatasi masalah ini, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eklik di sini\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Sekala = 1 : ${scaleDenom}",W:"B",E:"T",N:"U",S:"S",layerAlreadyAdded:"Anda mencoba menambahkan lapisan: ${layerName} ke dalam peta, tapi lapisan itu telah ditambahkan",reprojectDeprecated:"Anda menggunakan opsi 'reproject' pada lapisan ${layerName}. Opsi ini telah ditinggalkan: penggunaannya dirancang untuk mendukung tampilan data melalui peta dasar komersial, tapi fungsionalitas tersebut saat ini harus dilakukan dengan menggunakan dukungan Spherical Mercator. Informasi lebih lanjut tersedia di http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Metode ini telah usang dan akan dihapus di 3.0. Sebaliknya, harap gunakan ${newMethod}.",boundsAddError:"Anda harus memberikan kedua nilai x dan y ke fungsi penambah.",lonlatAddError:"Anda harus memberikan kedua nilai lon dan lat ke fungsi penambah.",pixelAddError:"Anda harus memberikan kedua nilai x dan y ke fungsi penambah.",unsupportedGeometryType:"Tipe geometri tak didukung: ${geomType}",filterEvaluateNotImplemented:"evaluasi tidak tersedia untuk tipe filter ini."});
OpenLayers.Protocol.SOS=function(b){b=OpenLayers.Util.applyDefaults(b,OpenLayers.Protocol.SOS.DEFAULTS);var a=OpenLayers.Protocol.SOS["v"+b.version.replace(/\./g,"_")];if(!a){throw"Unsupported SOS version: "+b.version}return new a(b)};OpenLayers.Protocol.SOS.DEFAULTS={version:"1.0.0"};OpenLayers.Format.GeoRSS=OpenLayers.Class(OpenLayers.Format.XML,{rssns:"http://backend.userland.com/rss2",featureNS:"http://mapserver.gis.umn.edu/mapserver",georssns:"http://www.georss.org/georss",geons:"http://www.w3.org/2003/01/geo/wgs84_pos#",featureTitle:"Untitled",featureDescription:"No Description",gmlParser:null,xy:false,createGeometryFromItem:function(n){var m=this.getElementsByTagNameNS(n,this.georssns,"point");var g=this.getElementsByTagNameNS(n,this.geons,"lat");var a=this.getElementsByTagNameNS(n,this.geons,"long");var p=this.getElementsByTagNameNS(n,this.georssns,"line");var k=this.getElementsByTagNameNS(n,this.georssns,"polygon");var c=this.getElementsByTagNameNS(n,this.georssns,"where");var d=this.getElementsByTagNameNS(n,this.georssns,"box");if(m.length>0||(g.length>0&&a.length>0)){var l;if(m.length>0){l=OpenLayers.String.trim(m[0].firstChild.nodeValue).split(/\s+/);if(l.length!=2){l=OpenLayers.String.trim(m[0].firstChild.nodeValue).split(/\s*,\s*/)}}else{l=[parseFloat(g[0].firstChild.nodeValue),parseFloat(a[0].firstChild.nodeValue)]}var h=new OpenLayers.Geometry.Point(parseFloat(l[1]),parseFloat(l[0]))}else{if(p.length>0){var j=OpenLayers.String.trim(this.concatChildValues(p[0])).split(/\s+/);var e=[];var m;for(var b=0,f=j.length;b<f;b+=2){m=new OpenLayers.Geometry.Point(parseFloat(j[b+1]),parseFloat(j[b]));e.push(m)}h=new OpenLayers.Geometry.LineString(e)}else{if(k.length>0){var j=OpenLayers.String.trim(this.concatChildValues(k[0])).split(/\s+/);var e=[];var m;for(var b=0,f=j.length;b<f;b+=2){m=new OpenLayers.Geometry.Point(parseFloat(j[b+1]),parseFloat(j[b]));e.push(m)}h=new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(e)])}else{if(c.length>0){if(!this.gmlParser){this.gmlParser=new OpenLayers.Format.GML({xy:this.xy})}var o=this.gmlParser.parseFeature(c[0]);h=o.geometry}else{if(d.length>0){var j=OpenLayers.String.trim(d[0].firstChild.nodeValue).split(/\s+/);var e=[];var m;if(j.length>3){m=new OpenLayers.Geometry.Point(parseFloat(j[1]),parseFloat(j[0]));e.push(m);m=new OpenLayers.Geometry.Point(parseFloat(j[1]),parseFloat(j[2]));e.push(m);m=new OpenLayers.Geometry.Point(parseFloat(j[3]),parseFloat(j[2]));e.push(m);m=new OpenLayers.Geometry.Point(parseFloat(j[3]),parseFloat(j[0]));e.push(m);m=new OpenLayers.Geometry.Point(parseFloat(j[1]),parseFloat(j[0]));e.push(m)}h=new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(e)])}}}}}if(h&&this.internalProjection&&this.externalProjection){h.transform(this.externalProjection,this.internalProjection)}return h},createFeatureFromItem:function(i){var d=this.createGeometryFromItem(i);var g=this.getChildValue(i,"*","title",this.featureTitle);var h=this.getChildValue(i,"*","description",this.getChildValue(i,"*","content",this.getChildValue(i,"*","summary",this.featureDescription)));var f=this.getChildValue(i,"*","link");if(!f){try{f=this.getElementsByTagNameNS(i,"*","link")[0].getAttribute("href")}catch(c){f=null}}var a=this.getChildValue(i,"*","id",null);var b={title:g,description:h,link:f};var j=new OpenLayers.Feature.Vector(d,b);j.fid=a;return j},getChildValue:function(d,b,c,f){var e;var a=this.getElementsByTagNameNS(d,b,c);if(a&&a[0]&&a[0].firstChild&&a[0].firstChild.nodeValue){e=OpenLayers.Format.XML.prototype.getChildValue(a[0])}else{e=(f==undefined)?"":f}return e},read:function(e){if(typeof e=="string"){e=OpenLayers.Format.XML.prototype.read.apply(this,[e])}var a=null;a=this.getElementsByTagNameNS(e,"*","item");if(a.length==0){a=this.getElementsByTagNameNS(e,"*","entry")}var c=a.length;var d=new Array(c);for(var b=0;b<c;b++){d[b]=this.createFeatureFromItem(a[b])}return d},write:function(c){var d;if(OpenLayers.Util.isArray(c)){d=this.createElementNS(this.rssns,"rss");for(var b=0,a=c.length;b<a;b++){d.appendChild(this.createFeatureXML(c[b]))}}else{d=this.createFeatureXML(c)
}return OpenLayers.Format.XML.prototype.write.apply(this,[d])},createFeatureXML:function(j){var f=this.buildGeometryNode(j.geometry);var a=this.createElementNS(this.rssns,"item");var d=this.createElementNS(this.rssns,"title");d.appendChild(this.createTextNode(j.attributes.title?j.attributes.title:""));var b=this.createElementNS(this.rssns,"description");b.appendChild(this.createTextNode(j.attributes.description?j.attributes.description:""));a.appendChild(d);a.appendChild(b);if(j.attributes.link){var h=this.createElementNS(this.rssns,"link");h.appendChild(this.createTextNode(j.attributes.link));a.appendChild(h)}for(var i in j.attributes){if(i=="link"||i=="title"||i=="description"){continue}var g=this.createTextNode(j.attributes[i]);var e=i;if(i.search(":")!=-1){e=i.split(":")[1]}var c=this.createElementNS(this.featureNS,"feature:"+e);c.appendChild(g);a.appendChild(c)}a.appendChild(f);return a},buildGeometryNode:function(b){if(this.internalProjection&&this.externalProjection){b=b.clone();b.transform(this.internalProjection,this.externalProjection)}var a;if(b.CLASS_NAME=="OpenLayers.Geometry.Polygon"){a=this.createElementNS(this.georssns,"georss:polygon");a.appendChild(this.buildCoordinatesNode(b.components[0]))}else{if(b.CLASS_NAME=="OpenLayers.Geometry.LineString"){a=this.createElementNS(this.georssns,"georss:line");a.appendChild(this.buildCoordinatesNode(b))}else{if(b.CLASS_NAME=="OpenLayers.Geometry.Point"){a=this.createElementNS(this.georssns,"georss:point");a.appendChild(this.buildCoordinatesNode(b))}else{throw"Couldn't parse "+b.CLASS_NAME}}}return a},buildCoordinatesNode:function(f){var c=null;if(f.components){c=f.components}var e;if(c){var b=c.length;var d=new Array(b);for(var a=0;a<b;a++){d[a]=c[a].y+" "+c[a].x}e=d.join(" ")}else{e=f.y+" "+f.x}return this.createTextNode(e)},CLASS_NAME:"OpenLayers.Format.GeoRSS"});OpenLayers.Lang.ksh=OpenLayers.Util.applyDefaults({unhandledRequest:"Met dä Antwoot op en Aanfrooch ham_mer nix aanjefange: ${statusText}",Permalink:"Lengk op Duuer",Overlays:"Drövver jelaat","Base Layer":"Jrund-Nivoh",readNotImplemented:'„\x3ccode lang="en"\x3eread\x3c/code\x3e“ is em Projramm nit fürjesinn.',writeNotImplemented:'„\x3ccode lang="en"\x3ewrite\x3c/code\x3e“ is em Projramm nit fürjesinn.',noFID:'En Saach, woh kein \x3ci lang="en"\x3eFID\x3c/i\x3e för doh es, löht sesch nit ändere.',errorLoadingGML:'Fähler beim \x3ci lang="en"\x3eGML\x3c/i\x3e-Datei-Laade vun \x3ccode\x3e${url}\x3c/code\x3e',browserNotSupported:"Dinge Brauser kann kein Väktore ußjävve. De Zoote Ußjaabe, di em Momang jon, sen:\n${renderers}",componentShouldBe:'\x3ccode lang="en"\x3eaddFeatures\x3c/code\x3e: dä Aandeil sullt vun dä Zoot „\x3ccode lang="en"\x3e${geomType}\x3c/code\x3e“ sin.',getFeatureError:'\x3ccode lang="en"\x3egetFeatureFromEvent\x3c/code\x3e es vun enem Nivoh opjeroofe woode, woh et kei Projramm zom Ußjävve jit. Dat bedügg för jewöhnlesch, dat De e Nivoh kapott jemaat häs, ävver nit e Projramm för domet ömzejonn, wat domet verbonge es.',minZoomLevelError:'De Eijeschaff „\x3ccode lang="en"\x3eminZoomLevel\x3c/code\x3e“ es bloß doför jedaach, dat mer se met dä Nivvohß bruch, di vun \x3ccode lang="en"\x3eFixedZoomLevels\x3c/code\x3e affhange don. Dat dat \x3ci lang="en"\x3eWFS\x3c/i\x3e-Nivvoh övverhoup de Eijeschaff „\x3ccode lang="en"\x3eminZoomLevel\x3c/code\x3e“ pröhfe deiht, es noch övveresch vun fröhjer. Mer künne dat ävver jez nit fott lohße, oohne dat mer Jevaa loufe, dat Aanwendunge vun OpenLayers nit mieh loufe, di sesch doh velleijsch noch drop am verlohße sin. Dröm sare mer, dat mer et nit mieh han welle, un de „\x3ccode lang="en"\x3eminZoomLevel\x3c/code\x3e“-Eijeschaff weed hee vun de Version 3.0 af nit mieh jeprööf wäde. Nemm doför de Enstellung för de hühßte un de kleinßte Oplöhsung, esu wi et en http://trac.openlayers.org/wiki/SettingZoomLevels opjeschrevve es.',commitSuccess:'Dä \x3ci lang="en"\x3eWFS\x3c/i\x3e-Vörjang es joot jeloufe: ${response}',commitFailed:'Dä \x3ci lang="en"\x3eWFS\x3c/i\x3e-Vörjang es scheif jejange: ${response}',googleWarning:'Dat Nivvoh \x3ccode lang="en"\x3eGoogle\x3c/code\x3e kunnt nit reschtesch jelaade wääde.\x3cbr /\x3e\x3cbr /\x3eÖm hee di Nohreesch loß ze krijje, donn en ander Jrund-Nivvoh ußsöhke, rähß bovve en de Äk.\x3cbr /\x3e\x3cbr /\x3eWascheinlesch es dat wiel dat \x3ci lang="en"\x3eGoogle-Maps\x3c/i\x3e-Skrepp entweeder nit reschtesch enjebonge wood, udder nit dä reschtejje \x3ci lang="en"\x3eAPI\x3c/i\x3e-Schlößel för Ding Web-ßait scheke deiht.\x3cbr /\x3e\x3cbr /\x3eFör Projrammierer jidd_et Hölp do_drövver, \x3ca href="http://trac.openlayers.org/wiki/Google" target="_blank"\x3ewi mer dat aan et Loufe brengk\x3c/a\x3e.',getLayerWarning:'Dat Nivvoh \x3ccode\x3e${layerType}\x3c/code\x3e kunnt nit reschtesch jelaade wääde.\x3cbr /\x3e\x3cbr /\x3eÖm hee di Nohreesch loß ze krijje, donn en ander Jrund-Nivvoh ußsöhkre, rähß bovve en de Äk.\x3cbr /\x3e\x3cbr /\x3eWascheinlesch es dat, wiel dat Skrepp \x3ccode\x3e${layerLib}\x3c/code\x3e nit reschtesch enjebonge wood.\x3cbr /\x3e\x3cbr /\x3eFör Projrammierer jidd_Et Hölp do_drövver, \x3ca href="http://trac.openlayers.org/wiki/${layerLib}" target="_blank"\x3ewi mer dat aan et Loufe brengk\x3c/a\x3e.',"Scale = 1 : ${scaleDenom}":"Mohßshtaab = 1 : ${scaleDenom}",W:"W",E:"O",N:"N",S:"S",layerAlreadyAdded:"Do häß versöhk, dat Nivvoh \x3ccode\x3e${layerName}\x3c/code\x3e en di Kaat eren ze bränge, et wohr ävver ald do dren.",reprojectDeprecated:"Do bruchs de Ußwahl \x3ccode\x3ereproject\x3c/code\x3e op däm Nivvoh \x3ccode\x3e${layerName}\x3c/code\x3e. Di Ußwahl es nit mieh jähn jesinn. Se wohr doför jedaach, öm Date op jeschääfsmäßesch eruß jejovve Kaate bovve drop ze moole, wat ävver enzwesche besser met dä Öngershtözung för de ßfääresche Mäkaator Beldscher jeiht. Doh kanns De mieh drövver fenge op dä Sigg: http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Hee di Metood es nim_mih aktoäll un et weed se en dä Version 3.0 nit mieh jävve. Nemm \x3ccode\x3e${newMethod}\x3c/code\x3e doföör.",boundsAddError:"Do moß beeds vun de \x3ccode\x3ex\x3c/code\x3e un \x3ccode\x3ey\x3c/code\x3e Wääte aan de Fungkßjohn \x3ccode\x3eadd\x3c/code\x3e jävve.",lonlatAddError:"Do moß beeds \x3ccode\x3elon\x3c/code\x3e un \x3ccode\x3elat\x3c/code\x3e aan de Fungkßjohn \x3ccode\x3eadd\x3c/code\x3e jävve.",pixelAddError:"Do moß beeds \x3ccode\x3ex\x3c/code\x3e un \x3ccode\x3ey\x3c/code\x3e aan de Fungkßjohn \x3ccode\x3eadd\x3c/code\x3e jävve.",unsupportedGeometryType:"De Zoot Jommetrii dom_mer nit ongershtöze: \x3ccode\x3e${geomType}\x3c/code\x3e",filterEvaluateNotImplemented:'„\x3ccode lang="en"\x3eevaluate\x3c/code\x3e“ es för di Zoot Fellter nit enjereschdt.'});
OpenLayers.Format.WPSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",CLASS_NAME:"OpenLayers.Format.WPSCapabilities"});OpenLayers.Format.WPSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{ows:"http://www.opengis.net/ows/1.1",wps:"http://www.opengis.net/wps/1.0.0",xlink:"http://www.w3.org/1999/xlink"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},initialize:function(a){OpenLayers.Format.XML.prototype.initialize.apply(this,[a])},read:function(b){if(typeof b=="string"){b=OpenLayers.Format.XML.prototype.read.apply(this,[b])}if(b&&b.nodeType==9){b=b.documentElement}var a={};this.readNode(b,a);return a},readers:{wps:{Capabilities:function(a,b){this.readChildNodes(a,b)},ProcessOfferings:function(a,b){b.processOfferings={};this.readChildNodes(a,b.processOfferings)},Process:function(b,a){var d=this.getAttributeNS(b,this.namespaces.wps,"processVersion");var c={processVersion:d};this.readChildNodes(b,c);a[c.identifier]=c},Languages:function(a,b){b.languages=[];this.readChildNodes(a,b.languages)},Default:function(a,b){var c={isDefault:true};this.readChildNodes(a,c);b.push(c)},Supported:function(a,b){var c={};this.readChildNodes(a,c);b.push(c)}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WPSCapabilities.v1_0_0"});OpenLayers.Control.TouchNavigation=OpenLayers.Class(OpenLayers.Control,{dragPan:null,dragPanOptions:null,pinchZoom:null,pinchZoomOptions:null,clickHandlerOptions:null,documentDrag:false,autoActivate:true,initialize:function(a){this.handlers={};OpenLayers.Control.prototype.initialize.apply(this,arguments)},destroy:function(){this.deactivate();if(this.dragPan){this.dragPan.destroy()}this.dragPan=null;if(this.pinchZoom){this.pinchZoom.destroy();delete this.pinchZoom}OpenLayers.Control.prototype.destroy.apply(this,arguments)},activate:function(){if(OpenLayers.Control.prototype.activate.apply(this,arguments)){this.dragPan.activate();this.handlers.click.activate();this.pinchZoom.activate();return true}return false},deactivate:function(){if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){this.dragPan.deactivate();this.handlers.click.deactivate();this.pinchZoom.deactivate();return true}return false},draw:function(){var a={click:this.defaultClick,dblclick:this.defaultDblClick};var b=OpenLayers.Util.extend({"double":true,stopDouble:true,pixelTolerance:2},this.clickHandlerOptions);this.handlers.click=new OpenLayers.Handler.Click(this,a,b);this.dragPan=new OpenLayers.Control.DragPan(OpenLayers.Util.extend({map:this.map,documentDrag:this.documentDrag},this.dragPanOptions));this.dragPan.draw();this.pinchZoom=new OpenLayers.Control.PinchZoom(OpenLayers.Util.extend({map:this.map},this.pinchZoomOptions))},defaultClick:function(a){if(a.lastTouches&&a.lastTouches.length==2){this.map.zoomOut()}},defaultDblClick:function(b){var a=this.map.getLonLatFromViewPortPx(b.xy);this.map.setCenter(a,this.map.zoom+1)},CLASS_NAME:"OpenLayers.Control.TouchNavigation"});OpenLayers.Style2=OpenLayers.Class({id:null,name:null,title:null,description:null,layerName:null,isDefault:false,rules:null,initialize:function(a){OpenLayers.Util.extend(this,a);this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){for(var b=0,a=this.rules.length;b<a;b++){this.rules[b].destroy()}delete this.rules},clone:function(){var b=OpenLayers.Util.extend({},this);if(this.rules){b.rules=[];for(var c=0,a=this.rules.length;c<a;++c){b.rules.push(this.rules[c].clone())}}return new OpenLayers.Style2(b)},CLASS_NAME:"OpenLayers.Style2"});OpenLayers.Layer.Boxes=OpenLayers.Class(OpenLayers.Layer.Markers,{initialize:function(b,a){OpenLayers.Layer.Markers.prototype.initialize.apply(this,arguments)},drawMarker:function(a){var d=a.bounds;var f=this.map.getLayerPxFromLonLat(new OpenLayers.LonLat(d.left,d.top));var c=this.map.getLayerPxFromLonLat(new OpenLayers.LonLat(d.right,d.bottom));if(c==null||f==null){a.display(false)}else{var e=new OpenLayers.Size(Math.max(1,c.x-f.x),Math.max(1,c.y-f.y));var b=a.draw(f,e);
if(!a.drawn){this.div.appendChild(b);a.drawn=true}}},removeMarker:function(a){OpenLayers.Util.removeItem(this.markers,a);if((a.div!=null)&&(a.div.parentNode==this.div)){this.div.removeChild(a.div)}},CLASS_NAME:"OpenLayers.Layer.Boxes"});OpenLayers.Format.WFSCapabilities.v1_0_0=OpenLayers.Class(OpenLayers.Format.WFSCapabilities.v1,{initialize:function(a){OpenLayers.Format.WFSCapabilities.v1.prototype.initialize.apply(this,[a])},read_cap_Service:function(b,c){var a={};this.runChildNodes(a,c);b.service=a},read_cap_Fees:function(a,c){var b=this.getChildValue(c);if(b&&b.toLowerCase()!="none"){a.fees=b}},read_cap_AccessConstraints:function(a,b){var c=this.getChildValue(b);if(c&&c.toLowerCase()!="none"){a.accessConstraints=c}},read_cap_OnlineResource:function(a,c){var b=this.getChildValue(c);if(b&&b.toLowerCase()!="none"){a.onlineResource=b}},read_cap_Keywords:function(a,c){var b=this.getChildValue(c);if(b&&b.toLowerCase()!="none"){a.keywords=b.split(", ")}},read_cap_Capability:function(a,c){var b={};this.runChildNodes(b,c);a.capability=b},read_cap_Request:function(c,b){var a={};this.runChildNodes(a,b);c.request=a},read_cap_GetFeature:function(b,a){var c={href:{},formats:[]};this.runChildNodes(c,a);b.getfeature=c},read_cap_ResultFormat:function(e,d){var c=d.childNodes;var b;for(var a=0;a<c.length;a++){b=c[a];if(b.nodeType==1){e.formats.push(b.nodeName)}}},read_cap_DCPType:function(b,a){this.runChildNodes(b,a)},read_cap_HTTP:function(b,a){this.runChildNodes(b.href,a)},read_cap_Get:function(b,a){b.get=a.getAttribute("onlineResource")},read_cap_Post:function(b,a){b.post=a.getAttribute("onlineResource")},read_cap_SRS:function(c,b){var a=this.getChildValue(b);if(a){c.srs=a}},CLASS_NAME:"OpenLayers.Format.WFSCapabilities.v1_0_0"});OpenLayers.Lang.ja=OpenLayers.Util.applyDefaults({unhandledRequest:"未処理の要求は ${statusText} を返します",Permalink:"パーマリンク",Overlays:"オーバーレイ","Base Layer":"基底レイヤー",readNotImplemented:"読み込みは実装されていません。",writeNotImplemented:"書き込みは実装されていません。",noFID:"FID のない地物は更新できません。",errorLoadingGML:"GML ファイル ${url} の読み込みエラー",browserNotSupported:"あなたのブラウザはベクターグラフィックスの描写に対応していません。現時点で対応しているソフトウェアは以下のものです。\n${renderers}",componentShouldBe:"addFeatures: 要素は ${geomType} であるべきです",getFeatureError:"getFeatureFromEvent がレンダラーのないレイヤーから呼ばれました。通常、これはあなたがレイヤーを、それに関連づけられたいくつかのハンドラを除いて、破壊してしまったことを意味します。",minZoomLevelError:"minZoomLevel プロパティは FixedZoomLevels を継承するレイヤーでの使用のみを想定しています。この minZoomLevel に対する WFS レイヤーの検査は歴史的なものです。しかしながら、この検査を除去するとそれに依存する OpenLayers ベースのアプリケーションを破壊してしまう可能性があります。よって廃止が予定されており、この minZoomLevel 検査はバージョン3.0で除去されます。代わりに、http://trac.openlayers.org/wiki/SettingZoomLevels で解説されている、最小および最大解像度設定を使用してください。",commitSuccess:"WFS トランザクション: 成功 ${response}",commitFailed:"WFS トランザクション: 失敗 ${response}",googleWarning:"Google レイヤーが正しく読み込みを行えませんでした。\x3cbr\x3e\x3cbr\x3eこのメッセージを消すには、右上の隅にあるレイヤー切り替え部分で新しい基底レイヤーを選んでください。\x3cbr\x3e\x3cbr\x3eおそらく、これは Google マップ用ライブラリのスクリプトが組み込まれていないか、あなたのサイトに対応する正しい API キーが設定されていないためです。\x3cbr\x3e\x3cbr\x3e開発者の方へ: 正しい動作をさせるために\x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eこちらのウィキ\x3c/a\x3eを参照してください。",getLayerWarning:"${layerType} レイヤーが正しく読み込みを行えませんでした。\x3cbr\x3e\x3cbr\x3eこのメッセージを消すには、右上の隅にあるレイヤー切り替え部分で新しい基底レイヤーを選んでください。\x3cbr\x3e\x3cbr\x3eおそらく、これは ${layerLib} ライブラリのスクリプトが正しく組み込まれていないためです。\x3cbr\x3e\x3cbr\x3e開発者の方へ: 正しい動作をさせるために\x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eこちらのウィキ\x3c/a\x3eを参照してください。","Scale = 1 : ${scaleDenom}":"縮尺 = 1 : ${scaleDenom}",W:"西",E:"東",N:"北",S:"南",layerAlreadyAdded:"あなたは「${layerName}」を地図に追加しようと試みましたが、そのレイヤーは既に追加されています",reprojectDeprecated:"あなたは「${layerName}」レイヤーで reproject オプションを使っています。このオプションは商用の基底地図上に情報を表示する目的で設計されましたが、現在ではその機能は Spherical Mercator サポートを利用して実現されており、このオプションの使用は非推奨です。追加の情報は http://trac.openlayers.org/wiki/SphericalMercator で入手できます。",methodDeprecated:"このメソッドは廃止が予定されており、バージョン3.0で除去されます。代わりに ${newMethod} を使用してください。",boundsAddError:"x と y 両方の値を add 関数に渡さなければなりません。",lonlatAddError:"lon と lat 両方の値を add 関数に渡さなければなりません。",pixelAddError:"x と y の値両方を add 関数に渡さなければなりません。",unsupportedGeometryType:"未対応の形状型: ${geomType}",filterEvaluateNotImplemented:"このフィルター型について evaluate は実装されていません。"});
OpenLayers.Layer.Yahoo=OpenLayers.Class(OpenLayers.Layer.EventPane,OpenLayers.Layer.FixedZoomLevels,{MIN_ZOOM_LEVEL:0,MAX_ZOOM_LEVEL:17,RESOLUTIONS:[1.40625,0.703125,0.3515625,0.17578125,0.087890625,0.0439453125,0.02197265625,0.010986328125,0.0054931640625,0.00274658203125,0.001373291015625,0.0006866455078125,0.00034332275390625,0.000171661376953125,0.0000858306884765625,0.00004291534423828125,0.00002145767211914062,0.00001072883605957031],type:null,wrapDateLine:true,sphericalMercator:false,initialize:function(b,a){OpenLayers.Layer.EventPane.prototype.initialize.apply(this,arguments);OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,arguments);if(this.sphericalMercator){OpenLayers.Util.extend(this,OpenLayers.Layer.SphericalMercator);this.initMercatorParameters()}},loadMapObject:function(){try{var a=this.getMapObjectSizeFromOLSize(this.map.getSize());this.mapObject=new YMap(this.div,this.type,a);this.mapObject.disableKeyControls();this.mapObject.disableDragMap();if(!this.mapObject.moveByXY||(typeof this.mapObject.moveByXY!="function")){this.dragPanMapObject=null}}catch(b){}},onMapResize:function(){try{var a=this.getMapObjectSizeFromOLSize(this.map.getSize());this.mapObject.resizeTo(a)}catch(b){}},setMap:function(a){OpenLayers.Layer.EventPane.prototype.setMap.apply(this,arguments);this.map.events.register("moveend",this,this.fixYahooEventPane)},fixYahooEventPane:function(){var a=OpenLayers.Util.getElement("ygddfdiv");if(a!=null){if(a.parentNode!=null){a.parentNode.removeChild(a)}this.map.events.unregister("moveend",this,this.fixYahooEventPane)}},getWarningHTML:function(){return OpenLayers.i18n("getLayerWarning",{layerType:"Yahoo",layerLib:"Yahoo"})},getOLZoomFromMapObjectZoom:function(a){var b=null;if(a!=null){b=OpenLayers.Layer.FixedZoomLevels.prototype.getOLZoomFromMapObjectZoom.apply(this,[a]);b=18-b}return b},getMapObjectZoomFromOLZoom:function(a){var b=null;if(a!=null){b=OpenLayers.Layer.FixedZoomLevels.prototype.getMapObjectZoomFromOLZoom.apply(this,[a]);b=18-b}return b},setMapObjectCenter:function(a,b){this.mapObject.drawZoomAndCenter(a,b)},getMapObjectCenter:function(){return this.mapObject.getCenterLatLon()},dragPanMapObject:function(b,a){this.mapObject.moveByXY({x:-b,y:a})},getMapObjectZoom:function(){return this.mapObject.getZoomLevel()},getMapObjectLonLatFromMapObjectPixel:function(a){return this.mapObject.convertXYLatLon(a)},getMapObjectPixelFromMapObjectLonLat:function(a){return this.mapObject.convertLatLonXY(a)},getLongitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.Lon,a.Lat).lon:a.Lon},getLatitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.Lon,a.Lat).lat:a.Lat},getMapObjectLonLatFromLonLat:function(d,c){var a;if(this.sphericalMercator){var b=this.inverseMercator(d,c);a=new YGeoPoint(b.lat,b.lon)}else{a=new YGeoPoint(c,d)}return a},getXFromMapObjectPixel:function(a){return a.x},getYFromMapObjectPixel:function(a){return a.y},getMapObjectPixelFromXY:function(a,b){return new YCoordPoint(a,b)},getMapObjectSizeFromOLSize:function(a){return new YSize(a.w,a.h)},CLASS_NAME:"OpenLayers.Layer.Yahoo"});OpenLayers.Lang.nds=OpenLayers.Util.applyDefaults({unhandledRequest:"Unbehannelt Trüchmellels för de Anfraag ${statusText}",Permalink:"Permalink",Overlays:"Overlays","Base Layer":"Achtergrundkoort",readNotImplemented:"Lesen is nich inricht.",writeNotImplemented:"Schrieven is nich inricht.",noFID:"En Feature, dat keen FID hett, kann nich aktuell maakt warrn.",errorLoadingGML:"Fehler bi’t Laden vun de GML-Datei ${url}",browserNotSupported:"Dien Browser ünnerstütt keen Vektorbiller. Ünnerstütt Renderers:\n${renderers}",componentShouldBe:"addFeatures : Kumponent schull man den Typ ${geomType} hebben",getFeatureError:"getFeatureFromEvent is von en Laag ahn Render opropen worrn. Dat bedüüdt normalerwies, dat en Laag wegmaakt worrn is, aver nich de Handler, de dor op verwiest.",commitSuccess:"WFS-Transakschoon: hett klappt ${response}",commitFailed:"WFS-Transakschoon: hett nich klappt ${response}","Scale = 1 : ${scaleDenom}":"Skaal = 1 : ${scaleDenom}",layerAlreadyAdded:"Du versöchst de Laag „${layerName}“ to de Koort totofögen, man de is al toföögt",methodDeprecated:"Disse Methood is oold un schall dat in 3.0 nich mehr geven. Bruuk dor man beter ${newMethod} för.",boundsAddError:"De Weert x un y, de mööt all beid an de add-Funkschoon övergeven warrn.",lonlatAddError:"De Weert lon un lat, de mööt all beid an de add-Funkschoon övergeven warrn.",pixelAddError:"De Weert x un y, de mööt all beid an de add-Funkschoon övergeven warrn.",unsupportedGeometryType:"Nich ünnerstütt Geometrie-Typ: ${geomType}"});
OpenLayers.Layer.PointGrid=OpenLayers.Class(OpenLayers.Layer.Vector,{dx:null,dy:null,ratio:1.5,maxFeatures:250,rotation:0,origin:null,gridBounds:null,initialize:function(a){a=a||{};OpenLayers.Layer.Vector.prototype.initialize.apply(this,[a.name,a])},setMap:function(a){OpenLayers.Layer.Vector.prototype.setMap.apply(this,arguments);a.events.register("moveend",this,this.onMoveEnd)},removeMap:function(a){a.events.unregister("moveend",this,this.onMoveEnd);OpenLayers.Layer.Vector.prototype.removeMap.apply(this,arguments)},setRatio:function(a){this.ratio=a;this.updateGrid(true)},setMaxFeatures:function(a){this.maxFeatures=a;this.updateGrid(true)},setSpacing:function(b,a){this.dx=b;this.dy=a||b;this.updateGrid(true)},setOrigin:function(a){this.origin=a;this.updateGrid(true)},getOrigin:function(){if(!this.origin){this.origin=this.map.getExtent().getCenterLonLat()}return this.origin},setRotation:function(a){this.rotation=a;this.updateGrid(true)},onMoveEnd:function(){this.updateGrid()},getViewBounds:function(){var d=this.map.getExtent();if(this.rotation){var a=this.getOrigin();var b=new OpenLayers.Geometry.Point(a.lon,a.lat);var c=d.toGeometry();c.rotate(-this.rotation,b);d=c.getBounds()}return d},updateGrid:function(c){if(c||this.invalidBounds()){var g=this.getViewBounds();var z=this.getOrigin();var r=new OpenLayers.Geometry.Point(z.lon,z.lat);var d=g.getWidth();var q=g.getHeight();var a=d/q;var o=Math.sqrt(this.dx*this.dy*this.maxFeatures/a);var u=o*a;var v=Math.min(d*this.ratio,u);var n=Math.min(q*this.ratio,o);var w=g.getCenterLonLat();this.gridBounds=new OpenLayers.Bounds(w.lon-(v/2),w.lat-(n/2),w.lon+(v/2),w.lat+(n/2));var l=Math.floor(n/this.dy);var m=Math.floor(v/this.dx);var b=z.lon+(this.dx*Math.ceil((this.gridBounds.left-z.lon)/this.dx));var e=z.lat+(this.dy*Math.ceil((this.gridBounds.bottom-z.lat)/this.dy));var f=new Array(l*m);var k,h,p;for(var t=0;t<m;++t){k=b+(t*this.dx);for(var s=0;s<l;++s){h=e+(s*this.dy);p=new OpenLayers.Geometry.Point(k,h);if(this.rotation){p.rotate(this.rotation,r)}f[(t*l)+s]=new OpenLayers.Feature.Vector(p)}}this.destroyFeatures(this.features,{silent:true});this.addFeatures(f,{silent:true})}},invalidBounds:function(){return !this.gridBounds||!this.gridBounds.containsBounds(this.getViewBounds())},CLASS_NAME:"OpenLayers.Layer.PointGrid"});OpenLayers.Layer.Zoomify=OpenLayers.Class(OpenLayers.Layer.Grid,{url:null,size:null,isBaseLayer:true,standardTileSize:256,tileOriginCorner:"tl",numberOfTiers:0,tileCountUpToTier:new Array(),tierSizeInTiles:new Array(),tierImageSize:new Array(),initialize:function(d,c,e,b){this.initializeZoomify(e);var a=[];a.push(d,c,e,{},b);OpenLayers.Layer.Grid.prototype.initialize.apply(this,a)},initializeZoomify:function(c){var d=c.clone();var a=new OpenLayers.Size(Math.ceil(d.w/this.standardTileSize),Math.ceil(d.h/this.standardTileSize));this.tierSizeInTiles.push(a);this.tierImageSize.push(d);while(d.w>this.standardTileSize||d.h>this.standardTileSize){d=new OpenLayers.Size(Math.floor(d.w/2),Math.floor(d.h/2));a=new OpenLayers.Size(Math.ceil(d.w/this.standardTileSize),Math.ceil(d.h/this.standardTileSize));this.tierSizeInTiles.push(a);this.tierImageSize.push(d)}this.tierSizeInTiles.reverse();this.tierImageSize.reverse();this.numberOfTiers=this.tierSizeInTiles.length;this.tileCountUpToTier[0]=0;for(var b=1;b<this.numberOfTiers;b++){this.tileCountUpToTier.push(this.tierSizeInTiles[b-1].w*this.tierSizeInTiles[b-1].h+this.tileCountUpToTier[b-1])}},destroy:function(){OpenLayers.Layer.Grid.prototype.destroy.apply(this,arguments);this.tileCountUpToTier.length=0;this.tierSizeInTiles.length=0;this.tierImageSize.length=0},clone:function(a){if(a==null){a=new OpenLayers.Layer.Zoomify(this.name,this.url,this.size,this.options)}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getURL:function(d){d=this.adjustBounds(d);var c=this.map.getResolution();var a=Math.round((d.left-this.tileOrigin.lon)/(c*this.tileSize.w));var h=Math.round((this.tileOrigin.lat-d.top)/(c*this.tileSize.h));var g=this.map.getZoom();var f=a+h*this.tierSizeInTiles[g].w+this.tileCountUpToTier[g];var e="TileGroup"+Math.floor((f)/256)+"/"+g+"-"+a+"-"+h+".jpg";
var b=this.url;if(OpenLayers.Util.isArray(b)){b=this.selectUrl(e,b)}return b+e},getImageSize:function(){if(arguments.length>0){var e=this.adjustBounds(arguments[0]);var c=this.map.getResolution();var a=Math.round((e.left-this.tileOrigin.lon)/(c*this.tileSize.w));var g=Math.round((this.tileOrigin.lat-e.top)/(c*this.tileSize.h));var f=this.map.getZoom();var b=this.standardTileSize;var d=this.standardTileSize;if(a==this.tierSizeInTiles[f].w-1){var b=this.tierImageSize[f].w%this.standardTileSize}if(g==this.tierSizeInTiles[f].h-1){var d=this.tierImageSize[f].h%this.standardTileSize}return(new OpenLayers.Size(b,d))}else{return this.tileSize}},setMap:function(a){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments);this.tileOrigin=new OpenLayers.LonLat(this.map.maxExtent.left,this.map.maxExtent.top)},calculateGridLayout:function(a,n,e){var k=e*this.tileSize.w;var c=e*this.tileSize.h;var i=a.left-n.lon;var l=Math.floor(i/k)-this.buffer;var j=i/k-l;var f=-j*this.tileSize.w;var m=n.lon+l*k;var b=n.lat-a.top+c;var h=Math.floor(b/c)-this.buffer;var o=h-b/c;var d=o*this.tileSize.h;var g=n.lat-c*h;return{tilelon:k,tilelat:c,tileoffsetlon:m,tileoffsetlat:g,tileoffsetx:f,tileoffsety:d}},CLASS_NAME:"OpenLayers.Layer.Zoomify"});OpenLayers.Layer.WMTS=OpenLayers.Class(OpenLayers.Layer.Grid,{isBaseLayer:true,version:"1.0.0",requestEncoding:"KVP",url:null,layer:null,matrixSet:null,style:null,format:"image/jpeg",tileOrigin:null,tileFullExtent:null,formatSuffix:null,matrixIds:null,dimensions:null,params:null,zoomOffset:0,formatSuffixMap:{"image/png":"png","image/png8":"png","image/png24":"png","image/png32":"png",png:"png","image/jpeg":"jpg","image/jpg":"jpg",jpeg:"jpg",jpg:"jpg"},matrix:null,initialize:function(c){var f={url:true,layer:true,style:true,matrixSet:true};for(var g in f){if(!(g in c)){throw new Error("Missing property '"+g+"' in layer configuration.")}}c.params=OpenLayers.Util.upperCaseObject(c.params);var b=[c.name,c.url,c.params,c];OpenLayers.Layer.Grid.prototype.initialize.apply(this,b);if(!this.formatSuffix){this.formatSuffix=this.formatSuffixMap[this.format]||this.format.split("/").pop()}if(this.matrixIds){var a=this.matrixIds.length;if(a&&typeof this.matrixIds[0]==="string"){var e=this.matrixIds;this.matrixIds=new Array(a);for(var d=0;d<a;++d){this.matrixIds[d]={identifier:e[d]}}}}},setMap:function(){OpenLayers.Layer.Grid.prototype.setMap.apply(this,arguments);this.updateMatrixProperties()},updateMatrixProperties:function(){this.matrix=this.getMatrix();if(this.matrix){if(this.matrix.topLeftCorner){this.tileOrigin=this.matrix.topLeftCorner}if(this.matrix.tileWidth&&this.matrix.tileHeight){this.tileSize=new OpenLayers.Size(this.matrix.tileWidth,this.matrix.tileHeight)}if(!this.tileOrigin){this.tileOrigin=new OpenLayers.LonLat(this.maxExtent.left,this.maxExtent.top)}if(!this.tileFullExtent){this.tileFullExtent=this.maxExtent}}},moveTo:function(b,a,c){if(a||!this.matrix){this.updateMatrixProperties()}return OpenLayers.Layer.Grid.prototype.moveTo.apply(this,arguments)},clone:function(a){if(a==null){a=new OpenLayers.Layer.WMTS(this.options)}a=OpenLayers.Layer.Grid.prototype.clone.apply(this,[a]);return a},getMatrix:function(){var b;if(!this.matrixIds||this.matrixIds.length===0){b={identifier:this.map.getZoom()+this.zoomOffset}}else{if("scaleDenominator" in this.matrixIds[0]){var a=OpenLayers.METERS_PER_INCH*OpenLayers.INCHES_PER_UNIT[this.units]*this.map.getResolution()/0.00028;var e=Number.POSITIVE_INFINITY;var f;for(var c=0,d=this.matrixIds.length;c<d;++c){f=Math.abs(1-(this.matrixIds[c].scaleDenominator/a));if(f<e){e=f;b=this.matrixIds[c]}}}else{b=this.matrixIds[this.map.getZoom()+this.zoomOffset]}}return b},getTileInfo:function(f){var b=this.map.getResolution();var d=(f.lon-this.tileOrigin.lon)/(b*this.tileSize.w);var c=(this.tileOrigin.lat-f.lat)/(b*this.tileSize.h);var a=Math.floor(d);var e=Math.floor(c);return{col:a,row:e,i:Math.floor((d-a)*this.tileSize.w),j:Math.floor((c-e)*this.tileSize.h)}},getURL:function(d){d=this.adjustBounds(d);var b="";if(!this.tileFullExtent||this.tileFullExtent.intersectsBounds(d)){var a=d.getCenterLonLat();
var f=this.getTileInfo(a);var h=this.matrix.identifier;if(this.requestEncoding.toUpperCase()==="REST"){var e=this.version+"/"+this.layer+"/"+this.style+"/";if(this.dimensions){for(var c=0;c<this.dimensions.length;c++){if(this.params[this.dimensions[c]]){e=e+this.params[this.dimensions[c]]+"/"}}}e=e+this.matrixSet+"/"+this.matrix.identifier+"/"+f.row+"/"+f.col+"."+this.formatSuffix;if(OpenLayers.Util.isArray(this.url)){b=this.selectUrl(e,this.url)}else{b=this.url}if(!b.match(/\/$/)){b=b+"/"}b=b+e}else{if(this.requestEncoding.toUpperCase()==="KVP"){var g={SERVICE:"WMTS",REQUEST:"GetTile",VERSION:this.version,LAYER:this.layer,STYLE:this.style,TILEMATRIXSET:this.matrixSet,TILEMATRIX:this.matrix.identifier,TILEROW:f.row,TILECOL:f.col,FORMAT:this.format};b=OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,[g])}}}return b},mergeNewParams:function(a){if(this.requestEncoding.toUpperCase()==="KVP"){return OpenLayers.Layer.Grid.prototype.mergeNewParams.apply(this,[OpenLayers.Util.upperCaseObject(a)])}},CLASS_NAME:"OpenLayers.Layer.WMTS"});OpenLayers.Renderer.VML=OpenLayers.Class(OpenLayers.Renderer.Elements,{xmlns:"urn:schemas-microsoft-com:vml",symbolCache:{},offset:null,initialize:function(b){if(!this.supported()){return}if(!document.namespaces.olv){document.namespaces.add("olv",this.xmlns);var e=document.createStyleSheet();var c=["shape","rect","oval","fill","stroke","imagedata","group","textbox"];for(var d=0,a=c.length;d<a;d++){e.addRule("olv\\:"+c[d],"behavior: url(#default#VML); position: absolute; display: inline-block;")}}OpenLayers.Renderer.Elements.prototype.initialize.apply(this,arguments)},supported:function(){return !!(document.namespaces)},setExtent:function(j,a){OpenLayers.Renderer.Elements.prototype.setExtent.apply(this,arguments);var c=this.getResolution();var b=(j.left/c)|0;var f=(j.top/c-this.size.h)|0;if(a||!this.offset){this.offset={x:b,y:f};b=0;f=0}else{b=b-this.offset.x;f=f-this.offset.y}var l=b+" "+f;this.root.coordorigin=l;var h=[this.root,this.vectorRoot,this.textRoot];var g;for(var d=0,e=h.length;d<e;++d){g=h[d];var k=this.size.w+" "+this.size.h;g.coordsize=k}this.root.style.flip="y";return true},setSize:function(f){OpenLayers.Renderer.prototype.setSize.apply(this,arguments);var d=[this.rendererRoot,this.root,this.vectorRoot,this.textRoot];var c=this.size.w+"px";var g=this.size.h+"px";var b;for(var e=0,a=d.length;e<a;++e){b=d[e];b.style.width=c;b.style.height=g}},getNodeType:function(c,b){var a=null;switch(c.CLASS_NAME){case"OpenLayers.Geometry.Point":if(b.externalGraphic){a="olv:rect"}else{if(this.isComplexSymbol(b.graphicName)){a="olv:shape"}else{a="olv:oval"}}break;case"OpenLayers.Geometry.Rectangle":a="olv:rect";break;case"OpenLayers.Geometry.LineString":case"OpenLayers.Geometry.LinearRing":case"OpenLayers.Geometry.Polygon":case"OpenLayers.Geometry.Curve":case"OpenLayers.Geometry.Surface":a="olv:shape";break;default:break}return a},setStyle:function(e,b,q,k){b=b||e._style;q=q||e._options;var c=b.fillColor;if(e._geometryClass==="OpenLayers.Geometry.Point"){if(b.externalGraphic){q.isFilled=true;if(b.graphicTitle){e.title=b.graphicTitle}var d=b.graphicWidth||b.graphicHeight;var l=b.graphicHeight||b.graphicWidth;d=d?d:b.pointRadius*2;l=l?l:b.pointRadius*2;var g=this.getResolution();var i=(b.graphicXOffset!=undefined)?b.graphicXOffset:-(0.5*d);var f=(b.graphicYOffset!=undefined)?b.graphicYOffset:-(0.5*l);e.style.left=(((k.x/g-this.offset.x)+i)|0)+"px";e.style.top=(((k.y/g-this.offset.y)-(f+l))|0)+"px";e.style.width=d+"px";e.style.height=l+"px";e.style.flip="y";c="none";q.isStroked=false}else{if(this.isComplexSymbol(b.graphicName)){var a=this.importSymbol(b.graphicName);e.path=a.path;e.coordorigin=a.left+","+a.bottom;var p=a.size;e.coordsize=p+","+p;this.drawCircle(e,k,b.pointRadius);e.style.flip="y"}else{this.drawCircle(e,k,b.pointRadius)}}}if(q.isFilled){e.fillcolor=c}else{e.filled="false"}var j=e.getElementsByTagName("fill");var o=(j.length==0)?null:j[0];if(!q.isFilled){if(o){e.removeChild(o)}}else{if(!o){o=this.createNode("olv:fill",e.id+"_fill")}o.opacity=b.fillOpacity;if(e._geometryClass==="OpenLayers.Geometry.Point"&&b.externalGraphic){if(b.graphicOpacity){o.opacity=b.graphicOpacity
}o.src=b.externalGraphic;o.type="frame";if(!(b.graphicWidth&&b.graphicHeight)){o.aspect="atmost"}}if(o.parentNode!=e){e.appendChild(o)}}var n=b.rotation;if((n!==undefined||e._rotation!==undefined)){e._rotation=n;if(b.externalGraphic){this.graphicRotate(e,i,f,b);o.opacity=0}else{if(e._geometryClass==="OpenLayers.Geometry.Point"){e.style.rotation=n||0}}}var h=e.getElementsByTagName("stroke");var m=(h.length==0)?null:h[0];if(!q.isStroked){e.stroked=false;if(m){m.on=false}}else{if(!m){m=this.createNode("olv:stroke",e.id+"_stroke");e.appendChild(m)}m.on=true;m.color=b.strokeColor;m.weight=b.strokeWidth+"px";m.opacity=b.strokeOpacity;m.endcap=b.strokeLinecap=="butt"?"flat":(b.strokeLinecap||"round");if(b.strokeDashstyle){m.dashstyle=this.dashStyle(b)}}if(b.cursor!="inherit"&&b.cursor!=null){e.style.cursor=b.cursor}return e},graphicRotate:function(n,r,e,q){var q=q||n._style;var o=q.rotation||0;var a,j;if(!(q.graphicWidth&&q.graphicHeight)){var s=new Image();s.onreadystatechange=OpenLayers.Function.bind(function(){if(s.readyState=="complete"||s.readyState=="interactive"){a=s.width/s.height;j=Math.max(q.pointRadius*2,q.graphicWidth||0,q.graphicHeight||0);r=r*a;q.graphicWidth=j*a;q.graphicHeight=j;this.graphicRotate(n,r,e,q)}},this);s.src=q.externalGraphic;return}else{j=Math.max(q.graphicWidth,q.graphicHeight);a=q.graphicWidth/q.graphicHeight}var m=Math.round(q.graphicWidth||j*a);var k=Math.round(q.graphicHeight||j);n.style.width=m+"px";n.style.height=k+"px";var l=document.getElementById(n.id+"_image");if(!l){l=this.createNode("olv:imagedata",n.id+"_image");n.appendChild(l)}l.style.width=m+"px";l.style.height=k+"px";l.src=q.externalGraphic;l.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='', sizingMethod='scale')";var f=o*Math.PI/180;var h=Math.sin(f);var d=Math.cos(f);var g="progid:DXImageTransform.Microsoft.Matrix(M11="+d+",M12="+(-h)+",M21="+h+",M22="+d+",SizingMethod='auto expand')\n";var b=q.graphicOpacity||q.fillOpacity;if(b&&b!=1){g+="progid:DXImageTransform.Microsoft.BasicImage(opacity="+b+")\n"}n.style.filter=g;var p=new OpenLayers.Geometry.Point(-r,-e);var c=new OpenLayers.Bounds(0,0,m,k).toGeometry();c.rotate(q.rotation,p);var i=c.getBounds();n.style.left=Math.round(parseInt(n.style.left)+i.left)+"px";n.style.top=Math.round(parseInt(n.style.top)-i.bottom)+"px"},postDraw:function(a){a.style.visibility="visible";var c=a._style.fillColor;var b=a._style.strokeColor;if(c=="none"&&a.fillcolor!=c){a.fillcolor=c}if(b=="none"&&a.strokecolor!=b){a.strokecolor=b}},setNodeDimension:function(b,e){var d=e.getBounds();if(d){var a=this.getResolution();var c=new OpenLayers.Bounds((d.left/a-this.offset.x)|0,(d.bottom/a-this.offset.y)|0,(d.right/a-this.offset.x)|0,(d.top/a-this.offset.y)|0);b.style.left=c.left+"px";b.style.top=c.top+"px";b.style.width=c.getWidth()+"px";b.style.height=c.getHeight()+"px";b.coordorigin=c.left+" "+c.top;b.coordsize=c.getWidth()+" "+c.getHeight()}},dashStyle:function(a){var c=a.strokeDashstyle;switch(c){case"solid":case"dot":case"dash":case"dashdot":case"longdash":case"longdashdot":return c;default:var b=c.split(/[ ,]/);if(b.length==2){if(1*b[0]>=2*b[1]){return"longdash"}return(b[0]==1||b[1]==1)?"dot":"dash"}else{if(b.length==4){return(1*b[0]>=2*b[1])?"longdashdot":"dashdot"}}return"solid"}},createNode:function(a,c){var b=document.createElement(a);if(c){b.id=c}b.unselectable="on";b.onselectstart=OpenLayers.Function.False;return b},nodeTypeCompare:function(c,b){var d=b;var a=d.indexOf(":");if(a!=-1){d=d.substr(a+1)}var e=c.nodeName;a=e.indexOf(":");if(a!=-1){e=e.substr(a+1)}return(d==e)},createRenderRoot:function(){return this.nodeFactory(this.container.id+"_vmlRoot","div")},createRoot:function(a){return this.nodeFactory(this.container.id+a,"olv:group")},drawPoint:function(a,b){return this.drawCircle(a,b,1)},drawCircle:function(d,e,a){if(!isNaN(e.x)&&!isNaN(e.y)){var b=this.getResolution();d.style.left=(((e.x/b-this.offset.x)|0)-a)+"px";d.style.top=(((e.y/b-this.offset.y)|0)-a)+"px";var c=a*2;d.style.width=c+"px";d.style.height=c+"px";return d}return false},drawLineString:function(a,b){return this.drawLine(a,b,false)
},drawLinearRing:function(a,b){return this.drawLine(a,b,true)},drawLine:function(b,k,g){this.setNodeDimension(b,k);var c=this.getResolution();var a=k.components.length;var e=new Array(a);var h,l,j;for(var f=0;f<a;f++){h=k.components[f];l=(h.x/c-this.offset.x)|0;j=(h.y/c-this.offset.y)|0;e[f]=" "+l+","+j+" l "}var d=(g)?" x e":" e";b.path="m"+e.join("")+d;return b},drawPolygon:function(c,m){this.setNodeDimension(c,m);var d=this.getResolution();var r=[];var e,k,o,a,g,b,f,q,h,p,n,l;for(e=0,k=m.components.length;e<k;e++){r.push("m");o=m.components[e].components;a=(e===0);g=null;b=null;for(f=0,q=o.length;f<q;f++){h=o[f];n=(h.x/d-this.offset.x)|0;l=(h.y/d-this.offset.y)|0;p=" "+n+","+l;r.push(p);if(f==0){r.push(" l")}if(!a){if(!g){g=p}else{if(g!=p){if(!b){b=p}else{if(b!=p){a=true}}}}}}r.push(a?" x ":" ")}r.push("e");c.path=r.join("");return c},drawRectangle:function(b,c){var a=this.getResolution();b.style.left=((c.x/a-this.offset.x)|0)+"px";b.style.top=((c.y/a-this.offset.y)|0)+"px";b.style.width=((c.width/a)|0)+"px";b.style.height=((c.height/a)|0)+"px";return b},drawText:function(d,a,h){var g=this.nodeFactory(d+this.LABEL_ID_SUFFIX,"olv:rect");var f=this.nodeFactory(d+this.LABEL_ID_SUFFIX+"_textbox","olv:textbox");var c=this.getResolution();g.style.left=((h.x/c-this.offset.x)|0)+"px";g.style.top=((h.y/c-this.offset.y)|0)+"px";g.style.flip="y";f.innerText=a.label;if(a.cursor!="inherit"&&a.cursor!=null){f.style.cursor=a.cursor}if(a.fontColor){f.style.color=a.fontColor}if(a.fontOpacity){f.style.filter="alpha(opacity="+(a.fontOpacity*100)+")"}if(a.fontFamily){f.style.fontFamily=a.fontFamily}if(a.fontSize){f.style.fontSize=a.fontSize}if(a.fontWeight){f.style.fontWeight=a.fontWeight}if(a.fontStyle){f.style.fontStyle=a.fontStyle}if(a.labelSelect===true){g._featureId=d;f._featureId=d;f._geometry=h;f._geometryClass=h.CLASS_NAME}f.style.whiteSpace="nowrap";f.inset="1px,0px,0px,0px";if(!g.parentNode){g.appendChild(f);this.textRoot.appendChild(g)}var e=a.labelAlign||"cm";if(e.length==1){e+="m"}var i=f.clientWidth*(OpenLayers.Renderer.VML.LABEL_SHIFT[e.substr(0,1)]);var b=f.clientHeight*(OpenLayers.Renderer.VML.LABEL_SHIFT[e.substr(1,1)]);g.style.left=parseInt(g.style.left)-i-1+"px";g.style.top=parseInt(g.style.top)+b+"px"},drawSurface:function(a,g){this.setNodeDimension(a,g);var b=this.getResolution();var j=[];var d,h,f;for(var c=0,e=g.components.length;c<e;c++){d=g.components[c];h=(d.x/b-this.offset.x)|0;f=(d.y/b-this.offset.y)|0;if((c%3)==0&&(c/3)==0){j.push("m")}else{if((c%3)==1){j.push(" c")}}j.push(" "+h+","+f)}j.push(" x e");a.path=j.join("");return a},moveRoot:function(b){var a=this.map.getLayer(b.container.id);if(a instanceof OpenLayers.Layer.Vector.RootContainer){a=this.map.getLayer(this.container.id)}a&&a.renderer.clear();OpenLayers.Renderer.Elements.prototype.moveRoot.apply(this,arguments);a&&a.redraw()},importSymbol:function(d){var b=this.container.id+"-"+d;var a=this.symbolCache[b];if(a){return a}var c=OpenLayers.Renderer.symbol[d];if(!c){throw new Error(d+" is not a valid symbol name")}var k=new OpenLayers.Bounds(Number.MAX_VALUE,Number.MAX_VALUE,0,0);var e=["m"];for(var f=0;f<c.length;f=f+2){var h=c[f];var g=c[f+1];k.left=Math.min(k.left,h);k.bottom=Math.min(k.bottom,g);k.right=Math.max(k.right,h);k.top=Math.max(k.top,g);e.push(h);e.push(g);if(f==0){e.push("l")}}e.push("x e");var l=e.join(" ");var j=(k.getWidth()-k.getHeight())/2;if(j>0){k.bottom=k.bottom-j;k.top=k.top+j}else{k.left=k.left+j;k.right=k.right-j}a={path:l,size:k.getWidth(),left:k.left,bottom:k.bottom};this.symbolCache[b]=a;return a},CLASS_NAME:"OpenLayers.Renderer.VML"});OpenLayers.Renderer.VML.LABEL_SHIFT={l:0,c:0.5,r:1,t:0,m:0.5,b:1};OpenLayers.Layer.MultiMap=OpenLayers.Class(OpenLayers.Layer.EventPane,OpenLayers.Layer.FixedZoomLevels,{MIN_ZOOM_LEVEL:1,MAX_ZOOM_LEVEL:17,RESOLUTIONS:[9,1.40625,0.703125,0.3515625,0.17578125,0.087890625,0.0439453125,0.02197265625,0.010986328125,0.0054931640625,0.00274658203125,0.001373291015625,0.0006866455078125,0.00034332275390625,0.000171661376953125,0.0000858306884765625,0.00004291534423828125],type:null,initialize:function(b,a){OpenLayers.Layer.EventPane.prototype.initialize.apply(this,arguments);
OpenLayers.Layer.FixedZoomLevels.prototype.initialize.apply(this,arguments);if(this.sphericalMercator){OpenLayers.Util.extend(this,OpenLayers.Layer.SphericalMercator);this.initMercatorParameters();this.RESOLUTIONS.unshift(10)}},loadMapObject:function(){try{this.mapObject=new MultimapViewer(this.div)}catch(a){}},getWarningHTML:function(){return OpenLayers.i18n("getLayerWarning",{layerType:"MM",layerLib:"MultiMap"})},setMapObjectCenter:function(a,b){this.mapObject.goToPosition(a,b)},getMapObjectCenter:function(){return this.mapObject.getCurrentPosition()},getMapObjectZoom:function(){return this.mapObject.getZoomFactor()},getMapObjectLonLatFromMapObjectPixel:function(a){a.x=a.x-(this.map.getSize().w/2);a.y=a.y-(this.map.getSize().h/2);return this.mapObject.getMapPositionAt(a)},getMapObjectPixelFromMapObjectLonLat:function(a){return this.mapObject.geoPosToContainerPixels(a)},getLongitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.lon,a.lat).lon:a.lon},getLatitudeFromMapObjectLonLat:function(a){return this.sphericalMercator?this.forwardMercator(a.lon,a.lat).lat:a.lat},getMapObjectLonLatFromLonLat:function(d,c){var a;if(this.sphericalMercator){var b=this.inverseMercator(d,c);a=new MMLatLon(b.lat,b.lon)}else{a=new MMLatLon(c,d)}return a},getXFromMapObjectPixel:function(a){return a.x},getYFromMapObjectPixel:function(a){return a.y},getMapObjectPixelFromXY:function(a,b){return new MMPoint(a,b)},CLASS_NAME:"OpenLayers.Layer.MultiMap"});OpenLayers.Lang.km=OpenLayers.Util.applyDefaults({Permalink:"តំណភ្ជាប់អចិន្ត្រៃយ៍","Base Layer":"ស្រទាប់បាត​",errorLoadingGML:"កំហុសកំឡុងពេលផ្ទុកឯកសារ GML ${url}","Scale = 1 : ${scaleDenom}":"មាត្រដ្ឋាន = ១ ៖ ${scaleDenom}"});OpenLayers.Protocol.WFS.v1_0_0=OpenLayers.Class(OpenLayers.Protocol.WFS.v1,{version:"1.0.0",CLASS_NAME:"OpenLayers.Protocol.WFS.v1_0_0"});OpenLayers.Control.WMTSGetFeatureInfo=OpenLayers.Class(OpenLayers.Control,{hover:false,requestEncoding:"KVP",drillDown:false,maxFeatures:10,clickCallback:"click",layers:null,queryVisible:true,infoFormat:"text/html",vendorParams:{},format:null,formatOptions:null,handlerOptions:null,handler:null,hoverRequest:null,EVENT_TYPES:["beforegetfeatureinfo","getfeatureinfo","exception"],pending:0,initialize:function(a){this.EVENT_TYPES=OpenLayers.Control.WMTSGetFeatureInfo.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);a=a||{};a.handlerOptions=a.handlerOptions||{};OpenLayers.Control.prototype.initialize.apply(this,[a]);if(!this.format){this.format=new OpenLayers.Format.WMSGetFeatureInfo(a.formatOptions)}if(this.drillDown===true){this.hover=false}if(this.hover){this.handler=new OpenLayers.Handler.Hover(this,{move:this.cancelHover,pause:this.getInfoForHover},OpenLayers.Util.extend(this.handlerOptions.hover||{},{delay:250}))}else{var b={};b[this.clickCallback]=this.getInfoForClick;this.handler=new OpenLayers.Handler.Click(this,b,this.handlerOptions.click||{})}},getInfoForClick:function(a){this.request(a.xy,{})},getInfoForHover:function(a){this.request(a.xy,{hover:true})},cancelHover:function(){if(this.hoverRequest){--this.pending;if(this.pending<=0){OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait");this.pending=0}this.hoverRequest.abort();this.hoverRequest=null}},findLayers:function(){var c=this.layers||this.map.layers;var d=[];var b;for(var a=c.length-1;a>=0;--a){b=c[a];if(b instanceof OpenLayers.Layer.WMTS&&b.requestEncoding===this.requestEncoding&&(!this.queryVisible||b.getVisibility())){d.push(b);if(!this.drillDown||this.hover){break}}}return d},buildRequestOptions:function(b,c){var f=this.map.getLonLatFromPixel(c);var e=b.getURL(new OpenLayers.Bounds(f.lon,f.lat,f.lon,f.lat));var d=OpenLayers.Util.getParameters(e);var a=b.getTileInfo(f);OpenLayers.Util.extend(d,{service:"WMTS",version:b.version,request:"GetFeatureInfo",infoFormat:this.infoFormat,i:a.i,j:a.j});OpenLayers.Util.applyDefaults(d,this.vendorParams);return{url:OpenLayers.Util.isArray(b.url)?b.url[0]:b.url,params:OpenLayers.Util.upperCaseObject(d),callback:function(g){this.handleResponse(c,g,b)},scope:this}},request:function(h,j){j=j||{};
var c=this.findLayers();if(c.length>0){var g,e;for(var d=0,f=c.length;d<f;d++){e=c[d];g=this.events.triggerEvent("beforegetfeatureinfo",{xy:h,layer:e});if(g!==false){++this.pending;var a=this.buildRequestOptions(e,h);var b=OpenLayers.Request.GET(a);if(j.hover===true){this.hoverRequest=b}}}if(this.pending>0){OpenLayers.Element.addClass(this.map.viewPortDiv,"olCursorWait")}}},handleResponse:function(g,e,b){--this.pending;if(this.pending<=0){OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait");this.pending=0}if(e.status&&(e.status<200||e.status>=300)){this.events.triggerEvent("exception",{xy:g,request:e,layer:b})}else{var f=e.responseXML;if(!f||!f.documentElement){f=e.responseText}var d,c;try{d=this.format.read(f)}catch(a){c=true;this.events.triggerEvent("exception",{xy:g,request:e,error:a,layer:b})}if(!c){this.events.triggerEvent("getfeatureinfo",{text:e.responseText,features:d,request:e,xy:g,layer:b})}}},CLASS_NAME:"OpenLayers.Control.WMTSGetFeatureInfo"});OpenLayers.Lang.bg=OpenLayers.Util.applyDefaults({Permalink:"Постоянна препратка","Base Layer":"Основен слой",errorLoadingGML:"Грешка при зареждане на GML файл ${url}","Scale = 1 : ${scaleDenom}":"Мащаб = 1 : ${scaleDenom}",layerAlreadyAdded:"Опитахте да добавите слой ${layerName} в картата, но той вече е добавен",methodDeprecated:"Този метод е остарял и ще бъде премахват в 3.0. Вместо него използвайте ${newMethod}."});OpenLayers.Control.Graticule=OpenLayers.Class(OpenLayers.Control,{autoActivate:true,intervals:[45,30,20,10,5,2,1,0.5,0.2,0.1,0.05,0.01,0.005,0.002,0.001],displayInLayerSwitcher:true,visible:true,numPoints:50,targetSize:200,layerName:null,labelled:true,labelFormat:"dm",lineSymbolizer:{strokeColor:"#333",strokeWidth:1,strokeOpacity:0.5},labelSymbolizer:{},gratLayer:null,initialize:function(a){a=a||{};a.layerName=a.layerName||OpenLayers.i18n("Graticule");OpenLayers.Control.prototype.initialize.apply(this,[a]);this.labelSymbolizer.stroke=false;this.labelSymbolizer.fill=false;this.labelSymbolizer.label="${label}";this.labelSymbolizer.labelAlign="${labelAlign}";this.labelSymbolizer.labelXOffset="${xOffset}";this.labelSymbolizer.labelYOffset="${yOffset}"},destroy:function(){this.deactivate();OpenLayers.Control.prototype.destroy.apply(this,arguments);if(this.gratLayer){this.gratLayer.destroy();this.gratLayer=null}},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!this.gratLayer){var a=new OpenLayers.Style({},{rules:[new OpenLayers.Rule({symbolizer:{Point:this.labelSymbolizer,Line:this.lineSymbolizer}})]});this.gratLayer=new OpenLayers.Layer.Vector(this.layerName,{styleMap:new OpenLayers.StyleMap({"default":a}),visibility:this.visible,displayInLayerSwitcher:this.displayInLayerSwitcher})}return this.div},activate:function(){if(OpenLayers.Control.prototype.activate.apply(this,arguments)){this.map.addLayer(this.gratLayer);this.map.events.register("moveend",this,this.update);this.update();return true}else{return false}},deactivate:function(){if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){this.map.events.unregister("moveend",this,this.update);this.map.removeLayer(this.gratLayer);return true}else{return false}},update:function(){var k=this.map.getExtent();if(!k){return}this.gratLayer.destroyFeatures();var l=new OpenLayers.Projection("EPSG:4326");var G=this.map.getProjectionObject();var g=this.map.getResolution();if(G.proj&&G.proj.projName=="longlat"){this.numPoints=1}var J=this.map.getCenter();var C=new OpenLayers.Pixel(J.lon,J.lat);OpenLayers.Projection.transform(C,G,l);var x=this.targetSize*g;x*=x;var p;for(var B=0;B<this.intervals.length;++B){p=this.intervals[B];var H=p/2;var d=C.offset(new OpenLayers.Pixel(-H,-H));var b=C.offset(new OpenLayers.Pixel(H,H));OpenLayers.Projection.transform(d,l,G);OpenLayers.Projection.transform(b,l,G);var e=(d.x-b.x)*(d.x-b.x)+(d.y-b.y)*(d.y-b.y);if(e<=x){break}}C.x=Math.floor(C.x/p)*p;C.y=Math.floor(C.y/p)*p;var A=0;var q=[C.clone()];var o=C.clone();var y;do{o=o.offset(new OpenLayers.Pixel(0,p));y=OpenLayers.Projection.transform(o.clone(),l,G);q.unshift(o)}while(k.containsPixel(y)&&++A<1000);
o=C.clone();do{o=o.offset(new OpenLayers.Pixel(0,-p));y=OpenLayers.Projection.transform(o.clone(),l,G);q.push(o)}while(k.containsPixel(y)&&++A<1000);A=0;var v=[C.clone()];o=C.clone();do{o=o.offset(new OpenLayers.Pixel(-p,0));y=OpenLayers.Projection.transform(o.clone(),l,G);v.unshift(o)}while(k.containsPixel(y)&&++A<1000);o=C.clone();do{o=o.offset(new OpenLayers.Pixel(p,0));y=OpenLayers.Projection.transform(o.clone(),l,G);v.push(o)}while(k.containsPixel(y)&&++A<1000);var a=[];for(var B=0;B<v.length;++B){var f=v[B].x;var u=[];var I=null;var D=Math.min(q[0].y,90);var n=Math.max(q[q.length-1].y,-90);var c=(D-n)/this.numPoints;var h=n;for(var z=0;z<=this.numPoints;++z){var E=new OpenLayers.Geometry.Point(f,h);E.transform(l,G);u.push(E);h+=c;if(E.y>=k.bottom&&!I){I=E}}if(this.labelled){var s=new OpenLayers.Geometry.Point(I.x,k.bottom);var F={value:f,label:this.labelled?OpenLayers.Util.getFormattedLonLat(f,"lon",this.labelFormat):"",labelAlign:"cb",xOffset:0,yOffset:2};this.gratLayer.addFeatures(new OpenLayers.Feature.Vector(s,F))}var t=new OpenLayers.Geometry.LineString(u);a.push(new OpenLayers.Feature.Vector(t))}for(var z=0;z<q.length;++z){h=q[z].y;if(h<-90||h>90){continue}var u=[];var w=v[0].x;var r=v[v.length-1].x;var m=(r-w)/this.numPoints;var f=w;var I=null;for(var B=0;B<=this.numPoints;++B){var E=new OpenLayers.Geometry.Point(f,h);E.transform(l,G);u.push(E);f+=m;if(E.x<k.right){I=E}}if(this.labelled){var s=new OpenLayers.Geometry.Point(k.right,I.y);var F={value:h,label:this.labelled?OpenLayers.Util.getFormattedLonLat(h,"lat",this.labelFormat):"",labelAlign:"rb",xOffset:-2,yOffset:2};this.gratLayer.addFeatures(new OpenLayers.Feature.Vector(s,F))}var t=new OpenLayers.Geometry.LineString(u);a.push(new OpenLayers.Feature.Vector(t))}this.gratLayer.addFeatures(a)},CLASS_NAME:"OpenLayers.Control.Graticule"});OpenLayers.Lang.hr=OpenLayers.Util.applyDefaults({unhandledRequest:"Nepodržani zahtjev ${statusText}",Permalink:"Permalink",Overlays:"Overlays","Base Layer":"Osnovna karta",readNotImplemented:"Čitanje nije implementirano.",writeNotImplemented:"Pisanje nije implementirano.",noFID:"Ne mogu ažurirati značajku za koju ne postoji FID.",errorLoadingGML:"Greška u učitavanju GML datoteke ${url}",browserNotSupported:"Vaš preglednik ne podržava vektorsko renderiranje. Trenutno podržani rendereri su: ${renderers}",componentShouldBe:"addFeatures : komponenta bi trebala biti ${geomType}",getFeatureError:"getFeatureFromEvent je pozvao Layer bez renderera. Ovo obično znači da ste uništiili Layer, a ne neki Handler koji je povezan s njim.",commitSuccess:"WFS Transakcija: USPJEŠNA ${response}",commitFailed:"WFS Transakcija: NEUSPJEŠNA ${response}","Scale = 1 : ${scaleDenom}":"Mjerilo = 1 : ${scaleDenom}",layerAlreadyAdded:"Pokušali ste dodati layer:  ${layerName} na kartu, ali je već dodan",methodDeprecated:"Ova metoda nije odobrena i biti će maknuta u 3.0. Koristite ${newMethod}.",boundsAddError:"Morate dati obje vrijednosti ,  x i y  da bi dodali funkciju.",lonlatAddError:"Morate dati obje vrijednosti , (lon i lat) da bi dodali funkciju.",pixelAddError:"Morate dati obje vrijednosti ,  x i y  da bi dodali funkciju.",unsupportedGeometryType:"Nepodržani tip geometrije: ${geomType}"});OpenLayers.Protocol.Script=OpenLayers.Class(OpenLayers.Protocol,{url:null,params:null,callback:null,scope:null,format:null,callbackKey:"callback",callbackPrefix:"",pendingRequests:null,srsInBBOX:false,initialize:function(a){a=a||{};this.params={};this.pendingRequests={};OpenLayers.Protocol.prototype.initialize.apply(this,arguments);if(!this.format){this.format=new OpenLayers.Format.GeoJSON()}if(!this.filterToParams&&OpenLayers.Format.QueryStringFilter){var b=new OpenLayers.Format.QueryStringFilter({srsInBBOX:this.srsInBBOX});this.filterToParams=function(c,d){return b.write(c,d)}}},read:function(b){OpenLayers.Protocol.prototype.read.apply(this,arguments);b=OpenLayers.Util.applyDefaults(b,this.options);b.params=OpenLayers.Util.applyDefaults(b.params,this.options.params);if(b.filter&&this.filterToParams){b.params=this.filterToParams(b.filter,b.params)}var a=new OpenLayers.Protocol.Response({requestType:"read"});
var c=this.createRequest(b.url,b.params,OpenLayers.Function.bind(function(d){a.data=d;this.handleRead(a,b)},this));a.priv=c;return a},createRequest:function(c,e,g){var f=OpenLayers.Protocol.Script.register(g);var b="OpenLayers.Protocol.Script.registry["+f+"]";e=OpenLayers.Util.extend({},e);e[this.callbackKey]=this.callbackPrefix+b;c=OpenLayers.Util.urlAppend(c,OpenLayers.Util.getParameterString(e));var a=document.createElement("script");a.type="text/javascript";a.src=c;a.id="OpenLayers_Protocol_Script_"+f;this.pendingRequests[a.id]=a;var d=document.getElementsByTagName("head")[0];d.appendChild(a);return a},destroyRequest:function(a){OpenLayers.Protocol.Script.unregister(a.id.split("_").pop());delete this.pendingRequests[a.id];if(a.parentNode){a.parentNode.removeChild(a)}},handleRead:function(a,b){this.handleResponse(a,b)},handleResponse:function(a,b){if(b.callback){if(a.data){a.features=this.parseFeatures(a.data);a.code=OpenLayers.Protocol.Response.SUCCESS}else{a.code=OpenLayers.Protocol.Response.FAILURE}this.destroyRequest(a.priv);b.callback.call(b.scope,a)}},parseFeatures:function(a){return this.format.read(a)},abort:function(a){if(a){this.destroyRequest(a.priv)}else{for(var b in this.pendingRequests){this.destroyRequest(this.pendingRequests[b])}}},destroy:function(){this.abort();delete this.params;delete this.format;OpenLayers.Protocol.prototype.destroy.apply(this)},CLASS_NAME:"OpenLayers.Protocol.Script"});(function(){var b=OpenLayers.Protocol.Script;var a=0;b.registry=[];b.register=function(d){var c=++a;b.registry[c]=function(){b.unregister(c);d.apply(this,arguments)};return c};b.unregister=function(c){delete b.registry[c]}})();OpenLayers.Tile.Image.IFrame={useIFrame:null,clear:function(){if(this.useIFrame){if(this.imgDiv){var a=this.imgDiv.firstChild;OpenLayers.Event.stopObservingElement(a);this.imgDiv.removeChild(a);delete a}}else{OpenLayers.Tile.Image.prototype.clear.apply(this,arguments)}},renderTile:function(){if(OpenLayers.Tile.Image.prototype.renderTile.apply(this,arguments)&&this.useIFrame){var a=this.createRequestForm();this.imgDiv.appendChild(a);a.submit();this.imgDiv.removeChild(a);delete a}return true},initImgDiv:function(){this.useIFrame=this.maxGetUrlLength!==null&&!this.layer.async&&this.url.length>this.maxGetUrlLength;if(this.imgDiv!=null){var b=this.imgDiv.nodeName.toLowerCase();if((this.useIFrame&&b=="img")||(!this.useIFrame&&b=="div")){this.removeImgDiv();this.imgDiv=null}}if(this.useIFrame){if(this.imgDiv==null){var a=document.createElement("div");if(OpenLayers.BROWSER_NAME=="msie"){a.style.backgroundColor="#FFFFFF";a.style.filter="chroma(color=#FFFFFF)"}OpenLayers.Util.modifyDOMElement(a,null,new OpenLayers.Pixel(0,0),this.layer.getImageSize(),"absolute");this.imgDiv=document.createElement("div");this.imgDiv.appendChild(a);OpenLayers.Util.modifyDOMElement(this.imgDiv,this.id,null,this.layer.getImageSize(),"relative");this.imgDiv.className="olTileImage";this.frame.appendChild(this.imgDiv);this.layer.div.appendChild(this.frame);if(this.layer.opacity!=null){OpenLayers.Util.modifyDOMElement(this.imgDiv,null,null,null,null,null,null,this.layer.opacity)}this.imgDiv.map=this.layer.map}this.imgDiv.viewRequestID=this.layer.map.viewRequestID}else{OpenLayers.Tile.Image.prototype.initImgDiv.apply(this,arguments)}},createIFrame:function(){var c=this.id+"_iFrame";var a;if(OpenLayers.BROWSER_NAME=="msie"){a=document.createElement('<iframe name="'+c+'">');a.style.backgroundColor="#FFFFFF";a.style.filter="chroma(color=#FFFFFF)"}else{a=document.createElement("iframe");a.style.backgroundColor="transparent";a.name=c}a.id=c;a.scrolling="no";a.marginWidth="0px";a.marginHeight="0px";a.frameBorder="0";OpenLayers.Util.modifyDOMElement(a,c,new OpenLayers.Pixel(0,0),this.layer.getImageSize(),"absolute");var b=function(){if(this.isLoading){this.isLoading=false;this.events.triggerEvent("loadend")}};OpenLayers.Event.observe(a,"load",OpenLayers.Function.bind(b,this));return a},createRequestForm:function(){var b=document.createElement("form");b.method="POST";var f=this.layer.params._OLSALT;f=(f?f+"_":"")+this.bounds.toBBOX();b.action=OpenLayers.Util.urlAppend(this.layer.url,f);
this.imgDiv.insertBefore(this.createIFrame(),this.imgDiv.firstChild);b.target=this.id+"_iFrame";var c=this.layer.getImageSize();var e=OpenLayers.Util.getParameters(this.url);for(var a in e){var d=document.createElement("input");d.type="hidden";d.name=a;d.value=e[a];b.appendChild(d)}return b}};OpenLayers.Layer.WMS.Post=OpenLayers.Class(OpenLayers.Layer.WMS,{unsupportedBrowsers:["mozilla","firefox","opera"],SUPPORTED_TRANSITIONS:[],usePost:null,initialize:function(d,c,e,b){var a=[];a.push(d,c,e,b);OpenLayers.Layer.WMS.prototype.initialize.apply(this,a);this.usePost=OpenLayers.Util.indexOf(this.unsupportedBrowsers,OpenLayers.BROWSER_NAME)==-1},addTile:function(b,a){return new OpenLayers.Tile.Image(this,a,b,null,this.tileSize,{maxGetUrlLength:this.usePost?0:null})},CLASS_NAME:"OpenLayers.Layer.WMS.Post"});OpenLayers.Control.TransformFeature=OpenLayers.Class(OpenLayers.Control,{EVENT_TYPES:["beforesetfeature","setfeature","beforetransform","transform","transformcomplete"],geometryTypes:null,layer:null,preserveAspectRatio:false,rotate:true,feature:null,renderIntent:"temporary",rotationHandleSymbolizer:null,box:null,center:null,scale:1,ratio:1,rotation:0,handles:null,rotationHandles:null,dragControl:null,initialize:function(b,a){this.EVENT_TYPES=OpenLayers.Control.TransformFeature.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);OpenLayers.Control.prototype.initialize.apply(this,[a]);this.layer=b;if(!this.rotationHandleSymbolizer){this.rotationHandleSymbolizer={stroke:false,pointRadius:10,fillOpacity:0,cursor:"pointer"}}this.createBox();this.createControl()},activate:function(){var a=false;if(OpenLayers.Control.prototype.activate.apply(this,arguments)){this.dragControl.activate();this.layer.addFeatures([this.box]);this.rotate&&this.layer.addFeatures(this.rotationHandles);this.layer.addFeatures(this.handles);a=true}return a},deactivate:function(){var a=false;if(OpenLayers.Control.prototype.deactivate.apply(this,arguments)){this.layer.removeFeatures(this.handles);this.rotate&&this.layer.removeFeatures(this.rotationHandles);this.layer.removeFeatures([this.box]);this.dragControl.deactivate();a=true}if(a){this.unsetFeature()}return a},setMap:function(a){this.dragControl.setMap(a);OpenLayers.Control.prototype.setMap.apply(this,arguments)},setFeature:function(i,c){c=OpenLayers.Util.applyDefaults(c,{rotation:0,scale:1,ratio:1});var e=this.rotation;var a=this.center;OpenLayers.Util.extend(this,c);var j=this.events.triggerEvent("beforesetfeature",{feature:i});if(j===false){return}this.feature=i;this.activate();this._setfeature=true;var b=this.feature.geometry.getBounds();this.box.move(b.getCenterLonLat());this.box.geometry.rotate(-e,a);this._angle=0;var f;if(this.rotation){var g=i.geometry.clone();g.rotate(-this.rotation,this.center);var d=new OpenLayers.Feature.Vector(g.getBounds().toGeometry());d.geometry.rotate(this.rotation,this.center);this.box.geometry.rotate(this.rotation,this.center);this.box.move(d.geometry.getBounds().getCenterLonLat());var h=d.geometry.components[0].components[0];f=h.getBounds().getCenterLonLat()}else{f=new OpenLayers.LonLat(b.left,b.bottom)}this.handles[0].move(f);delete this._setfeature;this.events.triggerEvent("setfeature",{feature:i})},unsetFeature:function(){if(this.active){this.deactivate()}else{this.feature=null;this.rotation=0;this.scale=1;this.ratio=1}},createBox:function(){var e=this;this.center=new OpenLayers.Geometry.Point(0,0);var f=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.LineString([new OpenLayers.Geometry.Point(-1,-1),new OpenLayers.Geometry.Point(0,-1),new OpenLayers.Geometry.Point(1,-1),new OpenLayers.Geometry.Point(1,0),new OpenLayers.Geometry.Point(1,1),new OpenLayers.Geometry.Point(0,1),new OpenLayers.Geometry.Point(-1,1),new OpenLayers.Geometry.Point(-1,0),new OpenLayers.Geometry.Point(-1,-1)]),null,typeof this.renderIntent=="string"?null:this.renderIntent);f.geometry.move=function(i,o){e._moving=true;OpenLayers.Geometry.LineString.prototype.move.apply(this,arguments);e.center.move(i,o);delete e._moving};var a=function(i,o){OpenLayers.Geometry.Point.prototype.move.apply(this,arguments);
this._rotationHandle&&this._rotationHandle.geometry.move(i,o);this._handle.geometry.move(i,o)};var n=function(p,i,o){OpenLayers.Geometry.Point.prototype.resize.apply(this,arguments);this._rotationHandle&&this._rotationHandle.geometry.resize(p,i,o);this._handle.geometry.resize(p,i,o)};var l=function(o,i){OpenLayers.Geometry.Point.prototype.rotate.apply(this,arguments);this._rotationHandle&&this._rotationHandle.geometry.rotate(o,i);this._handle.geometry.rotate(o,i)};var h=function(A,w){var F=this.x,C=this.y;OpenLayers.Geometry.Point.prototype.move.call(this,A,w);if(e._moving){return}var D=e.dragControl.handlers.drag.evt;var i=!e._setfeature&&e.preserveAspectRatio;var r=!i&&!(D&&D.shiftKey);var z=new OpenLayers.Geometry.Point(F,C);var u=e.center;this.rotate(-e.rotation,u);z.rotate(-e.rotation,u);var B=this.x-u.x;var s=this.y-u.y;var E=B-(this.x-z.x);var t=s-(this.y-z.y);this.x=F;this.y=C;var p,v=1;if(r){p=Math.abs(t)<0.00001?1:s/t;v=(Math.abs(E)<0.00001?1:(B/E))/p}else{var q=Math.sqrt((E*E)+(t*t));var o=Math.sqrt((B*B)+(s*s));p=o/q}e._moving=true;e.box.geometry.rotate(-e.rotation,u);delete e._moving;e.box.geometry.resize(p,u,v);e.box.geometry.rotate(e.rotation,u);e.transformFeature({scale:p,ratio:v})};var c=function(v,t){var D=this.x,A=this.y;OpenLayers.Geometry.Point.prototype.move.call(this,v,t);if(e._moving){return}var B=e.dragControl.handlers.drag.evt;var u=(B&&B.shiftKey)?45:1;var s=e.center;var z=this.x-s.x;var q=this.y-s.y;var C=z-v;var r=q-t;this.x=D;this.y=A;var o=Math.atan2(r,C);var i=Math.atan2(q,z);var p=i-o;p*=180/Math.PI;e._angle=(e._angle+p)%360;var w=e.rotation%u;if(Math.abs(e._angle)>=u||w!==0){p=Math.round(e._angle/u)*u-w;e._angle=0;e.box.geometry.rotate(p,s);e.transformFeature({rotation:p})}};var m=new Array(8);var j=new Array(4);var k,g,b;for(var d=0;d<8;++d){k=f.geometry.components[d];g=new OpenLayers.Feature.Vector(k.clone(),null,typeof this.renderIntent=="string"?null:this.renderIntent);if(d%2==0){b=new OpenLayers.Feature.Vector(k.clone(),null,typeof this.rotationHandleSymbolizer=="string"?null:this.rotationHandleSymbolizer);b.geometry.move=c;k._rotationHandle=b;j[d/2]=b}k.move=a;k.resize=n;k.rotate=l;g.geometry.move=h;k._handle=g;m[d]=g}this.box=f;this.rotationHandles=j;this.handles=m},createControl:function(){var a=this;this.dragControl=new OpenLayers.Control.DragFeature(this.layer,{documentDrag:true,moveFeature:function(b){if(this.feature===a.feature){this.feature=a.box}OpenLayers.Control.DragFeature.prototype.moveFeature.apply(this,arguments)},onDrag:function(c,b){if(c===a.box){a.transformFeature({center:a.center});a.drawHandles()}},onStart:function(e,c){var b=!a.geometryTypes||OpenLayers.Util.indexOf(a.geometryTypes,e.geometry.CLASS_NAME)!==-1;var d=OpenLayers.Util.indexOf(a.handles,e);d+=OpenLayers.Util.indexOf(a.rotationHandles,e);if(e!==a.feature&&e!==a.box&&d==-2&&b){a.setFeature(e)}},onComplete:function(c,b){a.events.triggerEvent("transformcomplete",{feature:a.feature})}})},drawHandles:function(){var b=this.layer;for(var a=0;a<8;++a){if(this.rotate&&a%2===0){b.drawFeature(this.rotationHandles[a/2],this.rotationHandleSymbolizer)}b.drawFeature(this.handles[a],this.renderIntent)}},transformFeature:function(e){if(!this._setfeature){this.scale*=(e.scale||1);this.ratio*=(e.ratio||1);var b=this.rotation;this.rotation=(this.rotation+(e.rotation||0))%360;if(this.events.triggerEvent("beforetransform",e)!==false){var d=this.feature;var c=d.geometry;var a=this.center;c.rotate(-b,a);if(e.scale||e.ratio){c.resize(e.scale,a,e.ratio)}else{if(e.center){d.move(e.center.getBounds().getCenterLonLat())}}c.rotate(this.rotation,a);this.layer.drawFeature(d);d.toState(OpenLayers.State.UPDATE);this.events.triggerEvent("transform",e)}}this.layer.drawFeature(this.box,this.renderIntent);this.drawHandles()},destroy:function(){var b;for(var a=0;a<8;++a){b=this.box.geometry.components[a];b._handle.destroy();b._handle=null;b._rotationHandle&&b._rotationHandle.destroy();b._rotationHandle=null}this.box.destroy();this.box=null;this.layer=null;this.dragControl.destroy();OpenLayers.Control.prototype.destroy.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.TransformFeature"});
OpenLayers.Layer.ArcGISCache=OpenLayers.Class(OpenLayers.Layer.XYZ,{url:null,tileOrigin:null,tileSize:new OpenLayers.Size(256,256),useArcGISServer:true,type:"png",useScales:false,overrideDPI:false,initialize:function(b,c,k){OpenLayers.Layer.XYZ.prototype.initialize.apply(this,arguments);if(this.resolutions){this.serverResolutions=this.resolutions;this.maxExtent=this.getMaxExtentForResolution(this.resolutions[0])}if(this.layerInfo){var e=this.layerInfo;var g=new OpenLayers.Bounds(e.fullExtent.xmin,e.fullExtent.ymin,e.fullExtent.xmax,e.fullExtent.ymax);this.projection="EPSG:"+e.spatialReference.wkid;this.sphericalMercator=(e.spatialReference.wkid==102100);this.units=(e.units=="esriFeet")?"ft":"m";if(!!e.tileInfo){this.tileSize=new OpenLayers.Size(e.tileInfo.width||e.tileInfo.cols,e.tileInfo.height||e.tileInfo.rows);this.tileOrigin=new OpenLayers.LonLat(e.tileInfo.origin.x,e.tileInfo.origin.y);var a=new OpenLayers.Geometry.Point(g.left,g.top);var i=new OpenLayers.Geometry.Point(g.right,g.bottom);if(this.useScales){this.scales=[]}else{this.resolutions=[]}this.lods=[];for(var j in e.tileInfo.lods){if(e.tileInfo.lods.hasOwnProperty(j)){var h=e.tileInfo.lods[j];if(this.useScales){this.scales.push(h.scale)}else{this.resolutions.push(h.resolution)}var d=this.getContainingTileCoords(a,h.resolution);h.startTileCol=d.x;h.startTileRow=d.y;var f=this.getContainingTileCoords(i,h.resolution);h.endTileCol=f.x;h.endTileRow=f.y;this.lods.push(h)}}this.maxExtent=this.calculateMaxExtentWithLOD(this.lods[0]);this.serverResolutions=this.resolutions;if(this.overrideDPI&&e.tileInfo.dpi){OpenLayers.DOTS_PER_INCH=e.tileInfo.dpi}}}},getContainingTileCoords:function(a,b){return new OpenLayers.Pixel(Math.max(Math.floor((a.x-this.tileOrigin.lon)/(this.tileSize.w*b)),0),Math.max(Math.floor((this.tileOrigin.lat-a.y)/(this.tileSize.h*b)),0))},calculateMaxExtentWithLOD:function(f){var c=(f.endTileCol-f.startTileCol)+1;var b=(f.endTileRow-f.startTileRow)+1;var a=this.tileOrigin.lon+(f.startTileCol*this.tileSize.w*f.resolution);var e=a+(c*this.tileSize.w*f.resolution);var d=this.tileOrigin.lat-(f.startTileRow*this.tileSize.h*f.resolution);var g=d-(b*this.tileSize.h*f.resolution);return new OpenLayers.Bounds(a,g,e,d)},calculateMaxExtentWithExtent:function(e,d){var c=new OpenLayers.Geometry.Point(e.left,e.top);var b=new OpenLayers.Geometry.Point(e.right,e.bottom);var g=this.getContainingTileCoords(c,d);var a=this.getContainingTileCoords(b,d);var f={resolution:d,startTileCol:g.x,startTileRow:g.y,endTileCol:a.x,endTileRow:a.y};return this.calculateMaxExtentWithLOD(f)},getUpperLeftTileCoord:function(b){var a=new OpenLayers.Geometry.Point(this.maxExtent.left,this.maxExtent.top);return this.getContainingTileCoords(a,b)},getLowerRightTileCoord:function(b){var a=new OpenLayers.Geometry.Point(this.maxExtent.right,this.maxExtent.bottom);return this.getContainingTileCoords(a,b)},getMaxExtentForResolution:function(g){var c=this.getUpperLeftTileCoord(g);var f=this.getLowerRightTileCoord(g);var h=(f.x-c.x)+1;var i=(f.y-c.y)+1;var e=this.tileOrigin.lon+(c.x*this.tileSize.w*g);var b=e+(h*this.tileSize.w*g);var a=this.tileOrigin.lat-(c.y*this.tileSize.h*g);var d=a-(i*this.tileSize.h*g);return new OpenLayers.Bounds(e,d,b,a)},clone:function(a){if(a==null){a=new OpenLayers.Layer.ArcGISCache(this.name,this.url,this.options)}return OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a])},getMaxExtent:function(){var a=this.map.getResolution();return this.maxExtent=this.getMaxExtentForResolution(a)},getTileOrigin:function(){var a=this.getMaxExtent();return new OpenLayers.LonLat(a.left,a.bottom)},getURL:function(a){var i=this.getResolution();var f=(this.tileOrigin.lon+(i*this.tileSize.w/2));var e=(this.tileOrigin.lat-(i*this.tileSize.h/2));var b=a.getCenterLonLat();var m={x:b.lon,y:b.lat};var l=(Math.round(Math.abs((b.lon-f)/(i*this.tileSize.w))));var k=(Math.round(Math.abs((e-b.lat)/(i*this.tileSize.h))));var j=this.map.getZoom();if(this.lods){var h=this.lods[this.map.getZoom()];if((l<h.startTileCol||l>h.endTileCol)||(k<h.startTileRow||k>h.endTileRow)){return null}}else{var d=this.getUpperLeftTileCoord(i);
var g=this.getLowerRightTileCoord(i);if((l<d.x||l>=g.x)||(k<d.y||k>=g.y)){return null}}var c=this.url;var n=""+l+k+j;if(OpenLayers.Util.isArray(c)){c=this.selectUrl(n,c)}if(this.useArcGISServer){c=c+"/tile/${z}/${y}/${x}"}else{l="C"+this.zeroPad(l,8,16);k="R"+this.zeroPad(k,8,16);j="L"+this.zeroPad(j,2,16);c=c+"/${z}/${y}/${x}."+this.type}c=OpenLayers.String.format(c,{x:l,y:k,z:j});return c},zeroPad:function(b,a,c){var d=b.toString(c||10);while(d.length<a){d="0"+d}return d},CLASS_NAME:"OpenLayers.Layer.ArcGISCache"});OpenLayers.Lang["be-tarask"]=OpenLayers.Util.applyDefaults({unhandledRequest:"Неапрацаваны вынік запыту ${statusText}",Permalink:"Сталая спасылка",Overlays:"Слаі","Base Layer":"Базавы слой",readNotImplemented:"Функцыянальнасьць чытаньня ня створаная.",writeNotImplemented:"Функцыянальнасьць запісу ня створаная.",noFID:"Немагчыма абнавіць магчымасьць, для якога не існуе FID.",errorLoadingGML:"Памылка загрузкі файла GML ${url}",browserNotSupported:"Ваш браўзэр не падтрымлівае вэктарную графіку. У цяперашні момант падтрымліваюцца: ${renderers}",componentShouldBe:"addFeatures : кампанэнт павінен быць ${geomType}",getFeatureError:"getFeatureFromEvent выкліканы для слоя бяз рэндэру. Звычайна гэта азначае, што Вы зьнішчылі слой, але пакінулі зьвязаны зь ім апрацоўшчык.",minZoomLevelError:"Уласьцівасьць minZoomLevel прызначана толькі для выкарыстаньня са слаямі вытворнымі ад FixedZoomLevels. Тое, што  гэты wfs-слой правяраецца на minZoomLevel — рэха прошлага. Але мы ня можам выдаліць гэтую магчымасьць, таму што ад яе залежаць некаторыя заснаваныя на OL дастасаваньні. Тым ня менш, праверка minZoomLevel будзе выдаленая ў вэрсіі 3.0. Калі ласка, выкарыстоўваеце замест яе ўстаноўкі мінімальнага/максымальнага памераў, як апісана тут: http://trac.openlayers.org/wiki/SettingZoomLevels",commitSuccess:"WFS-транзакцыя: ПОСЬПЕХ ${response}",commitFailed:"WFS-транзакцыя: ПАМЫЛКА ${response}",googleWarning:"Не атрымалася загрузіць слой Google. \x3cbr\x3e\x3cbr\x3eКаб пазбавіцца гэтага паведамленьня, выберыце новы базавы слой у сьпісе ў верхнім правым куце.\x3cbr\x3e\x3cbr\x3e Хутчэй за ўсё, прычына ў тым, што скрыпт бібліятэкі Google Maps ня быў уключаныя альбо не ўтрымлівае слушны API-ключ для Вашага сайта.\x3cbr\x3e\x3cbr\x3eРаспрацоўшчыкам: Для таго, каб даведацца як зрабіць так, каб усё працавала, \x3ca href='http://trac.openlayers.org/wiki/Google' target='_blank'\x3eнацісьніце тут\x3c/a\x3e",getLayerWarning:"Немагчыма загрузіць слой ${layerType}.\x3cbr\x3e\x3cbr\x3eКаб пазбавіцца гэтага паведамленьня, выберыце новы базавы слой у сьпісе ў верхнім правым куце.\x3cbr\x3e\x3cbr\x3eХутчэй за ўсё, прычына ў тым, што скрыпт бібліятэкі ${layerLib} ня быў слушна ўключаны.\x3cbr\x3e\x3cbr\x3eРаспрацоўшчыкам: Для таго, каб даведацца як зрабіць так, каб усё працавала, \x3ca href='http://trac.openlayers.org/wiki/${layerLib}' target='_blank'\x3eнацісьніце тут\x3c/a\x3e","Scale = 1 : ${scaleDenom}":"Маштаб = 1 : ${scaleDenom}",W:"З",E:"У",N:"Пн",S:"Пд",layerAlreadyAdded:"Вы паспрабавалі дадаць слой ${layerName} на мапу, але ён ужо дададзены",reprojectDeprecated:"Вы выкарыстоўваеце ўстаноўку 'reproject' для слоя ${layerName}. Гэтая ўстаноўка зьяўляецца састарэлай: яна выкарыстоўвалася для падтрымкі паказу зьвестак на камэрцыйных базавых мапах, але гэта функцыя цяпер рэалізаваная ў убудаванай падтрымцы сфэрычнай праекцыі Мэркатара. Дадатковая інфармацыя ёсьць на http://trac.openlayers.org/wiki/SphericalMercator.",methodDeprecated:"Гэты мэтад састарэлы і будзе выдалены ў вэрсіі 3.0. Калі ласка, замест яго выкарыстоўвайце ${newMethod}.",boundsAddError:"Вам неабходна падаць абодва значэньні x і y для функцыі складаньня.",lonlatAddError:"Вам неабходна падаць абодва значэньні lon і lat для функцыі складаньня.",pixelAddError:"Вам неабходна падаць абодва значэньні x і y для функцыі складаньня.",unsupportedGeometryType:"Тып геамэтрыі не падтрымліваецца: ${geomType}",filterEvaluateNotImplemented:"evaluate не рэалізаваны для гэтага тыпу фільтру."});OpenLayers.Control.WMSGetFeatureInfo=OpenLayers.Class(OpenLayers.Control,{hover:false,drillDown:false,maxFeatures:10,clickCallback:"click",output:"features",layers:null,queryVisible:false,url:null,layerUrls:null,infoFormat:"text/html",vendorParams:{},format:null,formatOptions:null,handlerOptions:null,handler:null,hoverRequest:null,EVENT_TYPES:["beforegetfeatureinfo","nogetfeatureinfo","getfeatureinfo"],initialize:function(a){this.EVENT_TYPES=OpenLayers.Control.WMSGetFeatureInfo.prototype.EVENT_TYPES.concat(OpenLayers.Control.prototype.EVENT_TYPES);
a=a||{};a.handlerOptions=a.handlerOptions||{};OpenLayers.Control.prototype.initialize.apply(this,[a]);if(!this.format){this.format=new OpenLayers.Format.WMSGetFeatureInfo(a.formatOptions)}if(this.drillDown===true){this.hover=false}if(this.hover){this.handler=new OpenLayers.Handler.Hover(this,{move:this.cancelHover,pause:this.getInfoForHover},OpenLayers.Util.extend(this.handlerOptions.hover||{},{delay:250}))}else{var b={};b[this.clickCallback]=this.getInfoForClick;this.handler=new OpenLayers.Handler.Click(this,b,this.handlerOptions.click||{})}},activate:function(){if(!this.active){this.handler.activate()}return OpenLayers.Control.prototype.activate.apply(this,arguments)},deactivate:function(){return OpenLayers.Control.prototype.deactivate.apply(this,arguments)},getInfoForClick:function(a){this.events.triggerEvent("beforegetfeatureinfo",{xy:a.xy});OpenLayers.Element.addClass(this.map.viewPortDiv,"olCursorWait");this.request(a.xy,{})},getInfoForHover:function(a){this.events.triggerEvent("beforegetfeatureinfo",{xy:a.xy});this.request(a.xy,{hover:true})},cancelHover:function(){if(this.hoverRequest){this.hoverRequest.abort();this.hoverRequest=null}},findLayers:function(){var e=this.layers||this.map.layers;var f=[];var d,b;for(var c=0,a=e.length;c<a;++c){d=e[c];if(d instanceof OpenLayers.Layer.WMS&&(!this.queryVisible||d.getVisibility())){b=OpenLayers.Util.isArray(d.url)?d.url[0]:d.url;if(this.drillDown===false&&!this.url){this.url=b}if(this.drillDown===true||this.urlMatches(b)){f.push(d)}}}return f},urlMatches:function(b){var d=OpenLayers.Util.isEquivalentUrl(this.url,b);if(!d&&this.layerUrls){for(var c=0,a=this.layerUrls.length;c<a;++c){if(OpenLayers.Util.isEquivalentUrl(this.layerUrls[c],b)){d=true;break}}}return d},buildWMSOptions:function(b,e,c,l){var j=[],m=[];for(var f=0,h=e.length;f<h;f++){j=j.concat(e[f].params.LAYERS);m=m.concat(this.getStyleNames(e[f]))}var a=e[0];var g=this.map.getProjection();var k=a.projection;if(k&&k.equals(this.map.getProjectionObject())){g=k.getCode()}var d=OpenLayers.Util.extend({service:"WMS",version:a.params.VERSION,request:"GetFeatureInfo",layers:j,query_layers:j,styles:m,bbox:this.map.getExtent().toBBOX(null,a.reverseAxisOrder()),feature_count:this.maxFeatures,height:this.map.getSize().h,width:this.map.getSize().w,format:l,info_format:a.params.INFO_FORMAT||this.infoFormat},(parseFloat(a.params.VERSION)>=1.3)?{crs:g,i:parseInt(c.x),j:parseInt(c.y)}:{srs:g,x:parseInt(c.x),y:parseInt(c.y)});OpenLayers.Util.applyDefaults(d,this.vendorParams);return{url:b,params:OpenLayers.Util.upperCaseObject(d),callback:function(i){this.handleResponse(c,i,b)},scope:this}},getStyleNames:function(b){var a;if(b.params.STYLES){a=b.params.STYLES}else{if(OpenLayers.Util.isArray(b.params.LAYERS)){a=new Array(b.params.LAYERS.length)}else{a=b.params.LAYERS.replace(/[^,]/g,"")}}return a},request:function(b,m){var d=this.findLayers();if(d.length==0){this.events.triggerEvent("nogetfeatureinfo");OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait");return}m=m||{};if(this.drillDown===false){var k=this.buildWMSOptions(this.url,d,b,d[0].params.FORMAT);var c=OpenLayers.Request.GET(k);if(m.hover===true){this.hoverRequest=c}}else{this._requestCount=0;this._numRequests=0;this.features=[];var j={},a;for(var e=0,h=d.length;e<h;e++){var f=d[e];var g,l=false;a=OpenLayers.Util.isArray(f.url)?f.url[0]:f.url;if(a in j){j[a].push(f)}else{this._numRequests++;j[a]=[f]}}var d;for(var a in j){d=j[a];var k=this.buildWMSOptions(a,d,b,d[0].params.FORMAT);OpenLayers.Request.GET(k)}}},triggerGetFeatureInfo:function(b,c,a){this.events.triggerEvent("getfeatureinfo",{text:b.responseText,features:a,request:b,xy:c});OpenLayers.Element.removeClass(this.map.viewPortDiv,"olCursorWait")},handleResponse:function(e,c,a){var d=c.responseXML;if(!d||!d.documentElement){d=c.responseText}var b=this.format.read(d);if(this.drillDown===false){this.triggerGetFeatureInfo(c,e,b)}else{this._requestCount++;if(this.output==="object"){this._features=(this._features||[]).concat({url:a,features:b})}else{this._features=(this._features||[]).concat(b)}if(this._requestCount===this._numRequests){this.triggerGetFeatureInfo(c,e,this._features.concat());
delete this._features;delete this._requestCount;delete this._numRequests}}},CLASS_NAME:"OpenLayers.Control.WMSGetFeatureInfo"});OpenLayers.Format.WMSCapabilities.v1_3=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1,{readers:{wms:OpenLayers.Util.applyDefaults({WMS_Capabilities:function(a,b){this.readChildNodes(a,b)},LayerLimit:function(a,b){b.layerLimit=parseInt(this.getChildValue(a))},MaxWidth:function(a,b){b.maxWidth=parseInt(this.getChildValue(a))},MaxHeight:function(a,b){b.maxHeight=parseInt(this.getChildValue(a))},BoundingBox:function(a,b){var c=OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms.BoundingBox.apply(this,[a,b]);c.srs=a.getAttribute("CRS");b.bbox[c.srs]=c},CRS:function(a,b){this.readers.wms.SRS.apply(this,[a,b])},EX_GeographicBoundingBox:function(a,b){b.llbbox=[];this.readChildNodes(a,b.llbbox)},westBoundLongitude:function(a,b){b[0]=this.getChildValue(a)},eastBoundLongitude:function(a,b){b[2]=this.getChildValue(a)},southBoundLatitude:function(a,b){b[1]=this.getChildValue(a)},northBoundLatitude:function(a,b){b[3]=this.getChildValue(a)},MinScaleDenominator:function(a,b){b.maxScale=parseFloat(this.getChildValue(a)).toPrecision(16)},MaxScaleDenominator:function(a,b){b.minScale=parseFloat(this.getChildValue(a)).toPrecision(16)},Dimension:function(b,d){var a=b.getAttribute("name").toLowerCase();var c={name:a,units:b.getAttribute("units"),unitsymbol:b.getAttribute("unitSymbol"),nearestVal:b.getAttribute("nearestValue")==="1",multipleVal:b.getAttribute("multipleValues")==="1","default":b.getAttribute("default")||"",current:b.getAttribute("current")==="1",values:this.getChildValue(b).split(",")};d.dimensions[c.name]=c},Keyword:function(b,c){var a={value:this.getChildValue(b),vocabulary:b.getAttribute("vocabulary")};if(c.keywords){c.keywords.push(a)}}},OpenLayers.Format.WMSCapabilities.v1.prototype.readers.wms),sld:{UserDefinedSymbolization:function(a,b){this.readers.wms.UserDefinedSymbolization.apply(this,[a,b]);b.userSymbols.inlineFeature=parseInt(a.getAttribute("InlineFeature"))==1;b.userSymbols.remoteWCS=parseInt(a.getAttribute("RemoteWCS"))==1},DescribeLayer:function(a,b){this.readers.wms.DescribeLayer.apply(this,[a,b])},GetLegendGraphic:function(a,b){this.readers.wms.GetLegendGraphic.apply(this,[a,b])}}},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_3"});OpenLayers.Format.WMSCapabilities.v1_3_0=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_3,{version:"1.3.0",CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_3_0"});OpenLayers.Format.CQL=(function(){var k=["PROPERTY","COMPARISON","VALUE","LOGICAL"],e={PROPERTY:/^[_a-zA-Z]\w*/,COMPARISON:/^(=|<>|<=|<|>=|>|LIKE)/i,COMMA:/^,/,LOGICAL:/^(AND|OR)/i,VALUE:/^('\w+'|\d+(\.\d*)?|\.\d+)/,LPAREN:/^\(/,RPAREN:/^\)/,SPATIAL:/^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,NOT:/^NOT/i,BETWEEN:/^BETWEEN/i,GEOMETRY:function(r){var p=/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(r);if(p){var o=r.length;var i=r.indexOf("(",p[0].length);if(i>-1){var q=1;while(i<o&&q>0){i++;switch(r.charAt(i)){case"(":q++;break;case")":q--;break;default:}}}return[r.substr(0,i+1)]}},END:/^$/},j={LPAREN:["GEOMETRY","SPATIAL","PROPERTY","VALUE","LPAREN"],RPAREN:["NOT","LOGICAL","END","RPAREN"],PROPERTY:["COMPARISON","BETWEEN","COMMA"],BETWEEN:["VALUE"],COMPARISON:["VALUE"],COMMA:["GEOMETRY","VALUE","PROPERTY"],VALUE:["LOGICAL","COMMA","RPAREN","END"],SPATIAL:["LPAREN"],LOGICAL:["NOT","VALUE","SPATIAL","PROPERTY","LPAREN"],NOT:["PROPERTY","LPAREN"],GEOMETRY:["COMMA","RPAREN"]},g={"=":OpenLayers.Filter.Comparison.EQUAL_TO,"<>":OpenLayers.Filter.Comparison.NOT_EQUAL_TO,"<":OpenLayers.Filter.Comparison.LESS_THAN,"<=":OpenLayers.Filter.Comparison.LESS_THAN_OR_EQUAL_TO,">":OpenLayers.Filter.Comparison.GREATER_THAN,">=":OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,LIKE:OpenLayers.Filter.Comparison.LIKE,BETWEEN:OpenLayers.Filter.Comparison.BETWEEN},d={},n={AND:OpenLayers.Filter.Logical.AND,OR:OpenLayers.Filter.Logical.OR},b={},a={RPAREN:3,LOGICAL:2,COMPARISON:1};var h;for(h in g){if(g.hasOwnProperty(h)){d[g[h]]=h}}for(h in n){if(n.hasOwnProperty(h)){b[n[h]]=h
}}function c(o,i){if(i instanceof RegExp){return i.exec(o)}else{return i(o)}}function f(x,v){var q,p,u=v.length;for(q=0;q<u;q++){p=v[q];var t=e[p];var r=c(x,t);if(r){var s=r[0];var w=x.substr(s.length).replace(/^\s*/,"");return{type:p,text:s,remainder:w}}}var o="ERROR: In parsing: ["+x+"], expected one of: ";for(q=0;q<u;q++){p=v[q];o+="\n    "+p+": "+e[p]}throw new Error(o)}function m(q){var o=[];var i,p=["NOT","GEOMETRY","SPATIAL","PROPERTY","LPAREN"];do{i=f(q,p);q=i.remainder;p=j[i.type];if(i.type!="END"&&!p){throw new Error("No follows list for "+i.type)}o.push(i)}while(i.type!="END");return o}function l(u){var t=[],v=[];while(u.length){var w=u.shift();switch(w.type){case"PROPERTY":case"GEOMETRY":case"VALUE":v.push(w);break;case"COMPARISON":case"BETWEEN":case"LOGICAL":var o=a[w.type];while(t.length>0&&(a[t[t.length-1].type]<=o)){v.push(t.pop())}t.push(w);break;case"SPATIAL":case"NOT":case"LPAREN":t.push(w);break;case"RPAREN":while(t.length>0&&(t[t.length-1].type!="LPAREN")){v.push(t.pop())}t.pop();if(t.length>0&&t[t.length-1].type=="SPATIAL"){v.push(t.pop())}case"COMMA":case"END":break;default:throw new Error("Unknown token type "+w.type)}}while(t.length>0){v.push(t.pop())}function q(){var J=v.pop();switch(J.type){case"LOGICAL":var B=q(),y=q();return new OpenLayers.Filter.Logical({filters:[y,B],type:n[J.text.toUpperCase()]});case"NOT":var A=q();return new OpenLayers.Filter.Logical({filters:[A],type:OpenLayers.Filter.Logical.NOT});case"BETWEEN":var z,E,H;v.pop();E=q();z=q();H=q();return new OpenLayers.Filter.Comparison({property:H,lowerBoundary:z,upperBoundary:E,type:OpenLayers.Filter.Comparison.BETWEEN});case"COMPARISON":var F=q(),H=q();return new OpenLayers.Filter.Comparison({property:H,value:F,type:g[J.text.toUpperCase()]});case"VALUE":if((/^'.*'$/).test(J.text)){return J.text.substr(1,J.text.length-2)}else{return Number(J.text)}case"SPATIAL":switch(J.text.toUpperCase()){case"BBOX":var C=q(),D=q(),G=q(),I=q(),p=q();return new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.BBOX,property:p,value:OpenLayers.Bounds.fromArray([I,G,D,C])});case"INTERSECTS":var F=q(),H=q();return new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.INTERSECTS,property:H,value:F});case"WITHIN":var F=q(),H=q();return new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.WITHIN,property:H,value:F});case"CONTAINS":var F=q(),H=q();return new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.CONTAINS,property:H,value:F});case"DWITHIN":var i=q(),F=q(),H=q();return new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.DWITHIN,value:F,property:H,distance:Number(i)})}case"GEOMETRY":return OpenLayers.Geometry.fromWKT(J.text);default:return J.text}}var x=q();if(v.length>0){var r="Remaining tokens after building AST: \n";for(var s=v.length-1;s>=0;s--){r+=v[s].type+": "+v[s].text+"\n"}throw new Error(r)}return x}return OpenLayers.Class(OpenLayers.Format,{read:function(o){var i=l(m(o));if(this.keepData){this.data=i}return i},write:function(q){if(q instanceof OpenLayers.Geometry){return q.toString()}switch(q.CLASS_NAME){case"OpenLayers.Filter.Spatial":switch(q.type){case OpenLayers.Filter.Spatial.BBOX:return"BBOX("+q.property+","+q.value.toBBOX()+")";case OpenLayers.Filter.Spatial.DWITHIN:return"DWITHIN("+q.property+", "+this.write(q.value)+", "+q.distance+")";case OpenLayers.Filter.Spatial.WITHIN:return"WITHIN("+q.property+", "+this.write(q.value)+")";case OpenLayers.Filter.Spatial.INTERSECTS:return"INTERSECTS("+q.property+", "+this.write(q.value)+")";case OpenLayers.Filter.Spatial.CONTAINS:return"CONTAINS("+q.property+", "+this.write(q.value)+")";default:throw new Error("Unknown spatial filter type: "+q.type)}case"OpenLayers.Filter.Logical":if(q.type==OpenLayers.Filter.Logical.NOT){return"NOT ("+this.write(q.filters[0])+")"}else{var p="(";var r=true;for(var o=0;o<q.filters.length;o++){if(r){r=false}else{p+=") "+b[q.type]+" ("}p+=this.write(q.filters[o])}return p+")"}case"OpenLayers.Filter.Comparison":if(q.type==OpenLayers.Filter.Comparison.BETWEEN){return q.property+" BETWEEN "+this.write(q.lowerBoundary)+" AND "+this.write(q.upperBoundary)
}else{return q.property+" "+d[q.type]+" "+this.write(q.value)}case undefined:if(typeof q==="string"){return"'"+q+"'"}else{if(typeof q==="number"){return String(q)}}default:throw new Error("Can't encode: "+q.CLASS_NAME+" "+q)}},CLASS_NAME:"OpenLayers.Format.CQL"})})();OpenLayers.Control.Split=OpenLayers.Class(OpenLayers.Control,{EVENT_TYPES:["beforesplit","split","aftersplit"],layer:null,source:null,sourceOptions:null,tolerance:null,edge:true,deferDelete:false,mutual:true,targetFilter:null,sourceFilter:null,handler:null,initialize:function(a){Array.prototype.push.apply(this.EVENT_TYPES,OpenLayers.Control.prototype.EVENT_TYPES);OpenLayers.Control.prototype.initialize.apply(this,[a]);this.options=a||{};if(this.options.source){this.setSource(this.options.source)}},setSource:function(a){if(this.active){this.deactivate();if(this.handler){this.handler.destroy();delete this.handler}this.source=a;this.activate()}else{this.source=a}},activate:function(){var a=OpenLayers.Control.prototype.activate.call(this);if(a){if(!this.source){if(!this.handler){this.handler=new OpenLayers.Handler.Path(this,{done:function(b){this.onSketchComplete({feature:new OpenLayers.Feature.Vector(b)})}},{layerOptions:this.sourceOptions})}this.handler.activate()}else{if(this.source.events){this.source.events.on({sketchcomplete:this.onSketchComplete,afterfeaturemodified:this.afterFeatureModified,scope:this})}}}return a},deactivate:function(){var a=OpenLayers.Control.prototype.deactivate.call(this);if(a){if(this.source&&this.source.events){this.layer.events.un({sketchcomplete:this.onSketchComplete,afterfeaturemodified:this.afterFeatureModified,scope:this})}}return a},onSketchComplete:function(a){this.feature=null;return !this.considerSplit(a.feature)},afterFeatureModified:function(b){if(b.modified){var a=b.feature;if(a.geometry instanceof OpenLayers.Geometry.LineString||a.geometry instanceof OpenLayers.Geometry.MultiLineString){this.feature=b.feature;this.considerSplit(b.feature)}}},removeByGeometry:function(c,d){for(var b=0,a=c.length;b<a;++b){if(c[b].geometry===d){c.splice(b,1);break}}},isEligible:function(a){return(a.state!==OpenLayers.State.DELETE)&&(a.geometry instanceof OpenLayers.Geometry.LineString||a.geometry instanceof OpenLayers.Geometry.MultiLineString)&&(this.feature!==a)&&(!this.targetFilter||this.targetFilter.evaluate(a.attributes))},considerSplit:function(c){var h=false;var f=false;if(!this.sourceFilter||this.sourceFilter.evaluate(c.attributes)){var g=this.layer&&this.layer.features||[];var y,p,a;var m=[],x=[];var d=(this.layer===this.source)&&this.mutual;var b={edge:this.edge,tolerance:this.tolerance,mutual:d};var l=[c.geometry];var o,e;var r,q;for(var v=0,w=g.length;v<w;++v){o=g[v];if(this.isEligible(o)){e=[o.geometry];for(var u=0;u<l.length;++u){r=l[u];for(var s=0;s<e.length;++s){y=e[s];if(r.getBounds().intersectsBounds(y.getBounds())){p=r.split(y,b);if(p){a=this.events.triggerEvent("beforesplit",{source:c,target:o});if(a!==false){if(d){q=p[0];if(q.length>1){q.unshift(u,1);Array.prototype.splice.apply(l,q);u+=q.length-3}p=p[1]}if(p.length>1){p.unshift(s,1);Array.prototype.splice.apply(e,p);s+=p.length-3}}}}}}if(e&&e.length>1){this.geomsToFeatures(o,e);this.events.triggerEvent("split",{original:o,features:e});Array.prototype.push.apply(m,e);x.push(o);f=true}}}if(l&&l.length>1){this.geomsToFeatures(c,l);this.events.triggerEvent("split",{original:c,features:l});Array.prototype.push.apply(m,l);x.push(c);h=true}if(h||f){if(this.deferDelete){var n,t=[];for(var v=0,w=x.length;v<w;++v){n=x[v];if(n.state===OpenLayers.State.INSERT){t.push(n)}else{n.state=OpenLayers.State.DELETE;this.layer.drawFeature(n)}}this.layer.destroyFeatures(t,{silent:true});for(var v=0,w=m.length;v<w;++v){m[v].state=OpenLayers.State.INSERT}}else{this.layer.destroyFeatures(x,{silent:true})}this.layer.addFeatures(m,{silent:true});this.events.triggerEvent("aftersplit",{source:c,features:m})}}return h},geomsToFeatures:function(c,d){var f=c.clone();delete f.geometry;var e;for(var b=0,a=d.length;b<a;++b){e=f.clone();e.geometry=d[b];e.state=OpenLayers.State.INSERT;d[b]=e}},destroy:function(){if(this.active){this.deactivate()
}OpenLayers.Control.prototype.destroy.call(this)},CLASS_NAME:"OpenLayers.Control.Split"});OpenLayers.Protocol.SOS.v1_0_0=OpenLayers.Class(OpenLayers.Protocol,{fois:null,formatOptions:null,initialize:function(a){OpenLayers.Protocol.prototype.initialize.apply(this,[a]);if(!a.format){this.format=new OpenLayers.Format.SOSGetFeatureOfInterest(this.formatOptions)}},destroy:function(){if(this.options&&!this.options.format){this.format.destroy()}this.format=null;OpenLayers.Protocol.prototype.destroy.apply(this)},read:function(b){b=OpenLayers.Util.extend({},b);OpenLayers.Util.applyDefaults(b,this.options||{});var a=new OpenLayers.Protocol.Response({requestType:"read"});var d=this.format;var c=OpenLayers.Format.XML.prototype.write.apply(d,[d.writeNode("sos:GetFeatureOfInterest",{fois:this.fois})]);a.priv=OpenLayers.Request.POST({url:b.url,callback:this.createCallback(this.handleRead,a,b),data:c});return a},handleRead:function(a,b){if(b.callback){var c=a.priv;if(c.status>=200&&c.status<300){a.features=this.parseFeatures(c);a.code=OpenLayers.Protocol.Response.SUCCESS}else{a.code=OpenLayers.Protocol.Response.FAILURE}b.callback.call(b.scope,a)}},parseFeatures:function(a){var b=a.responseXML;if(!b||!b.documentElement){b=a.responseText}if(!b||b.length<=0){return null}return this.format.read(b)},CLASS_NAME:"OpenLayers.Protocol.SOS.v1_0_0"});OpenLayers.Layer.KaMapCache=OpenLayers.Class(OpenLayers.Layer.KaMap,{IMAGE_EXTENSIONS:{jpeg:"jpg",gif:"gif",png:"png",png8:"png",png24:"png",dithered:"png"},DEFAULT_FORMAT:"jpeg",initialize:function(c,b,d,a){OpenLayers.Layer.KaMap.prototype.initialize.apply(this,arguments);this.extension=this.IMAGE_EXTENSIONS[this.params.i.toLowerCase()||DEFAULT_FORMAT]},getURL:function(a){a=this.adjustBounds(a);var f=this.map.getResolution();var e=Math.round((this.map.getScale()*10000))/10000;var d=Math.round(a.left/f);var c=-Math.round(a.top/f);var i=Math.floor(d/this.tileSize.w/this.params.metaTileSize.w)*this.tileSize.w*this.params.metaTileSize.w;var h=Math.floor(c/this.tileSize.h/this.params.metaTileSize.h)*this.tileSize.h*this.params.metaTileSize.h;var b=this.url;if(OpenLayers.Util.isArray(b)){b=this.selectUrl(paramsString,b)}var g=[b,"/",this.params.map,"/",e,"/",this.params.g.replace(/\s/g,"_"),"/def/t",h,"/l",i,"/t",c,"l",d,".",this.extension];return g.join("")},CLASS_NAME:"OpenLayers.Layer.KaMapCache"});OpenLayers.Protocol.WFS.v1_1_0=OpenLayers.Class(OpenLayers.Protocol.WFS.v1,{version:"1.1.0",initialize:function(a){OpenLayers.Protocol.WFS.v1.prototype.initialize.apply(this,arguments);if(this.outputFormat&&!this.readFormat){if(this.outputFormat.toLowerCase()=="gml2"){this.readFormat=new OpenLayers.Format.GML.v2({featureType:this.featureType,featureNS:this.featureNS,geometryName:this.geometryName})}else{if(this.outputFormat.toLowerCase()=="json"){this.readFormat=new OpenLayers.Format.GeoJSON()}}}},CLASS_NAME:"OpenLayers.Protocol.WFS.v1_1_0"});OpenLayers.Feature.WFS=OpenLayers.Class(OpenLayers.Feature,{initialize:function(c,b){var a=arguments;var d=this.processXMLNode(b);a=new Array(c,d.lonlat,d);OpenLayers.Feature.prototype.initialize.apply(this,a);this.createMarker();this.layer.addMarker(this.marker)},destroy:function(){if(this.marker!=null){this.layer.removeMarker(this.marker)}OpenLayers.Feature.prototype.destroy.apply(this,arguments)},processXMLNode:function(b){var a=OpenLayers.Ajax.getElementsByTagNameNS(b,"http://www.opengis.net/gml","gml","Point");var d=OpenLayers.Util.getXmlNodeValue(OpenLayers.Ajax.getElementsByTagNameNS(a[0],"http://www.opengis.net/gml","gml","coordinates")[0]);var c=d.split(",");return{lonlat:new OpenLayers.LonLat(parseFloat(c[0]),parseFloat(c[1])),id:null}},CLASS_NAME:"OpenLayers.Feature.WFS"});OpenLayers.Format.WMSCapabilities.v1_1_1=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1,{version:"1.1.1",initialize:function(a){OpenLayers.Format.WMSCapabilities.v1_1.prototype.initialize.apply(this,[a])},readers:{wms:OpenLayers.Util.applyDefaults({SRS:function(a,b){b.srs[this.getChildValue(a)]=true}},OpenLayers.Format.WMSCapabilities.v1_1.prototype.readers.wms)},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_1_1"});
OpenLayers.Format.WMSCapabilities.v1_1_1_WMSC=OpenLayers.Class(OpenLayers.Format.WMSCapabilities.v1_1_1,{version:"1.1.1",profile:"WMSC",initialize:function(a){OpenLayers.Format.WMSCapabilities.v1_1_1.prototype.initialize.apply(this,[a])},readers:{wms:OpenLayers.Util.applyDefaults({VendorSpecificCapabilities:function(a,b){b.vendorSpecific={tileSets:[]};this.readChildNodes(a,b.vendorSpecific)},TileSet:function(b,a){var c={srs:{},bbox:{},resolutions:[]};this.readChildNodes(b,c);a.tileSets.push(c)},Resolutions:function(d,e){var c=this.getChildValue(d).split(" ");for(var b=0,a=c.length;b<a;b++){if(c[b]!=""){e.resolutions.push(parseFloat(c[b]))}}},Width:function(a,b){b.width=parseInt(this.getChildValue(a))},Height:function(a,b){b.height=parseInt(this.getChildValue(a))},Layers:function(a,b){b.layers=this.getChildValue(a)},Styles:function(a,b){b.styles=this.getChildValue(a)}},OpenLayers.Format.WMSCapabilities.v1_1_1.prototype.readers.wms)},CLASS_NAME:"OpenLayers.Format.WMSCapabilities.v1_1_1_WMSC"});OpenLayers.Lang.lt=OpenLayers.Util.applyDefaults({unhandledRequest:"Neapdorota užklausa gražino ${statusText}",Permalink:"Pastovi nuoroda",Overlays:"Papildomi sluoksniai","Base Layer":"Pagrindinis sluoksnis",readNotImplemented:"Skaitymas nėra įgyvendintas.",writeNotImplemented:"Rašymas nėra įgyvendintas.",noFID:"Negaliu atnaujinti objekto, kuris neturi FID.",errorLoadingGML:"Klaida užkraunant GML failą ${url}",browserNotSupported:"Jūsų naršyklė nemoka parodyti vektorių. Šiuo metu galima naudotis tokiais rodymo varikliais:\n{renderers}",componentShouldBe:"addFeatures : komponentas turi būti ${geomType}",getFeatureError:"getFeatureFromEvent buvo iškviestas sluoksniui, kuris neturi priskirto paišymo variklio. Tai paprastai nutinka, kai jūs pašalinate sluoksnį, bet paliekate su juo susijusį [handler]",commitSuccess:"WFS Tranzakcija: PAVYKO ${response}",commitFailed:"WFS Tranzakcija: ŽLUGO ${response}","Scale = 1 : ${scaleDenom}":"Mastelis = 1 : ${scaleDenom}",W:"V",E:"R",N:"Š",S:"P",Graticule:"Tinklelis",layerAlreadyAdded:"Bandėte pridėti prie žemėlapio sluoksnį ${layerName}, tačiau jis jau yra pridėtas",methodDeprecated:"Šis metodas yra pasenęs ir 3.0 versijoje bus pašalintas. Prašome naudoti ${newMethod}.",boundsAddError:"Add funkcijai reikia pateikti tiek x, tiek y reikšmes.",lonlatAddError:"Add funkcijai reikia pateikti tiek lon, tiek lat reikšmes",pixelAddError:"Add funkcijai būtina perduoti tiek x, tiek y reikšmes.",unsupportedGeometryType:"Nepalaikomas geometrijos tipas: ${geomType}",end:""});OpenLayers.Layer.WFS=OpenLayers.Class(OpenLayers.Layer.Vector,OpenLayers.Layer.Markers,{isBaseLayer:false,tile:null,ratio:2,DEFAULT_PARAMS:{service:"WFS",version:"1.0.0",request:"GetFeature"},featureClass:null,format:null,formatObject:null,formatOptions:null,vectorMode:true,encodeBBOX:false,extractAttributes:false,initialize:function(d,c,e,b){if(b==undefined){b={}}if(b.featureClass||!OpenLayers.Layer.Vector||!OpenLayers.Feature.Vector){this.vectorMode=false}e=OpenLayers.Util.upperCaseObject(e);OpenLayers.Util.extend(b,{reportError:false});var a=[];a.push(d,b);OpenLayers.Layer.Vector.prototype.initialize.apply(this,a);if(!this.renderer||!this.vectorMode){this.vectorMode=false;if(!b.featureClass){b.featureClass=OpenLayers.Feature.WFS}OpenLayers.Layer.Markers.prototype.initialize.apply(this,a)}if(this.params&&this.params.typename&&!this.options.typename){this.options.typename=this.params.typename}if(!this.options.geometry_column){this.options.geometry_column="the_geom"}this.params=OpenLayers.Util.applyDefaults(e,OpenLayers.Util.upperCaseObject(this.DEFAULT_PARAMS));this.url=c},destroy:function(){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.destroy.apply(this,arguments)}else{OpenLayers.Layer.Markers.prototype.destroy.apply(this,arguments)}if(this.tile){this.tile.destroy()}this.tile=null;this.ratio=null;this.featureClass=null;this.format=null;if(this.formatObject&&this.formatObject.destroy){this.formatObject.destroy()}this.formatObject=null;this.formatOptions=null;this.vectorMode=null;this.encodeBBOX=null;this.extractAttributes=null},setMap:function(b){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.setMap.apply(this,arguments);
var a={extractAttributes:this.extractAttributes};OpenLayers.Util.extend(a,this.formatOptions);if(this.map&&!this.projection.equals(this.map.getProjectionObject())){a.externalProjection=this.projection;a.internalProjection=this.map.getProjectionObject()}this.formatObject=this.format?new this.format(a):new OpenLayers.Format.GML(a)}else{OpenLayers.Layer.Markers.prototype.setMap.apply(this,arguments)}},moveTo:function(a,b,n){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.moveTo.apply(this,arguments)}else{OpenLayers.Layer.Markers.prototype.moveTo.apply(this,arguments)}if(n){return false}if(b){if(this.vectorMode){this.renderer.clear()}}if(this.options.minZoomLevel){OpenLayers.Console.warn(OpenLayers.i18n("minZoomLevelError"));if(this.map.getZoom()<this.options.minZoomLevel){return null}}if(a==null){a=this.map.getExtent()}var m=(this.tile==null);var g=(!m&&!this.tile.bounds.containsBounds(a));if(b||m||(!n&&g)){var c=a.getCenterLonLat();var l=a.getWidth()*this.ratio;var h=a.getHeight()*this.ratio;var j=new OpenLayers.Bounds(c.lon-(l/2),c.lat-(h/2),c.lon+(l/2),c.lat+(h/2));var o=this.map.getSize();o.w=o.w*this.ratio;o.h=o.h*this.ratio;var i=new OpenLayers.LonLat(j.left,j.top);var k=this.map.getLayerPxFromLonLat(i);var d=this.getFullRequestString();var f=null;var e=this.params.filter||this.params.FILTER;if(e){f={FILTER:e}}else{f={BBOX:this.encodeBBOX?j.toBBOX():j.toArray()}}if(this.map&&!this.projection.equals(this.map.getProjectionObject())){var p=j.clone();p.transform(this.map.getProjectionObject(),this.projection);if(!e){f.BBOX=this.encodeBBOX?p.toBBOX():p.toArray()}}d+="&"+OpenLayers.Util.getParameterString(f);if(!this.tile){this.tile=new OpenLayers.Tile.WFS(this,k,j,d,o);this.addTileMonitoringHooks(this.tile);this.tile.draw()}else{if(this.vectorMode){this.destroyFeatures();this.renderer.clear()}else{this.clearMarkers()}this.removeTileMonitoringHooks(this.tile);this.tile.destroy();this.tile=null;this.tile=new OpenLayers.Tile.WFS(this,k,j,d,o);this.addTileMonitoringHooks(this.tile);this.tile.draw()}}},addTileMonitoringHooks:function(a){a.onLoadStart=function(){if(this==this.layer.tile){this.layer.events.triggerEvent("loadstart")}};a.events.register("loadstart",a,a.onLoadStart);a.onLoadEnd=function(){if(this==this.layer.tile){this.layer.events.triggerEvent("tileloaded");this.layer.events.triggerEvent("loadend")}};a.events.register("loadend",a,a.onLoadEnd);a.events.register("unload",a,a.onLoadEnd)},removeTileMonitoringHooks:function(a){a.unload();a.events.un({loadstart:a.onLoadStart,loadend:a.onLoadEnd,unload:a.onLoadEnd,scope:a})},onMapResize:function(){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.onMapResize.apply(this,arguments)}else{OpenLayers.Layer.Markers.prototype.onMapResize.apply(this,arguments)}},display:function(){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.display.apply(this,arguments)}else{OpenLayers.Layer.Markers.prototype.display.apply(this,arguments)}},mergeNewParams:function(c){var b=OpenLayers.Util.upperCaseObject(c);var a=[b];return OpenLayers.Layer.HTTPRequest.prototype.mergeNewParams.apply(this,a)},clone:function(a){if(a==null){a=new OpenLayers.Layer.WFS(this.name,this.url,this.params,this.getOptions())}if(this.vectorMode){a=OpenLayers.Layer.Vector.prototype.clone.apply(this,[a])}else{a=OpenLayers.Layer.Markers.prototype.clone.apply(this,[a])}return a},getFullRequestString:function(c,b){var a=this.projection.getCode()||this.map.getProjection();this.params.SRS=(a=="none")?null:a;return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,arguments)},commit:function(){if(!this.writer){var a={};if(this.map&&!this.projection.equals(this.map.getProjectionObject())){a.externalProjection=this.projection;a.internalProjection=this.map.getProjectionObject()}this.writer=new OpenLayers.Format.WFS(a,this)}var b=this.writer.write(this.features);OpenLayers.Request.POST({url:this.url,data:b,success:this.commitSuccess,failure:this.commitFailure,scope:this})},commitSuccess:function(c){var a=c.responseText;if(a.indexOf("SUCCESS")!=-1){this.commitReport(OpenLayers.i18n("commitSuccess",{response:a}));
for(var b=0;b<this.features.length;b++){this.features[b].state=null}}else{if(a.indexOf("FAILED")!=-1||a.indexOf("Exception")!=-1){this.commitReport(OpenLayers.i18n("commitFailed",{response:a}))}}},commitFailure:function(a){},commitReport:function(b,a){OpenLayers.Console.userError(b)},refresh:function(){if(this.tile){if(this.vectorMode){this.renderer.clear();this.features.length=0}else{this.clearMarkers();this.markers.length=0}this.tile.draw()}},getDataExtent:function(){var a;if(this.vectorMode){a=OpenLayers.Layer.Vector.prototype.getDataExtent.apply(this)}else{a=OpenLayers.Layer.Markers.prototype.getDataExtent.apply(this)}return a},setOpacity:function(a){if(this.vectorMode){OpenLayers.Layer.Vector.prototype.setOpacity.apply(this,[a])}else{OpenLayers.Layer.Markers.prototype.setOpacity.apply(this,[a])}},CLASS_NAME:"OpenLayers.Layer.WFS"});OpenLayers.Lang.io=OpenLayers.Util.applyDefaults({"Scale = 1 : ${scaleDenom}":"Skalo = 1 : ${scaleDenom}"});OpenLayers.Control.LayerSwitcher=OpenLayers.Class(OpenLayers.Control,{roundedCorner:true,roundedCornerColor:"darkblue",layerStates:null,layersDiv:null,baseLayersDiv:null,baseLayers:null,dataLbl:null,dataLayersDiv:null,dataLayers:null,minimizeDiv:null,maximizeDiv:null,ascending:true,initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,arguments);this.layerStates=[]},destroy:function(){OpenLayers.Event.stopObservingElement(this.div);OpenLayers.Event.stopObservingElement(this.minimizeDiv);OpenLayers.Event.stopObservingElement(this.maximizeDiv);this.clearLayersArray("base");this.clearLayersArray("data");this.map.events.un({addlayer:this.redraw,changelayer:this.redraw,removelayer:this.redraw,changebaselayer:this.redraw,scope:this});OpenLayers.Control.prototype.destroy.apply(this,arguments)},setMap:function(a){OpenLayers.Control.prototype.setMap.apply(this,arguments);this.map.events.on({addlayer:this.redraw,changelayer:this.redraw,removelayer:this.redraw,changebaselayer:this.redraw,scope:this})},draw:function(){OpenLayers.Control.prototype.draw.apply(this);this.loadContents();if(!this.outsideViewport){this.minimizeControl()}this.redraw();return this.div},clearLayersArray:function(d){var e=this[d+"Layers"];if(e){for(var c=0,a=e.length;c<a;c++){var b=e[c];OpenLayers.Event.stopObservingElement(b.inputElem);OpenLayers.Event.stopObservingElement(b.labelSpan)}}this[d+"LayersDiv"].innerHTML="";this[d+"Layers"]=[]},checkRedraw:function(){var e=false;if(!this.layerStates.length||(this.map.layers.length!=this.layerStates.length)){e=true}else{for(var c=0,a=this.layerStates.length;c<a;c++){var d=this.layerStates[c];var b=this.map.layers[c];if((d.name!=b.name)||(d.inRange!=b.inRange)||(d.id!=b.id)||(d.visibility!=b.visibility)){e=true;break}}}return e},redraw:function(){if(!this.checkRedraw()){return this.div}this.clearLayersArray("base");this.clearLayersArray("data");var d=false;var m=false;var h=this.map.layers.length;this.layerStates=new Array(h);for(var f=0;f<h;f++){var g=this.map.layers[f];this.layerStates[f]={name:g.name,visibility:g.visibility,inRange:g.inRange,id:g.id}}var e=this.map.layers.slice();if(!this.ascending){e.reverse()}for(var f=0,h=e.length;f<h;f++){var g=e[f];var j=g.isBaseLayer;if(g.displayInLayerSwitcher){if(j){m=true}else{d=true}var l=(j)?(g==this.map.baseLayer):g.getVisibility();var k=document.createElement("input");k.id=this.id+"_input_"+g.name;k.name=(j)?this.id+"_baseLayers":g.name;k.type=(j)?"radio":"checkbox";k.value=g.name;k.checked=l;k.defaultChecked=l;if(!j&&!g.inRange){k.disabled=true}var a={inputElem:k,layer:g,layerSwitcher:this};OpenLayers.Event.observe(k,"mouseup",OpenLayers.Function.bindAsEventListener(this.onInputClick,a));var b=document.createElement("span");OpenLayers.Element.addClass(b,"labelSpan");if(!j&&!g.inRange){b.style.color="gray"}b.innerHTML=g.name;b.style.verticalAlign=(j)?"bottom":"baseline";OpenLayers.Event.observe(b,"click",OpenLayers.Function.bindAsEventListener(this.onInputClick,a));var o=document.createElement("br");var n=(j)?this.baseLayers:this.dataLayers;n.push({layer:g,inputElem:k,labelSpan:b});var c=(j)?this.baseLayersDiv:this.dataLayersDiv;
c.appendChild(k);c.appendChild(b);c.appendChild(o)}}this.dataLbl.style.display=(d)?"":"none";this.baseLbl.style.display=(m)?"":"none";return this.div},onInputClick:function(a){if(!this.inputElem.disabled){if(this.inputElem.type=="radio"){this.inputElem.checked=true;this.layer.map.setBaseLayer(this.layer)}else{this.inputElem.checked=!this.inputElem.checked;this.layerSwitcher.updateMap()}}OpenLayers.Event.stop(a)},onLayerClick:function(a){this.updateMap()},updateMap:function(){for(var b=0,a=this.baseLayers.length;b<a;b++){var c=this.baseLayers[b];if(c.inputElem.checked){this.map.setBaseLayer(c.layer,false)}}for(var b=0,a=this.dataLayers.length;b<a;b++){var c=this.dataLayers[b];c.layer.setVisibility(c.inputElem.checked)}},maximizeControl:function(a){this.div.style.width="";this.div.style.height="";this.showControls(false);if(a!=null){OpenLayers.Event.stop(a)}},minimizeControl:function(a){this.div.style.width="0px";this.div.style.height="0px";this.showControls(true);if(a!=null){OpenLayers.Event.stop(a)}},showControls:function(a){this.maximizeDiv.style.display=a?"":"none";this.minimizeDiv.style.display=a?"none":"";this.layersDiv.style.display=a?"none":""},loadContents:function(){OpenLayers.Event.observe(this.div,"mouseup",OpenLayers.Function.bindAsEventListener(this.mouseUp,this));OpenLayers.Event.observe(this.div,"click",this.ignoreEvent);OpenLayers.Event.observe(this.div,"mousedown",OpenLayers.Function.bindAsEventListener(this.mouseDown,this));OpenLayers.Event.observe(this.div,"dblclick",this.ignoreEvent);this.layersDiv=document.createElement("div");this.layersDiv.id=this.id+"_layersDiv";OpenLayers.Element.addClass(this.layersDiv,"layersDiv");this.baseLbl=document.createElement("div");this.baseLbl.innerHTML=OpenLayers.i18n("Base Layer");OpenLayers.Element.addClass(this.baseLbl,"baseLbl");this.baseLayersDiv=document.createElement("div");OpenLayers.Element.addClass(this.baseLayersDiv,"baseLayersDiv");this.dataLbl=document.createElement("div");this.dataLbl.innerHTML=OpenLayers.i18n("Overlays");OpenLayers.Element.addClass(this.dataLbl,"dataLbl");this.dataLayersDiv=document.createElement("div");OpenLayers.Element.addClass(this.dataLayersDiv,"dataLayersDiv");if(this.ascending){this.layersDiv.appendChild(this.baseLbl);this.layersDiv.appendChild(this.baseLayersDiv);this.layersDiv.appendChild(this.dataLbl);this.layersDiv.appendChild(this.dataLayersDiv)}else{this.layersDiv.appendChild(this.dataLbl);this.layersDiv.appendChild(this.dataLayersDiv);this.layersDiv.appendChild(this.baseLbl);this.layersDiv.appendChild(this.baseLayersDiv)}this.div.appendChild(this.layersDiv);if(this.roundedCorner){OpenLayers.Rico.Corner.round(this.div,{corners:"tl bl",bgColor:"transparent",color:this.roundedCornerColor,blend:false});OpenLayers.Rico.Corner.changeOpacity(this.layersDiv,0.75)}var c=OpenLayers.Util.getImagesLocation();var b=new OpenLayers.Size(18,18);var a=c+"layer-switcher-maximize.png";this.maximizeDiv=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MaximizeDiv",null,b,a,"absolute");OpenLayers.Element.addClass(this.maximizeDiv,"maximizeDiv");this.maximizeDiv.style.display="none";OpenLayers.Event.observe(this.maximizeDiv,"click",OpenLayers.Function.bindAsEventListener(this.maximizeControl,this));this.div.appendChild(this.maximizeDiv);var a=c+"layer-switcher-minimize.png";var b=new OpenLayers.Size(18,18);this.minimizeDiv=OpenLayers.Util.createAlphaImageDiv("OpenLayers_Control_MinimizeDiv",null,b,a,"absolute");OpenLayers.Element.addClass(this.minimizeDiv,"minimizeDiv");this.minimizeDiv.style.display="none";OpenLayers.Event.observe(this.minimizeDiv,"click",OpenLayers.Function.bindAsEventListener(this.minimizeControl,this));this.div.appendChild(this.minimizeDiv)},ignoreEvent:function(a){OpenLayers.Event.stop(a)},mouseDown:function(a){this.isMouseDown=true;this.ignoreEvent(a)},mouseUp:function(a){if(this.isMouseDown){this.isMouseDown=false;this.ignoreEvent(a)}},CLASS_NAME:"OpenLayers.Control.LayerSwitcher"});OpenLayers.Lang.el=OpenLayers.Util.applyDefaults({"Scale = 1 : ${scaleDenom}":"Κλίμακα ~ 1 : ${scaleDenom}"});OpenLayers.Format.Atom=OpenLayers.Class(OpenLayers.Format.XML,{namespaces:{atom:"http://www.w3.org/2005/Atom",georss:"http://www.georss.org/georss"},feedTitle:"untitled",defaultEntryTitle:"untitled",gmlParser:null,xy:false,read:function(a){if(typeof a=="string"){a=OpenLayers.Format.XML.prototype.read.apply(this,[a])
}return this.parseFeatures(a)},write:function(c){var d;if(OpenLayers.Util.isArray(c)){d=this.createElementNSPlus("atom:feed");d.appendChild(this.createElementNSPlus("atom:title",{value:this.feedTitle}));for(var a=0,b=c.length;a<b;a++){d.appendChild(this.buildEntryNode(c[a]))}}else{d=this.buildEntryNode(c)}return OpenLayers.Format.XML.prototype.write.apply(this,[d])},buildContentNode:function(b){var a=this.createElementNSPlus("atom:content",{attributes:{type:b.type||null}});if(b.src){a.setAttribute("src",b.src)}else{if(b.type=="text"||b.type==null){a.appendChild(this.createTextNode(b.value))}else{if(b.type=="html"){if(typeof b.value!="string"){throw"HTML content must be in form of an escaped string"}a.appendChild(this.createTextNode(b.value))}else{if(b.type=="xhtml"){a.appendChild(b.value)}else{if(b.type=="xhtml"||b.type.match(/(\+|\/)xml$/)){a.appendChild(b.value)}else{a.appendChild(this.createTextNode(b.value))}}}}}return a},buildEntryNode:function(n){var c=n.attributes;var j=c.atom||{};var k=this.createElementNSPlus("atom:entry");if(j.authors){var h=OpenLayers.Util.isArray(j.authors)?j.authors:[j.authors];for(var d=0,m=h.length;d<m;d++){k.appendChild(this.buildPersonConstructNode("author",h[d]))}}if(j.categories){var e=OpenLayers.Util.isArray(j.categories)?j.categories:[j.categories];var a;for(var d=0,m=e.length;d<m;d++){a=e[d];k.appendChild(this.createElementNSPlus("atom:category",{attributes:{term:a.term,scheme:a.scheme||null,label:a.label||null}}))}}if(j.content){k.appendChild(this.buildContentNode(j.content))}if(j.contributors){var f=OpenLayers.Util.isArray(j.contributors)?j.contributors:[j.contributors];for(var d=0,m=f.length;d<m;d++){k.appendChild(this.buildPersonConstructNode("contributor",f[d]))}}if(n.fid){k.appendChild(this.createElementNSPlus("atom:id",{value:n.fid}))}if(j.links){var l=OpenLayers.Util.isArray(j.links)?j.links:[j.links];var g;for(var d=0,m=l.length;d<m;d++){g=l[d];k.appendChild(this.createElementNSPlus("atom:link",{attributes:{href:g.href,rel:g.rel||null,type:g.type||null,hreflang:g.hreflang||null,title:g.title||null,length:g.length||null}}))}}if(j.published){k.appendChild(this.createElementNSPlus("atom:published",{value:j.published}))}if(j.rights){k.appendChild(this.createElementNSPlus("atom:rights",{value:j.rights}))}if(j.summary||c.description){k.appendChild(this.createElementNSPlus("atom:summary",{value:j.summary||c.description}))}k.appendChild(this.createElementNSPlus("atom:title",{value:j.title||c.title||this.defaultEntryTitle}));if(j.updated){k.appendChild(this.createElementNSPlus("atom:updated",{value:j.updated}))}if(n.geometry){var b=this.createElementNSPlus("georss:where");b.appendChild(this.buildGeometryNode(n.geometry));k.appendChild(b)}return k},initGmlParser:function(){this.gmlParser=new OpenLayers.Format.GML.v3({xy:this.xy,featureNS:"http://example.com#feature",internalProjection:this.internalProjection,externalProjection:this.externalProjection})},buildGeometryNode:function(b){if(!this.gmlParser){this.initGmlParser()}var a=this.gmlParser.writeNode("feature:_geometry",b);return a.firstChild},buildPersonConstructNode:function(b,f){var d=["uri","email"];var a=this.createElementNSPlus("atom:"+b);a.appendChild(this.createElementNSPlus("atom:name",{value:f.name}));for(var c=0,e=d.length;c<e;c++){if(f[d[c]]){a.appendChild(this.createElementNSPlus("atom:"+d[c],{value:f[d[c]]}))}}return a},getFirstChildValue:function(d,b,c,f){var e;var a=this.getElementsByTagNameNS(d,b,c);if(a&&a.length>0){e=this.getChildValue(a[0],f)}else{e=f}return e},parseFeature:function(d){var m={};var n=null;var a=null;var k=null;var b=this.namespaces.atom;this.parsePersonConstructs(d,"author",m);a=this.getElementsByTagNameNS(d,b,"category");if(a.length>0){m.categories=[]}for(var g=0,o=a.length;g<o;g++){n={};n.term=a[g].getAttribute("term");k=a[g].getAttribute("scheme");if(k){n.scheme=k}k=a[g].getAttribute("label");if(k){n.label=k}m.categories.push(n)}a=this.getElementsByTagNameNS(d,b,"content");if(a.length>0){n={};k=a[0].getAttribute("type");if(k){n.type=k}k=a[0].getAttribute("src");if(k){n.src=k}else{if(n.type=="text"||n.type=="html"||n.type==null){n.value=this.getFirstChildValue(d,b,"content",null)
}else{if(n.type=="xhtml"||n.type.match(/(\+|\/)xml$/)){n.value=this.getChildEl(a[0])}else{n.value=this.getFirstChildValue(d,b,"content",null)}}m.content=n}}this.parsePersonConstructs(d,"contributor",m);m.id=this.getFirstChildValue(d,b,"id",null);a=this.getElementsByTagNameNS(d,b,"link");if(a.length>0){m.links=new Array(a.length)}var c=["rel","type","hreflang","title","length"];for(var g=0,o=a.length;g<o;g++){n={};n.href=a[g].getAttribute("href");for(var e=0,h=c.length;e<h;e++){k=a[g].getAttribute(c[e]);if(k){n[c[e]]=k}}m.links[g]=n}n=this.getFirstChildValue(d,b,"published",null);if(n){m.published=n}n=this.getFirstChildValue(d,b,"rights",null);if(n){m.rights=n}n=this.getFirstChildValue(d,b,"summary",null);if(n){m.summary=n}m.title=this.getFirstChildValue(d,b,"title",null);m.updated=this.getFirstChildValue(d,b,"updated",null);var f={title:m.title,description:m.summary,atom:m};var l=this.parseLocations(d)[0];var p=new OpenLayers.Feature.Vector(l,f);p.fid=m.id;return p},parseFeatures:function(e){var d=[];var a=this.getElementsByTagNameNS(e,this.namespaces.atom,"entry");if(a.length==0){a=[e]}for(var b=0,c=a.length;b<c;b++){d.push(this.parseFeature(a[b]))}return d},parseLocations:function(c){var a=this.namespaces.georss;var k={components:[]};var f=this.getElementsByTagNameNS(c,a,"where");if(f&&f.length>0){if(!this.gmlParser){this.initGmlParser()}for(var e=0,q=f.length;e<q;e++){this.gmlParser.readChildNodes(f[e],k)}}var h=k.components;var n=this.getElementsByTagNameNS(c,a,"point");if(n&&n.length>0){for(var e=0,q=n.length;e<q;e++){var s=OpenLayers.String.trim(n[e].firstChild.nodeValue).split(/\s+/);if(s.length!=2){s=OpenLayers.String.trim(n[e].firstChild.nodeValue).split(/\s*,\s*/)}h.push(new OpenLayers.Geometry.Point(parseFloat(s[1]),parseFloat(s[0])))}}var r=this.getElementsByTagNameNS(c,a,"line");if(r&&r.length>0){var m;var b;var o;for(var e=0,q=r.length;e<q;e++){m=OpenLayers.String.trim(r[e].firstChild.nodeValue).split(/\s+/);o=[];for(var d=0,g=m.length;d<g;d+=2){b=new OpenLayers.Geometry.Point(parseFloat(m[d+1]),parseFloat(m[d]));o.push(b)}h.push(new OpenLayers.Geometry.LineString(o))}}var l=this.getElementsByTagNameNS(c,a,"polygon");if(l&&l.length>0){var m;var b;var o;for(var e=0,q=l.length;e<q;e++){m=OpenLayers.String.trim(l[e].firstChild.nodeValue).split(/\s+/);o=[];for(var d=0,g=m.length;d<g;d+=2){b=new OpenLayers.Geometry.Point(parseFloat(m[d+1]),parseFloat(m[d]));o.push(b)}h.push(new OpenLayers.Geometry.Polygon([new OpenLayers.Geometry.LinearRing(h)]))}}if(this.internalProjection&&this.externalProjection){for(var e=0,q=h.length;e<q;e++){if(h[e]){h[e].transform(this.externalProjection,this.internalProjection)}}}return h},parsePersonConstructs:function(d,a,g){var m=[];var c=this.namespaces.atom;var b=this.getElementsByTagNameNS(d,c,a);var e=["uri","email"];for(var h=0,o=b.length;h<o;h++){var n={};n.name=this.getFirstChildValue(b[h],c,"name",null);for(var f=0,k=e.length;f<k;f++){var l=this.getFirstChildValue(b[h],c,e[f],null);if(l){n[e[f]]=l}}m.push(n)}if(m.length>0){g[a+"s"]=m}},CLASS_NAME:"OpenLayers.Format.Atom"});OpenLayers.Control.KeyboardDefaults=OpenLayers.Class(OpenLayers.Control,{autoActivate:true,slideFactor:75,draw:function(){this.handler=new OpenLayers.Handler.Keyboard(this,{keydown:this.defaultKeyPress})},defaultKeyPress:function(a){switch(a.keyCode){case OpenLayers.Event.KEY_LEFT:this.map.pan(-this.slideFactor,0);break;case OpenLayers.Event.KEY_RIGHT:this.map.pan(this.slideFactor,0);break;case OpenLayers.Event.KEY_UP:this.map.pan(0,-this.slideFactor);break;case OpenLayers.Event.KEY_DOWN:this.map.pan(0,this.slideFactor);break;case 33:var b=this.map.getSize();this.map.pan(0,-0.75*b.h);break;case 34:var b=this.map.getSize();this.map.pan(0,0.75*b.h);break;case 35:var b=this.map.getSize();this.map.pan(0.75*b.w,0);break;case 36:var b=this.map.getSize();this.map.pan(-0.75*b.w,0);break;case 43:case 61:case 187:case 107:this.map.zoomIn();break;case 45:case 109:case 189:case 95:this.map.zoomOut();break}},CLASS_NAME:"OpenLayers.Control.KeyboardDefaults"});function Log(f,b,d){var e=Log.WARN;var c=Log.writeLogger;var a=false;this.setPrefix=function(g){if(g!="undefined"){a=g}else{a=false}};this.setLogger=function(g){if(g!="undefined"){c=g}};this.setLevel=function(g){if(g!="undefined"&&typeof g=="number"){e=g}else{if(g!="undefined"){if(g=="debug"){e=Log.DEBUG}else{if(g=="info"){e=Log.INFO}else{if(g=="error"){e=Log.ERROR}else{if(g=="fatal"){e=Log.FATAL}else{if(g=="warn"){e=Log.WARN}else{e=Log.NONE}}}}}}}};this.getPrefix=function(){return a};this.getLogger=function(){return c};this.getLevel=function(){return e};if(f!="undefined"){this.setLevel(f)}if(b!="undefined"){this.setLogger(b)}if(d!="undefined"){this.setPrefix(d)}}Log.prototype.debug=function(a){if(this.getLevel()<=Log.DEBUG){this._log(a,"DEBUG",this)}};Log.prototype.info=function(a){if(this.getLevel()<=Log.INFO){this._log(a,"INFO",this)}};Log.prototype.warn=function(a){if(this.getLevel()<=Log.WARN){this._log(a,"WARN",this)}};Log.prototype.error=function(a){if(this.getLevel()<=Log.ERROR){this._log(a,"ERROR",this)}};Log.prototype.fatal=function(a){if(this.getLevel()<=Log.FATAL){this._log(a,"FATAL",this)}};Log.prototype._log=function(b,c,a){if(this.getPrefix()){this.getLogger()(this.getPrefix()+" - "+b,c,a)}else{this.getLogger()(b,c,a)}};Log.DEBUG=1;Log.INFO=2;Log.WARN=3;Log.ERROR=4;Log.FATAL=5;Log.NONE=6;Log.alertLogger=function(a,b){alert(b+" - "+a)};Log.writeLogger=function(a,b){document.writeln(b+"&nbsp;-&nbsp;"+a+"<br/>")};Log.consoleLogger=function(b,c,a){if(window.console){window.console.log(c+" - "+b)}else{Log.popupLogger(b,c,a)}};Log.popupLogger=function(b,a,f){if(f.popupBlocker){return}if(!f._window||!f._window.document){f._window=window.open("","logger_popup_window","width=420,height=320,scrollbars=1,status=0,toolbars=0,resizable=1");if(!f._window){f.popupBlocker=true;alert("You have a popup window manager blocking the log4js log popup display.\n\nThis must be disabled to properly see logged events.");return}if(!f._window.document.getElementById("loggerTable")){f._window.document.writeln("<table width='100%' id='loggerTable'><tr><th align='left'>Time</th><th width='100%' colspan='2' align='left'>Message</th></tr></table>");f._window.document.close()}}var g=f._window.document.getElementById("loggerTable");var p=g.insertRow(-1);var n=p.insertCell(-1);var l=p.insertCell(-1);var k=p.insertCell(-1);var j=new Date();var i=j.getHours();if(i<10){i="0"+i}var e=j.getMinutes();if(e<10){e="0"+e}var o=j.getSeconds();if(o<10){o="0"+o}var c=(j.getMonth()+1)+"/"+j.getDate()+"/"+j.getFullYear()+"&nbsp;-&nbsp;"+i+":"+e+":"+o;n.style.fontSize="8pt";n.style.fontWeight="bold";n.style.paddingRight="6px";l.style.fontSize="8pt";k.style.fontSize="8pt";k.style.whiteSpace="nowrap";k.style.width="100%";if(g.rows.length%2==0){n.style.backgroundColor="#eeeeee";l.style.backgroundColor="#eeeeee";k.style.backgroundColor="#eeeeee"}n.innerHTML=c;l.innerHTML=a;k.innerHTML=b};Log.dumpObject=function(e,a){if(!a){a=""}if(a.length>20){return}var c="{\n";for(var d in e){c+=a+d+":";var b=typeof(e[d]);b=b.toLowerCase();if(b=="object"){c+=Log.dumpObject(e[d],a+"----")}else{c+=e[d]}c+="\n"}c+=a+"}";return c};(function(){var k=this,i=Object.prototype,j=i.toString,h=true,l={toString:1},m;if(typeof Ext==="undefined"){k.Ext={}}Ext.global=k;for(m in l){h=null}if(h){h=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]}Ext.enumerables=h;Ext.apply=function(g,a,d){if(d){Ext.apply(g,d)}if(g&&a&&typeof a==="object"){var e,b,c;for(e in a){g[e]=a[e]}if(h){for(b=h.length;b--;){c=h[b];if(a.hasOwnProperty(c)){g[c]=a[c]}}}}return g};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-",scopeResetCSS:false},Ext.buildSettings||{});Ext.apply(Ext,{emptyFn:function(){},baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(b,c){var a;if(b){for(a in c){if(b[a]===undefined){b[a]=c[a]}}}return b},iterate:function(c,a,b){if(Ext.isEmpty(c)){return}if(b===undefined){b=c}if(Ext.isIterable(c)){Ext.Array.each.call(Ext.Array,c,a,b)}else{Ext.Object.each.call(Ext.Object,c,a,b)}}});Ext.apply(Ext,{extend:function(){var b=i.constructor,a=function(c){for(var d in c){if(!c.hasOwnProperty(d)){continue}this[d]=c[d]}};return function(g,q,c){if(Ext.isObject(q)){c=q;q=g;g=c.constructor!==b?c.constructor:function(){q.apply(this,arguments)}}var d=function(){},e,r=q.prototype;d.prototype=r;e=g.prototype=new d();e.constructor=g;g.superclass=r;if(r.constructor===b){r.constructor=q}g.override=function(n){Ext.override(g,n)};e.override=a;e.proto=e;g.override(c);g.extend=function(n){return Ext.extend(g,n)};return g}}(),override:function(b,a){if(b.prototype.$className){return b.override(a)}else{Ext.apply(b.prototype,a)}}});Ext.apply(Ext,{valueFrom:function(a,c,b){return Ext.isEmpty(a,b)?c:a},typeOf:function(b){if(b===null){return"null"}var c=typeof b;if(c==="undefined"||c==="string"||c==="number"||c==="boolean"){return c}var a=j.call(b);switch(a){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}if(c==="function"){return"function"}if(c==="object"){if(b.nodeType!==undefined){if(b.nodeType===3){return(/\S/).test(b.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}},isEmpty:function(b,a){return(b===null)||(b===undefined)||(!a?b==="":false)||(Ext.isArray(b)&&b.length===0)},isArray:("isArray" in Array)?Array.isArray:function(a){return j.call(a)==="[object Array]"},isDate:function(a){return j.call(a)==="[object Date]"},isObject:(j.call(null)==="[object Object]")?function(a){return a!==null&&a!==undefined&&j.call(a)==="[object Object]"&&a.ownerDocument===undefined}:function(a){return j.call(a)==="[object Object]"},isPrimitive:function(a){var b=typeof a;return b==="string"||b==="number"||b==="boolean"},isFunction:(typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function")?function(a){return j.call(a)==="[object Function]"}:function(a){return typeof a==="function"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?a.nodeType===1:false},isTextNode:function(a){return a?a.nodeName==="#text":false},isDefined:function(a){return typeof a!=="undefined"},isIterable:function(a){return(a&&typeof a!=="string")?a.length!==undefined:false}});Ext.apply(Ext,{clone:function(e){if(e===null||e===undefined){return e}if(e.nodeType&&e.cloneNode){return e.cloneNode(true)}var g=j.call(e);if(g==="[object Date]"){return new Date(e.getTime())}var s,b,c,d,a;if(g==="[object Array]"){s=e.length;d=[];while(s--){d[s]=Ext.clone(e[s])}}else{if(g==="[object Object]"&&e.constructor===Object){d={};for(a in e){d[a]=Ext.clone(e[a])}if(h){for(b=h.length;b--;){c=h[b];d[c]=e[c]}}}}return d||e},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace;if(a===undefined){var b=0;do{a="ExtBox"+(++b)}while(Ext.global[a]!==undefined);Ext.global[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactory:function(){var a=Array.prototype.slice.call(arguments);if(a.length>0){a[a.length-1]="var Ext=window."+this.getUniqueGlobalNamespace()+";"+a[a.length-1]
}return Function.prototype.constructor.apply(Function.prototype,a)}});Ext.type=Ext.typeOf})();(function(){var d="4.0.7",c;Ext.Version=c=Ext.extend(Object,{constructor:function(g){var a,b;if(g instanceof c){return g}this.version=this.shortVersion=String(g).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,"");b=this.version.search(/([^\d\.])/);if(b!==-1){this.release=this.version.substr(b,g.length);this.shortVersion=this.version.substr(0,b)}this.shortVersion=this.shortVersion.replace(/[^\d]/g,"");a=this.version.split(".");this.major=parseInt(a.shift()||0,10);this.minor=parseInt(a.shift()||0,10);this.patch=parseInt(a.shift()||0,10);this.build=parseInt(a.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(a){return c.compare(this.version,a)===1},isLessThan:function(a){return c.compare(this.version,a)===-1},equals:function(a){return c.compare(this.version,a)===0},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion}});Ext.apply(c,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return !a?0:(isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10))},compare:function(a,b){var j,i,k;a=new c(a).toArray();b=new c(b).toArray();for(k=0;k<Math.max(a.length,b.length);k++){j=this.getComponentValue(a[k]);i=this.getComponentValue(b[k]);if(j<i){return -1}else{if(j>i){return 1}}}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(a,b){Ext.versions[a]=new c(b);Ext.lastRegisteredVersion=Ext.versions[a];return this},getVersion:function(a){if(a===undefined){return Ext.lastRegisteredVersion}return Ext.versions[a]},deprecate:function(i,b,a,h){if(c.compare(Ext.getVersion(i),b)<1){a.call(h)}}});Ext.setVersion("core",d)})();Ext.String={trimRegex:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,escapeRe:/('|\\)/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,htmlEncode:(function(){var h={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;"},e=[],i,g;for(i in h){e.push(i)}g=new RegExp("("+e.join("|")+")","g");return function(a){return(!a)?a:String(a).replace(g,function(b,c){return h[c]})}})(),htmlDecode:(function(){var h={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'},e=[],i,g;for(i in h){e.push(i)}g=new RegExp("("+e.join("|")+"|&#[0-9]{1,5};)","g");return function(a){return(!a)?a:String(a).replace(g,function(b,c){if(c in h){return h[c]}else{return String.fromCharCode(parseInt(c.substr(2),10))}})}})(),urlAppend:function(c,d){if(!Ext.isEmpty(d)){return c+(c.indexOf("?")===-1?"?":"&")+d}return c},trim:function(b){return b.replace(Ext.String.trimRegex,"")},capitalize:function(b){return b.charAt(0).toUpperCase()+b.substr(1)},ellipsis:function(k,h,j){if(k&&k.length>h){if(j){var i=k.substr(0,h-2),g=Math.max(i.lastIndexOf(" "),i.lastIndexOf("."),i.lastIndexOf("!"),i.lastIndexOf("?"));if(g!==-1&&g>=(h-15)){return i.substr(0,g)+"..."}}return k.substr(0,h-3)+"..."}return k},escapeRegex:function(b){return b.replace(Ext.String.escapeRegexRe,"\\$1")},escape:function(b){return b.replace(Ext.String.escapeRe,"\\$1")},toggle:function(d,g,e){return d===g?e:g},leftPad:function(e,i,h){var g=String(e);h=h||" ";while(g.length<i){g=h+g}return g},format:function(c){var d=Ext.Array.toArray(arguments,1);return c.replace(Ext.String.formatRe,function(b,a){return d[a]})},repeat:function(i,j,g){for(var h=[],k=j;k--;){h.push(i)}return h.join(g||"")}};(function(){var b=(0.9).toFixed()!=="1";
Ext.Number={constrain:function(e,g,a){e=parseFloat(e);if(!isNaN(g)){e=Math.max(e,g)}if(!isNaN(a)){e=Math.min(e,a)}return e},snap:function(k,m,l,i){var j=k,a;if(!(m&&k)){return k}a=k%m;if(a!==0){j-=a;if(a*2>=m){j+=m}else{if(a*2<-m){j-=m}}}return Ext.Number.constrain(j,l,i)},toFixed:function(e,a){if(b){a=a||0;var g=Math.pow(10,a);return(Math.round(e*g)/g).toFixed(a)}return e.toFixed(a)},from:function(d,a){if(isFinite(d)){d=parseFloat(d)}return !isNaN(d)?d:a}}})();Ext.num=function(){return Ext.Number.from.apply(this,arguments)};(function(){var R=Array.prototype,J=R.slice,H=function(){var c=[],b,a=20;if(!c.splice){return false}while(a--){c.push("A")}c.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");b=c.length;c.splice(13,0,"XXX");if(b+1!=c.length){return false}return true}(),O="forEach" in R,D="map" in R,I="indexOf" in R,e="every" in R,T="some" in R,S="filter" in R,K=function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}(),N=true,V;try{if(typeof document!=="undefined"){J.call(document.getElementsByTagName("body"))}}catch(F){N=false}function L(a,b){return(b<0)?Math.max(0,a.length+b):Math.min(a.length,b)}function A(l,m,d,i){var h=i?i.length:0,b=l.length,k=L(l,m);if(k===b){if(h){l.push.apply(l,i)}}else{var n=Math.min(d,b-k),j=k+n,c=j+h-n,g=b-j,a=b-n,p;if(c<j){for(p=0;p<g;++p){l[c+p]=l[j+p]}}else{if(c>j){for(p=g;p--;){l[c+p]=l[j+p]}}}if(h&&k===a){l.length=a;l.push.apply(l,i)}else{l.length=a+h;for(p=0;p<h;++p){l[k+p]=i[p]}}}return l}function P(c,b,d,a){if(a&&a.length){if(b<c.length){c.splice.apply(c,[b,d].concat(a))}else{c.push.apply(c,a)}}else{c.splice(b,d)}return c}function U(c,b,a){return A(c,b,a)}function G(c,b,a){c.splice(b,a);return c}function M(c,b,g){var d=L(c,b),a=c.slice(b,L(c,d+g));if(arguments.length<4){A(c,d,g)}else{A(c,d,g,J.call(arguments,3))}return a}function Q(a){return a.splice.apply(a,J.call(arguments,1))}var B=H?G:U,E=H?P:A,C=H?Q:M;V=Ext.Array={each:function(b,g,h,d){b=V.from(b);var a,c=b.length;if(d!==true){for(a=0;a<c;a++){if(g.call(h||b[a],b[a],a,b)===false){return a}}}else{for(a=c-1;a>-1;a--){if(g.call(h||b[a],b[a],a,b)===false){return a}}}return true},forEach:function(c,g,a){if(O){return c.forEach(g,a)}var b=0,d=c.length;for(;b<d;b++){g.call(a,c[b],b,c)}},indexOf:function(c,g,d){if(I){return c.indexOf(g,d)}var b,a=c.length;for(b=(d<0)?Math.max(0,a+d):d||0;b<a;b++){if(c[b]===g){return b}}return -1},contains:function(c,d){if(I){return c.indexOf(d)!==-1}var b,a;for(b=0,a=c.length;b<a;b++){if(c[b]===d){return true}}return false},toArray:function(g,c,b){if(!g||!g.length){return[]}if(typeof g==="string"){g=g.split("")}if(N){return J.call(g,c||0,b||g.length)}var d=[],a;c=c||0;b=b?((b<0)?g.length+b:b):g.length;for(a=c;a<b;a++){d.push(g[a])}return d},pluck:function(b,d){var a=[],h,c,g;for(h=0,c=b.length;h<c;h++){g=b[h];a.push(g[d])}return a},map:function(b,d,g){if(D){return b.map(d,g)}var h=[],a=0,c=b.length;for(;a<c;a++){h[a]=d.call(g,b[a],a,b)}return h},every:function(c,g,a){if(e){return c.every(g,a)}var b=0,d=c.length;for(;b<d;++b){if(!g.call(a,c[b],b,c)){return false}}return true},some:function(c,g,a){if(T){return c.some(g,a)}var b=0,d=c.length;for(;b<d;++b){if(g.call(a,c[b],b,c)){return true}}return false},clean:function(c){var a=[],b=0,d=c.length,g;for(;b<d;b++){g=c[b];if(!Ext.isEmpty(g)){a.push(g)}}return a},unique:function(c){var d=[],b=0,g=c.length,a;for(;b<g;b++){a=c[b];if(V.indexOf(d,a)===-1){d.push(a)}}return d},filter:function(b,g,h){if(S){return b.filter(g,h)}var a=[],d=0,c=b.length;for(;d<c;d++){if(g.call(h,b[d],d,b)){a.push(b[d])}}return a},from:function(a,b){if(a===undefined||a===null){return[]}if(Ext.isArray(a)){return(b)?J.call(a):a}if(a&&a.length!==undefined&&typeof a!=="string"){return Ext.toArray(a)}return[a]},remove:function(c,a){var b=V.indexOf(c,a);if(b!==-1){B(c,b,1)}return c},include:function(a,b){if(!V.contains(a,b)){a.push(b)}},clone:function(a){return J.call(a)},merge:function(){var b=J.call(arguments),c=[],a,d;for(a=0,d=b.length;a<d;a++){c=c.concat(b[a])}return V.unique(c)},intersect:function(){var c=[],g=J.call(arguments),n,a,b,l,k,h,i,j,d,p;
if(!g.length){return c}for(n=h=0,j=g.length;n<j,k=g[n];n++){if(!l||k.length<l.length){l=k;h=n}}l=V.unique(l);B(g,h,1);for(n=0,j=l.length;n<j,h=l[n];n++){var m=0;for(a=0,d=g.length;a<d,k=g[a];a++){for(b=0,p=k.length;b<p,i=k[b];b++){if(h===i){m++;break}}}if(m===d){c.push(h)}}return c},difference:function(a,g){var b=J.call(a),d=b.length,h,i,c;for(h=0,c=g.length;h<c;h++){for(i=0;i<d;i++){if(b[i]===g[h]){B(b,i,1);i--;d--}}}return b},slice:([1,2].slice(1,undefined).length?function(c,a,b){return J.call(c,a,b)}:function(c,a,b){if(typeof a==="undefined"){return J.call(c)}if(typeof b==="undefined"){return J.call(c,a)}return J.call(c,a,b)}),sort:function(b,c){if(K){if(c){return b.sort(c)}else{return b.sort()}}var h=b.length,i=0,d,g,j,a;for(;i<h;i++){j=i;for(g=i+1;g<h;g++){if(c){d=c(b[g],b[j]);if(d<0){j=g}}else{if(b[g]<b[j]){j=g}}}if(j!==i){a=b[i];b[i]=b[j];b[j]=a}}return b},flatten:function(c){var a=[];function b(i){var g,d,h;for(g=0,d=i.length;g<d;g++){h=i[g];if(Ext.isArray(h)){b(h)}else{a.push(h)}}return a}return b(c)},min:function(b,d){var a=b[0],c,g,h;for(c=0,g=b.length;c<g;c++){h=b[c];if(d){if(d(a,h)===1){a=h}}else{if(h<a){a=h}}}return a},max:function(b,d){var c=b[0],a,g,h;for(a=0,g=b.length;a<g;a++){h=b[a];if(d){if(d(c,h)===-1){c=h}}else{if(h>c){c=h}}}return c},mean:function(a){return a.length>0?V.sum(a)/a.length:undefined},sum:function(c){var a=0,b,d,g;for(b=0,d=c.length;b<d;b++){g=c[b];a+=g}return a},erase:B,insert:function(c,a,b){return E(c,a,0,b)},replace:E,splice:C};Ext.each=V.each;V.union=V.merge;Ext.min=V.min;Ext.max=V.max;Ext.sum=V.sum;Ext.mean=V.mean;Ext.flatten=V.flatten;Ext.clean=V.clean;Ext.unique=V.unique;Ext.pluck=V.pluck;Ext.toArray=function(){return V.toArray.apply(V,arguments)}})();Ext.Function={flexSetter:function(b){return function(i,j){var h,a;if(i===null){return this}if(typeof i!=="string"){for(h in i){if(i.hasOwnProperty(h)){b.call(this,h,i[h])}}if(Ext.enumerables){for(a=Ext.enumerables.length;a--;){h=Ext.enumerables[a];if(i.hasOwnProperty(h)){b.call(this,h,i[h])}}}}else{b.call(this,i,j)}return this}},bind:function(l,m,h,i){if(arguments.length===2){return function(){return l.apply(m,arguments)}}var j=l,k=Array.prototype.slice;return function(){var a=h||arguments;if(i===true){a=k.call(arguments,0);a=a.concat(h)}else{if(typeof i=="number"){a=k.call(arguments,0);Ext.Array.insert(a,i,h)}}return j.apply(m||window,a)}},pass:function(g,e,d){if(e){e=Ext.Array.from(e)}return function(){return g.apply(d,e.concat(Ext.Array.toArray(arguments)))}},alias:function(c,d){return function(){return c[d].apply(c,arguments)}},createInterceptor:function(j,k,g,h){var i=j;if(!Ext.isFunction(k)){return j}else{return function(){var a=this,b=arguments;k.target=a;k.method=j;return(k.apply(g||a||window,b)!==false)?j.apply(a||window,b):h||null}}},createDelayed:function(i,k,j,g,h){if(j||g){i=Ext.Function.bind(i,j,g,h)}return function(){var a=this;setTimeout(function(){i.apply(a,arguments)},k)}},defer:function(j,k,i,g,h){j=Ext.Function.bind(j,i,g,h);if(k>0){return setTimeout(j,k)}j();return 0},createSequence:function(g,d,e){if(!Ext.isFunction(d)){return g}else{return function(){var a=g.apply(this||window,arguments);d.apply(e||this||window,arguments);return a}}},createBuffered:function(h,g,i,e){return function(){var a;return function(){var b=this;if(a){clearTimeout(a);a=null}a=setTimeout(function(){h.apply(i||b,e||arguments)},g)}}()},createThrottled:function(p,j,q){var n,k,r,l,m=function(){p.apply(q||this,r);n=new Date().getTime()};return function(){k=new Date().getTime()-n;r=arguments;clearTimeout(l);if(!n||(k>=j)){m()}else{l=setTimeout(m,j-k)}}},interceptBefore:function(e,g,i){var h=e[g]||Ext.emptyFn;return e[g]=function(){var a=i.apply(this,arguments);h.apply(this,arguments);return a}},interceptAfter:function(e,g,i){var h=e[g]||Ext.emptyFn;return e[g]=function(){h.apply(this,arguments);return i.apply(this,arguments)}}};Ext.defer=Ext.Function.alias(Ext.Function,"defer");Ext.pass=Ext.Function.alias(Ext.Function,"pass");Ext.bind=Ext.Function.alias(Ext.Function,"bind");(function(){var b=Ext.Object={toQueryObjects:function(n,i,p){var a=b.toQueryObjects,k=[],m,l;
if(Ext.isArray(i)){for(m=0,l=i.length;m<l;m++){if(p){k=k.concat(a(n+"["+m+"]",i[m],true))}else{k.push({name:n,value:i[m]})}}}else{if(Ext.isObject(i)){for(m in i){if(i.hasOwnProperty(m)){if(p){k=k.concat(a(n+"["+m+"]",i[m],true))}else{k.push({name:n,value:i[m]})}}}}else{k.push({name:n,value:i})}}return k},toQueryString:function(q,s){var p=[],r=[],j,n,i,t,a;for(j in q){if(q.hasOwnProperty(j)){p=p.concat(b.toQueryObjects(j,q[j],s))}}for(n=0,i=p.length;n<i;n++){t=p[n];a=t.value;if(Ext.isEmpty(a)){a=""}else{if(Ext.isDate(a)){a=Ext.Date.toString(a)}}r.push(encodeURIComponent(t.name)+"="+encodeURIComponent(String(a)))}return r.join("&")},fromQueryString:function(K,z){var E=K.replace(/^\?/,"").split("&"),j={},y,G,a,D,A,I,C,B,L,H,x,F,i,J;for(A=0,I=E.length;A<I;A++){C=E[A];if(C.length>0){G=C.split("=");a=decodeURIComponent(G[0]);D=(G[1]!==undefined)?decodeURIComponent(G[1]):"";if(!z){if(j.hasOwnProperty(a)){if(!Ext.isArray(j[a])){j[a]=[j[a]]}j[a].push(D)}else{j[a]=D}}else{H=a.match(/(\[):?([^\]]*)\]/g);x=a.match(/^([^\[]+)/);a=x[0];F=[];if(H===null){j[a]=D;continue}for(B=0,L=H.length;B<L;B++){i=H[B];i=(i.length===2)?"":i.substring(1,i.length-1);F.push(i)}F.unshift(a);y=j;for(B=0,L=F.length;B<L;B++){i=F[B];if(B===L-1){if(Ext.isArray(y)&&i===""){y.push(D)}else{y[i]=D}}else{if(y[i]===undefined||typeof y[i]==="string"){J=F[B+1];y[i]=(Ext.isNumeric(J)||J==="")?[]:{}}y=y[i]}}}}}return j},each:function(a,h,i){for(var g in a){if(a.hasOwnProperty(g)){if(h.call(i||a,g,a[g],a)===false){return}}}},merge:function(i,n,k){if(typeof n==="string"){if(k&&k.constructor===Object){if(i[n]&&i[n].constructor===Object){b.merge(i[n],k)}else{i[n]=Ext.clone(k)}}else{i[n]=k}return i}var p=1,m=arguments.length,a,l;for(;p<m;p++){a=arguments[p];for(l in a){if(a.hasOwnProperty(l)){b.merge(i,l,a[l])}}}return i},getKey:function(a,e){for(var g in a){if(a.hasOwnProperty(g)&&a[g]===e){return g}}return null},getValues:function(g){var a=[],e;for(e in g){if(g.hasOwnProperty(e)){a.push(g[e])}}return a},getKeys:("keys" in Object.prototype)?Object.keys:function(a){var g=[],e;for(e in a){if(a.hasOwnProperty(e)){g.push(e)}}return g},getSize:function(a){var g=0,e;for(e in a){if(a.hasOwnProperty(e)){g++}}return g}};Ext.merge=Ext.Object.merge;Ext.urlEncode=function(){var a=Ext.Array.from(arguments),d="";if((typeof a[1]==="string")){d=a[1]+"&";a[1]=false}return d+Ext.Object.toQueryString.apply(Ext.Object,a)};Ext.urlDecode=function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)}})();(function(){function c(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(i,h){return b[h]})}Ext.Date={now:Date.now||function(){return +new Date()},toString:function(b){var a=Ext.String.leftPad;return b.getFullYear()+"-"+a(b.getMonth()+1,2,"0")+"-"+a(b.getDate(),2,"0")+"T"+a(b.getHours(),2,"0")+":"+a(b.getMinutes(),2,"0")+":"+a(b.getSeconds(),2,"0")},getElapsed:function(a,b){return Math.abs(a-(b||new Date()))},useStrict:false,formatCodeToRegex:function(b,g){var a=d.parseCodes[b];if(a){a=typeof a=="function"?a():a;d.parseCodes[b]=a}return a?Ext.applyIf({c:a.c?c(a.c,g||"{0}"):a.c},a):{g:0,c:null,s:Ext.String.escapeRegex(b)}},parseFunctions:{MS:function(h,i){var b=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var a=(h||"").match(b);return a?new Date(((a[1]||"")+a[2])*1):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return d.monthNames[a].substring(0,3)},getShortDayName:function(a){return d.dayNames[a].substring(0,3)},getMonthNumber:function(a){return d.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:(function(){var a=/(\\.)/g,b=/([gGhHisucUOPZ]|MS)/;
return function(g){return b.test(g.replace(a,""))}})(),formatContainsDateInfo:(function(){var a=/(\\.)/g,b=/([djzmnYycU]|MS)/;return function(g){return b.test(g.replace(a,""))}})(),formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a="Y-m-dTH:i:sP",e=[],i=0,l=a.length;i<l;++i){var b=a.charAt(i);e.push(b=="T"?"'T'":d.getFormatCode(b))}return e.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(q,s,r,b,i,h,m){b=b||0;i=i||0;h=h||0;m=m||0;var a=d.add(new Date(q<100?100:q,s-1,r,b,i,h,m),d.YEAR,q<100?q-100:0);return q==a.getFullYear()&&s==a.getMonth()+1&&r==a.getDate()&&b==a.getHours()&&i==a.getMinutes()&&h==a.getSeconds()&&m==a.getMilliseconds()},parse:function(h,a,i){var b=d.parseFunctions;if(b[a]==null){d.createParser(a)}return b[a](h,Ext.isDefined(i)?i:d.useStrict)},parseDate:function(b,a,g){return d.parse(b,a,g)},getFormatCode:function(a){var b=d.formatCodes[a];if(b){b=typeof b=="function"?b():b;d.formatCodes[a]=b}return b||("'"+Ext.String.escape(a)+"'")},createFormat:function(a){var b=[],k=false,i="";for(var j=0;j<a.length;++j){i=a.charAt(j);if(!k&&i=="\\"){k=true}else{if(k){k=false;b.push("'"+Ext.String.escape(i)+"'")}else{b.push(d.getFormatCode(i))}}}d.formatFunctions[a]=Ext.functionFactory("return "+b.join("+"))},createParser:(function(){var a=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Ext.Date.defaults,","results = String(input).match(Ext.Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = Ext.Date.clearTime(new Date);","y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));","m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));","d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));","h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));","i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));","s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));","ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);","}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");
return function(i){var u=d.parseRegexes.length,b=1,t=[],p=[],q=false,v="";for(var r=0;r<i.length;++r){v=i.charAt(r);if(!q&&v=="\\"){q=true}else{if(q){q=false;p.push(Ext.String.escape(v))}else{var s=d.formatCodeToRegex(v,b);b+=s.g;p.push(s.s);if(s.g&&s.c){t.push(s.c)}}}}d.parseRegexes[u]=new RegExp("^"+p.join("")+"$","i");d.parseFunctions[i]=Ext.functionFactory("input","strict",c(a,u,t.join("")))}})(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var b=[],a=0;a<7;b.push(d.getShortDayName(a)),++a){}return{g:0,c:null,s:"(?:"+b.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+d.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+d.monthNames.join("|")+")"}},M:function(){for(var b=[],a=0;a<12;b.push(d.getShortMonthName(a)),++a){}return Ext.applyIf({s:"("+b.join("|")+")"},d.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return d.formatCodeToRegex("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)"},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return d.formatCodeToRegex("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return d.formatCodeToRegex("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var b=[],i=[d.formatCodeToRegex("Y",1),d.formatCodeToRegex("m",2),d.formatCodeToRegex("d",3),d.formatCodeToRegex("h",4),d.formatCodeToRegex("i",5),d.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",d.formatCodeToRegex("P",8).c,"}else{",d.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(var a=0,h=i.length;a<h;++a){b.push(i[a].c)}return{g:1,c:b.join(""),s:[i[0].s,"(?:","-",i[1].s,"(?:","-",i[2].s,"(?:","(?:T| )?",i[3].s,":",i[4].s,"(?::",i[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(b,a){return d.format(b,a)},format:function(b,a){if(d.formatFunctions[a]==null){d.createFormat(a)}var g=d.formatFunctions[a].call(b);return g+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")
},getGMTOffset:function(g,b){var a=g.getTimezoneOffset();return(a>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(a)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(a%60),2,"0")},getDayOfYear:function(i){var k=0,a=Ext.Date.clone(i),l=i.getMonth(),b;for(b=0,a.setDate(1),a.setMonth(0);b<l;a.setMonth(++b)){k+=d.getDaysInMonth(a)}return k+i.getDate()-1},getWeekOfYear:(function(){var b=86400000,a=7*b;return function(l){var k=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate()+3)/b,m=Math.floor(k/7),j=new Date(m*a).getUTCFullYear();return m-Math.floor(Date.UTC(j,0,7)/a)+1}})(),isLeapYear:function(b){var a=b.getFullYear();return !!((a&3)==0&&(a%100||(a%400==0&&a)))},getFirstDayOfMonth:function(a){var b=(a.getDay()-(a.getDate()-1))%7;return(b<0)?(b+7):b},getLastDayOfMonth:function(a){return d.getLastDateOfMonth(a).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),d.getDaysInMonth(a))},getDaysInMonth:(function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(b){var g=b.getMonth();return g==1&&d.isLeapYear(b)?29:a[g]}})(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return new Date(a.getFullYear(),0,1).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(m,a){if(a){return Ext.Date.clearTime(Ext.Date.clone(m))}var k=m.getDate();m.setHours(0);m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0);if(m.getDate()!=k){for(var l=1,b=d.add(m,Ext.Date.HOUR,l);b.getDate()!=k;l++,b=d.add(m,Ext.Date.HOUR,l)){}m.setDate(k);m.setHours(b.getHours())}return m},add:function(k,l,b){var a=Ext.Date.clone(k),n=Ext.Date;if(!l||b===0){return a}switch(l.toLowerCase()){case Ext.Date.MILLI:a.setMilliseconds(a.getMilliseconds()+b);break;case Ext.Date.SECOND:a.setSeconds(a.getSeconds()+b);break;case Ext.Date.MINUTE:a.setMinutes(a.getMinutes()+b);break;case Ext.Date.HOUR:a.setHours(a.getHours()+b);break;case Ext.Date.DAY:a.setDate(a.getDate()+b);break;case Ext.Date.MONTH:var m=k.getDate();if(m>28){m=Math.min(m,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(k),"mo",b)).getDate())}a.setDate(m);a.setMonth(k.getMonth()+b);break;case Ext.Date.YEAR:a.setFullYear(k.getFullYear()+b);break}return a},between:function(h,a,i){var b=h.getTime();return a.getTime()<=b&&b<=i.getTime()},compat:function(){var b=window.Date,i,k,a=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],j=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"];Ext.Array.forEach(a,function(e){b[e]=d[e]});Ext.Array.forEach(j,function(e){b.prototype[e]=function(){var g=Array.prototype.slice.call(arguments);g.unshift(this);return d[e].apply(d,g)}})}};var d=Ext.Date})();(function(d){var c=Ext.Base=function(){};c.prototype={$className:"Ext.Base",$class:c,self:c,constructor:function(){return this},initConfig:function(a){if(!this.$configInited){this.config=Ext.Object.merge({},this.config||{},a||{});this.applyConfig(this.config);this.$configInited=true}return this},setConfig:function(a){this.applyConfig(a||{});return this},applyConfig:d(function(g,b){var a="set"+Ext.String.capitalize(g);if(typeof this[a]==="function"){this[a].call(this,b)}return this}),callParent:function(h){var a=this.callParent.caller,b,i;if(!a.$owner){a=a.caller}b=a.$owner.superclass;i=a.$name;return b[i].apply(this,h||[])},statics:function(){var a=this.statics.caller,b=this.self;if(!a){return b}return a.$owner},callOverridden:function(b){var a=this.callOverridden.caller;
return a.$previous.apply(this,b||[])},destroy:function(){}};Ext.apply(Ext.Base,{create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},own:function(b,a){if(typeof a=="function"){this.ownMethod(b,a)}else{this.prototype[b]=a}},ownMethod:function(g,b){var a;if(typeof b.$owner!=="undefined"&&b!==Ext.emptyFn){a=b;b=function(){return a.apply(this,arguments)}}b.$owner=this;b.$name=g;this.prototype[g]=b},addStatics:function(b){for(var a in b){if(b.hasOwnProperty(a)){this[a]=b[a]}}return this},addInheritableStatics:function(l){var b,m,j=this.prototype,k,a;b=j.$inheritableStatics;m=j.$hasInheritableStatics;if(!b){b=j.$inheritableStatics=[];m=j.$hasInheritableStatics={}}for(k in l){if(l.hasOwnProperty(k)){a=l[k];this[k]=a;if(!m[k]){m[k]=true;b.push(k)}}}return this},implement:function(l){var i=this.prototype,m=Ext.enumerables,k,b,a;for(k in l){if(l.hasOwnProperty(k)){a=l[k];if(typeof a==="function"){a.$owner=this;a.$name=k}i[k]=a}}if(m){for(b=m.length;b--;){k=m[b];if(l.hasOwnProperty(k)){a=l[k];a.$owner=this;a.$name=k;i[k]=a}}}},borrow:function(b,l){var m=b.prototype,k,i,a;l=Ext.Array.from(l);for(k=0,i=l.length;k<i;k++){a=l[k];this.own(a,m[a])}return this},override:function(n){var l=this.prototype,p=Ext.enumerables,m,i,a,b;if(arguments.length===2){m=n;a=arguments[1];if(typeof a=="function"){if(typeof l[m]=="function"){b=l[m];a.$previous=b}this.ownMethod(m,a)}else{l[m]=a}return this}for(m in n){if(n.hasOwnProperty(m)){a=n[m];if(typeof a==="function"){if(typeof l[m]==="function"){b=l[m];a.$previous=b}this.ownMethod(m,a)}else{l[m]=a}}}if(p){for(i=p.length;i--;){m=p[i];if(n.hasOwnProperty(m)){if(typeof l[m]!=="undefined"){b=l[m];n[m].$previous=b}this.ownMethod(m,n[m])}}}return this},mixin:function(k,m){var l=m.prototype,a=this.prototype,j,b;for(j in l){if(l.hasOwnProperty(j)){if(typeof a[j]==="undefined"&&j!=="mixins"&&j!=="mixinId"){if(typeof l[j]==="function"){b=l[j];if(typeof b.$owner==="undefined"){this.ownMethod(j,b)}else{a[j]=b}}else{a[j]=l[j]}}else{if(j==="config"&&a.config&&l.config){Ext.Object.merge(a.config,l.config)}}}}if(typeof l.onClassMixedIn!=="undefined"){l.onClassMixedIn.call(m,this)}if(!a.hasOwnProperty("mixins")){if("mixins" in a){a.mixins=Ext.Object.merge({},a.mixins)}else{a.mixins={}}}a.mixins[k]=l},getName:function(){return Ext.getClassName(this)},createAlias:d(function(a,b){this.prototype[a]=function(){return this[b].apply(this,arguments)}})})})(Ext.Function.flexSetter);(function(){var i,h=Ext.Base,e=[],g;for(g in h){if(h.hasOwnProperty(g)){e.push(g)}}Ext.Class=i=function(j,B,a){if(typeof j!="function"){a=B;B=j;j=function(){return this.constructor.apply(this,arguments)}}if(!B){B={}}var y=B.preprocessors||i.getDefaultPreprocessors(),d=i.getPreprocessors(),v=0,b=[],A,C,z,w,x,c;for(w=0,c=e.length;w<c;w++){C=e[w];j[C]=h[C]}delete B.preprocessors;for(x=0,c=y.length;x<c;x++){A=y[x];if(typeof A=="string"){A=d[A];if(!A.always){if(B.hasOwnProperty(A.name)){b.push(A.fn)}}else{b.push(A.fn)}}else{b.push(A)}}B.onClassCreated=a||Ext.emptyFn;B.onBeforeClassCreated=function(l,k){a=k.onClassCreated;delete k.onBeforeClassCreated;delete k.onClassCreated;l.implement(k);a.call(l,l)};z=function(l,k){A=b[v++];if(!A){k.onBeforeClassCreated.apply(this,arguments);return}if(A.call(this,l,k,z)!==false){z.apply(this,arguments)}};z.call(i,j,B);return j};Ext.apply(i,{preprocessors:{},registerPreprocessor:function(b,a,c){this.preprocessors[b]={name:b,always:c||false,fn:a};return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},getDefaultPreprocessors:function(){return this.defaultPreprocessors||[]},setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(c,a,b){var k=this.defaultPreprocessors,d;if(typeof a=="string"){if(a==="first"){k.unshift(c);return this}else{if(a==="last"){k.push(c);return this}}a=(a==="after")?1:-1}d=Ext.Array.indexOf(k,b);if(d!==-1){Ext.Array.splice(k,Math.max(0,d+a),0,c)}return this}});i.registerPreprocessor("extend",function(B,x){var b=x.extend,A=Ext.Base,d=A.prototype,E=function(){},D,w,y,c,C,z,a,k;
if(b&&b!==Object){D=b}else{D=A}a=D.prototype;E.prototype=a;k=B.prototype=new E();if(!("$class" in D)){for(w in d){if(!a[w]){a[w]=d[w]}}}k.self=B;B.superclass=k.superclass=a;delete x.extend;z=a.$inheritableStatics;if(z){for(y=0,c=z.length;y<c;y++){C=z[y];if(!B.hasOwnProperty(C)){B[C]=D[C]}}}if(a.config){k.config=Ext.Object.merge({},a.config)}else{k.config={}}if(k.$onExtended){k.$onExtended.call(B,B,x)}if(x.onClassExtended){k.$onExtended=x.onClassExtended;delete x.onClassExtended}},true);i.registerPreprocessor("statics",function(b,a){b.addStatics(a.statics);delete a.statics});i.registerPreprocessor("inheritableStatics",function(b,a){b.addInheritableStatics(a.inheritableStatics);delete a.inheritableStatics});i.registerPreprocessor("config",function(c,a){var b=c.prototype;Ext.Object.each(a.config,function(d){var r=d.charAt(0).toUpperCase()+d.substr(1),q=d,p="apply"+r,t="set"+r,s="get"+r;if(!(p in b)&&!a.hasOwnProperty(p)){a[p]=function(j){return j}}if(!(t in b)&&!a.hasOwnProperty(t)){a[t]=function(j){var k=this[p].call(this,j,this[q]);if(typeof k!="undefined"){this[q]=k}return this}}if(!(s in b)&&!a.hasOwnProperty(s)){a[s]=function(){return this[q]}}});Ext.Object.merge(b.config,a.config);delete a.config});i.registerPreprocessor("mixins",function(p,a){var q=a.mixins,d,n,c,b;delete a.mixins;Ext.Function.interceptBefore(a,"onClassCreated",function(j){if(q instanceof Array){for(c=0,b=q.length;c<b;c++){n=q[c];d=n.prototype.mixinId||n.$className;j.mixin(d,n)}}else{for(d in q){if(q.hasOwnProperty(d)){j.mixin(d,q[d])}}}})});i.setDefaultPreprocessors(["extend","statics","inheritableStatics","config","mixins"]);Ext.extend=function(c,a,b){if(arguments.length===2&&Ext.isObject(a)){b=a;a=c;c=null}var d;if(!a){Ext.Error.raise("Attempting to extend from a class which has not been loaded on the page.")}b.extend=a;b.preprocessors=["extend","statics","inheritableStatics","mixins","config"];if(c){d=new i(c,b)}else{d=new i(b)}d.prototype.override=function(l){for(var m in l){if(l.hasOwnProperty(m)){this[m]=l[m]}}};return d}})();(function(g,k){var i=Array.prototype.slice;var h=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{}},enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(c){var d,b,e,n,a;if(this.classes.hasOwnProperty(c)||this.existCache.hasOwnProperty(c)){return true}n=Ext.global;a=this.parseNamespace(c);for(d=0,b=a.length;d<b;d++){e=a[d];if(typeof e!=="string"){n=e}else{if(!n||!n[e]){return false}n=n[e]}}Ext.Loader.historyPush(c);this.existCache[c]=true;return true},parseNamespace:function(v){var w=this.namespaceParseCache;if(this.enableNamespaceParseCache){if(w.hasOwnProperty(v)){return w[v]}}var u=[],s=this.namespaceRewrites,a,c,b,t,e,d=Ext.global;for(t=0,e=s.length;t<e;t++){a=s[t];c=a.from;b=a.to;if(v===c||v.substring(0,c.length)===c){v=v.substring(c.length);if(typeof b!=="string"){d=b}else{u=u.concat(b.split("."))}break}}u.push(d);u=u.concat(v.split("."));if(this.enableNamespaceParseCache){w[v]=u}return u},setNamespace:function(c,s){var e=Ext.global,r=this.parseNamespace(c),a=r.length-1,q=r[a],b,d;for(b=0;b<a;b++){d=r[b];if(typeof d!=="string"){e=d}else{if(!e[d]){e[d]={}}e=e[d]}}e[q]=s;return e[q]},createNamespaces:function(){var e=Ext.global,r,c,b,d,a,q;for(b=0,a=arguments.length;b<a;b++){r=this.parseNamespace(arguments[b]);for(d=0,q=r.length;d<q;d++){c=r[d];if(typeof c!=="string"){e=c}else{if(!e[c]){e[c]={}}e=e[c]}}}return e},set:function(c,a){var b=this.getName(a);this.classes[c]=this.setNamespace(c,a);if(b&&b!==c){this.maps.alternateToName[c]=b}return this},get:function(d){if(this.classes.hasOwnProperty(d)){return this.classes[d]}var n=Ext.global,a=this.parseNamespace(d),e,c,b;for(c=0,b=a.length;c<b;c++){e=a[c];if(typeof e!=="string"){n=e}else{if(!n||!n[e]){return null}n=n[e]}}return n},setAlias:function(e,d){var b=this.maps.aliasToName,a=this.maps.nameToAliases,c;if(typeof e==="string"){c=e}else{c=this.getName(e)}if(d&&b[d]!==c){b[d]=c}if(!a[c]){a[c]=[]}if(d){Ext.Array.include(a[c],d)}return this},getByAlias:function(a){return this.get(this.getNameByAlias(a))
},getNameByAlias:function(a){return this.maps.aliasToName[a]||""},getNameByAlternate:function(a){return this.maps.alternateToName[a]||""},getAliasesByName:function(a){return this.maps.nameToAliases[a]||[]},getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,a,d){var c=this;a.$className=b;return new g(a,function(){var v=a.postprocessors||c.defaultPostprocessors,w=c.postprocessors,e=0,t=[],u,x,z,y;delete a.postprocessors;for(z=0,y=v.length;z<y;z++){u=v[z];if(typeof u==="string"){u=w[u];if(!u.always){if(a[u.name]!==undefined){t.push(u.fn)}}else{t.push(u.fn)}}else{t.push(u)}}x=function(m,n,l){u=t[e++];if(!u){c.set(b,n);Ext.Loader.historyPush(b);if(d){d.call(n,n)}return}if(u.call(this,m,n,l,x)!==false){x.apply(this,arguments)}};x.call(c,b,this,a)})},instantiateByAlias:function(){var b=arguments[0],c=i.call(arguments),a=this.getNameByAlias(b);if(!a){a=this.maps.aliasToName[b];Ext.syncRequire(a)}c[0]=a;return this.instantiate.apply(this,c)},instantiate:function(){var c=arguments[0],d=i.call(arguments,1),b=c,a,e;if(typeof c!=="function"){e=this.get(c)}else{e=c}if(!e){a=this.getNameByAlias(c);if(a){c=a;e=this.get(c)}}if(!e){a=this.getNameByAlternate(c);if(a){c=a;e=this.get(c)}}if(!e){Ext.syncRequire(c);e=this.get(c)}return this.getInstantiator(d.length)(e,d)},dynInstantiate:function(a,b){b=Ext.Array.from(b,true);b.unshift(a);return this.instantiate.apply(this,b)},getInstantiator:function(a){if(!this.instantiators[a]){var b=a,c=[];for(b=0;b<a;b++){c.push("a["+b+"]")}this.instantiators[a]=new Function("c","a","return new c("+c.join(",")+")")}return this.instantiators[a]},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(b,a,c){this.postprocessors[b]={name:b,always:c||false,fn:a};return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=Ext.Array.from(a);return this},setDefaultPostprocessorPosition:function(d,a,b){var c=this.defaultPostprocessors,e;if(typeof a==="string"){if(a==="first"){c.unshift(d);return this}else{if(a==="last"){c.push(d);return this}}a=(a==="after")?1:-1}e=Ext.Array.indexOf(c,b);if(e!==-1){Ext.Array.splice(c,Math.max(0,e+a),0,d)}return this},getNamesByExpression:function(c){var e=this.maps.nameToAliases,b=[],w,s,u,v,a,t,d;if(c.indexOf("*")!==-1){c=c.replace(/\*/g,"(.*?)");a=new RegExp("^"+c+"$");for(w in e){if(e.hasOwnProperty(w)){u=e[w];if(w.search(a)!==-1){b.push(w)}else{for(t=0,d=u.length;t<d;t++){s=u[t];if(s.search(a)!==-1){b.push(w);break}}}}}}else{v=this.getNameByAlias(c);if(v){b.push(v)}else{v=this.getNameByAlternate(c);if(v){b.push(v)}else{b.push(c)}}}return b}};var j=h.defaultPostprocessors;h.registerPostprocessor("alias",function(d,e,a){var n=a.alias,c,b;delete a.alias;for(c=0,b=n.length;c<b;c++){k=n[c];this.setAlias(e,k)}});h.registerPostprocessor("singleton",function(c,d,a,b){b.call(this,c,new d(),a);return false});h.registerPostprocessor("alternateClassName",function(e,p,a){var c=a.alternateClassName,d,b,q;if(!(c instanceof Array)){c=[c]}for(d=0,b=c.length;d<b;d++){q=c[d];this.set(q,p)}});h.setDefaultPostprocessors(["alias","singleton","alternateClassName"]);Ext.apply(Ext,{create:k(h,"instantiate"),factory:function(q,b){if(q instanceof Array){var c,a;for(c=0,a=q.length;c<a;c++){q[c]=Ext.factory(q[c],b)}return q}var p=(typeof q==="string");if(p||(q instanceof Object&&q.constructor===Object)){var d,e={};if(p){d=q}else{d=q.className;e=q;delete e.className}if(b!==undefined&&d.indexOf(b)===-1){d=b+"."+Ext.String.capitalize(d)}return Ext.create(d,e)}if(typeof q==="function"){return Ext.create(q)}return q},widget:function(a){var b=i.call(arguments);b[0]="widget."+a;return h.instantiateByAlias.apply(h,b)},createByAlias:k(h,"instantiateByAlias"),define:function(b,a,d){if(!a.override){return h.create.apply(h,arguments)}var c=a.requires,e=a.uses,m=b;b=a.override;a=Ext.apply({},a);delete a.requires;delete a.uses;delete a.override;if(typeof c=="string"){c=[b,c]}else{if(c){c=c.slice(0);c.unshift(b)}else{c=[b]}}return h.create(m,{requires:c,uses:e,isPartial:true,constructor:function(){}},function(){var l=h.get(b);if(l.override){l.override(a)
}else{l.self.override(a)}if(d){d.call(l)}})},getClassName:k(h,"getName"),getDisplayName:function(a){if(a.displayName){return a.displayName}if(a.$name&&a.$class){return Ext.getClassName(a.$class)+"#"+a.$name}if(a.$className){return a.$className}return"Anonymous"},getClass:k(h,"getClass"),namespace:k(h,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;g.registerPreprocessor("className",function(b,a){if(a.$className){b.$className=a.$className}},true);g.setDefaultPreprocessorPosition("className","first");g.registerPreprocessor("xtype",function(e,s){var a=Ext.Array.from(s.xtype),d="widget.",q=Ext.Array.from(s.alias),c,b,r;s.xtype=a[0];s.xtypes=a;q=s.alias=Ext.Array.from(s.alias);for(c=0,b=a.length;c<b;c++){r=a[c];q.push(d+r)}s.alias=q});g.setDefaultPreprocessorPosition("xtype","last");g.registerPreprocessor("alias",function(b,t){var w=Ext.Array.from(t.alias),u=Ext.Array.from(t.xtypes),a="widget.",c=a.length,s,d,e,v;for(s=0,d=w.length;s<d;s++){e=w[s];if(e.substring(0,c)===a){v=e.substring(c);Ext.Array.include(u,v);if(!b.xtype){b.xtype=t.xtype=v}}}t.alias=w;t.xtypes=u});g.setDefaultPreprocessorPosition("alias","last")})(Ext.Class,Ext.Function.alias);(function(m,h,i,k){var l=["extend","mixins","requires"],j;j=Ext.Loader={documentHead:typeof document!=="undefined"&&(document.head||document.getElementsByTagName("head")[0]),isLoading:false,queue:[],isFileLoaded:{},readyListeners:[],optionalRequires:[],requiresMap:{},numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:false,classNameToFilePathMap:{},history:[],config:{enabled:false,disableCaching:true,disableCachingParam:"_dc",paths:{Ext:"."}},setConfig:function(b,a){if(Ext.isObject(b)&&arguments.length===1){Ext.Object.merge(this.config,b)}else{this.config[b]=(Ext.isObject(a))?Ext.Object.merge(this.config[b],a):a}return this},getConfig:function(a){if(a){return this.config[a]}return this.config},setPath:i(function(b,a){this.config.paths[b]=a;return this}),getPath:function(d){var b="",a=this.config.paths,c=this.getPrefix(d);if(c.length>0){if(c===d){return a[c]}b=a[c];d=d.substring(c.length+1)}if(b.length>0){b+="/"}return b.replace(/\/\.\//g,"/")+d.replace(/\./g,"/")+".js"},getPrefix:function(c){var a=this.config.paths,b,d="";if(a.hasOwnProperty(c)){return c}for(b in a){if(a.hasOwnProperty(b)&&b+"."===c.substring(0,b.length+1)){if(b.length>d.length){d=b}}}return d},refreshQueue:function(){var e=this.queue.length,c,a,d,b;if(e===0){this.triggerReady();return}for(c=0;c<e;c++){a=this.queue[c];if(a){b=a.requires;if(b.length>this.numLoadedFiles){continue}d=0;do{if(m.isCreated(b[d])){Ext.Array.erase(b,d,1)}else{d++}}while(d<b.length);if(a.requires.length===0){Ext.Array.erase(this.queue,c,1);a.callback.call(a.scope);this.refreshQueue();break}}}return this},injectScriptElement:function(d,b,r,c){var e=document.createElement("script"),a=this,g=function(){a.cleanupScriptElement(e);b.call(c)},q=function(){a.cleanupScriptElement(e);r.call(c)};e.type="text/javascript";e.src=d;e.onload=g;e.onerror=q;e.onreadystatechange=function(){if(this.readyState==="loaded"||this.readyState==="complete"){g()}};this.documentHead.appendChild(e);return e},cleanupScriptElement:function(a){a.onload=null;a.onreadystatechange=null;a.onerror=null;return this},loadScriptFile:function(x,b,e,A,y){var c=this,z=x+(this.getConfig("disableCaching")?("?"+this.getConfig("disableCachingParam")+"="+Ext.Date.now()):""),g=x.split("/").pop(),w=false,B,v,a;A=A||this;this.isLoading=true;if(!y){a=function(){e.call(A,"Failed loading '"+x+"', please verify that the file exists",y)};if(!Ext.isReady&&Ext.onDocumentReady){Ext.onDocumentReady(function(){c.injectScriptElement(z,b,a,A)})}else{this.injectScriptElement(z,b,a,A)}}else{if(typeof XMLHttpRequest!=="undefined"){B=new XMLHttpRequest()}else{B=new ActiveXObject("Microsoft.XMLHTTP")}try{B.open("GET",z,false);B.send(null)}catch(d){w=true}v=(B.status===1223)?204:B.status;if(!w){w=(v===0)}if(w){e.call(this,"Failed loading synchronously via XHR: '"+x+"'; It's likely that the file is either being loaded from a different domain or from the local file system whereby cross origin requests are not allowed due to security reasons. Use asynchronous loading with Ext.require instead.",y)
}else{if(v>=200&&v<300){new Function(B.responseText+"\n//@ sourceURL="+g)();b.call(A)}else{e.call(this,"Failed loading synchronously via XHR: '"+x+"'; please verify that the file exists. XHR status code: "+v,y)}}B=null}},exclude:function(a){var b=this;return{require:function(c,d,e){return b.require(c,d,e,a)},syncRequire:function(c,d,e){return b.syncRequire(c,d,e,a)}}},syncRequire:function(){this.syncModeEnabled=true;this.require.apply(this,arguments);this.refreshQueue();this.syncModeEnabled=false},require:function(L,F,d,E){var e,H,C,G,J={},B=[],g=[],a,D=[],b,c,I,K;L=Ext.Array.from(L);E=Ext.Array.from(E);F=F||Ext.emptyFn;d=d||Ext.global;for(b=0,I=E.length;b<I;b++){C=E[b];if(typeof C==="string"&&C.length>0){B=m.getNamesByExpression(C);for(c=0,K=B.length;c<K;c++){J[B[c]]=true}}}for(b=0,I=L.length;b<I;b++){H=L[b];if(typeof H==="string"&&H.length>0){g=m.getNamesByExpression(H);for(c=0,K=g.length;c<K;c++){a=g[c];if(!J.hasOwnProperty(a)&&!m.isCreated(a)){Ext.Array.include(D,a)}}}}if(!this.config.enabled){if(D.length>0){Ext.Error.raise({sourceClass:"Ext.Loader",sourceMethod:"require",msg:"Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((D.length>1)?"es":"")+": "+D.join(", ")})}}if(D.length===0){F.call(d);return this}this.queue.push({requires:D,callback:F,scope:d});D=D.slice();for(b=0,I=D.length;b<I;b++){G=D[b];if(!this.isFileLoaded.hasOwnProperty(G)){this.isFileLoaded[G]=false;e=this.getPath(G);this.classNameToFilePathMap[G]=e;this.numPendingFiles++;this.loadScriptFile(e,Ext.Function.pass(this.onFileLoaded,[G,e],this),Ext.Function.pass(this.onFileLoadError,[G,e]),this,this.syncModeEnabled)}}return this},onFileLoaded:function(a,b){this.numLoadedFiles++;this.isFileLoaded[a]=true;this.numPendingFiles--;if(this.numPendingFiles===0){this.refreshQueue()}},onFileLoadError:function(b,c,d,a){this.numPendingFiles--;this.hasFileLoadError=true},addOptionalRequires:function(c){var a=this.optionalRequires,d,b,e;c=Ext.Array.from(c);for(d=0,b=c.length;d<b;d++){e=c[d];Ext.Array.include(a,e)}return this},triggerReady:function(c){var a=this.readyListeners,b,d;if(this.isLoading||c){this.isLoading=false;if(this.optionalRequires.length){b=Ext.Array.clone(this.optionalRequires);this.optionalRequires.length=0;this.require(b,Ext.Function.pass(this.triggerReady,[true],this),this);return this}while(a.length){d=a.shift();d.fn.call(d.scope);if(this.isLoading){return this}}}return this},onReady:function(b,c,a,e){var d;if(a!==false&&Ext.onDocumentReady){d=b;b=function(){Ext.onDocumentReady(d,c,e)}}if(!this.isLoading){b.call(c)}else{this.readyListeners.push({fn:b,scope:c})}},historyPush:function(a){if(a&&this.isFileLoaded.hasOwnProperty(a)){Ext.Array.include(this.history,a)}return this}};Ext.require=k(j,"require");Ext.syncRequire=k(j,"syncRequire");Ext.exclude=k(j,"exclude");Ext.onReady=function(a,b,c){j.onReady(a,b,true,c)};h.registerPreprocessor("loader",function(z,g,A){var C=this,a=[],D=m.getName(z),e,x,b,c,B,d,y;for(e=0,b=l.length;e<b;e++){d=l[e];if(g.hasOwnProperty(d)){y=g[d];if(typeof y==="string"){a.push(y)}else{if(y instanceof Array){for(x=0,c=y.length;x<c;x++){B=y[x];if(typeof B==="string"){a.push(B)}}}else{if(typeof y!="function"){for(x in y){if(y.hasOwnProperty(x)){B=y[x];if(typeof B==="string"){a.push(B)}}}}}}}}if(a.length===0){return}j.require(a,function(){for(e=0,b=l.length;e<b;e++){d=l[e];if(g.hasOwnProperty(d)){y=g[d];if(typeof y==="string"){g[d]=m.get(y)}else{if(y instanceof Array){for(x=0,c=y.length;x<c;x++){B=y[x];if(typeof B==="string"){g[d][x]=m.get(B)}}}else{if(typeof y!="function"){for(var n in y){if(y.hasOwnProperty(n)){B=y[n];if(typeof B==="string"){g[d][n]=m.get(B)}}}}}}}}A.call(C,z,g)});return false},true);h.setDefaultPreprocessorPosition("loader","after","className");m.registerPostprocessor("uses",function(b,d,g){var e=Ext.Array.from(g.uses),c=[],a,r,s;for(a=0,r=e.length;a<r;a++){s=e[a];if(typeof s==="string"){c.push(s)}}j.addOptionalRequires(c)});m.setDefaultPostprocessorPosition("uses","last")})(Ext.ClassManager,Ext.Class,Ext.Function.flexSetter,Ext.Function.alias);Ext.Error=Ext.extend(Error,{statics:{ignore:false,raise:function(e){e=e||{};
if(Ext.isString(e)){e={msg:e}}var g=this.raise.caller;if(g){if(g.$name){e.sourceMethod=g.$name}if(g.$owner){e.sourceClass=g.$owner.$className}}if(Ext.Error.handle(e)!==true){var d=Ext.Error.prototype.toString.call(e);Ext.log({msg:d,level:"error",dump:e,stack:true});throw new Ext.Error(e)}},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(d){if(Ext.isString(d)){d={msg:d}}var c=this;Ext.apply(c,d);c.message=c.message||c.msg},toString:function(){var i=this,e=i.className?i.className:"",g=i.methodName?"."+i.methodName+"(): ":"",h=i.msg||"(No description provided)";return e+g+h}});Ext.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var useNative=null;return function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative}}(),pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o){if(!Ext.isDefined(o)||o===null){return"null"}else{if(Ext.isArray(o)){return encodeArray(o)}else{if(Ext.isDate(o)){return Ext.JSON.encodeDate(o)}else{if(Ext.isString(o)){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(Ext.isObject(o)){return encodeObject(o)}else{if(typeof o==="function"){return"null"}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\x0b":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(o){var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(doEncode(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o){var a=["{",""],i;for(i in o){if(!useHasOwn||o.hasOwnProperty(i)){a.push(doEncode(i),":",doEncode(o[i]),",")}}a[a.length-1]="}";return a.join("")};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(){var ec;return function(o){if(!ec){ec=isNative()?JSON.stringify:doEncode}return ec(o)}}();this.decode=function(){var dc;return function(json,safe){if(!dc){dc=isNative()?JSON.parse:doDecode}try{return dc(json)}catch(e){if(safe===true){return null}Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}}}()})();Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode;Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1000,windowId:"ext-window",documentId:"ext-document",isReady:false,enableGarbageCollector:true,enableListenerCollection:true,id:function(g,i){var e=this,h="";g=Ext.getDom(g,true)||{};if(g===document){g.id=e.documentId}else{if(g===window){g.id=e.windowId}}if(!g.id){if(e.isSandboxed){if(!e.uniqueGlobalNamespace){e.getUniqueGlobalNamespace()}h=e.uniqueGlobalNamespace+"-"}g.id=h+(i||"ext-gen")+(++Ext.idSeed)}return g.id},getBody:function(){return Ext.get(document.body||false)},getHead:function(){var b;return function(){if(b==undefined){b=Ext.get(document.getElementsByTagName("head")[0])}return b}}(),getDoc:function(){return Ext.get(document)},getCmp:function(b){return Ext.ComponentManager.get(b)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var g=arguments.length,d,e;for(d=0;d<g;d++){e=arguments[d];if(e){if(Ext.isArray(e)){this.destroy.apply(this,e)}else{if(Ext.isFunction(e.destroy)){e.destroy()}else{if(e.dom){e.remove()}}}}}},callback:function(h,i,e,g){if(Ext.isFunction(h)){e=e||[];i=i||window;if(g){Ext.defer(h,g,i,e)}else{h.apply(i,e)}}},htmlEncode:function(b){return Ext.String.htmlEncode(b)},htmlDecode:function(b){return Ext.String.htmlDecode(b)},urlAppend:function(d,c){if(!Ext.isEmpty(c)){return d+(d.indexOf("?")===-1?"?":"&")+c}return d}});Ext.ns=Ext.namespace;window.undefined=window.undefined;(function(){var an=function(a){return a.test(Ext.userAgent)
},aj=document.compatMode=="CSS1Compat",X=function(a,c){var b;return(a&&(b=c.exec(Ext.userAgent)))?parseFloat(b[1]):0},am=document.documentMode,ay=an(/opera/),ah=ay&&an(/version\/10\.5/),S=an(/\bchrome\b/),ad=an(/webkit/),aw=!S&&an(/safari/),U=aw&&an(/applewebkit\/4/),W=aw&&an(/version\/3/),Z=aw&&an(/version\/4/),aa=aw&&an(/version\/5/),ar=!ay&&an(/msie/),T=ar&&(an(/msie 7/)||am==7),V=ar&&(an(/msie 8/)&&am!=7&&am!=9||am==8),Y=ar&&(an(/msie 9/)&&am!=7&&am!=8||am==9),Q=ar&&an(/msie 6/),ax=!ad&&an(/gecko/),e=ax&&an(/rv:1\.9/),O=ax&&an(/rv:2\.0/),P=ax&&an(/rv:5\./),ae=e&&an(/rv:1\.9\.0/),ag=e&&an(/rv:1\.9\.1/),ai=e&&an(/rv:1\.9\.2/),au=an(/windows|win32/),ab=an(/macintosh|mac os x/),af=an(/linux/),aq=null,ap=X(true,/\bchrome\/(\d+\.\d+)/),at=X(true,/\bfirefox\/(\d+\.\d+)/),ao=X(ar,/msie (\d+\.\d+)/),ak=X(ay,/version\/(\d+\.\d+)/),av=X(aw,/version\/(\d+\.\d+)/),ac=X(ad,/webkit\/(\d+\.\d+)/),al=/^https/i.test(window.location.protocol);try{document.execCommand("BackgroundImageCache",false,true)}catch(R){}Ext.setVersion("extjs","4.0.7");Ext.apply(Ext,{SSL_SECURE_URL:al&&ar?'javascript:""':"about:blank",scopeResetCSS:Ext.buildSettings.scopeResetCSS,enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,getDom:function(b,c){if(!b||!document){return null}if(b.dom){return b.dom}else{if(typeof b=="string"){var a=document.getElementById(b);if(a&&ar&&c){if(b==a.getAttribute("id")){return a}else{return null}}return a}else{return b}}},removeNode:Q||T?function(){var a;return function(b){if(b&&b.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(b):Ext.EventManager.removeAll(b);a=a||document.createElement("div");a.appendChild(b);a.innerHTML="";delete Ext.cache[b.id]}}}():function(a){if(a&&a.parentNode&&a.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(a):Ext.EventManager.removeAll(a);a.parentNode.removeChild(a);delete Ext.cache[a.id]}},isStrict:aj,isIEQuirks:ar&&!aj,isOpera:ay,isOpera10_5:ah,isWebKit:ad,isChrome:S,isSafari:aw,isSafari3:W,isSafari4:Z,isSafari5:aa,isSafari2:U,isIE:ar,isIE6:Q,isIE7:T,isIE8:V,isIE9:Y,isGecko:ax,isGecko3:e,isGecko4:O,isGecko5:P,isFF3_0:ae,isFF3_5:ag,isFF3_6:ai,isFF4:4<=at&&at<5,isFF5:5<=at&&at<6,isLinux:af,isWindows:au,isMac:ab,chromeVersion:ap,firefoxVersion:at,ieVersion:ao,operaVersion:ak,safariVersion:av,webKitVersion:ac,isSecure:al,BLANK_IMAGE_URL:(Q||T)?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(a,c,b){return Ext.isEmpty(a,b)?c:a},escapeRe:function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},addBehaviors:function(a){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(a)})}else{var g={},b,d,c;for(d in a){if((b=d.split("@"))[1]){c=b[0];if(!g[c]){g[c]=Ext.select(c)}g[c].on(b[1],a[d])}}g=null}},getScrollbarSize:function(c){if(!Ext.isReady){return 0}if(c===true||aq===null){var g=Ext.isIE9?"":Ext.baseCSSPrefix+"hide-offsets",a=Ext.getBody().createChild('<div class="'+g+'" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),b=a.child("div",true),i=b.offsetWidth;a.setStyle("overflow",(Ext.isWebKit||Ext.isGecko)?"auto":"scroll");var h=b.offsetWidth,d=i-h;a.remove();aq={width:d,height:d}}return aq},getScrollBarWidth:function(b){var a=Ext.getScrollbarSize(b);return a.width+2},copyTo:function(d,c,a,b){if(typeof a=="string"){a=a.split(/[,;\s]/)}Ext.each(a,function(g){if(b||c.hasOwnProperty(g)){d[g]=c[g]}},this);return d},destroyMembers:function(a){for(var b=1,d=arguments,c=d.length;b<c;b++){Ext.destroy(a[d[b]]);delete a[d[b]]}},log:Ext.emptyFn,partition:function(c,b){var a=[[],[]];Ext.each(c,function(g,d,h){a[(b&&b(g,d,h))||(!b&&g)?0:1].push(g)});return a},invoke:function(d,c){var a=[],b=Array.prototype.slice.call(arguments,2);Ext.each(d,function(h,g){if(h&&typeof h[c]=="function"){a.push(h[c].apply(h,b))}else{a.push(undefined)}});return a},zip:function(){var a=Ext.partition(arguments,function(k){return typeof k!="function"}),d=a[0],b=a[1][0],j=Ext.max(Ext.pluck(d,"length")),g=[];for(var c=0;c<j;c++){g[c]=[];if(b){g[c]=b.apply(b,Ext.pluck(d,c))
}else{for(var h=0,i=d.length;h<i;h++){g[c].push(d[h][c])}}}return g},toSentence:function(g,d){var a=g.length;if(a<=1){return g[0]}else{var b=g.slice(0,a-1),c=g[a-1];return Ext.util.Format.format("{0} {1} {2}",b.join(", "),d||"and",c)}},useShims:Q})})();Ext.application=function(b){Ext.require("Ext.app.Application");Ext.onReady(function(){Ext.create("Ext.app.Application",b)})};(function(){Ext.ns("Ext.util");Ext.util.Format={};var j=Ext.util.Format,k=/<\/?[^>]+>/gi,m=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,h=/\r?\n/g,l=/[^\d\.]/g,i;Ext.apply(j,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:false,undef:function(a){return a!==undefined?a:""},defaultValue:function(a,b){return a!==undefined&&a!==""?a:b},substr:function(b,a,c){return String(b).substr(a,c)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(a){return j.currency(a,"$",2)},currency:function(c,a,d,e){var g="",q=",0",b=0;c=c-0;if(c<0){c=-c;g="-"}d=d||j.currencyPrecision;q+=q+(d>0?".":"");for(;b<d;b++){q+="0"}c=j.number(c,q);if((e||j.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",g,c,a||j.currencySign)}else{return Ext.String.format("{0}{1}{2}",g,a||j.currencySign,c)}},date:function(b,a){if(!b){return""}if(!Ext.isDate(b)){b=new Date(Date.parse(b))}return Ext.Date.dateFormat(b,a||Ext.Date.defaultFormat)},dateRenderer:function(a){return function(b){return j.date(b,a)}},stripTags:function(a){return !a?a:String(a).replace(k,"")},stripScripts:function(a){return !a?a:String(a).replace(m,"")},fileSize:function(a){if(a<1024){return a+" bytes"}else{if(a<1048576){return(Math.round(((a*10)/1024))/10)+" KB"}else{return(Math.round(((a*10)/1048576))/10)+" MB"}}},math:function(){var a={};return function(b,c){if(!a[c]){a[c]=Ext.functionFactory("v","return v "+c+";")}return a[c](b)}}(),round:function(a,b){var c=Number(a);if(typeof b=="number"){b=Math.pow(10,b);c=Math.round(a*b)/b}return c},number:function(C,H){if(!H){return C}C=Ext.Number.from(C,NaN);if(isNaN(C)){return""}var d=j.thousandSeparator,a=j.decimalSeparator,e=false,I=C<0,n,v;C=Math.abs(C);if(H.substr(H.length-2)=="/i"){if(!i){i=new RegExp("[^\\d\\"+j.decimalSeparator+"]","g")}H=H.substr(0,H.length-2);e=true;n=H.indexOf(d)!=-1;v=H.replace(i,"").split(a)}else{n=H.indexOf(",")!=-1;v=H.replace(l,"").split(".")}if(1<v.length){C=C.toFixed(v[1].length)}else{if(2<v.length){}else{C=C.toFixed(0)}}var D=C.toString();v=D.split(".");if(n){var E=v[0],b=[],G=E.length,c=Math.floor(G/3),g=E.length%3||3,F;for(F=0;F<G;F+=g){if(F!==0){g=3}b[b.length]=E.substr(F,g);c-=1}D=b.join(d);if(v[1]){D+=a+v[1]}}else{if(v[1]){D=v[0]+a+v[1]}}if(I){I=D.replace(/[^1-9]/g,"")!==""}return(I?"-":"")+H.replace(/[\d,?\.?]+/,D)},numberRenderer:function(a){return function(b){return j.number(b,a)}},plural:function(c,b,a){return c+" "+(c==1?b:(a?a:b+"s"))},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(h,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(b){if(Ext.isNumber(b)){b=b.toString()}var a=b.split(" "),c=a.length;if(c==1){a[1]=a[2]=a[3]=a[0]}else{if(c==2){a[2]=a[0];a[3]=a[1]}else{if(c==3){a[3]=a[1]}}}return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}},escapeRegex:function(a){return a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})})();Ext.ns("Ext.util");Ext.util.TaskRunner=function(p){p=p||10;var n=[],t=[],s=0,m=false,q=function(){m=false;clearInterval(s);s=0},l=function(){if(!m){m=true;s=setInterval(k,p)}},r=function(a){t.push(a);if(a.onStop){a.onStop.apply(a.scope||a)}},k=function(){var a=t.length,g=new Date().getTime(),d;if(a>0){for(d=0;d<a;d++){Ext.Array.remove(n,t[d])}t=[];if(n.length<1){q();return}}d=0;var e,b,h,c=n.length;for(;d<c;++d){e=n[d];b=g-e.taskRunTime;if(e.interval<=b){h=e.run.apply(e.scope||e,e.args||[++e.taskRunCount]);e.taskRunTime=g;if(h===false||e.taskRunCount===e.repeat){r(e);
return}}if(e.duration&&e.duration<=(g-e.taskStartTime)){r(e)}}};this.start=function(a){n.push(a);a.taskStartTime=new Date().getTime();a.taskRunTime=0;a.taskRunCount=0;l();return a};this.stop=function(a){r(a);return a};this.stopAll=function(){q();for(var a=0,b=n.length;a<b;a++){if(n[a].onStop){n[a].onStop()}}n=[];t=[]}};Ext.TaskManager=Ext.create("Ext.util.TaskRunner");Ext.is={init:function(g){var k=this.platforms,i=k.length,j,h;g=g||window.navigator;for(j=0;j<i;j++){h=k[j];this[h.identity]=h.regex.test(g[h.property])}this.Desktop=this.Mac||this.Windows||(this.Linux&&!this.Android);this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();Ext.supports={init:function(){var l=document,j=l.createElement("div"),h=this.tests,m=h.length,i,k;j.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="float:left; background-color:transparent;"></div>'].join("");l.body.appendChild(j);for(i=0;i<m;i++){k=h[i];this[k.identity]=k.fn.call(this,l,j)}l.body.removeChild(j)},CSS3BoxShadow:Ext.isDefined(document.documentElement.style.boxShadow),ClassList:!!document.documentElement.classList,OrientationChange:((typeof window.orientation!="undefined")&&("onorientationchange" in window)),DeviceMotion:("ondevicemotion" in window),Touch:("ontouchstart" in window)&&(!Ext.is.Desktop),tests:[{identity:"Transitions",fn:function(n,l){var p=["webkit","Moz","o","ms","khtml"],m="TransitionEnd",k=[p[0]+m,"transitionend",p[2]+m,p[3]+m,p[4]+m],q=p.length,r=0,i=false;l=Ext.get(l);for(;r<q;r++){if(l.getStyle(p[r]+"TransitionProperty")){Ext.supports.CSS3Prefix=p[r];Ext.supports.CSS3TransitionEnd=k[r];i=true;break}}return i}},{identity:"RightMargin",fn:function(d,g){var e=d.defaultView;return !(e&&e.getComputedStyle(g.firstChild.firstChild,null).marginRight!="0px")}},{identity:"DisplayChangeInputSelectionBug",fn:function(){var b=Ext.webKitVersion;return 0<b&&b<533}},{identity:"DisplayChangeTextAreaSelectionBug",fn:function(){var b=Ext.webKitVersion;return 0<b&&b<534.24}},{identity:"TransparentColor",fn:function(d,g,e){e=d.defaultView;return !(e&&e.getComputedStyle(g.lastChild,null).backgroundColor!="transparent")}},{identity:"ComputedStyle",fn:function(d,g,e){e=d.defaultView;return e&&e.getComputedStyle}},{identity:"Svg",fn:function(b){return !!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(b){return !!b.createElement("canvas").getContext}},{identity:"Vml",fn:function(d){var c=d.createElement("div");c.innerHTML="<!--[if vml]><br><br><![endif]-->";return(c.childNodes.length==2)}},{identity:"Float",fn:function(d,c){return !!c.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(b){return !!b.createElement("audio").canPlayType}},{identity:"History",fn:function(){return !!(window.history&&history.pushState)}},{identity:"CSS3DTransform",fn:function(){return(typeof WebKitCSSMatrix!="undefined"&&new WebKitCSSMatrix().hasOwnProperty("m41"))}},{identity:"CSS3LinearGradient",fn:function(m,k){var n="background-image:",i="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",l="linear-gradient(left top, black, white)",p="-moz-"+l,j=[n+i,n+l,n+p];k.style.cssText=j.join(";");return(""+k.style.backgroundImage).indexOf("gradient")!==-1}},{identity:"CSS3BorderRadius",fn:function(j,i){var g=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],k=false,h;
for(h=0;h<g.length;h++){if(document.body.style[g[h]]!==undefined){return true}}return k}},{identity:"GeoLocation",fn:function(){return(typeof navigator!="undefined"&&typeof navigator.geolocation!="undefined")||(typeof google!="undefined"&&typeof google.gears!="undefined")}},{identity:"MouseEnterLeave",fn:function(d,c){return("onmouseenter" in c&&"onmouseleave" in c)}},{identity:"MouseWheel",fn:function(d,c){return("onmousewheel" in c)}},{identity:"Opacity",fn:function(d,c){if(Ext.isIE6||Ext.isIE7||Ext.isIE8){return false}c.firstChild.style.cssText="opacity:0.73";return c.firstChild.style.opacity=="0.73"}},{identity:"Placeholder",fn:function(b){return"placeholder" in b.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)}},{identity:"BoundingClientRect",fn:function(d,c){return Ext.isFunction(c.getBoundingClientRect)}},{identity:"IncludePaddingInWidthCalculation",fn:function(d,g){var e=Ext.get(g.childNodes[1].firstChild);return e.getWidth()==210}},{identity:"IncludePaddingInHeightCalculation",fn:function(d,g){var e=Ext.get(g.childNodes[1].firstChild);return e.getHeight()==210}},{identity:"ArraySort",fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}},{identity:"Range",fn:function(){return !!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var b=Ext.supports.Range?document.createRange():false;return b&&!!b.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}}]};Ext.ns("Ext.core");Ext.core.DomHelper=Ext.DomHelper=function(){var z=null,M=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,K=/^table|tbody|tr|td$/i,S=/tag|children|cn|html$/i,D=/td|tr|tbody/i,B=/end/i,F,I="afterbegin",H="afterend",T="beforebegin",G="beforeend",V="<table>",O="</table>",U=V+"<tbody>",N="</tbody>"+O,L=U+"<tr>",A="</tr>"+N;function P(g,c,d,b,h,e){g=Ext.getDom(g);var a;if(F.useDom){a=J(c,null);if(e){g.appendChild(a)}else{(h=="firstChild"?g:g.parentNode).insertBefore(a,g[h]||g)}}else{a=Ext.DomHelper.insertHtml(b,g,Ext.DomHelper.createHtml(c))}return d?Ext.get(a,true):a}function J(e,j){var d,g=document,a,i,c,h;if(Ext.isArray(e)){d=g.createDocumentFragment();for(var k=0,b=e.length;k<b;k++){J(e[k],d)}}else{if(typeof e=="string"){d=g.createTextNode(e)}else{d=g.createElement(e.tag||"div");a=!!d.setAttribute;for(i in e){if(!S.test(i)){c=e[i];if(i=="cls"){d.className=c}else{if(a){d.setAttribute(i,c)}else{d[i]=c}}}}Ext.DomHelper.applyStyles(d,e.style);if((h=e.children||e.cn)){J(h,d)}else{if(e.html){d.innerHTML=e.html}}}}if(j){j.appendChild(d)}return d}function C(c){var a="",g,d,e,b,h;if(typeof c=="string"){a=c}else{if(Ext.isArray(c)){for(h=0;h<c.length;h++){if(c[h]){a+=C(c[h])}}}else{a+="<"+(c.tag=c.tag||"div");for(g in c){d=c[g];if(!S.test(g)){if(typeof d=="object"){a+=" "+g+'="';for(e in d){a+=e+":"+d[e]+";"}a+='"'}else{a+=" "+({cls:"class",htmlFor:"for"}[g]||g)+'="'+d+'"'}}}if(M.test(c.tag)){a+="/>"}else{a+=">";if((b=c.children||c.cn)){a+=C(b)}else{if(c.html){a+=c.html}}a+="</"+c.tag+">"}}}return a}function Q(b,e,h,d){z.innerHTML=[e,h,d].join("");var g=-1,i=z,a;while(++g<b){i=i.firstChild}a=i.nextSibling;if(a){var c=document.createDocumentFragment();while(i){a=i.nextSibling;c.appendChild(i);i=a}i=c}return i}function R(e,a,d,g){var c,b;z=z||document.createElement("div");if(e=="td"&&(a==I||a==G)||!D.test(e)&&(a==T||a==H)){return null}b=a==T?d:a==H?d.nextSibling:a==I?d.firstChild:null;if(a==T||a==H){d=d.parentNode}if(e=="td"||(e=="tr"&&(a==G||a==I))){c=Q(4,L,g,A)}else{if((e=="tbody"&&(a==G||a==I))||(e=="tr"&&(a==T||a==H))){c=Q(3,U,g,N)}else{c=Q(2,V,g,O)}}d.insertBefore(c,b);return c}function E(g){var b=document.createElement("div"),e=document.createDocumentFragment(),a=0,d,c;b.innerHTML=g;c=b.childNodes;d=c.length;for(;a<d;a++){e.appendChild(c[a].cloneNode(true))}return e}F={markup:function(a){return C(a)},applyStyles:function(b,a){if(a){b=Ext.fly(b);if(typeof a=="function"){a=a.call()}if(typeof a=="string"){a=Ext.Element.parseStyles(a)
}if(typeof a=="object"){b.setStyle(a)}}},insertHtml:function(k,e,j){var b={},c,i,a,h,g,d;k=k.toLowerCase();b[T]=["BeforeBegin","previousSibling"];b[H]=["AfterEnd","nextSibling"];if(e.insertAdjacentHTML){if(K.test(e.tagName)&&(d=R(e.tagName.toLowerCase(),k,e,j))){return d}b[I]=["AfterBegin","firstChild"];b[G]=["BeforeEnd","lastChild"];if((c=b[k])){e.insertAdjacentHTML(c[0],j);return e[c[1]]}}else{if(Ext.isTextNode(e)){k=k==="afterbegin"?"beforebegin":k;k=k==="beforeend"?"afterend":k}i=Ext.supports.CreateContextualFragment?e.ownerDocument.createRange():undefined;h="setStart"+(B.test(k)?"After":"Before");if(b[k]){if(i){i[h](e);g=i.createContextualFragment(j)}else{g=E(j)}e.parentNode.insertBefore(g,k==T?e:e.nextSibling);return e[(k==T?"previous":"next")+"Sibling"]}else{a=(k==I?"first":"last")+"Child";if(e.firstChild){if(i){i[h](e[a]);g=i.createContextualFragment(j)}else{g=E(j)}if(k==I){e.insertBefore(g,e.firstChild)}else{e.appendChild(g)}}else{e.innerHTML=j}return e[a]}}},insertBefore:function(b,c,a){return P(b,c,a,T)},insertAfter:function(b,c,a){return P(b,c,a,H,"nextSibling")},insertFirst:function(b,c,a){return P(b,c,a,I,"firstChild")},append:function(b,c,a){return P(b,c,a,G,"",true)},overwrite:function(b,c,a){b=Ext.getDom(b);b.innerHTML=C(c);return a?Ext.get(b.firstChild):b.firstChild},createHtml:C,createDom:J,useDom:false,createTemplate:function(a){var b=Ext.DomHelper.createHtml(a);return Ext.create("Ext.Template",b)}};return F}();Ext.ns("Ext.core");Ext.core.DomQuery=Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*\#/,isIE=window.ActiveXObject?true:false,key=30803;eval("var batch = 30803;");function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n}function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}function byClassName(nodeSet,cls){if(!cls){return nodeSet}var result=[],ri=-1;for(var i=0,ci;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!=-1){result[++ri]=ci}}return result}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){if(b.slice){return a.concat(b)}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i]}return a}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){if(cs.tagName||cs==document){cs=[cs]}if(!id){return cs}var result=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;
return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=Ext.DomQuery.operators[op],a,xml,hasXml;for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType!=1){continue}if(!hasXml){xml=Ext.DomQuery.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=Ext.DomQuery.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}return result}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[];for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[];if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(var i=0;i<len1;i++){c1[i]._qdiff=d}for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;var tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){var matched=false;for(var j=0;j<matchersLn;j++){var t=matchers[j];var m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||document;if(typeof root=="string"){root=document.getElementById(root)}var paths=path.split(","),results=[];for(var i=0,len=paths.length;i<len;i++){var subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=Ext.DomQuery.compile(subPath);if(!cache[subPath]){}}var result=cache[subPath](root);if(result&&result!=document){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false
},select:document.querySelectorAll?function(path,root,type){root=root||document;if(!Ext.DomQuery.isXml(root)&&!(Ext.isSafari3&&!Ext.isStrict)){try{var isDocumentRoot=root.nodeType===9,_path=path,_root=root;if(!isDocumentRoot&&path.indexOf(",")===-1&&!startIdRe.test(path)){_path="#"+Ext.id(root)+" "+path;_root=root.parentNode}return Ext.Array.toArray(_root.querySelectorAll(_path))}catch(e){}}return Ext.DomQuery.jsSelect.call(this,path,root,type)}:function(path,root,type){return Ext.DomQuery.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select")}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el)}var isArray=Ext.isArray(el),result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple")}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)==0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci}}return r},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]
},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=Ext.DomQuery.select,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r}}}}();Ext.query=Ext.DomQuery.select;(function(){var p=document,v=Ext.cache;Ext.Element=Ext.core.Element=function(b,a){var d=typeof b=="string"?p.getElementById(b):b,c;if(!d){return null}c=d.id;if(!a&&c&&v[c]){return v[c].el}this.dom=d;this.id=c||Ext.id(d)};var s=Ext.DomHelper,r=Ext.Element;r.prototype={set:function(c,a){var e=this.dom,b,d;a=(a!==false)&&!!e.setAttribute;for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(b=="style"){s.applyStyles(e,d)}else{if(b=="cls"){e.className=d}else{if(a){e.setAttribute(b,d)}else{e[b]=d}}}}}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},focus:function(c,d){var b=this;d=d||b.dom;try{if(Number(c)){Ext.defer(b.focus,c,null,[null,d])}else{d.focus()}}catch(a){}return b},blur:function(){try{this.dom.blur()}catch(a){}return this},getValue:function(b){var a=this.dom.value;return b?parseInt(a,10):a},addListener:function(b,c,d,a){Ext.EventManager.on(this.dom,b,c,d||this,a);return this},removeListener:function(b,c,a){Ext.EventManager.un(this.dom,b,c,a||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this},addUnits:function(a,b){if(Ext.isNumber(a)){return a+(b||this.defaultUnit||"px")}if(a===""||a=="auto"||a==null){return a||""}if(!n.test(a)){return a||""}return a},isBorderBox:function(){return Ext.isBorderBox||q[(this.dom.tagName||"").toLowerCase()]},remove:function(){var b=this,a=b.dom;if(a){delete b.dom;Ext.removeNode(a)}},hover:function(a,b,d,e){var c=this;c.on("mouseenter",a,d||c.dom,e);c.on("mouseleave",b,d||c.dom,e);return c},contains:function(a){return !a?false:Ext.Element.isAncestor(this.dom,a.dom?a.dom:a)},getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:(Ext.isIE&&!(Ext.isIE9&&document.documentMode===9))?function(b,d){var c=this.dom,a;if(d){a=typeof c[d+":"+b];if(a!="undefined"&&a!="unknown"){return c[d+":"+b]||null}return null}if(b==="for"){b="htmlFor"}return c[b]||null}:function(b,a){var c=this.dom;if(a){return c.getAttributeNS(a,b)||c.getAttribute(a+":"+b)}return c.getAttribute(b)||c[b]||null},update:function(a){if(this.dom){this.dom.innerHTML=a}return this}};var l=r.prototype;r.addMethods=function(a){Ext.apply(l,a)};l.on=l.addListener;l.un=l.removeListener;l.clearListeners=l.removeAllListeners;l.destroy=l.remove;l.autoBoxAdjust=true;var n=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,t;r.get=function(a){var b,c,d;if(!a){return null}if(typeof a=="string"){if(!(c=p.getElementById(a))){return null}if(v[a]&&v[a].el){b=v[a].el;b.dom=c}else{b=r.addToCache(new r(c))}return b}else{if(a.tagName){if(!(d=a.id)){d=Ext.id(a)}if(v[d]&&v[d].el){b=v[d].el;b.dom=a}else{b=r.addToCache(new r(a))}return b}else{if(a instanceof r){if(a!=t){if(Ext.isIE&&(a.id==undefined||a.id=="")){a.dom=a.dom}else{a.dom=p.getElementById(a.id)||a.dom}}return a}else{if(a.isComposite){return a}else{if(Ext.isArray(a)){return r.select(a)}else{if(a==p){if(!t){var e=function(){};e.prototype=r.prototype;t=new e();t.dom=p}return t}}}}}}return null};l.getById=(!Ext.isIE6&&!Ext.isIE7&&!Ext.isIE8)?r.get:function(c){var d=this.dom,e,a,b;if(d){a=d.all[c];if(a){e=v[c];if(e&&e.el){b=e.el;b.dom=a}else{b=r.addToCache(new r(a))}return b}}return r.get(c)};r.addToCache=function(b,a){if(b){a=a||b.id;v[a]={el:b,data:{},events:{}}}return b};r.data=function(a,b,d){a=r.get(a);if(!a){return null}var c=v[a.id].data;if(arguments.length==2){return c[b]}else{return(c[b]=d)}};function m(){if(!Ext.enableGarbageCollector){clearInterval(r.collectorThreadId)}else{var b,e,c,d;for(b in v){if(!v.hasOwnProperty(b)){continue}d=v[b];
if(d.skipGarbageCollection){continue}e=d.el;c=e.dom;if(!c||!c.parentNode||(!c.offsetParent&&!p.getElementById(b))){if(c&&Ext.enableListenerCollection){Ext.EventManager.removeAll(c)}delete v[b]}}if(Ext.isIE){var a={};for(b in v){if(!v.hasOwnProperty(b)){continue}a[b]=v[b]}v=Ext.cache=a}}}r.collectorThreadId=setInterval(m,30000);var u=function(){};u.prototype=r.prototype;r.Flyweight=function(a){this.dom=a};r.Flyweight.prototype=new u();r.Flyweight.prototype.isFlyweight=true;r._flyweights={};r.fly=function(c,b){var a=null;b=b||"_global";c=Ext.getDom(c);if(c){(r._flyweights[b]=r._flyweights[b]||new r.Flyweight()).dom=c;a=r._flyweights[b]}return a};Ext.get=r.get;Ext.fly=r.fly;var q=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){q.button=1}})();Ext.Element.addMethods({findParent:function(j,k,p){var m=this.dom,b=document.body,l=0,n;k=k||50;if(isNaN(k)){n=Ext.getDom(k);k=Number.MAX_VALUE}while(m&&m.nodeType==1&&l<k&&m!=b&&m!=n){if(Ext.DomQuery.is(m,j)){return p?Ext.get(m):m}l++;m=m.parentNode}return null},findParentNode:function(h,i,g){var e=Ext.fly(this.dom.parentNode,"_internal");return e?e.findParent(h,i,g):null},up:function(c,d){return this.findParentNode(c,d,true)},select:function(b){return Ext.Element.select(b,false,this.dom)},query:function(b){return Ext.DomQuery.select(b,this.dom)},down:function(e,d){var g=Ext.DomQuery.selectNode(e,this.dom);return d?g:Ext.get(g)},child:function(h,g){var j,k=this,i;i=Ext.get(k).id;i=i.replace(/[\.:]/g,"\\$0");j=Ext.DomQuery.selectNode("#"+i+" > "+h,k.dom);return g?j:Ext.get(j)},parent:function(d,c){return this.matchNode("parentNode","parentNode",d,c)},next:function(d,c){return this.matchNode("nextSibling","nextSibling",d,c)},prev:function(d,c){return this.matchNode("previousSibling","previousSibling",d,c)},first:function(d,c){return this.matchNode("nextSibling","firstChild",d,c)},last:function(d,c){return this.matchNode("previousSibling","lastChild",d,c)},matchNode:function(g,i,h,k){if(!this.dom){return null}var j=this.dom[i];while(j){if(j.nodeType==1&&(!h||Ext.DomQuery.is(j,h))){return !k?Ext.get(j):j}j=j[g]}return null}});Ext.Element.addMethods({appendChild:function(b){return Ext.get(b).appendTo(this)},appendTo:function(b){Ext.getDom(b).appendChild(this.dom);return this},insertBefore:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b);return this},insertAfter:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b.nextSibling);return this},insertFirst:function(c,d){c=c||{};if(c.nodeType||c.dom||typeof c=="string"){c=Ext.getDom(c);this.dom.insertBefore(c,this.dom.firstChild);return !d?Ext.get(c):c}else{return this.createChild(c,this.dom.firstChild,d)}},insertSibling:function(m,p,n){var l=this,i,j=(p||"before").toLowerCase()=="after",k;if(Ext.isArray(m)){k=l;Ext.each(m,function(a){i=Ext.fly(k,"_internal").insertSibling(a,p,n);if(j){k=i}});return i}m=m||{};if(m.nodeType||m.dom){i=l.dom.parentNode.insertBefore(Ext.getDom(m),j?l.dom.nextSibling:l.dom);if(!n){i=Ext.get(i)}}else{if(j&&!l.dom.nextSibling){i=Ext.DomHelper.append(l.dom.parentNode,m,!n)}else{i=Ext.DomHelper[j?"insertAfter":"insertBefore"](l.dom,m,!n)}}return i},replace:function(b){b=Ext.get(b);this.insertBefore(b);b.remove();return this},replaceWith:function(d){var c=this;if(d.nodeType||d.dom||typeof d=="string"){d=Ext.get(d);c.dom.parentNode.insertBefore(d,c.dom)}else{d=Ext.DomHelper.insertBefore(c.dom,d)}delete Ext.cache[c.id];Ext.removeNode(c.dom);c.id=Ext.id(c.dom=d);Ext.Element.addToCache(c.isFlyweight?new Ext.Element(c.dom):c);return c},createChild:function(d,e,g){d=d||{tag:"div"};if(e){return Ext.DomHelper.insertBefore(e,d,g!==true)}else{return Ext.DomHelper[!this.dom.firstChild?"insertFirst":"append"](this.dom,d,g!==true)}},wrap:function(g,d){var h=Ext.DomHelper.insertBefore(this.dom,g||{tag:"div"},!d),i=h.dom||h;i.appendChild(this.dom);return h},insertHtml:function(e,i,g){var h=Ext.DomHelper.insertHtml(e,this.dom,i);return g?Ext.get(h):h}});(function(){var G=Ext.Element,R=Ext.supports,M=document.defaultView,O=/alpha\(opacity=(.*)\)/i,V=/^\s+|\s+$/g,J=/\s+/,ae=/\w/g,I=/table-row|table-.*-group/,ad="_internal",ab="padding",ac="margin",F="border",K="-left",Q="-right",H="-top",S="-bottom",X="-width",N=Math,E="hidden",aa="isClipped",W="overflow",T="overflow-x",U="overflow-y",P="originalClip",Y={l:F+K+X,r:F+Q+X,t:F+H+X,b:F+S+X},Z={l:ab+K,r:ab+Q,t:ab+H,b:ab+S},af={l:ac+K,r:ac+Q,t:ac+H,b:ac+S},L=G.data;
G.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';G.inheritedProps={fontSize:1,fontStyle:1,opacity:1};Ext.override(G,{adjustWidth:function(c){var b=this,a=(typeof c=="number");if(a&&b.autoBoxAdjust&&!b.isBorderBox()){c-=(b.getBorderWidth("lr")+b.getPadding("lr"))}return(a&&c<0)?0:c},adjustHeight:function(c){var b=this,a=(typeof c=="number");if(a&&b.autoBoxAdjust&&!b.isBorderBox()){c-=(b.getBorderWidth("tb")+b.getPadding("tb"))}return(a&&c<0)?0:c},addCls:function(c){var b=this,g=[],a=((b.dom.className.replace(V,"")=="")?"":" "),d,h,e;if(c===undefined){return b}if(Object.prototype.toString.call(c)!=="[object Array]"){if(typeof c==="string"){c=c.replace(V,"").split(J);if(c.length===1){c=c[0];if(!b.hasCls(c)){b.dom.className+=a+c}}else{this.addCls(c)}}}else{for(d=0,h=c.length;d<h;d++){e=c[d];if(typeof e=="string"&&(" "+b.dom.className+" ").indexOf(" "+e+" ")==-1){g.push(e)}}if(g.length){b.dom.className+=a+g.join(" ")}}return b},removeCls:function(b){var a=this,c,g,h,d,e;if(b===undefined){return a}if(Object.prototype.toString.call(b)!=="[object Array]"){b=b.replace(V,"").split(J)}if(a.dom&&a.dom.className){e=a.dom.className.replace(V,"").split(J);for(c=0,h=b.length;c<h;c++){d=b[c];if(typeof d=="string"){d=d.replace(V,"");g=Ext.Array.indexOf(e,d);if(g!=-1){Ext.Array.erase(e,g,1)}}}a.dom.className=e.join(" ")}return a},radioCls:function(b){var a=this.dom.parentNode.childNodes,d,c,e;b=Ext.isArray(b)?b:[b];for(c=0,e=a.length;c<e;c++){d=a[c];if(d&&d.nodeType==1){Ext.fly(d,"_internal").removeCls(b)}}return this.addCls(b)},toggleCls:Ext.supports.ClassList?function(a){this.dom.classList.toggle(Ext.String.trim(a));return this}:function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)},hasCls:Ext.supports.ClassList?function(b){if(!b){return false}b=b.split(J);var a=b.length,c=0;for(;c<a;c++){if(b[c]&&this.dom.classList.contains(b[c])){return true}}return false}:function(a){return a&&(" "+this.dom.className+" ").indexOf(" "+a+" ")!=-1},replaceCls:function(a,b){return this.removeCls(a).addCls(b)},isStyle:function(b,a){return this.getStyle(b)==a},getStyle:function(){return M&&M.getComputedStyle?function(a){var c=this.dom,h,d,g,b,e;if(c==document){return null}a=G.normalize(a);g=(h=c.style[a])?h:(d=M.getComputedStyle(c,""))?d[a]:null;if(a=="marginRight"&&g!="0px"&&!R.RightMargin){e=G.getRightMarginFixCleaner(c);b=this.getStyle("display");c.style.display="inline-block";g=M.getComputedStyle(c,"").marginRight;c.style.display=b;e()}if(a=="backgroundColor"&&g=="rgba(0, 0, 0, 0)"&&!R.TransparentColor){g="transparent"}return g}:function(a){var d=this.dom,g,e;if(d==document){return null}a=G.normalize(a);do{if(a=="opacity"){if(d.style.filter.match){g=d.style.filter.match(O);if(g){var b=parseFloat(g[1]);if(!isNaN(b)){return b?b/100:0}}}return 1}if(!Ext.isIE6){return d.style[a]||((e=d.currentStyle)?e[a]:null)}try{return d.style[a]||((e=d.currentStyle)?e[a]:null)}catch(c){}if(!G.inheritedProps[a]){break}d=d.parentNode}while(d);return null}}(),getColor:function(g,e,a){var c=this.getStyle(g),d=a||a===""?a:"#",b;if(!c||(/transparent|inherit/.test(c))){return e}if(/^r/.test(c)){Ext.each(c.slice(4,c.length-1).split(","),function(h){b=parseInt(h,10);d+=(b<16?"0":"")+b.toString(16)})}else{c=c.replace("#","");d+=c.length==3?c.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):c}return(d.length>5?d.toLowerCase():e)},setStyle:function(a,b){var c=this,e,d;if(!c.dom){return c}if(typeof a==="string"){e={};e[a]=b;a=e}for(d in a){if(a.hasOwnProperty(d)){b=Ext.value(a[d],"");if(d=="opacity"){c.setOpacity(b)}else{c.dom.style[G.normalize(d)]=b}}}return c},setOpacity:function(e,g){var c=this,a=c.dom,b,d;if(!c.dom){return c}d=c.dom.style;if(!g||!c.anim){if(!Ext.supports.Opacity){e=e<1?"alpha(opacity="+e*100+")":"";b=d.filter.replace(O,"").replace(V,"");d.zoom=1;d.filter=b+(b.length>0?" ":"")+e}else{d.opacity=e}}else{if(!Ext.isObject(g)){g={duration:350,easing:"ease-in"}}c.animate(Ext.applyIf({to:{opacity:e}},g))
}return c},clearOpacity:function(){var a=this.dom.style;if(!Ext.supports.Opacity){if(!Ext.isEmpty(a.filter)){a.filter=a.filter.replace(O,"").replace(V,"")}}else{a.opacity=a["-moz-opacity"]=a["-khtml-opacity"]=""}return this},adjustDirect2DDimension:function(d){var g=this,c=g.dom,e=g.getStyle("display"),h=c.style.display,i=c.style.position,a=d==="width"?0:1,b;if(e==="inline"){c.style.display="inline-block"}c.style.position=e.match(I)?"absolute":"static";b=(parseFloat(g.getStyle(d))||parseFloat(c.currentStyle.msTransformOrigin.split(" ")[a])*2)%1;c.style.position=i;if(e==="inline"){c.style.display=h}return b},getHeight:function(b,h){var c=this,g=c.dom,e=Ext.isIE&&c.isStyle("display","none"),a,i,j,d;if(Ext.isIEQuirks){j=g.style;i=j.overflow;c.setStyle({overflow:"hidden"})}a=g.offsetHeight;a=N.max(a,e?0:g.clientHeight)||0;if(!e&&Ext.supports.Direct2DBug){d=c.adjustDirect2DDimension("height");if(h){a+=d}else{if(d>0&&d<0.5){a++}}}if(b){a-=(c.getBorderWidth("tb")+c.getPadding("tb"))}if(Ext.isIEQuirks){c.setStyle({overflow:i})}if(a<0){a=0}return a},getWidth:function(l,a){var d=this,h=d.dom,g=Ext.isIE&&d.isStyle("display","none"),c,j,i,k,e,b;if(Ext.isIEQuirks){k=h.style;i=k.overflow;d.setStyle({overflow:"hidden"})}if(Ext.isOpera10_5){if(h.parentNode.currentStyle.position==="relative"){b=h.parentNode.style.position;h.parentNode.style.position="static";j=h.offsetWidth;h.parentNode.style.position=b}j=Math.max(j||0,h.offsetWidth)}else{if(Ext.supports.BoundingClientRect){c=h.getBoundingClientRect();j=c.right-c.left;j=a?j:Math.ceil(j)}else{j=h.offsetWidth}}j=N.max(j,g?0:h.clientWidth)||0;if(!g&&Ext.supports.Direct2DBug){e=d.adjustDirect2DDimension("width");if(a){j+=e}else{if(e>0&&e<0.5){j++}}}if(l){j-=(d.getBorderWidth("lr")+d.getPadding("lr"))}if(Ext.isIEQuirks){d.setStyle({overflow:i})}if(j<0){j=0}return j},setWidth:function(b,c){var a=this;b=a.adjustWidth(b);if(!c||!a.anim){a.dom.style.width=a.addUnits(b)}else{if(!Ext.isObject(c)){c={}}a.animate(Ext.applyIf({to:{width:b}},c))}return a},setHeight:function(c,b){var a=this;c=a.adjustHeight(c);if(!b||!a.anim){a.dom.style.height=a.addUnits(c)}else{if(!Ext.isObject(b)){b={}}a.animate(Ext.applyIf({to:{height:c}},b))}return a},getBorderWidth:function(a){return this.addStyles(a,Y)},getPadding:function(a){return this.addStyles(a,Z)},clip:function(){var b=this,a=b.dom;if(!L(a,aa)){L(a,aa,true);L(a,P,{o:b.getStyle(W),x:b.getStyle(T),y:b.getStyle(U)});b.setStyle(W,E);b.setStyle(T,E);b.setStyle(U,E)}return b},unclip:function(){var b=this,a=b.dom,c;if(L(a,aa)){L(a,aa,false);c=L(a,P);if(c.o){b.setStyle(W,c.o)}if(c.x){b.setStyle(T,c.x)}if(c.y){b.setStyle(U,c.y)}}return b},addStyles:function(a,b){var h=0,c=a.match(ae),d=0,i=c.length,e,g;for(;d<i;d++){e=c[d];g=e&&parseInt(this.getStyle(b[e]),10);if(g){h+=N.abs(g)}}return h},margins:af,applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},getStyles:function(){var a={},d=arguments.length,c=0,b;for(;c<d;++c){b=arguments[c];a[b]=this.getStyle(b)}return a},boxWrap:function(b){b=b||Ext.baseCSSPrefix+"box";var a=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+Ext.String.format(G.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",a.dom).appendChild(this.dom);return a},setSize:function(b,d,c){var a=this;if(Ext.isObject(b)){c=d;d=b.height;b=b.width}b=a.adjustWidth(b);d=a.adjustHeight(d);if(!c||!a.anim){if(!Ext.isIEQuirks&&(Ext.isIE6||Ext.isIE7)){a.dom.offsetTop}a.dom.style.width=a.addUnits(b);a.dom.style.height=a.addUnits(d)}else{if(c===true){c={}}a.animate(Ext.applyIf({to:{width:b,height:d}},c))}return a},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);if(!b){b=parseFloat(a.getStyle("height"))||0;if(!a.isBorderBox()){b+=a.getFrameWidth("tb")}}return b},getComputedWidth:function(){var a=this,b=Math.max(a.dom.offsetWidth,a.dom.clientWidth);if(!b){b=parseFloat(a.getStyle("width"))||0;if(!a.isBorderBox()){b+=a.getFrameWidth("lr")}}return b},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:(this.getPadding(a)+this.getBorderWidth(a))},addClsOnOver:function(b){var a=this.dom;
this.hover(function(){Ext.fly(a,ad).addCls(b)},function(){Ext.fly(a,ad).removeCls(b)});return this},addClsOnFocus:function(c){var b=this,a=b.dom;b.on("focus",function(){Ext.fly(a,ad).addCls(c)});b.on("blur",function(){Ext.fly(a,ad).removeCls(c)});return b},addClsOnClick:function(b){var a=this.dom;this.on("mousedown",function(){Ext.fly(a,ad).addCls(b);var c=Ext.getDoc(),d=function(){Ext.fly(a,ad).removeCls(b);c.removeListener("mouseup",d)};c.on("mouseup",d)});return this},getViewSize:function(){var c=this,b=c.dom,e=(b==Ext.getDoc().dom||b==Ext.getBody().dom),d,a,g;if(e){g={width:G.getViewWidth(),height:G.getViewHeight()}}else{if(Ext.isIE6||Ext.isIEQuirks){d=b.style;a=d.overflow;c.setStyle({overflow:"hidden"})}g={width:b.clientWidth,height:b.clientHeight};if(Ext.isIE6||Ext.isIEQuirks){c.setStyle({overflow:a})}}return g},getStyleSize:function(){var c=this,b=document,a=this.dom,g=(a==b||a==b.body),d=a.style,h,e;if(g){return{width:G.getViewWidth(),height:G.getViewHeight()}}if(d.width&&d.width!="auto"){h=parseFloat(d.width);if(c.isBorderBox()){h-=c.getFrameWidth("lr")}}if(d.height&&d.height!="auto"){e=parseFloat(d.height);if(c.isBorderBox()){e-=c.getFrameWidth("tb")}}return{width:h||c.getWidth(true),height:e||c.getHeight(true)}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},repaint:function(){var a=this.dom;this.addCls(Ext.baseCSSPrefix+"repaint");setTimeout(function(){Ext.fly(a).removeCls(Ext.baseCSSPrefix+"repaint")},1);return this},selectable:function(){var a=this;a.dom.unselectable="off";a.on("selectstart",function(b){b.stopPropagation();return true});a.applyStyles("-moz-user-select: text; -khtml-user-select: text;");a.removeCls(Ext.baseCSSPrefix+"unselectable");return a},unselectable:function(){var a=this;a.dom.unselectable="on";a.swallowEvent("selectstart",true);a.applyStyles("-moz-user-select:-moz-none;-khtml-user-select:none;");a.addCls(Ext.baseCSSPrefix+"unselectable");return a},getMargin:function(d){var c=this,b={t:"top",l:"left",r:"right",b:"bottom"},a={},e;if(!d){for(e in c.margins){a[b[e]]=parseFloat(c.getStyle(c.margins[e]))||0}return a}else{return c.addStyles.call(c,d,c.margins)}}})})();Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.OFFSETS=3;Ext.Element.ASCLASS=4;Ext.Element.visibilityCls=Ext.baseCSSPrefix+"hide-nosize";Ext.Element.addMethods(function(){var B=Ext.Element,r="opacity",x="visibility",A="display",C="hidden",t="offsets",w="asclass",u="none",F="nosize",E="originalDisplay",D="visibilityMode",z="isVisible",y=B.data,v=function(a){var b=y(a,E);if(b===undefined){y(a,E,b="")}return b},s=function(a){var b=y(a,D);if(b===undefined){y(a,D,b=1)}return b};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(a){y(this.dom,D,a);return this},isVisible:function(){var c=this,a=c.dom,b=y(a,z);if(typeof b=="boolean"){return b}b=!c.isStyle(x,C)&&!c.isStyle(A,u)&&!((s(a)==B.ASCLASS)&&c.hasCls(c.visibilityCls||B.visibilityCls));y(a,z,b);return b},setVisible:function(h,a){var d=this,j,b,c,e,g=d.dom,i=s(g);if(typeof a=="string"){switch(a){case A:i=B.DISPLAY;break;case x:i=B.VISIBILITY;break;case t:i=B.OFFSETS;break;case F:case w:i=B.ASCLASS;break}d.setVisibilityMode(i);a=false}if(!a||!d.anim){if(i==B.ASCLASS){d[h?"removeCls":"addCls"](d.visibilityCls||B.visibilityCls)}else{if(i==B.DISPLAY){return d.setDisplayed(h)}else{if(i==B.OFFSETS){if(!h){if(!d.hideModeStyles){d.hideModeStyles={position:d.getStyle("position"),top:d.getStyle("top"),left:d.getStyle("left")}}d.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})}else{if(d.hideModeStyles){d.applyStyles(d.hideModeStyles||{position:"",top:"",left:""});delete d.hideModeStyles}}}else{d.fixDisplay();g.style.visibility=h?"":C}}}}else{if(h){d.setOpacity(0.01);d.setVisible(true)}if(!Ext.isObject(a)){a={duration:350,easing:"ease-in"}}d.animate(Ext.applyIf({callback:function(){h||d.setVisible(false).setOpacity(1)},to:{opacity:(h)?1:0}},a))}y(g,z,h);return d},hasMetrics:function(){var a=this.dom;return this.isVisible()||(s(a)==B.OFFSETS)||(s(a)==B.VISIBILITY)},toggle:function(b){var a=this;a.setVisible(!a.isVisible(),a.anim(b));
return a},setDisplayed:function(a){if(typeof a=="boolean"){a=a?v(this.dom):u}this.setStyle(A,a);return this},fixDisplay:function(){var a=this;if(a.isStyle(A,u)){a.setStyle(x,C);a.setStyle(A,v(this.dom));if(a.isStyle(A,u)){a.setStyle(A,"block")}}},hide:function(a){if(typeof a=="string"){this.setVisible(false,a);return this}this.setVisible(false,this.anim(a));return this},show:function(a){if(typeof a=="string"){this.setVisible(true,a);return this}this.setVisible(true,this.anim(a));return this}}}());Ext.applyIf(Ext.Element.prototype,{animate:function(d){var c=this;if(!c.id){c=Ext.get(c.dom)}if(Ext.fx.Manager.hasFxBlock(c.id)){return c}Ext.fx.Manager.queueFx(Ext.create("Ext.fx.Anim",c.anim(d)));return this},anim:function(h){if(!Ext.isObject(h)){return(h)?{}:false}var g=this,k=h.duration||Ext.fx.Anim.prototype.duration,i=h.easing||"ease",j;if(h.stopAnimation){g.stopAnimation()}Ext.applyIf(h,Ext.fx.Manager.getFxDefaults(g.id));Ext.fx.Manager.setFxDefaults(g.id,{delay:0});j={target:g,remove:h.remove,alternate:h.alternate||false,duration:k,easing:i,callback:h.callback,listeners:h.listeners,iterations:h.iterations||1,scope:h.scope,block:h.block,concurrent:h.concurrent,delay:h.delay||0,paused:true,keyframes:h.keyframes,from:h.from||{},to:Ext.apply({},h)};Ext.apply(j.to,h.to);delete j.to.to;delete j.to.from;delete j.to.remove;delete j.to.alternate;delete j.to.keyframes;delete j.to.iterations;delete j.to.listeners;delete j.to.target;delete j.to.paused;delete j.to.callback;delete j.to.scope;delete j.to.duration;delete j.to.easing;delete j.to.concurrent;delete j.to.block;delete j.to.stopAnimation;delete j.to.delay;return j},slideIn:function(i,k,m){var l=this,n=l.dom.style,p,j;i=i||"t";k=k||{};p=function(){var a=this,b=k.listeners,h,e,c,d,g;if(!m){l.fixDisplay()}h=l.getBox();if((i=="t"||i=="b")&&h.height===0){h.height=l.dom.scrollHeight}else{if((i=="l"||i=="r")&&h.width===0){h.width=l.dom.scrollWidth}}e=l.getPositioning();l.setSize(h.width,h.height);d=l.wrap({style:{visibility:m?"visible":"hidden"}});d.setPositioning(e);if(d.isStyle("position","static")){d.position("relative")}l.clearPositioning("auto");d.clip();l.setStyle({visibility:"",position:"absolute"});if(m){d.setSize(h.width,h.height)}switch(i){case"t":g={from:{width:h.width+"px",height:"0px"},to:{width:h.width+"px",height:h.height+"px"}};n.bottom="0px";break;case"l":g={from:{width:"0px",height:h.height+"px"},to:{width:h.width+"px",height:h.height+"px"}};n.right="0px";break;case"r":g={from:{x:h.x+h.width,width:"0px",height:h.height+"px"},to:{x:h.x,width:h.width+"px",height:h.height+"px"}};break;case"b":g={from:{y:h.y+h.height,width:h.width+"px",height:"0px"},to:{y:h.y,width:h.width+"px",height:h.height+"px"}};break;case"tl":g={from:{x:h.x,y:h.y,width:"0px",height:"0px"},to:{width:h.width+"px",height:h.height+"px"}};n.bottom="0px";n.right="0px";break;case"bl":g={from:{x:h.x+h.width,width:"0px",height:"0px"},to:{x:h.x,width:h.width+"px",height:h.height+"px"}};n.right="0px";break;case"br":g={from:{x:h.x+h.width,y:h.y+h.height,width:"0px",height:"0px"},to:{x:h.x,y:h.y,width:h.width+"px",height:h.height+"px"}};break;case"tr":g={from:{y:h.y+h.height,width:"0px",height:"0px"},to:{y:h.y,width:h.width+"px",height:h.height+"px"}};n.bottom="0px";break}d.show();j=Ext.apply({},k);delete j.listeners;j=Ext.create("Ext.fx.Anim",Ext.applyIf(j,{target:d,duration:500,easing:"ease-out",from:m?g.to:g.from,to:m?g.from:g.to}));j.on("afteranimate",function(){if(m){l.setPositioning(e);if(k.useDisplay){l.setDisplayed(false)}else{l.hide()}}else{l.clearPositioning();l.setPositioning(e)}if(d.dom){d.dom.parentNode.insertBefore(l.dom,d.dom);d.remove()}l.setSize(h.width,h.height);a.end()});if(b){j.on(b)}};l.animate({duration:k.duration?k.duration*2:1000,listeners:{beforeanimate:{fn:p},afteranimate:{fn:function(){if(j&&j.running){j.end()}}}}});return l},slideOut:function(d,c){return this.slideIn(d,c,true)},puff:function(g){var d=this,e;g=Ext.applyIf(g||{},{easing:"ease-out",duration:500,useDisplay:false});e=function(){d.clearOpacity();d.show();var b=d.getBox(),a=d.getStyle("fontSize"),c=d.getPositioning();this.to={width:b.width*2,height:b.height*2,x:b.x-(b.width/2),y:b.y-(b.height/2),opacity:0,fontSize:"200%"};
this.on("afteranimate",function(){if(d.dom){if(g.useDisplay){d.setDisplayed(false)}else{d.hide()}d.clearOpacity();d.setPositioning(c);d.setStyle({fontSize:a})}})};d.animate({duration:g.duration,easing:g.easing,listeners:{beforeanimate:{fn:e}}});return d},switchOff:function(g){var d=this,e;g=Ext.applyIf(g||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});e=function(){var b=this,c=d.getSize(),a=d.getXY(),j,k;d.clearOpacity();d.clip();k=d.getPositioning();j=Ext.create("Ext.fx.Animator",{target:d,duration:g.duration,easing:g.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:a[1]+c.height/2},100:{width:1,x:a[0]+c.width/2}}});j.on("afteranimate",function(){if(g.useDisplay){d.setDisplayed(false)}else{d.hide()}d.clearOpacity();d.setPositioning(k);d.setSize(c);b.end()})};d.animate({duration:(g.duration*2),listeners:{beforeanimate:{fn:e}}});return d},frame:function(h,j,i){var k=this,g;h=h||"#C3DAF9";j=j||1;i=i||{};g=function(){k.show();var b=this,a=k.getBox(),c=Ext.getBody().createChild({style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+h}}),d;d=Ext.create("Ext.fx.Anim",{target:c,duration:i.duration||1000,iterations:j,from:{top:a.y,left:a.x,borderWidth:0,opacity:1,height:a.height,width:a.width},to:{top:a.y-20,left:a.x-20,borderWidth:10,opacity:0,height:a.height+40,width:a.width+40}});d.on("afteranimate",function(){c.remove();b.end()})};k.animate({duration:(i.duration*2)||2000,listeners:{beforeanimate:{fn:g}}});return k},ghost:function(g,h){var i=this,e;g=g||"b";e=function(){var c=i.getWidth(),d=i.getHeight(),b=i.getXY(),k=i.getPositioning(),a={opacity:0};switch(g){case"t":a.y=b[1]-d;break;case"l":a.x=b[0]-c;break;case"r":a.x=b[0]+c;break;case"b":a.y=b[1]+d;break;case"tl":a.x=b[0]-c;a.y=b[1]-d;break;case"bl":a.x=b[0]-c;a.y=b[1]+d;break;case"br":a.x=b[0]+c;a.y=b[1]+d;break;case"tr":a.x=b[0]+c;a.y=b[1]-d;break}this.to=a;this.on("afteranimate",function(){if(i.dom){i.hide();i.clearOpacity();i.setPositioning(k)}})};i.animate(Ext.applyIf(h||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:{fn:e}}}));return i},highlight:function(u,w){var q=this,t=q.dom,n={},r,m,s,v,x,p;w=w||{};v=w.listeners||{};s=w.attr||"backgroundColor";n[s]=u||"ffff9c";if(!w.to){m={};m[s]=w.endColor||q.getColor(s,"ffffff","")}else{m=w.to}w.listeners=Ext.apply(Ext.apply({},v),{beforeanimate:function(){r=t.style[s];q.clearOpacity();q.show();x=v.beforeanimate;if(x){p=x.fn||x;return p.apply(x.scope||v.scope||window,arguments)}},afteranimate:function(){if(t){t.style[s]=r}x=v.afteranimate;if(x){p=x.fn||x;p.apply(x.scope||v.scope||window,arguments)}}});q.animate(Ext.apply({},w,{duration:1000,easing:"ease-in",from:n,to:m}));return q},pause:function(d){var c=this;Ext.fx.Manager.setFxDefaults(c.id,{delay:d});return c},fadeIn:function(b){this.animate(Ext.apply({},b,{opacity:1}));return this},fadeOut:function(b){this.animate(Ext.apply({},b,{opacity:0}));return this},scale:function(e,d,g){this.animate(Ext.apply({},g,{width:e,height:d}));return this},shift:function(b){this.animate(b);return this}});Ext.applyIf(Ext.Element,{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,opacityRe:/alpha\(opacity=(.*)\)/i,cssRe:/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:Ext.Element.prototype.addUnits,parseBox:function(d){if(Ext.isObject(d)){return{top:d.top||0,right:d.right||0,bottom:d.bottom||0,left:d.left||0}}else{if(typeof d!="string"){d=d.toString()}var g=d.split(" "),e=g.length;if(e==1){g[1]=g[2]=g[3]=g[0]}else{if(e==2){g[2]=g[0];g[3]=g[1]}else{if(e==3){g[3]=g[1]}}}return{top:parseFloat(g[0])||0,right:parseFloat(g[1])||0,bottom:parseFloat(g[2])||0,left:parseFloat(g[3])||0}}},unitizeBox:function(i,e){var g=this.addUnits,h=this.parseBox(i);return g(h.top,e)+" "+g(h.right,e)+" "+g(h.bottom,e)+" "+g(h.left,e)},camelReplaceFn:function(a,d){return d.charAt(1).toUpperCase()
},normalize:function(b){if(b=="float"){b=Ext.supports.Float?"cssFloat":"styleFloat"}return this.propertyCache[b]||(this.propertyCache[b]=b.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){if(Ext.supports.OrientationChange){return(window.orientation==0)?"portrait":"landscape"}return(window.innerHeight>window.innerWidth)?"portrait":"landscape"},fromPoint:function(d,c){return Ext.get(document.elementFromPoint(d,c))},parseStyles:function(i){var g={},e=this.cssRe,h;if(i){e.lastIndex=0;while((h=e.exec(i))){g[h[1]]=h[2]}}return g}});Ext.CompositeElementLite=function(c,d){this.elements=[];this.add(c,d);this.el=new Ext.Element.Flyweight()};Ext.CompositeElementLite.prototype={isComposite:true,getElement:function(d){var c=this.el;c.dom=d;c.id=d.id;return c},transformElement:function(b){return Ext.getDom(b)},getCount:function(){return this.elements.length},add:function(l,h){var k=this,j=k.elements;if(!l){return this}if(typeof l=="string"){l=Ext.Element.selectorFunction(l,h)}else{if(l.isComposite){l=l.elements}else{if(!Ext.isIterable(l)){l=[l]}}}for(var m=0,i=l.length;m<i;++m){j.push(k.transformElement(l[m]))}return k},invoke:function(m,e){var l=this,n=l.elements,i=n.length,k,p;for(p=0;p<i;p++){k=n[p];if(k){Ext.Element.prototype[m].apply(l.getElement(k),e)}}return l},item:function(e){var h=this,i=h.elements[e],g=null;if(i){g=h.getElement(i)}return g},addListener:function(e,m,n,p){var q=this.elements,i=q.length,r,l;for(r=0;r<i;r++){l=q[r];if(l){Ext.EventManager.on(l,e,m,n||l,p)}}return this},each:function(m,n){var l=this,p=l.elements,i=p.length,e,k;for(e=0;e<i;e++){k=p[e];if(k){k=this.getElement(k);if(m.call(n||k,k,l,e)===false){break}}}return l},fill:function(d){var c=this;c.elements=[];c.add(d);return c},filter:function(g){var e=[],h=this,i=Ext.isFunction(g)?g:function(a){return a.is(g)};h.each(function(a,c,b){if(i(a,b)!==false){e[e.length]=h.transformElement(a)}});h.elements=e;return h},indexOf:function(b){return Ext.Array.indexOf(this.elements,this.transformElement(b))},replaceElement:function(j,k,h){var d=!isNaN(j)?j:this.indexOf(j),i;if(d>-1){k=Ext.getDom(k);if(h){i=this.elements[d];i.parentNode.insertBefore(k,i);Ext.removeNode(i)}Ext.Array.splice(this.elements,d,1,k)}return this},clear:function(){this.elements=[]}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;Ext.CompositeElementLite.importElementMethods=function(){var g,d=Ext.Element.prototype,e=Ext.CompositeElementLite.prototype;for(g in d){if(typeof d[g]=="function"){(function(a){e[a]=e[a]||function(){return this.invoke(a,arguments)}}).call(e,g)}}};Ext.CompositeElementLite.importElementMethods();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(e,d){var g;if(typeof e=="string"){g=Ext.Element.selectorFunction(e,d)}else{if(e.length!==undefined){g=e}else{}}return new Ext.CompositeElementLite(g)};Ext.select=Ext.Element.select;Ext.util.DelayedTask=function(l,m,i){var k=this,j,h=function(){clearInterval(j);j=null;l.apply(m,i||[])};this.delay=function(c,a,b,d){k.cancel();l=a||l;m=b||m;i=d||i;j=setInterval(h,c)};this.cancel=function(){if(j){clearInterval(j);j=null}}};Ext.require("Ext.util.DelayedTask",function(){Ext.util.Event=Ext.extend(Object,(function(){function d(c,b,a,i){b.task=new Ext.util.DelayedTask();return function(){b.task.delay(a.buffer,c,i,Ext.Array.toArray(arguments))}}function e(c,b,a,i){return function(){var h=new Ext.util.DelayedTask();if(!b.tasks){b.tasks=[]}b.tasks.push(h);h.delay(a.delay||10,c,i,Ext.Array.toArray(arguments))}}function g(c,b,a,i){return function(){b.ev.removeListener(b.fn,i);
return c.apply(i,arguments)}}return{isEvent:true,constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(c,j,k){var b=this,a;j=j||b.observable;if(!b.isListening(c,j)){a=b.createListener(c,j,k);if(b.firing){b.listeners=b.listeners.slice(0)}b.listeners.push(a)}},createListener:function(c,j,a){a=a||{};j=j||this.observable;var b={fn:c,scope:j,o:a,ev:this},k=c;if(a.single){k=g(k,b,a,j)}if(a.delay){k=e(k,b,a,j)}if(a.buffer){k=d(k,b,a,j)}b.fireFn=k;return b},findListener:function(b,c){var i=this.listeners,m=i.length,a,l;while(m--){a=i[m];if(a){l=a.scope;if(a.fn==b&&(l==c||l==this.observable)){return m}}}return -1},isListening:function(a,b){return this.findListener(a,b)!==-1},removeListener:function(c,k){var b=this,l,a,m;l=b.findListener(c,k);if(l!=-1){a=b.listeners[l];if(b.firing){b.listeners=b.listeners.slice(0)}if(a.task){a.task.cancel();delete a.task}m=a.tasks&&a.tasks.length;if(m){while(m--){a.tasks[m].cancel()}delete a.tasks}Ext.Array.erase(b.listeners,l,1);return true}return false},clearListeners:function(){var a=this.listeners,b=a.length;while(b--){this.removeListener(a[b].fn,a[b].scope)}},fire:function(){var b=this,i=b.listeners,c=i.length,l,m,a;if(c>0){b.firing=true;for(l=0;l<c;l++){a=i[l];m=arguments.length?Array.prototype.slice.call(arguments,0):[];if(a.o){m.push(a.o)}if(a&&a.fireFn.apply(a.scope||b.observable,m)===false){return(b.firing=false)}}}b.firing=false;return true}}})())});Ext.EventManager={hasBoundOnReady:false,hasFiredReady:false,readyTimeout:null,hasOnReadyStateChange:false,readyEvent:new Ext.util.Event(),checkReadyState:function(){var d=Ext.EventManager;if(window.attachEvent){if(window!=top){return false}try{document.documentElement.doScroll("left")}catch(c){return false}d.fireDocReady();return true}if(document.readyState=="complete"){d.fireDocReady();return true}d.readyTimeout=setTimeout(arguments.callee,2);return false},bindReadyEvent:function(){var b=Ext.EventManager;if(b.hasBoundOnReady){return}if(document.addEventListener){document.addEventListener("DOMContentLoaded",b.fireDocReady,false);window.addEventListener("load",b.fireDocReady,false)}else{if(!b.checkReadyState()){document.attachEvent("onreadystatechange",b.checkReadyState);b.hasOnReadyStateChange=true}window.attachEvent("onload",b.fireDocReady,false)}b.hasBoundOnReady=true},fireDocReady:function(){var b=Ext.EventManager;if(!b.hasFiredReady){b.hasFiredReady=true;if(document.addEventListener){document.removeEventListener("DOMContentLoaded",b.fireDocReady,false);window.removeEventListener("load",b.fireDocReady,false)}else{if(b.readyTimeout!==null){clearTimeout(b.readyTimeout)}if(b.hasOnReadyStateChange){document.detachEvent("onreadystatechange",b.checkReadyState)}window.detachEvent("onload",b.fireDocReady)}Ext.supports.init()}if(!Ext.isReady){Ext.isReady=true;b.onWindowUnload();b.readyEvent.fire()}},onDocumentReady:function(k,g,h){h=h||{};var j=Ext.EventManager,i=j.readyEvent;h.single=true;if(Ext.isReady){i.addListener(k,g,h);i.fire()}else{h.delay=h.delay||1;i.addListener(k,g,h);j.bindReadyEvent()}},stoppedMouseDownEvent:new Ext.util.Event(),propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(e){var d=false,g;e=Ext.getDom(e);if(e===document||e===window){g=e===document?Ext.documentId:Ext.windowId}else{g=Ext.id(e)}if(e&&(e.getElementById||e.navigator)){d=true}if(!Ext.cache[g]){Ext.Element.addToCache(new Ext.Element(e),g);if(d){Ext.cache[g].skipGarbageCollection=true}}return g},prepareListenerConfig:function(q,j,m){var p=this,l=p.propRe,r,n,k;for(r in j){if(j.hasOwnProperty(r)){if(!l.test(r)){n=j[r];if(Ext.isFunction(n)){k=[q,r,n,j.scope,j]}else{k=[q,r,n.fn,n.scope,n]}if(m===true){p.removeListener.apply(this,k)}else{p.addListener.apply(p,k)}}}}},normalizeEvent:function(d,c){if(/mouseenter|mouseleave/.test(d)&&!Ext.supports.MouseEnterLeave){if(c){c=Ext.Function.createInterceptor(c,this.contains,this)}d=d=="mouseenter"?"mouseover":"mouseout"}else{if(d=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera){d="DOMMouseScroll"}}return{eventName:d,fn:c}
},contains:function(d){var e=d.browserEvent.currentTarget,g=this.getRelatedTarget(d);if(e&&e.firstChild){while(g){if(g===e){return false}g=g.parentNode;if(g&&(g.nodeType!=1)){g=null}}}return true},addListener:function(r,k,n,p,j){if(typeof k!=="string"){this.prepareListenerConfig(r,k);return}var m=Ext.getDom(r),l,q;j=j||{};l=this.normalizeEvent(k,n);q=this.createListenerWrap(m,k,l.fn,p,j);if(m.attachEvent){m.attachEvent("on"+l.eventName,q)}else{m.addEventListener(l.eventName,q,j.capture||false)}if(m==document&&k=="mousedown"){this.stoppedMouseDownEvent.addListener(q)}this.getEventListenerCache(m,k).push({fn:n,wrap:q,scope:p})},removeListener:function(t,r,q,i){if(typeof r!=="string"){this.prepareListenerConfig(t,r,true);return}var u=Ext.getDom(t),z=this.getEventListenerCache(u,r),j=this.normalizeEvent(r).eventName,s=z.length,v,x,y,w;while(s--){x=z[s];if(x&&(!q||x.fn==q)&&(!i||x.scope===i)){y=x.wrap;if(y.task){clearTimeout(y.task);delete y.task}v=y.tasks&&y.tasks.length;if(v){while(v--){clearTimeout(y.tasks[v])}delete y.tasks}if(u.detachEvent){u.detachEvent("on"+j,y)}else{u.removeEventListener(j,y,false)}if(y&&u==document&&r=="mousedown"){this.stoppedMouseDownEvent.removeListener(y)}Ext.Array.erase(z,s,1)}}},removeAll:function(e){var h=Ext.getDom(e),g,i;if(!h){return}g=this.getElementEventCache(h);for(i in g){if(g.hasOwnProperty(i)){this.removeListener(h,i)}}Ext.cache[h.id].events={}},purgeElement:function(j,g){var i=Ext.getDom(j),k=0,h;if(g){this.removeListener(i,g)}else{this.removeAll(i)}if(i&&i.childNodes){for(h=j.childNodes.length;k<h;k++){this.purgeElement(j.childNodes[k],g)}}},createListenerWrap:function(l,j,p,q,k){k=k||{};var n,m;return function r(a,b){if(!m){n=["if(!Ext) {return;}"];if(k.buffer||k.delay||k.freezeEvent){n.push("e = new Ext.EventObjectImpl(e, "+(k.freezeEvent?"true":"false")+");")}else{n.push("e = Ext.EventObject.setEvent(e);")}if(k.delegate){n.push('var t = e.getTarget("'+k.delegate+'", this);');n.push("if(!t) {return;}")}else{n.push("var t = e.target;")}if(k.target){n.push("if(e.target !== options.target) {return;}")}if(k.stopEvent){n.push("e.stopEvent();")}else{if(k.preventDefault){n.push("e.preventDefault();")}if(k.stopPropagation){n.push("e.stopPropagation();")}}if(k.normalized===false){n.push("e = e.browserEvent;")}if(k.buffer){n.push("(wrap.task && clearTimeout(wrap.task));");n.push("wrap.task = setTimeout(function(){")}if(k.delay){n.push("wrap.tasks = wrap.tasks || [];");n.push("wrap.tasks.push(setTimeout(function(){")}n.push("fn.call(scope || dom, e, t, options);");if(k.single){n.push("Ext.EventManager.removeListener(dom, ename, fn, scope);")}if(k.delay){n.push("}, "+k.delay+"));")}if(k.buffer){n.push("}, "+k.buffer+");")}m=Ext.functionFactory("e","options","fn","scope","ename","dom","wrap","args",n.join("\n"))}m.call(l,a,k,p,q,j,l,r,b)}},getEventListenerCache:function(g,e){if(!g){return[]}var d=this.getElementEventCache(g);return d[e]||(d[e]=[])},getElementEventCache:function(c){if(!c){return{}}var d=Ext.cache[this.getId(c)];return d.events||(d.events={})},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(b){this.stopPropagation(b);this.preventDefault(b)},stopPropagation:function(b){b=b.browserEvent||b;if(b.stopPropagation){b.stopPropagation()}else{b.cancelBubble=true}},preventDefault:function(d){d=d.browserEvent||d;if(d.preventDefault){d.preventDefault()}else{d.returnValue=false;try{if(d.ctrlKey||d.keyCode>111&&d.keyCode<124){d.keyCode=-1}}catch(c){}}},getRelatedTarget:function(d){d=d.browserEvent||d;var c=d.relatedTarget;if(!c){if(this.mouseLeaveRe.test(d.type)){c=d.toElement}else{if(this.mouseEnterRe.test(d.type)){c=d.fromElement}}}return this.resolveTextNode(c)},getPageX:function(b){return this.getXY(b)[0]},getPageY:function(b){return this.getXY(b)[1]},getPageXY:function(k){k=k.browserEvent||k;var g=k.pageX,i=k.pageY,j=document.documentElement,h=document.body;if(!g&&g!==0){g=k.clientX+(j&&j.scrollLeft||h&&h.scrollLeft||0)-(j&&j.clientLeft||h&&h.clientLeft||0);i=k.clientY+(j&&j.scrollTop||h&&h.scrollTop||0)-(j&&j.clientTop||h&&h.clientTop||0)}return[g,i]
},getTarget:function(b){b=b.browserEvent||b;return this.resolveTextNode(b.target||b.srcElement)},resolveTextNode:Ext.isGecko?function(c){if(!c){return}var d=HTMLElement.prototype.toString.call(c);if(d=="[xpconnect wrapped native prototype]"||d=="[object XULElement]"){return}return c.nodeType==3?c.parentNode:c}:function(b){return b&&b.nodeType==3?b.parentNode:b},curWidth:0,curHeight:0,onWindowResize:function(h,i,e){var g=this.resizeEvent;if(!g){this.resizeEvent=g=new Ext.util.Event();this.on(window,"resize",this.fireResize,this,{buffer:100})}g.addListener(h,i,e)},fireResize:function(){var g=this,e=Ext.Element.getViewWidth(),d=Ext.Element.getViewHeight();if(g.curHeight!=d||g.curWidth!=e){g.curHeight=d;g.curWidth=e;g.resizeEvent.fire(e,d)}},removeResizeListener:function(c,d){if(this.resizeEvent){this.resizeEvent.removeListener(c,d)}},onWindowUnload:function(){var b=this.unloadEvent;if(!b){this.unloadEvent=b=new Ext.util.Event();this.addListener(window,"unload",this.fireUnload,this)}},fireUnload:function(){try{this.removeUnloadListener();if(Ext.isGecko3){var j=Ext.ComponentQuery.query("gridview"),e=0,l=j.length;for(;e<l;e++){j[e].scrollToTop()}}var m,i=Ext.cache;for(m in i){if(i.hasOwnProperty(m)){Ext.EventManager.removeAll(m)}}}catch(k){}},removeUnloadListener:function(){if(this.unloadEvent){this.removeListener(window,"unload",this.fireUnload)}},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera),getKeyEvent:function(){return this.useKeyDown?"keydown":"keypress"}};Ext.onReady=function(g,d,e){Ext.Loader.onReady(g,d,true,e)};Ext.onDocumentReady=Ext.EventManager.onDocumentReady;Ext.EventManager.on=Ext.EventManager.addListener;Ext.EventManager.un=Ext.EventManager.removeListener;(function(){var b=function(){var j=document.body||document.getElementsByTagName("body")[0],k=Ext.baseCSSPrefix,m=[k+"body"],a=[],l;if(!j){return false}l=j.parentNode;function i(c){m.push(k+c)}if(Ext.isIE){i("ie");if(Ext.isIE6){i("ie6")}else{i("ie7p");if(Ext.isIE7){i("ie7")}else{i("ie8p");if(Ext.isIE8){i("ie8")}else{i("ie9p");if(Ext.isIE9){i("ie9")}}}}if(Ext.isIE6||Ext.isIE7){i("ie7m")}if(Ext.isIE6||Ext.isIE7||Ext.isIE8){i("ie8m")}if(Ext.isIE7||Ext.isIE8){i("ie78")}}if(Ext.isGecko){i("gecko");if(Ext.isGecko3){i("gecko3")}if(Ext.isGecko4){i("gecko4")}if(Ext.isGecko5){i("gecko5")}}if(Ext.isOpera){i("opera")}if(Ext.isWebKit){i("webkit")}if(Ext.isSafari){i("safari");if(Ext.isSafari2){i("safari2")}if(Ext.isSafari3){i("safari3")}if(Ext.isSafari4){i("safari4")}if(Ext.isSafari5){i("safari5")}}if(Ext.isChrome){i("chrome")}if(Ext.isMac){i("mac")}if(Ext.isLinux){i("linux")}if(!Ext.supports.CSS3BorderRadius){i("nbr")}if(!Ext.supports.CSS3LinearGradient){i("nlg")}if(!Ext.scopeResetCSS){i("reset")}if(l){if(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)){Ext.isBorderBox=false}else{Ext.isBorderBox=true}a.push(k+(Ext.isBorderBox?"border-box":"strict"));if(!Ext.isStrict){a.push(k+"quirks")}Ext.fly(l,"_internal").addCls(a)}Ext.fly(j,"_internal").addCls(m);return true};Ext.onReady(b)})();Ext.define("Ext.EventObjectImpl",{uses:["Ext.util.Point"],BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var b;if(Ext.isGecko){b=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){b=120}else{b=12}b*=3}else{b=120}}return b})(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(d,c){if(d){this.setEvent(d.browserEvent||d,c)
}},setEvent:function(j,i){var k=this,g,h;if(j==k||(j&&j.browserEvent)){return j}k.browserEvent=j;if(j){g=j.button?k.btnMap[j.button]:(j.which?j.which-1:-1);if(k.clickRe.test(j.type)&&g==-1){g=0}h={type:j.type,button:g,shiftKey:j.shiftKey,ctrlKey:j.ctrlKey||j.metaKey||false,altKey:j.altKey,keyCode:j.keyCode,charCode:j.charCode,target:Ext.EventManager.getTarget(j),relatedTarget:Ext.EventManager.getRelatedTarget(j),currentTarget:j.currentTarget,xy:(i?k.getXY():null)}}else{h={button:-1,shiftKey:false,ctrlKey:false,altKey:false,keyCode:0,charCode:0,target:null,xy:[0,0]}}Ext.apply(k,h);return k},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){if(this.browserEvent){Ext.EventManager.preventDefault(this.browserEvent)}},stopPropagation:function(){var b=this.browserEvent;if(b){if(b.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this)}Ext.EventManager.stopPropagation(b)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(b){return Ext.isWebKit?(this.safariKeys[b]||b):b},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){if(!this.xy){this.xy=Ext.EventManager.getPageXY(this.browserEvent)}return this.xy},getTarget:function(d,g,e){if(d){return Ext.fly(this.target).findParent(d,g,e)}return e?Ext.get(this.target):this.target},getRelatedTarget:function(d,g,e){if(d){return Ext.fly(this.relatedTarget).findParent(d,g,e)}return e?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(g){var d=this.WHEEL_SCALE,e=Math.round(g/d);if(!e&&g){e=(g<0)?-1:1}return e},getWheelDeltas:function(){var h=this,i=h.browserEvent,e=0,g=0;if(Ext.isDefined(i.wheelDeltaX)){e=i.wheelDeltaX;g=i.wheelDeltaY}else{if(i.wheelDelta){g=i.wheelDelta}else{if(i.detail){g=-i.detail;if(g>100){g=3}else{if(g<-100){g=-3}}if(Ext.isDefined(i.axis)&&i.axis===i.HORIZONTAL_AXIS){e=g;g=0}}}}return{x:h.correctWheelDelta(e),y:h.correctWheelDelta(g)}},getWheelDelta:function(){var b=this.getWheelDeltas();return b.y},within:function(j,i,g){if(j){var k=i?this.getRelatedTarget():this.getTarget(),h;if(k){h=Ext.fly(j).contains(k);if(!h&&g){h=k==Ext.getDom(j)}return h}}return false},isNavKeyPress:function(){var c=this,d=this.normalizeKey(c.keyCode);return(d>=33&&d<=40)||d==c.RETURN||d==c.TAB||d==c.ESC},isSpecialKey:function(){var b=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(b==this.BACKSPACE)||(b>=16&&b<=20)||(b>=44&&b<=46)},getPoint:function(){var b=this.getXY();return Ext.create("Ext.util.Point",b[0],b[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){var j,i={};if(!Ext.isIE&&document.createEvent){j={createHtmlEvent:function(a,c,d,e){var b=a.createEvent("HTMLEvents");b.initEvent(c,d,e);return b},createMouseEvent:function(C,E,e,w,c,x,z,y,B,F,a,d,b){var A=C.createEvent("MouseEvents"),D=C.defaultView||window;if(A.initMouseEvent){A.initMouseEvent(E,e,w,D,c,x,z,x,z,y,B,F,a,d,b)}else{A=C.createEvent("UIEvents");A.initEvent(E,e,w);A.view=D;A.detail=c;A.screenX=x;A.screenY=z;A.clientX=x;A.clientY=z;A.ctrlKey=y;A.altKey=B;A.metaKey=a;A.shiftKey=F;A.button=d;A.relatedTarget=b}return A},createUIEvent:function(a,c,e,n,d){var b=a.createEvent("UIEvents"),p=a.defaultView||window;b.initUIEvent(c,e,n,p,d);return b},fireEvent:function(a,c,b){a.dispatchEvent(b)},fixTarget:function(a){if(a==window&&!a.dispatchEvent){return document}return a}}}else{if(document.createEventObject){var k={0:1,1:4,2:2};j={createHtmlEvent:function(a,c,d,e){var b=a.createEventObject();b.bubbles=d;b.cancelable=e;return b},createMouseEvent:function(B,C,e,v,c,w,y,x,A,D,a,d,b){var z=B.createEventObject();z.bubbles=e;z.cancelable=v;z.detail=c;z.screenX=w;z.screenY=y;z.clientX=w;z.clientY=y;z.ctrlKey=x;z.altKey=A;z.shiftKey=D;z.metaKey=a;z.button=k[d]||d;z.relatedTarget=b;return z},createUIEvent:function(a,c,e,m,d){var b=a.createEventObject();
b.bubbles=e;b.cancelable=m;return b},fireEvent:function(a,c,b){a.fireEvent("on"+c,b)},fixTarget:function(a){if(a==document){return document.documentElement}return a}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(b,a){var c=a[0],d=a[1];i[b]=function(e,p){var n=j.createHtmlEvent(b,c,d);j.fireEvent(e,b,n)}});function g(a,b){var c=(a!="mousemove");return function(d,p){var e=p.getXY(),n=j.createMouseEvent(d.ownerDocument,a,true,c,b,e[0],e[1],p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,p.relatedTarget);j.fireEvent(d,a,n)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(a){i[a]=g(a,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(b,a){var c=a[0],d=a[1];i[b]=function(e,p){var n=j.createUIEvent(e.ownerDocument,b,c,d,1);j.fireEvent(e,b,n)}});if(!j){i={};j={fixTarget:function(a){return a}}}function h(a,b){}return function(a){var b=this,c=i[b.type]||h,d=a?(a.dom||a):b.getTarget();d=j.fixTarget(d);c(d,b)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl()});(function(){var m=document,n=null,i=m.compatMode=="CSS1Compat",k=Ext.Element,j=function(a){if(!p){p=new Ext.Element.Flyweight()}p.dom=a;return p},p;if(!("activeElement" in m)&&m.addEventListener){m.addEventListener("focus",function(a){if(a&&a.target){n=(a.target==m)?null:a.target}},true)}function l(b,a,c){return function(){b.selectionStart=a;b.selectionEnd=c}}Ext.apply(k,{isAncestor:function(b,a){var c=false;b=Ext.getDom(b);a=Ext.getDom(a);if(b&&a){if(b.contains){return b.contains(a)}else{if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(a)&16)}else{while((a=a.parentNode)){c=a==b||c}}}}return c},getActiveElement:function(){return m.activeElement||n},getRightMarginFixCleaner:function(r){var c=Ext.supports,b=c.DisplayChangeInputSelectionBug,a=c.DisplayChangeTextAreaSelectionBug;if(b||a){var h=m.activeElement||n,e=h&&h.tagName,g,d;if((a&&e=="TEXTAREA")||(b&&e=="INPUT"&&h.type=="text")){if(k.isAncestor(r,h)){g=h.selectionStart;d=h.selectionEnd;if(Ext.isNumber(g)&&Ext.isNumber(d)){return l(h,g,d)}}}}return Ext.emptyFn},getViewWidth:function(a){return a?k.getDocumentWidth():k.getViewportWidth()},getViewHeight:function(a){return a?k.getDocumentHeight():k.getViewportHeight()},getDocumentHeight:function(){return Math.max(!i?m.body.scrollHeight:m.documentElement.scrollHeight,k.getViewportHeight())},getDocumentWidth:function(){return Math.max(!i?m.body.scrollWidth:m.documentElement.scrollWidth,k.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?(Ext.isStrict?m.documentElement.clientHeight:m.body.clientHeight):self.innerHeight},getViewportWidth:function(){return(!Ext.isStrict&&!Ext.isOpera)?m.body.clientWidth:Ext.isIE?m.documentElement.clientWidth:self.innerWidth},getY:function(a){return k.getXY(a)[1]},getX:function(a){return k.getXY(a)[0]},getOffsetParent:function(b){b=Ext.getDom(b);try{return b.offsetParent}catch(a){var c=document.body;return(b==c)?null:c}},getXY:function(g){var h,E,C,y,e,d,A=0,D=0,B,x,c=(m.body||m.documentElement),a;g=Ext.getDom(g);if(g!=c){x=j(g).isStyle("position","absolute");if(g.getBoundingClientRect){try{C=g.getBoundingClientRect();B=j(document).getScroll();a=[Math.round(C.left+B.left),Math.round(C.top+B.top)]}catch(b){}}if(!a){for(h=g;h;h=k.getOffsetParent(h)){E=j(h);A+=h.offsetLeft;D+=h.offsetTop;x=x||E.isStyle("position","absolute");if(Ext.isGecko){D+=y=parseInt(E.getStyle("borderTopWidth"),10)||0;A+=e=parseInt(E.getStyle("borderLeftWidth"),10)||0;if(h!=g&&!E.isStyle("overflow","visible")){A+=e;D+=y}}}if(Ext.isSafari&&x){A-=c.offsetLeft;D-=c.offsetTop}if(Ext.isGecko&&!x){d=j(c);A+=parseInt(d.getStyle("borderLeftWidth"),10)||0;D+=parseInt(d.getStyle("borderTopWidth"),10)||0}h=g.parentNode;while(h&&h!=c){if(!Ext.isOpera||(h.tagName!="TR"&&!j(h).isStyle("display","inline"))){A-=h.scrollLeft;D-=h.scrollTop}h=h.parentNode}a=[A,D]}}return a||[0,0]},setXY:function(d,c){(d=Ext.fly(d,"_setXY")).position();
var b=d.translatePoints(c),e=d.dom.style,a;for(a in b){if(!isNaN(b[a])){e[a]=b[a]+"px"}}},setX:function(a,b){k.setXY(a,[b,false])},setY:function(b,a){k.setXY(b,[false,a])},serializeForm:function(h){var r=h.elements||(document.forms[h]||Ext.getDom(h)).elements,e=false,a=encodeURIComponent,d,g="",b,c;Ext.each(r,function(q){d=q.name;b=q.type;if(!q.disabled&&d){if(/select-(one|multiple)/i.test(b)){Ext.each(q.options,function(t){if(t.selected){c=t.hasAttribute?t.hasAttribute("value"):t.getAttributeNode("value").specified;g+=Ext.String.format("{0}={1}&",a(d),a(c?t.value:t.text))}})}else{if(!(/file|undefined|reset|button/i.test(b))){if(!(/radio|checkbox/i.test(b)&&!q.checked)&&!(b=="submit"&&e)){g+=a(d)+"="+a(q.value)+"&";e=/submit/i.test(b)}}}}});return g.substr(0,g.length-1)}})})();Ext.Element.addMethods((function(){var focusRe=/button|input|textarea|select|object/;return{monitorMouseLeave:function(delay,handler,scope){var me=this,timer,listeners={mouseleave:function(e){timer=setTimeout(Ext.Function.bind(handler,scope||me,[e]),delay)},mouseenter:function(){clearTimeout(timer)},freezeEvent:true};me.on(listeners);return listeners},swallowEvent:function(eventName,preventDefault){var me=this;function fn(e){e.stopPropagation();if(preventDefault){e.preventDefault()}}if(Ext.isArray(eventName)){Ext.each(eventName,function(e){me.on(e,fn)});return me}me.on(eventName,fn);return me},relayEvent:function(eventName,observable){this.on(eventName,function(e){observable.fireEvent(eventName,e)})},clean:function(forceReclean){var me=this,dom=me.dom,n=dom.firstChild,nx,ni=-1;if(Ext.Element.data(dom,"isCleaned")&&forceReclean!==true){return me}while(n){nx=n.nextSibling;if(n.nodeType==3){if(!(/\S/.test(n.nodeValue))){dom.removeChild(n)}else{if(nx&&nx.nodeType==3){n.appendData(Ext.String.trim(nx.data));dom.removeChild(nx);nx=n.nextSibling;n.nodeIndex=++ni}}}else{Ext.fly(n).clean();n.nodeIndex=++ni}n=nx}Ext.Element.data(dom,"isCleaned",true);return me},load:function(options){this.getLoader().load(options);return this},getLoader:function(){var dom=this.dom,data=Ext.Element.data,loader=data(dom,"loader");if(!loader){loader=Ext.create("Ext.ElementLoader",{target:this});data(dom,"loader",loader)}return loader},update:function(html,loadScripts,callback){var me=this,id,dom,interval;if(!me.dom){return me}html=html||"";dom=me.dom;if(loadScripts!==true){dom.innerHTML=html;Ext.callback(callback,me);return me}id=Ext.id();html+='<span id="'+id+'"></span>';interval=setInterval(function(){if(!document.getElementById(id)){return false}clearInterval(interval);var DOC=document,hd=DOC.getElementsByTagName("head")[0],re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,match,attrs,srcMatch,typeMatch,el,s;while((match=re.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}el=DOC.getElementById(id);if(el){Ext.removeNode(el)}Ext.callback(callback,me)},20);dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return me},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},getScopeParent:function(){var parent=this.dom.parentNode;return Ext.scopeResetCSS?parent.parentNode:parent},createProxy:function(config,renderTo,matchBox){config=(typeof config=="object")?config:{tag:"div",cls:config};var me=this,proxy=renderTo?Ext.DomHelper.append(renderTo,config,true):Ext.DomHelper.insertBefore(me.dom,config,true);proxy.setVisibilityMode(Ext.Element.DISPLAY);proxy.hide();if(matchBox&&me.setBox&&me.getBox){proxy.setBox(me.getBox())}return proxy},focusable:function(){var dom=this.dom,nodeName=dom.nodeName.toLowerCase(),canFocus=false,hasTabIndex=!isNaN(dom.tabIndex);if(!dom.disabled){if(focusRe.test(nodeName)){canFocus=true}else{canFocus=nodeName=="a"?dom.href||hasTabIndex:hasTabIndex
}}return canFocus&&this.isVisible(true)}}})());Ext.Element.prototype.clearListeners=Ext.Element.prototype.removeAllListeners;Ext.Element.addMethods({getAnchorXY:function(z,u,h){z=(z||"tl").toLowerCase();h=h||{};var v=this,C=v.dom==document.body||v.dom==document,s=h.width||C?Ext.Element.getViewWidth():v.getWidth(),x=h.height||C?Ext.Element.getViewHeight():v.getHeight(),r,D=Math.round,B=v.getXY(),t=v.getScroll(),w=C?t.left:!u?B[0]:0,y=C?t.top:!u?B[1]:0,A={c:[D(s*0.5),D(x*0.5)],t:[D(s*0.5),0],l:[0,D(x*0.5)],r:[s,D(x*0.5)],b:[D(s*0.5),x],tl:[0,0],bl:[0,x],br:[s,x],tr:[s,0]};r=A[z];return[r[0]+w,r[1]+y]},anchorTo:function(w,r,v,x,n,m){var q=this,t=q.dom,p=!Ext.isEmpty(n),u=function(){Ext.fly(t).alignTo(w,r,v,x);Ext.callback(m,Ext.fly(t))},s=this.getAnchor();this.removeAnchor();Ext.apply(s,{fn:u,scroll:p});Ext.EventManager.onWindowResize(u,null);if(p){Ext.EventManager.on(window,"scroll",u,null,{buffer:!isNaN(n)?n:50})}u.call(q);return q},removeAnchor:function(){var c=this,d=this.getAnchor();if(d&&d.fn){Ext.EventManager.removeResizeListener(d.fn);if(d.scroll){Ext.EventManager.un(window,"scroll",d.fn)}delete d.fn}return c},getAnchor:function(){var d=Ext.Element.data,g=this.dom;if(!g){return}var e=d(g,"_anchor");if(!e){e=d(g,"_anchor",{})}return e},getAlignVector:function(p,j,k){var n=this,i={t:"top",l:"left",r:"right",b:"bottom"},m=n.getRegion(),l;p=Ext.get(p);if(!p||!p.dom){}l=p.getRegion()},getAlignToXY:function(ae,Y,X){ae=Ext.get(ae);if(!ae||!ae.dom){}X=X||[0,0];Y=(!Y||Y=="?"?"tl-bl?":(!(/-/).test(Y)&&Y!==""?"tl-"+Y:Y||"tl-bl")).toLowerCase();var p=this,x=p.dom,d,h,Z,aa,U,Q,O,S=Ext.Element.getViewWidth()-10,y=Ext.Element.getViewHeight()-10,ag,ad,ac,ab,P,m,c=document,r=c.documentElement,W=c.body,R=(r.scrollLeft||W.scrollLeft||0)+5,T=(r.scrollTop||W.scrollTop||0)+5,w=false,af="",ah="",V=Y.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!V){}af=V[1];ah=V[2];w=!!V[3];d=p.getAnchorXY(af,true);h=ae.getAnchorXY(ah,false);Z=h[0]-d[0]+X[0];aa=h[1]-d[1]+X[1];if(w){U=p.getWidth();Q=p.getHeight();O=ae.getRegion();ag=af.charAt(0);ad=af.charAt(af.length-1);ac=ah.charAt(0);ab=ah.charAt(ah.length-1);P=((ag=="t"&&ac=="b")||(ag=="b"&&ac=="t"));m=((ad=="r"&&ab=="l")||(ad=="l"&&ab=="r"));if(Z+U>S+R){Z=m?O.left-U:S+R-U}if(Z<R){Z=m?O.right:R}if(aa+Q>y+T){aa=P?O.top-Q:y+T-Q}if(aa<T){aa=P?O.bottom:T}}return[Z,aa]},alignTo:function(k,h,i,g){var j=this;return j.setXY(j.getAlignToXY(k,h,i),j.anim&&!!g?j.anim(g):false)},adjustForConstraints:function(g,d){var e=this.getConstrainVector(d,g);if(e){g[0]+=e[0];g[1]+=e[1]}return g},getConstrainVector:function(l,h){if(!(l instanceof Ext.util.Region)){l=Ext.get(l).getViewRegion()}var j=this.getRegion(),i=[0,0],k=this.shadow&&this.shadow.offset,m=false;if(h){j.translateBy(h[0]-j.x,h[1]-j.y)}if(k){l.adjust(0,-k,-k,k)}if(j.right>l.right){m=true;i[0]=(l.right-j.right)}if(j.left+i[0]<l.left){m=true;i[0]=(l.left-j.left)}if(j.bottom>l.bottom){m=true;i[1]=(l.bottom-j.bottom)}if(j.top+i[1]<l.top){m=true;i[1]=(l.top-j.top)}return m?i:false},getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(b){return this.alignTo(b||document,"c-c")}});(function(){var n=Ext.Element,v="left",r="right",t="top",p="bottom",q="position",u="static",s="relative",m="auto",l="z-index";Ext.override(Ext.Element,{getX:function(){return n.getX(this.dom)},getY:function(){return n.getY(this.dom)},getXY:function(){return n.getXY(this.dom)},getOffsetsTo:function(b){var c=this.getXY(),a=Ext.fly(b,"_internal").getXY();return[c[0]-a[0],c[1]-a[1]]},setX:function(b,a){return this.setXY([b,this.getY()],a)},setY:function(a,b){return this.setXY([this.getX(),a],b)},setLeft:function(a){this.setStyle(v,this.addUnits(a));return this},setTop:function(a){this.setStyle(t,this.addUnits(a));return this},setRight:function(a){this.setStyle(r,this.addUnits(a));return this},setBottom:function(a){this.setStyle(p,this.addUnits(a));return this},setXY:function(c,b){var a=this;if(!b||!a.anim){n.setXY(a.dom,c)}else{if(!Ext.isObject(b)){b={}}a.animate(Ext.applyIf({to:{x:c[0],y:c[1]}},b))}return a},setLocation:function(b,c,a){return this.setXY([b,c],a)},moveTo:function(b,c,a){return this.setXY([b,c],a)
},getLeft:function(a){return !a?this.getX():parseInt(this.getStyle(v),10)||0},getRight:function(b){var a=this;return !b?a.getX()+a.getWidth():(a.getLeft(true)+a.getWidth())||0},getTop:function(a){return !a?this.getY():parseInt(this.getStyle(t),10)||0},getBottom:function(b){var a=this;return !b?a.getY()+a.getHeight():(a.getTop(true)+a.getHeight())||0},position:function(c,d,b,e){var a=this;if(!c&&a.isStyle(q,u)){a.setStyle(q,s)}else{if(c){a.setStyle(q,c)}}if(d){a.setStyle(l,d)}if(b||e){a.setXY([b||false,e||false])}},clearPositioning:function(a){a=a||"";this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:u});return this},getPositioning:function(){var a=this.getStyle(v);var b=this.getStyle(t);return{position:this.getStyle(q),left:a,right:a?"":this.getStyle(r),top:b,bottom:b?"":this.getStyle(p),"z-index":this.getStyle(l)}},setPositioning:function(b){var c=this,a=c.dom.style;c.setStyle(b);if(b.right==m){a.right=""}if(b.bottom==m){a.bottom=""}return c},translatePoints:function(b,c){if(Ext.isArray(b)){c=b[1];b=b[0]}var a=this,h=a.isStyle(q,s),d=a.getXY(),e=parseInt(a.getStyle(v),10),g=parseInt(a.getStyle(t),10);if(!Ext.isNumber(e)){e=h?0:a.dom.offsetLeft}if(!Ext.isNumber(g)){g=h?0:a.dom.offsetTop}e=(Ext.isNumber(b))?b-d[0]+e:undefined;g=(Ext.isNumber(c))?c-d[1]+g:undefined;return{left:e,top:g}},setBox:function(d,c,a){var e=this,b=d.width,g=d.height;if((c&&!e.autoBoxAdjust)&&!e.isBorderBox()){b-=(e.getBorderWidth("lr")+e.getPadding("lr"));g-=(e.getBorderWidth("tb")+e.getPadding("tb"))}e.setBounds(d.x,d.y,b,g,a);return e},getBox:function(G,g){var w=this,I,e,j,h=w.getBorderWidth,d=w.getPadding,c,i,a,k,b,H,F;if(!g){I=w.getXY()}else{e=parseInt(w.getStyle("left"),10)||0;j=parseInt(w.getStyle("top"),10)||0;I=[e,j]}b=w.getWidth();H=w.getHeight();if(!G){F={x:I[0],y:I[1],0:I[0],1:I[1],width:b,height:H}}else{c=h.call(w,"l")+d.call(w,"l");i=h.call(w,"r")+d.call(w,"r");a=h.call(w,"t")+d.call(w,"t");k=h.call(w,"b")+d.call(w,"b");F={x:I[0]+c,y:I[1]+a,0:I[0]+c,1:I[1]+a,width:b-(c+i),height:H-(a+k)}}F.right=F.x+F.width;F.bottom=F.y+F.height;return F},move:function(k,e,d){var a=this,h=a.getXY(),j=h[0],x=h[1],c=[j-e,x],i=[j+e,x],y=[j,x-e],g=[j,x+e],b={l:c,left:c,r:i,right:i,t:y,top:y,up:y,b:g,bottom:g,down:g};k=k.toLowerCase();a.moveTo(b[k][0],b[k][1],d)},setLeftTop:function(c,d){var a=this,b=a.dom.style;b.left=a.addUnits(c);b.top=a.addUnits(d);return a},getRegion:function(){return this.getPageBox(true)},getViewRegion:function(){var g=this,i=g.dom===document.body,a,c,d,e,h,b;if(i){a=g.getScroll();e=a.left;d=a.top;h=Ext.Element.getViewportWidth();b=Ext.Element.getViewportHeight()}else{c=g.getXY();e=c[0]+g.getBorderWidth("l")+g.getPadding("l");d=c[1]+g.getBorderWidth("t")+g.getPadding("t");h=g.getWidth(true);b=g.getHeight(true)}return Ext.create("Ext.util.Region",d,e+h,d+b,e)},getPageBox:function(a){var k=this,d=k.dom,i=d===document.body,h=i?Ext.Element.getViewWidth():d.offsetWidth,w=i?Ext.Element.getViewHeight():d.offsetHeight,c=k.getXY(),g=c[1],e=c[0]+h,j=c[1]+w,b=c[0];if(a){return Ext.create("Ext.util.Region",g,e,j,b)}else{return{left:b,top:g,width:h,height:w,right:e,bottom:j}}},setBounds:function(a,c,e,b,g){var d=this;if(!g||!d.anim){d.setSize(e,b);d.setLocation(a,c)}else{if(!Ext.isObject(g)){g={}}d.animate(Ext.applyIf({to:{x:a,y:c,width:d.adjustWidth(e),height:d.adjustHeight(b)}},g))}return d},setRegion:function(a,b){return this.setBounds(a.left,a.top,a.right-a.left,a.bottom-a.top,b)}})})();Ext.override(Ext.Element,{isScrollable:function(){var b=this.dom;return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth},getScroll:function(){var k=this.dom,l=document,j=l.body,p=l.documentElement,d,m,n;if(k==l||k==j){if(Ext.isIE&&Ext.isStrict){d=p.scrollLeft;m=p.scrollTop}else{d=window.pageXOffset;m=window.pageYOffset}n={left:d||(j?j.scrollLeft:0),top:m||(j?j.scrollTop:0)}}else{n={left:k.scrollLeft,top:k.scrollTop}}return n},scrollTo:function(j,q,k){var n=/top/i.test(j),r=this,m=r.dom,p={},l;if(!k||!r.anim){l="scroll"+(n?"Top":"Left");m[l]=q}else{if(!Ext.isObject(k)){k={}}p["scroll"+(n?"Top":"Left")]=q;r.animate(Ext.applyIf({to:p},k))
}return r},scrollIntoView:function(A,x){A=Ext.getDom(A)||Ext.getBody().dom;var z=this.dom,v=this.getOffsetsTo(A),w=v[0]+A.scrollLeft,t=v[1]+A.scrollTop,B=t+z.offsetHeight,s=w+z.offsetWidth,p=A.clientHeight,q=parseInt(A.scrollTop,10),y=parseInt(A.scrollLeft,10),u=q+p,r=y+A.clientWidth;if(z.offsetHeight>p||t<q){A.scrollTop=t}else{if(B>u){A.scrollTop=B-p}}A.scrollTop=A.scrollTop;if(x!==false){if(z.offsetWidth>A.clientWidth||w<y){A.scrollLeft=w}else{if(s>r){A.scrollLeft=s-A.clientWidth}}A.scrollLeft=A.scrollLeft}return this},scrollChildIntoView:function(c,d){Ext.fly(c,"_scrollChildIntoView").scrollIntoView(this,d)},scroll:function(s,A,y){if(!this.isScrollable()){return false}var x=this.dom,w=x.scrollLeft,h=x.scrollTop,r=x.scrollWidth,t=x.scrollHeight,v=x.clientWidth,B=x.clientHeight,z=false,l,u={l:Math.min(w+A,r-v),r:l=Math.max(w-A,0),t:Math.max(h-A,0),b:Math.min(h+A,t-B)};u.d=u.b;u.u=u.t;s=s.substr(0,1);if((l=u[s])>-1){z=true;this.scrollTo(s=="l"||s=="r"?"left":"top",l,this.anim(y))}return z}});Ext.Element.addMethods(function(){var n="visibility",i="display",j="hidden",k="none",p=Ext.baseCSSPrefix+"masked",l=Ext.baseCSSPrefix+"masked-relative",m=Ext.Element.data;return{isVisible:function(c){var b=!this.isStyle(n,j)&&!this.isStyle(i,k),a=this.dom.parentNode;if(c!==true||!b){return b}while(a&&!(/^body/i.test(a.tagName))){if(!Ext.fly(a,"_isVisible").isVisible()){return false}a=a.parentNode}return true},isDisplayed:function(){return !this.isStyle(i,k)},enableDisplayMode:function(a){this.setVisibilityMode(Ext.Element.DISPLAY);if(!Ext.isEmpty(a)){m(this.dom,"originalDisplay",a)}return this},mask:function(t,c){var a=this,g=a.dom,e=g.style.setExpression,b=Ext.DomHelper,d=Ext.baseCSSPrefix+"mask-msg",u,v;if(!(/^body/i.test(g.tagName)&&a.getStyle("position")=="static")){a.addCls(l)}u=m(g,"maskMsg");if(u){u.remove()}u=m(g,"mask");if(u){u.remove()}v=b.append(g,{cls:Ext.baseCSSPrefix+"mask"},true);m(g,"mask",v);a.addCls(p);v.setDisplayed(true);if(typeof t=="string"){var h=b.append(g,{cls:d,cn:{tag:"div"}},true);m(g,"maskMsg",h);h.dom.className=c?d+" "+c:d;h.dom.firstChild.innerHTML=t;h.setDisplayed(true);h.center(a)}if(!Ext.supports.IncludePaddingInWidthCalculation&&e){v.dom.style.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(!Ext.supports.IncludePaddingInHeightCalculation&&e){v.dom.style.setExpression("height",'this.parentNode.offsetHeight + "px"')}else{if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&a.getStyle("height")=="auto"){v.setSize(undefined,a.getHeight())}}return v},unmask:function(){var b=this,a=b.dom,d=m(a,"mask"),c=m(a,"maskMsg");if(d){if(d.dom.style.clearExpression){d.dom.style.clearExpression("width");d.dom.style.clearExpression("height")}if(c){c.remove();m(a,"maskMsg",undefined)}d.remove();m(a,"mask",undefined);b.removeCls([p,l])}},isMasked:function(){var a=this,c=m(a.dom,"mask"),b=m(a.dom,"maskMsg");if(c&&c.isVisible()){if(b){b.center(a)}return true}return false},createShim:function(){var b=document.createElement("iframe"),a;b.frameBorder="0";b.className=Ext.baseCSSPrefix+"shim";b.src=Ext.SSL_SECURE_URL;a=Ext.get(this.dom.parentNode.insertBefore(b,this.dom));a.autoBoxAdjust=false;return a}}}());Ext.Element.addMethods({addKeyListener:function(e,h,i){var g;if(typeof e!="object"||Ext.isArray(e)){g={key:e,fn:h,scope:i}}else{g={key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:h,scope:i}}return Ext.create("Ext.util.KeyMap",this,g)},addKeyMap:function(b){return Ext.create("Ext.util.KeyMap",this,b)}});Ext.CompositeElementLite.importElementMethods();Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(g,e){if(!g){return this}if(typeof g=="string"){g=Ext.Element.selectorFunction(g,e)}var d=this.elements;Ext.each(g,function(a){d.push(Ext.get(a))});return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(b){return this.indexOf(b)!=-1},removeElement:function(j,i){var k=this,h=this.elements,g;Ext.each(j,function(a){if((g=(h[a]||h[a=k.indexOf(a)]))){if(i){if(g.dom){g.remove()}else{Ext.removeNode(g)}}Ext.Array.erase(h,a,1)}});return this}});Ext.CompositeElement=Ext.extend(Ext.CompositeElementLite,{constructor:function(c,d){this.elements=[];
this.add(c,d)},getElement:function(b){return b},transformElement:function(b){return Ext.get(b)}});Ext.Element.select=function(g,h,e){var i;if(typeof g=="string"){i=Ext.Element.selectorFunction(g,e)}else{if(g.length!==undefined){i=g}else{}}return(h===true)?new Ext.CompositeElement(i):new Ext.CompositeElementLite(i)};Ext.select=Ext.Element.select;Ext.define("Ext.util.Observable",{requires:["Ext.util.Event"],statics:{releaseCapture:function(b){b.fireEvent=this.prototype.fireEvent},capture:function(g,d,e){g.fireEvent=Ext.Function.createInterceptor(g.fireEvent,d,e)},observe:function(d,c){if(d){if(!d.isObservable){Ext.applyIf(d,new this());this.capture(d.prototype,d.fireEvent,d)}if(Ext.isObject(c)){d.on(c)}return d}}},isObservable:true,constructor:function(d){var c=this;Ext.apply(c,d);if(c.listeners){c.on(c.listeners);delete c.listeners}c.events=c.events||{};if(c.bubbleEvents){c.enableBubble(c.bubbleEvents)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal|freezeEvent)$/,addManagedListener:function(l,q,n,p,r){var m=this,k=m.managedListeners=m.managedListeners||[],j;if(typeof q!=="string"){r=q;for(q in r){if(r.hasOwnProperty(q)){j=r[q];if(!m.eventOptionsRe.test(q)){m.addManagedListener(l,q,j.fn||j,j.scope||r.scope,j.fn?j:r)}}}}else{k.push({item:l,ename:q,fn:n,scope:p,options:r});l.on(q,n,p,r)}},removeManagedListener:function(n,t,q,m){var r=this,i,u,p,v,s;if(typeof t!=="string"){i=t;for(t in i){if(i.hasOwnProperty(t)){u=i[t];if(!r.eventOptionsRe.test(t)){r.removeManagedListener(n,t,u.fn||u,u.scope||i.scope)}}}}p=r.managedListeners?r.managedListeners.slice():[];for(s=0,v=p.length;s<v;s++){r.removeManagedListenerItem(false,p[s],n,t,q,m)}},fireEvent:function(g){var k=g.toLowerCase(),j=this.events,i=j&&j[k],h=i&&i.bubble;return this.continueFireEvent(k,Ext.Array.slice(arguments,1),h)},continueFireEvent:function(p,m,i){var k=this,j,l,n=true;do{if(k.eventsSuspended===true){if((j=k.eventQueue)){j.push([p,m,i])}return n}else{l=k.events[p];if(l&&l!=true){if((n=l.fire.apply(l,m))===false){break}}}}while(i&&(k=k.getBubbleParent()));return n},getBubbleParent:function(){var c=this,d=c.getBubbleTarget&&c.getBubbleTarget();if(d&&d.isObservable){return d}return null},addListener:function(p,m,n,i){var k=this,j,l;if(typeof p!=="string"){i=p;for(p in i){if(i.hasOwnProperty(p)){j=i[p];if(!k.eventOptionsRe.test(p)){k.addListener(p,j.fn||j,j.scope||i.scope,j.fn?j:i)}}}}else{p=p.toLowerCase();k.events[p]=k.events[p]||true;l=k.events[p]||true;if(Ext.isBoolean(l)){k.events[p]=l=new Ext.util.Event(k,p)}l.addListener(m,n,Ext.isObject(i)?i:{})}},removeListener:function(p,m,n){var k=this,i,l,j;if(typeof p!=="string"){j=p;for(p in j){if(j.hasOwnProperty(p)){i=j[p];if(!k.eventOptionsRe.test(p)){k.removeListener(p,i.fn||i,i.scope||j.scope)}}}}else{p=p.toLowerCase();l=k.events[p];if(l&&l.isEvent){l.removeListener(m,n)}}},clearListeners:function(){var d=this.events,g,e;for(e in d){if(d.hasOwnProperty(e)){g=d[e];if(g.isEvent){g.clearListeners()}}}this.clearManagedListeners()},clearManagedListeners:function(){var d=this.managedListeners||[],g=0,e=d.length;for(;g<e;g++){this.removeManagedListenerItem(true,d[g])}this.managedListeners=[]},removeManagedListenerItem:function(h,i,j,m,k,l){if(h||(i.item===j&&i.ename===m&&(!k||i.fn===k)&&(!l||i.scope===l))){i.item.un(i.ename,i.fn,i.scope);if(!h){Ext.Array.remove(this.managedListeners,i)}}},addEvents:function(i){var j=this,g,h,k;j.events=j.events||{};if(Ext.isString(i)){g=arguments;k=g.length;while(k--){j.events[g[k]]=j.events[g[k]]||true}}else{Ext.applyIf(j.events,i)}},hasListener:function(d){var c=this.events[d.toLowerCase()];return c&&c.isEvent===true&&c.listeners.length>0},suspendEvents:function(b){this.eventsSuspended=true;if(b&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var d=this,c=d.eventQueue;d.eventsSuspended=false;delete d.eventQueue;if(c){Ext.each(c,function(a){d.continueFireEvent.apply(d,a)})}},relayEvents:function(r,p,l){l=l||"";var m=this,k=p.length,q=0,n,i;for(;q<k;q++){n=p[q].substr(l.length);i=l+n;
m.events[i]=m.events[i]||true;r.on(n,m.createRelayer(i))}},createRelayer:function(d){var c=this;return function(){return c.fireEvent.apply(c,[d].concat(Array.prototype.slice.call(arguments,0,-1)))}},enableBubble:function(d){var c=this;if(!Ext.isEmpty(d)){d=Ext.isArray(d)?d:Ext.Array.toArray(arguments);Ext.each(d,function(b){b=b.toLowerCase();var a=c.events[b]||true;if(Ext.isBoolean(a)){a=new Ext.util.Event(c,b);c.events[b]=a}a.bubble=true})}}},function(){this.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});this.observeClass=this.observe;Ext.apply(Ext.util.Observable.prototype,function(){function b(e){var k=(this.methodEvents=this.methodEvents||{})[e],n,p,m,l=this;if(!k){this.methodEvents[e]=k={};k.originalFn=this[e];k.methodName=e;k.before=[];k.after=[];var a=function(c,d,g){if((p=c.apply(d||l,g))!==undefined){if(typeof p=="object"){if(p.returnValue!==undefined){n=p.returnValue}else{n=p}m=!!p.cancel}else{if(p===false){m=true}else{n=p}}}};this[e]=function(){var d=Array.prototype.slice.call(arguments,0),g,c,h;n=p=undefined;m=false;for(c=0,h=k.before.length;c<h;c++){g=k.before[c];a(g.fn,g.scope,d);if(m){return n}}if((p=k.originalFn.apply(l,d))!==undefined){n=p}for(c=0,h=k.after.length;c<h;c++){g=k.after[c];a(g.fn,g.scope,d);if(m){return n}}return n}}return k}return{beforeMethod:function(e,g,a){b.call(this,e).before.push({fn:g,scope:a})},afterMethod:function(e,g,a){b.call(this,e).after.push({fn:g,scope:a})},removeMethodListener:function(e,k,l){var i=this.getMethodEvent(e),m,a;for(m=0,a=i.before.length;m<a;m++){if(i.before[m].fn==k&&i.before[m].scope==l){Ext.Array.erase(i.before,m,1);return}}for(m=0,a=i.after.length;m<a;m++){if(i.after[m].fn==k&&i.after[m].scope==l){Ext.Array.erase(i.after,m,1);return}}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(d){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(d,arguments)}})}}}())});Ext.define("Ext.util.Animate",{uses:["Ext.fx.Manager","Ext.fx.Anim"],animate:function(d){var c=this;if(Ext.fx.Manager.hasFxBlock(c.id)){return c}Ext.fx.Manager.queueFx(Ext.create("Ext.fx.Anim",c.anim(d)));return this},anim:function(d){if(!Ext.isObject(d)){return(d)?{}:false}var c=this;if(d.stopAnimation){c.stopAnimation()}Ext.applyIf(d,Ext.fx.Manager.getFxDefaults(c.id));return Ext.apply({target:c,paused:true},d)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()});Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(d){d=d||{};var c=this;Ext.apply(c,d);c.addEvents("statechange");c.state={};c.mixins.observable.constructor.call(c)},get:function(c,d){return typeof this.state[c]=="undefined"?d:this.state[c]},clear:function(d){var c=this;delete c.state[d];c.fireEvent("statechange",c,d,null)},set:function(e,g){var d=this;d.state[e]=g;d.fireEvent("statechange",d,e,g)},decodeValue:function(l){var n=this,p=/^(a|n|d|b|s|o|e)\:(.*)$/,m=p.exec(unescape(l)),i,j,l,k;if(!m||!m[1]){return}j=m[1];l=m[2];switch(j){case"e":return null;case"n":return parseFloat(l);case"d":return new Date(Date.parse(l));case"b":return(l=="1");case"a":i=[];if(l!=""){Ext.each(l.split("^"),function(a){i.push(n.decodeValue(a))},n)}return i;case"o":i={};if(l!=""){Ext.each(l.split("^"),function(a){k=a.split("=");i[k[0]]=n.decodeValue(k[1])},n)}return i;default:return l}},encodeValue:function(k){var j="",l=0,h,i,m;if(k==null){return"e:1"}else{if(typeof k=="number"){h="n:"+k}else{if(typeof k=="boolean"){h="b:"+(k?"1":"0")}else{if(Ext.isDate(k)){h="d:"+k.toGMTString()
}else{if(Ext.isArray(k)){for(i=k.length;l<i;l++){j+=this.encodeValue(k[l]);if(l!=i-1){j+="^"}}h="a:"+j}else{if(typeof k=="object"){for(m in k){if(typeof k[m]!="function"&&k[m]!==undefined){j+=m+"="+this.encodeValue(k[m])+"^"}}h="o:"+j.substring(0,j.length-1)}else{h="s:"+k}}}}}}return escape(h)}});Ext.define("Ext.ComponentQuery",{singleton:true,uses:["Ext.ComponentManager"]},function(){var v=this,s=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),x=function(a,b){return b.method.apply(this,[a].concat(b.args))},B=function(e,a){var h=[],d=0,b=e.length,c,g=a!==">";for(;d<b;d++){c=e[d];if(c.getRefItems){h=h.concat(c.getRefItems(g))}}return h},w=function(d){var e=[],c=0,a=d.length,b;for(;c<a;c++){b=d[c];while(!!(b=(b.ownerCt||b.floatParent))){e.push(b)}}return e},q=function(g,a,b){if(a==="*"){return g.slice()}else{var h=[],e=0,c=g.length,d;for(;e<c;e++){d=g[e];if(d.isXType(a,b)){h.push(d)}}return h}},t=function(g,c){var a=Ext.Array,h=[],e=0,b=g.length,d;for(;e<b;e++){d=g[e];if(d.el?d.el.hasCls(c):a.contains(d.initCls(),c)){h.push(d)}}return h},p=function(g,a,h,b){var i=[],e=0,c=g.length,d;for(;e<c;e++){d=g[e];if(!b?!!d[a]:(String(d[a])===b)){i.push(d)}}return i},y=function(e,a){var g=[],d=0,b=e.length,c;for(;d<b;d++){c=e[d];if(c.getItemId()===a){g.push(c)}}return g},r=function(c,b,a){return v.pseudos[b](c,a)},u=/^(\s?([>\^])\s?|\s|$)/,z=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,A=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:q},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:p},{re:/^#([\w\-]+)/,method:y},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:r},{re:/^(?:\{([^\}]+)\})/,method:s}];v.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(e){var c=this.operations,b=0,a=c.length,d,g;if(!e){g=Ext.ComponentManager.all.getArray()}else{if(Ext.isArray(e)){g=e}}for(;b<a;b++){d=c[b];if(d.mode==="^"){g=w(g||[e])}else{if(d.mode){g=B(g||[e],d.mode)}else{g=x(g||B([e]),d)}}if(b===a-1){return g}}return[]},is:function(e){var g=this.operations,b=Ext.isArray(e)?e:[e],h=b.length,a=g[g.length-1],c,d;b=x(b,a);if(b.length===h){if(g.length>1){for(d=0,c=b.length;d<c;d++){if(Ext.Array.indexOf(this.execute(),b[d])===-1){return false}}}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(b,i){var a=Ext.ComponentQuery,d=0,c=b.length,e=[],g=-1,h;for(;d<c;++d){h=b[d];if(!a.is(h,i)){e[++g]=h}}return e},last:function(a){return a[a.length-1]}},query:function(b,g){var e=b.split(","),c=e.length,a=0,l=[],d=[],h={},j,k,i;for(;a<c;a++){b=Ext.String.trim(e[a]);j=this.cache[b];if(!j){this.cache[b]=j=this.parse(b)}l=l.concat(j.execute(g))}if(c>1){k=l.length;for(a=0;a<k;a++){i=l[a];if(!h[i.id]){d.push(i);h[i.id]=true}}l=d}return l},is:function(b,c){if(!c){return true}var a=this.cache[c];if(!a){this.cache[c]=a=this.parse(c)}return a.is(b)},parse:function(l){var b=[],a=A.length,h,k,g,e,d,j,i,c;while(l&&h!==l){h=l;k=l.match(z);if(k){g=k[1];if(g==="#"){b.push({method:y,args:[Ext.String.trim(k[2])]})}else{if(g==="."){b.push({method:t,args:[Ext.String.trim(k[2])]})}else{b.push({method:q,args:[Ext.String.trim(k[2]),Boolean(k[3])]})}}l=l.replace(k[0],"")}while(!(e=l.match(u))){for(j=0;l&&j<a;j++){i=A[j];d=l.match(i.re);c=i.method;if(d){b.push({method:Ext.isString(i.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[c].concat(d.slice(1)))):i.method,args:d.slice(1)});l=l.replace(d[0],"");break}}}if(e[1]){b.push({mode:e[2]||e[1]});l=l.replace(e[0],"")}}return new v.Query({operations:b})}})});Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.util.Observable"},constructor:function(e){e=e||{};var g=this,d=e.keyFn;g.addEvents("add","clear","remove","replace");g.mixins.observable.constructor.call(g,e);g.clear(true);if(d){g.getKey=d}},getCount:function(){return this.length},getData:function(d,c){if(c===undefined){c=d;d=this.getKey(c)}return[d,c]},getKey:function(b){return b.id},add:function(g,h){var e=this,i;if(arguments.length===1){h=g;
g=e.getKey(h)}if(e.containsKey(g)){return e.replace(g,h)}i=e.getData(g,h);g=i[0];h=i[1];e.map[g]=h;++e.length;e.fireEvent("add",e,g,h);return h},replace:function(g,j){var k=this,i=k.map,h;if(!k.containsKey(g)){k.add(g,j)}h=i[g];i[g]=j;k.fireEvent("replace",k,g,j,h);return j},remove:function(c){var d=this.findKey(c);if(d!==undefined){return this.removeAtKey(d)}return false},removeAtKey:function(e){var d=this,g;if(d.containsKey(e)){g=d.map[e];delete d.map[e];--d.length;d.fireEvent("remove",d,e,g);return true}return false},get:function(b){return this.map[b]},clear:function(d){var c=this;c.map={};c.length=0;if(d!==true){c.fireEvent("clear",c)}return c},containsKey:function(b){return this.map[b]!==undefined},contains:function(b){return this.containsKey(this.findKey(b))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(h){var g=[],e,i=this.map;for(e in i){if(i.hasOwnProperty(e)){g.push(h?e:i[e])}}return g},each:function(j,k){var h=Ext.apply({},this.map),g,i=this.length;k=k||this;for(g in h){if(h.hasOwnProperty(g)){if(j.call(k,g,h[g],i)===false){break}}}return this},clone:function(){var g=new this.self(),d=this.map,e;g.suspendEvents();for(e in d){if(d.hasOwnProperty(e)){g.add(e,d[e])}}g.resumeEvents();return g},findKey:function(d){var e,g=this.map;for(e in g){if(g.hasOwnProperty(e)&&g[e]===d){return e}}return undefined}});Ext.define("Ext.state.Manager",{singleton:true,requires:["Ext.state.Provider"],constructor:function(){this.provider=Ext.create("Ext.state.Provider")},setProvider:function(b){this.provider=b},get:function(c,d){return this.provider.get(c,d)},set:function(d,c){this.provider.set(d,c)},clear:function(b){this.provider.clear(b)},getProvider:function(){return this.provider}});Ext.define("Ext.state.Stateful",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.state.Manager"],stateful:true,saveDelay:100,autoGenIdRe:/^((\w+-)|(ext-comp-))\d{4,}$/i,constructor:function(d){var c=this;d=d||{};if(Ext.isDefined(d.stateful)){c.stateful=d.stateful}if(Ext.isDefined(d.saveDelay)){c.saveDelay=d.saveDelay}c.stateId=c.stateId||d.stateId;if(!c.stateEvents){c.stateEvents=[]}if(d.stateEvents){c.stateEvents.concat(d.stateEvents)}this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave");c.mixins.observable.constructor.call(c);if(c.stateful!==false){c.initStateEvents();c.initState()}},initStateEvents:function(){this.addStateEvents(this.stateEvents)},addStateEvents:function(i){if(!Ext.isArray(i)){i=[i]}var h=this,e=0,g=i.length;for(;e<g;++e){h.on(i[e],h.onStateChange,h)}},onStateChange:function(){var c=this,d=c.saveDelay;if(d>0){if(!c.stateTask){c.stateTask=Ext.create("Ext.util.DelayedTask",c.saveState,c)}c.stateTask.delay(c.saveDelay)}else{c.saveState()}},saveState:function(){var e=this,g,d;if(e.stateful!==false){g=e.getStateId();if(g){d=e.getState();if(e.fireEvent("beforestatesave",e,d)!==false){Ext.state.Manager.set(g,d);e.fireEvent("statesave",e,d)}}}},getState:function(){return null},applyState:function(b){if(b){Ext.apply(this,b)}},getStateId:function(){var d=this,c=d.stateId;if(!c){c=d.autoGenIdRe.test(String(d.id))?null:d.id}return c},initState:function(){var e=this,g=e.getStateId(),d;if(e.stateful!==false){if(g){d=Ext.state.Manager.get(g);if(d){d=Ext.apply({},d);if(e.fireEvent("beforestaterestore",e,d)!==false){e.applyState(d);e.fireEvent("staterestore",e,d)}}}}},savePropToState:function(j,k,l){var h=this,m=h[j],i=h.initialConfig;if(h.hasOwnProperty(j)){if(!i||i[j]!==m){if(k){k[l||j]=m}return true}}return false},savePropsToState:function(g,d){var e=this;Ext.each(g,function(a){e.savePropToState(a,d)});return d},destroy:function(){var b=this.stateTask;if(b){b.cancel()}this.clearListeners()}});Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(b){Ext.apply(this,b||{});this.all=Ext.create("Ext.util.HashMap");this.types={}},get:function(b){return this.all.get(b)},register:function(b){this.all.add(b)},unregister:function(b){this.all.remove(b)},registerType:function(c,d){this.types[c]=d;d[this.typeName]=c
},isRegistered:function(b){return this.types[b]!==undefined},create:function(g,h){var e=g[this.typeName]||g.type||h,i=this.types[e];return new i(g)},onAvailable:function(i,k,g){var h=this.all,j;if(h.containsKey(i)){j=h.get(i);k.call(g||j,j)}else{h.on("add",function(a,c,b){if(c==i){k.call(g||b,b);h.un("add",k,g)}})}},each:function(c,d){this.all.each(c,d||this)},getCount:function(){return this.all.getCount()}});Ext.define("Ext.ComponentManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ComponentMgr",singleton:true,typeName:"xtype",create:function(e,h){if(e instanceof Ext.AbstractComponent){return e}else{if(Ext.isString(e)){return Ext.createByAlias("widget."+e)}else{var i=e.xtype||h,g=e;return Ext.createByAlias("widget."+i,g)}}},registerType:function(c,d){this.types[c]=d;d[this.typeName]=c;d.prototype[this.typeName]=c}});Ext.define("Ext.AbstractComponent",{requires:["Ext.ComponentQuery","Ext.ComponentManager"],mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate",state:"Ext.state.Stateful"},uses:["Ext.PluginManager","Ext.ComponentManager","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentQuery","Ext.ComponentLoader","Ext.EventManager","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager"],statics:{AUTO_ID:1000},isComponent:true,getAutoId:function(){return ++Ext.AbstractComponent.AUTO_ID},renderTpl:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:false,disabled:false,draggable:false,floating:false,hideMode:"display",styleHtmlContent:false,styleHtmlCls:Ext.baseCSSPrefix+"html",autoShow:false,autoRender:false,needsLayout:false,allowDomMove:true,rendered:false,componentLayoutCounter:0,weight:0,trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,maskOnDisable:true,constructor:function(e){var h=this,i,g;e=e||{};h.initialConfig=e;Ext.apply(h,e);h.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","resize","move");h.getId();h.mons=[];h.additionalCls=[];h.renderData=h.renderData||{};h.renderSelectors=h.renderSelectors||{};if(h.plugins){h.plugins=[].concat(h.plugins);h.constructPlugins()}h.initComponent();Ext.ComponentManager.register(h);h.mixins.observable.constructor.call(h);h.mixins.state.constructor.call(h,e);this.addStateEvents("resize");if(h.plugins){h.plugins=[].concat(h.plugins);for(i=0,g=h.plugins.length;i<g;i++){h.plugins[i]=h.initPlugin(h.plugins[i])}}h.loader=h.getLoader();if(h.renderTo){h.render(h.renderTo)}if(h.autoShow){h.show()}},initComponent:function(){this.constructPlugins()},getState:function(){var l=this,m=l.ownerCt?(l.shadowOwnerCt||l.ownerCt).getLayout():null,k={collapsed:l.collapsed},p=l.width,i=l.height,j=l.collapseMemento,n;if(l.collapsed&&j){if(Ext.isDefined(j.data.width)){p=j.width}if(Ext.isDefined(j.data.height)){i=j.height}}if(m&&l.flex){k.flex=l.flex;if(m.perpendicularPrefix){k[m.perpendicularPrefix]=l["get"+m.perpendicularPrefixCap]()}else{}}else{if(m&&l.anchor){k.anchor=l.anchor;n=l.anchor.split(" ").concat(null);if(!n[0]){if(l.width){k.width=p}}if(!n[1]){if(l.height){k.height=i}}}else{if(l.width){k.width=p}if(l.height){k.height=i}}}if(k.width==l.initialConfig.width){delete k.width}if(k.height==l.initialConfig.height){delete k.height}if(m&&m.align&&(m.align.indexOf("stretch")!==-1)){delete k[m.perpendicularPrefix]}return k},show:Ext.emptyFn,animate:function(u){var q=this,m;u=u||{};m=u.to||{};if(Ext.fx.Manager.hasFxBlock(q.id)){return q}if(!u.dynamic&&(m.height||m.width)){var r=q.getWidth(),h=r,s=q.getHeight(),t=s,v=false;if(m.height&&m.height>s){t=m.height;v=true}if(m.width&&m.width>r){h=m.width;v=true}if(v){var n=!Ext.isNumber(q.width),p=!Ext.isNumber(q.height);q.componentLayout.childrenChanged=true;q.setSize(h,t,q.ownerCt);q.el.setSize(r,s);if(n){delete q.width}if(p){delete q.height}}}return q.mixins.animate.animate.apply(q,arguments)},findLayoutController:function(){return this.findParentBy(function(b){return !b.ownerCt||(b.layout.layoutBusy&&!b.ownerCt.layout.layoutBusy)
})},onShow:function(){var b=this.needsLayout;if(Ext.isObject(b)){this.doComponentLayout(b.width,b.height,b.isSetSize,b.ownerCt)}},constructPlugin:function(b){if(b.ptype&&typeof b.init!="function"){b.cmp=this;b=Ext.PluginManager.create(b)}else{if(typeof b=="string"){b=Ext.PluginManager.create({ptype:b,cmp:this})}}return b},constructPlugins:function(){var h=this,e=h.plugins,i,g;if(e){for(i=0,g=e.length;i<g;i++){e[i]=h.constructPlugin(e[i])}}},initPlugin:function(b){b.init(this);return b},doAutoRender:function(){var b=this;if(b.floating){b.render(document.body)}else{b.render(Ext.isBoolean(b.autoRender)?Ext.getBody():b.autoRender)}},render:function(d,e){var g=this;if(!g.rendered&&g.fireEvent("beforerender",g)!==false){g.rendering=true;if(g.el){g.el=Ext.get(g.el)}if(g.floating){g.onFloatRender()}d=g.initContainer(d);g.onRender(d,e);g.el.setVisibilityMode(Ext.Element[g.hideMode.toUpperCase()]);if(g.overCls){g.el.hover(g.addOverCls,g.removeOverCls,g)}g.fireEvent("render",g);g.initContent();g.afterRender(d);g.fireEvent("afterrender",g);g.initEvents();if(g.hidden){g.el.hide()}if(g.disabled){g.disable(true)}delete g.rendering}return g},onRender:function(i,k){var n=this,q=n.el,p=n.initStyles(),l,m,r;k=n.getInsertPosition(k);if(!q){if(k){q=Ext.DomHelper.insertBefore(k,n.getElConfig(),true)}else{q=Ext.DomHelper.append(i,n.getElConfig(),true)}}else{if(n.allowDomMove!==false){if(k){i.dom.insertBefore(q.dom,k)}else{i.dom.appendChild(q.dom)}}}if(Ext.scopeResetCSS&&!n.ownerCt){if(q.dom==Ext.getBody().dom){q.parent().addCls(Ext.baseCSSPrefix+"reset")}else{n.resetEl=q.wrap({cls:Ext.baseCSSPrefix+"reset"})}}n.setUI(n.ui);q.addCls(n.initCls());q.setStyle(p);n.el=q;n.initFrame();l=n.initRenderTpl();if(l){m=n.initRenderData();l.append(n.getTargetEl(),m)}n.applyRenderSelectors();n.rendered=true},afterRender:function(){var e=this,g,d;e.getComponentLayout();if(e.collapsed||(!e.ownerCt||(e.height||e.width))){e.setSize(e.width,e.height)}else{e.renderChildren()}if(e.floating&&(e.x===undefined||e.y===undefined)){if(e.floatParent){d=e.el.getAlignToXY(e.floatParent.getTargetEl(),"c-c");g=e.floatParent.getTargetEl().translatePoints(d[0],d[1])}else{d=e.el.getAlignToXY(e.container,"c-c");g=e.container.translatePoints(d[0],d[1])}e.x=e.x===undefined?g.left:e.x;e.y=e.y===undefined?g.top:e.y}if(Ext.isDefined(e.x)||Ext.isDefined(e.y)){e.setPosition(e.x,e.y)}if(e.styleHtmlContent){e.getTargetEl().addCls(e.styleHtmlCls)}},registerFloatingItem:function(c){var d=this;if(!d.floatingItems){d.floatingItems=Ext.create("Ext.ZIndexManager",d)}d.floatingItems.register(c)},renderChildren:function(){var c=this,d=c.getComponentLayout();c.suspendLayout=true;d.renderChildren();delete c.suspendLayout},frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[-]frame\d+[TMB][LCR]$/,frameElementCls:{tl:[],tc:[],tr:[],ml:[],mc:[],mr:[],bl:[],bc:[],br:[]},frameTpl:['<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl></tpl>" style="background-position: {tl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl></tpl>" style="background-position: {tr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl></tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl></tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl></tpl>" style="background-position: {mr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl></tpl>" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl></tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl></tpl>" style="background-position: {br}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl></tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>"],frameTableTpl:["<table><tbody>",'<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl></tpl>" style="background-position: {tl}; padding-left:{frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl></tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl></tpl>" style="background-position: {tr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl></tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl></tpl>" style="background-position: 0 0;" role="presentation"></td>','<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl></tpl>" style="background-position: {mr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl></tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl></tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl if="uiCls"><tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl></tpl>" style="background-position: {br}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>"],initFrame:function(){if(Ext.supports.CSS3BorderRadius){return false
}var i=this,j=i.getFrameInfo(),g=j.width,h=i.getFrameTpl(j.table),k;if(i.frame){i.frameGenId=k=(i.frameGenId||0)+1;k=i.id+"-frame"+k;h.insertFirst(i.el,Ext.apply({},{fgid:k,ui:i.ui,uiCls:i.uiCls,frameCls:i.frameCls,baseCls:i.baseCls,frameWidth:g,top:!!j.top,left:!!j.left,right:!!j.right,bottom:!!j.bottom},i.getFramePositions(j)));i.frameBody=i.el.down("."+i.frameCls+"-mc");i.removeChildEls(function(a){return a.id&&i.frameIdRegex.test(a.id)});Ext.each(["TL","TC","TR","ML","MC","MR","BL","BC","BR"],function(a){i.childEls.push({name:"frame"+a,id:k+a})})}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius){return false}var m=this,k=this.frameSize&&this.frameSize.table,l=this.frameTL,n=this.frameBL,p=this.frameML,j=this.frameMC,i;this.initFrame();if(j){if(m.frame){delete m.frameTL;delete m.frameTC;delete m.frameTR;delete m.frameML;delete m.frameMC;delete m.frameMR;delete m.frameBL;delete m.frameBC;delete m.frameBR;this.applyRenderSelectors();i=this.frameMC.dom.className;j.insertAfter(this.frameMC);this.frameMC.remove();this.frameBody=this.frameMC=j;j.dom.className=i;if(k){m.el.query("> table")[1].remove()}else{if(l){l.remove()}if(n){n.remove()}p.remove()}}else{}}else{if(m.frame){this.applyRenderSelectors()}}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius){return false}var m=this,j=m.el.getStyle("background-position-x"),k=m.el.getStyle("background-position-y"),l,h=false,i;if(!j&&!k){l=m.el.getStyle("background-position").split(" ");j=l[0];k=l[1]}if(parseInt(j,10)>=1000000&&parseInt(k,10)>=1000000){i=Math.max;h={table:j.substr(0,3)=="110",vertical:k.substr(0,3)=="110",top:i(j.substr(3,2),j.substr(5,2)),right:i(j.substr(5,2),k.substr(3,2)),bottom:i(k.substr(3,2),k.substr(5,2)),left:i(k.substr(5,2),j.substr(3,2))};h.width=i(h.top,h.right,h.bottom,h.left);m.el.setStyle("background-image","none")}if(m.frame===true&&!h){}m.frame=m.frame||!!h;m.frameSize=h||false;return h},getFramePositions:function(p){var m=this,l=p.width,k=m.dock,q,s,n,r,t;if(p.vertical){s="0 -"+(l*0)+"px";n="0 -"+(l*1)+"px";if(k&&k=="right"){s="right -"+(l*0)+"px";n="right -"+(l*1)+"px"}q={tl:"0 -"+(l*0)+"px",tr:"0 -"+(l*1)+"px",bl:"0 -"+(l*2)+"px",br:"0 -"+(l*3)+"px",ml:"-"+(l*1)+"px 0",mr:"right 0",tc:s,bc:n}}else{r="-"+(l*0)+"px 0";t="right 0";if(k&&k=="bottom"){r="left bottom";t="right bottom"}q={tl:"0 -"+(l*2)+"px",tr:"right -"+(l*3)+"px",bl:"0 -"+(l*4)+"px",br:"right -"+(l*5)+"px",ml:r,mr:t,tc:"0 -"+(l*0)+"px",bc:"0 -"+(l*1)+"px"}}return q},getFrameTpl:function(b){return b?this.getTpl("frameTableTpl"):this.getTpl("frameTpl")},initCls:function(){var c=this,d=[];d.push(c.baseCls);if(Ext.isDefined(c.cmpCls)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.")}c.componentCls=c.cmpCls;delete c.cmpCls}if(c.componentCls){d.push(c.componentCls)}else{c.componentCls=c.baseCls}if(c.cls){d.push(c.cls);delete c.cls}return d.concat(c.additionalCls)},setUI:function(l){var m=this,i=Ext.Array.clone(m.uiCls),k=[],n=[],j,p;for(p=0;p<i.length;p++){j=i[p];n=n.concat(m.removeClsWithUI(j,true));k.push(j)}if(n.length){m.removeCls(n)}m.removeUIFromElement();m.ui=l;m.addUIToElement();n=[];for(p=0;p<k.length;p++){j=k[p];n=n.concat(m.addClsWithUI(j,true))}if(n.length){m.addCls(n)}},addClsWithUI:function(h,i){var j=this,k=[],g;if(!Ext.isArray(h)){h=[h]}for(g=0;g<h.length;g++){if(h[g]&&!j.hasUICls(h[g])){j.uiCls=Ext.Array.clone(j.uiCls);j.uiCls.push(h[g]);k=k.concat(j.addUIClsToElement(h[g]))}}if(i!==true){j.addCls(k)}return k},removeClsWithUI:function(h,i){var j=this,k=[],g;if(!Ext.isArray(h)){h=[h]}for(g=0;g<h.length;g++){if(h[g]&&j.hasUICls(h[g])){j.uiCls=Ext.Array.remove(j.uiCls,h[g]);k=k.concat(j.removeUIClsFromElement(h[g]))}}if(i!==true){j.removeCls(k)}return k},hasUICls:function(e){var d=this,g=d.uiCls||[];return Ext.Array.contains(g,e)},addUIClsToElement:function(j,v){var p=this,i=[],n=p.frameElementCls;i.push(Ext.baseCSSPrefix+j);i.push(p.baseCls+"-"+j);i.push(p.baseCls+"-"+p.ui+"-"+j);if(!v&&p.frame&&!Ext.supports.CSS3BorderRadius){var r=["tl","tc","tr","ml","mc","mr","bl","bc","br"],t,q,s,u;
for(q=0;q<r.length;q++){u=p["frame"+r[q].toUpperCase()];t=[p.baseCls+"-"+p.ui+"-"+r[q],p.baseCls+"-"+p.ui+"-"+j+"-"+r[q]];if(u&&u.dom){u.addCls(t)}else{for(s=0;s<t.length;s++){if(Ext.Array.indexOf(n[r[q]],t[s])==-1){n[r[q]].push(t[s])}}}}}p.frameElementCls=n;return i},removeUIClsFromElement:function(i,l){var m=this,k=[],n=m.frameElementCls;k.push(Ext.baseCSSPrefix+i);k.push(m.baseCls+"-"+i);k.push(m.baseCls+"-"+m.ui+"-"+i);if(!l&&m.frame&&!Ext.supports.CSS3BorderRadius){var q=["tl","tc","tr","ml","mc","mr","bl","bc","br"],r,p;i=m.baseCls+"-"+m.ui+"-"+i+"-"+q[r];for(r=0;r<q.length;r++){p=m["frame"+q[r].toUpperCase()];if(p&&p.dom){p.removeCls(i)}else{Ext.Array.remove(n[q[r]],i)}}}m.frameElementCls=n;return k},addUIToElement:function(k){var l=this,m=l.frameElementCls;l.addCls(l.baseCls+"-"+l.ui);if(l.frame&&!Ext.supports.CSS3BorderRadius){var p=["tl","tc","tr","ml","mc","mr","bl","bc","br"],i,n,j;for(i=0;i<p.length;i++){n=l["frame"+p[i].toUpperCase()];j=l.baseCls+"-"+l.ui+"-"+p[i];if(n){n.addCls(j)}else{if(!Ext.Array.contains(m[p[i]],j)){m[p[i]].push(j)}}}}},removeUIFromElement:function(){var k=this,l=k.frameElementCls;k.removeCls(k.baseCls+"-"+k.ui);if(k.frame&&!Ext.supports.CSS3BorderRadius){var n=["tl","tc","tr","ml","mc","mr","bl","bc","br"],p,i,m,j;for(p=0;p<n.length;p++){m=k["frame"+n[p].toUpperCase()];j=k.baseCls+"-"+k.ui+"-"+n[p];if(m){m.removeCls(j)}else{Ext.Array.remove(l[n[p]],j)}}}},getElConfig:function(){if(Ext.isString(this.autoEl)){this.autoEl={tag:this.autoEl}}var b=this.autoEl||{tag:"div"};b.id=this.id;return b},getInsertPosition:function(b){if(b!==undefined){if(Ext.isNumber(b)){b=this.container.dom.childNodes[b]}else{b=Ext.getDom(b)}}return b},initContainer:function(d){var c=this;if(!d&&c.el){d=c.el.dom.parentNode;c.allowDomMove=false}c.container=Ext.get(d);if(c.ctCls){c.container.addCls(c.ctCls)}return c.container},initRenderData:function(){var b=this;return Ext.applyIf(b.renderData,{id:b.id,ui:b.ui,uiCls:b.uiCls,baseCls:b.baseCls,componentCls:b.componentCls,frame:b.frame})},getTpl:function(k){var i=this,g=i.self.prototype,j,h;if(i.hasOwnProperty(k)){h=i[k];if(h&&!(h instanceof Ext.XTemplate)){i[k]=Ext.ClassManager.dynInstantiate("Ext.XTemplate",h)}return i[k]}if(!(g[k] instanceof Ext.XTemplate)){j=g;do{if(j.hasOwnProperty(k)){h=j[k];if(h&&!(h instanceof Ext.XTemplate)){j[k]=Ext.ClassManager.dynInstantiate("Ext.XTemplate",h);break}}j=j.superclass}while(j)}return g[k]},initRenderTpl:function(){return this.getTpl("renderTpl")},initStyles:function(){var d={},g=this,e=Ext.Element;if(Ext.isString(g.style)){d=e.parseStyles(g.style)}else{d=Ext.apply({},g.style)}if(g.padding!==undefined){d.padding=e.unitizeBox((g.padding===true)?5:g.padding)}if(g.margin!==undefined){d.margin=e.unitizeBox((g.margin===true)?5:g.margin)}delete g.style;return d},initContent:function(){var e=this,h=e.getTargetEl(),g,i;if(e.html){h.update(Ext.DomHelper.markup(e.html));delete e.html}if(e.contentEl){g=Ext.get(e.contentEl);i=Ext.baseCSSPrefix;g.removeCls([i+"hidden",i+"hide-display",i+"hide-offsets",i+"hide-nosize"]);h.appendChild(g.dom)}if(e.tpl){if(!e.tpl.isTemplate){e.tpl=Ext.create("Ext.XTemplate",e.tpl)}if(e.data){e.tpl[e.tplWriteMode](h,e.data);delete e.data}}},initEvents:function(){var k=this,i=k.afterRenderEvents,g,j,h=function(a){k.mon(g,a)};if(i){for(j in i){if(i.hasOwnProperty(j)){g=k[j];if(g&&g.on){Ext.each(i[j],h)}}}}},addChildEls:function(){var c=this,d=c.childEls||(c.childEls=[]);d.push.apply(d,arguments)},removeChildEls:function(l){var m=this,j=m.childEls,n=(m.childEls=[]),k,i,p;for(i=0,k=j.length;i<k;++i){p=j[i];if(!l(p)){n.push(p)}}},applyRenderSelectors:function(){var q=this,p=q.childEls,n=q.renderSelectors,v=q.el,s=v.dom,m,i,t,r,u;if(p){m=q.id+"-";for(r=p.length;r--;){i=t=p[r];if(typeof(i)!="string"){t=i.id||(m+i.itemId);i=i.name}else{t=m+t}q[i]=v.getById(t)}}if(n){for(u in n){if(n.hasOwnProperty(u)&&n[u]){q[u]=Ext.get(Ext.DomQuery.selectNode(n[u],s))}}}},is:function(b){return Ext.ComponentQuery.is(this,b)},up:function(c){var d=this.ownerCt;if(c){for(;d;d=d.ownerCt){if(Ext.ComponentQuery.is(d,c)){return d}}}return d},nextSibling:function(c){var k=this.ownerCt,m,l,i,j;
if(k){m=k.items;i=m.indexOf(this)+1;if(i){if(c){for(l=m.getCount();i<l;i++){if((j=m.getAt(i)).is(c)){return j}}}else{if(i<m.getCount()){return m.getAt(i)}}}}return null},previousSibling:function(c){var j=this.ownerCt,k,h,i;if(j){k=j.items;h=k.indexOf(this);if(h!=-1){if(c){for(--h;h>=0;h--){if((i=k.getAt(h)).is(c)){return i}}}else{if(h){return k.getAt(--h)}}}}return null},previousNode:function(p,n){var k=this,i,l,j,m;if(n&&k.is(p)){return k}i=this.prev(p);if(i){return i}if(k.ownerCt){for(l=k.ownerCt.items.items,m=Ext.Array.indexOf(l,k)-1;m>-1;m--){if(l[m].query){i=l[m].query(p);i=i[i.length-1];if(i){return i}}}return k.ownerCt.previousNode(p,true)}},nextNode:function(p,n){var k=this,i,l,j,m;if(n&&k.is(p)){return k}i=this.next(p);if(i){return i}if(k.ownerCt){for(l=k.ownerCt.items,m=l.indexOf(k)+1,l=l.items,j=l.length;m<j;m++){if(l[m].down){i=l[m].down(p);if(i){return i}}}return k.ownerCt.nextNode(p)}},getId:function(){return this.id||(this.id="ext-comp-"+(this.getAutoId()))},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},isXType:function(c,d){if(Ext.isFunction(c)){c=c.xtype}else{if(Ext.isObject(c)){c=c.statics().xtype}}return !d?("/"+this.getXTypes()+"/").indexOf("/"+c+"/")!=-1:this.self.xtype==c},getXTypes:function(){var i=this.self,h,e,g;if(!i.xtypes){h=[];e=this;while(e){g=e.xtypes;if(g!==undefined){h.unshift.apply(h,g)}e=e.superclass}i.xtypeChain=h;i.xtypes=h.join("/")}return i.xtypes},update:function(e,i,g){var h=this;if(h.tpl&&!Ext.isString(e)){h.data=e;if(h.rendered){h.tpl[h.tplWriteMode](h.getTargetEl(),e||{})}}else{h.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e;if(h.rendered){h.getTargetEl().update(h.html,i,g)}}if(h.rendered){h.doComponentLayout()}},setVisible:function(b){return this[b?"show":"hide"]()},isVisible:function(h){var k=this,i=k,j=!k.hidden,g=k.ownerCt;k.hiddenAncestor=false;if(k.destroyed){return false}if(h&&j&&k.rendered&&g){while(g){if(g.hidden||(g.collapsed&&!(g.getDockedItems&&Ext.Array.contains(g.getDockedItems(),i)))){k.hiddenAncestor=g;j=false;break}i=g;g=g.ownerCt}}return j},enable:function(d){var c=this;if(c.rendered){c.el.removeCls(c.disabledCls);c.el.dom.disabled=false;c.onEnable()}c.disabled=false;if(d!==true){c.fireEvent("enable",c)}return c},disable:function(d){var c=this;if(c.rendered){c.el.addCls(c.disabledCls);c.el.dom.disabled=true;c.onDisable()}c.disabled=true;if(d!==true){c.fireEvent("disable",c)}return c},onEnable:function(){if(this.maskOnDisable){this.el.unmask()}},onDisable:function(){if(this.maskOnDisable){this.el.mask()}},isDisabled:function(){return this.disabled},setDisabled:function(b){return this[b?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(d){var c=this;if(!d){return c}if(!Ext.isArray(d)){d=d.replace(c.trimRe,"").split(c.spacesRe)}if(c.rendered){c.el.addCls(d)}else{c.additionalCls=Ext.Array.unique(c.additionalCls.concat(d))}return c},addClass:function(){return this.addCls.apply(this,arguments)},removeCls:function(d){var c=this;if(!d){return c}if(!Ext.isArray(d)){d=d.replace(c.trimRe,"").split(c.spacesRe)}if(c.rendered){c.el.removeCls(d)}else{if(c.additionalCls.length){Ext.each(d,function(a){Ext.Array.remove(c.additionalCls,a)})}}return c},addOverCls:function(){var b=this;if(!b.disabled){b.el.addCls(b.overCls)}},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(i,l,m,j){var k=this,n,p;if(Ext.isString(i)&&(Ext.isObject(l)||j&&j.element)){if(j.element){n=l;l={};l[i]=n;i=j.element;if(m){l.scope=m}for(p in j){if(j.hasOwnProperty(p)){if(k.eventOptionsRe.test(p)){l[p]=j[p]}}}}if(k[i]&&k[i].on){k.mon(k[i],l)}else{k.afterRenderEvents=k.afterRenderEvents||{};if(!k.afterRenderEvents[i]){k.afterRenderEvents[i]=[]}k.afterRenderEvents[i].push(l)}}return k.mixins.observable.addListener.apply(k,arguments)},removeManagedListenerItem:function(j,k,l,q,n,p){var m=this,r=k.options?k.options.element:null;if(r){r=m[r];if(r&&r.un){if(j||(k.item===l&&k.ename===q&&(!n||k.fn===n)&&(!p||k.scope===p))){r.un(k.ename,k.fn,k.scope);if(!j){Ext.Array.remove(m.managedListeners,k)
}}}}else{return m.mixins.observable.removeManagedListenerItem.apply(m,arguments)}},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},onAdded:function(d,c){this.ownerCt=d;this.fireEvent("added",this,d,c)},onRemoved:function(){var b=this;b.fireEvent("removed",b,b.ownerCt);delete b.ownerCt},beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(e,g){var i=this,h;if(Ext.isObject(e)){g=e.height;e=e.width}if(Ext.isNumber(e)){e=Ext.Number.constrain(e,i.minWidth,i.maxWidth)}if(Ext.isNumber(g)){g=Ext.Number.constrain(g,i.minHeight,i.maxHeight)}if(!i.rendered||!i.isVisible()){if(i.hiddenAncestor){h=i.hiddenAncestor.layoutOnShow;h.remove(i);h.add(i)}i.needsLayout={width:e,height:g,isSetSize:true};if(!i.rendered){i.width=(e!==undefined)?e:i.width;i.height=(g!==undefined)?g:i.height}return i}i.doComponentLayout(e,g,true);return i},isFixedWidth:function(){var c=this,d=c.layoutManagedWidth;if(Ext.isDefined(c.width)||d==1){return true}if(d==2){return false}return(c.ownerCt&&c.ownerCt.isFixedWidth())},isFixedHeight:function(){var d=this,c=d.layoutManagedHeight;if(Ext.isDefined(d.height)||c==1){return true}if(c==2){return false}return(d.ownerCt&&d.ownerCt.isFixedHeight())},setCalculatedSize:function(g,h,i){var k=this,j;if(Ext.isObject(g)){i=g.ownerCt;h=g.height;g=g.width}if(Ext.isNumber(g)){g=Ext.Number.constrain(g,k.minWidth,k.maxWidth)}if(Ext.isNumber(h)){h=Ext.Number.constrain(h,k.minHeight,k.maxHeight)}if(!k.rendered||!k.isVisible()){if(k.hiddenAncestor){j=k.hiddenAncestor.layoutOnShow;j.remove(k);j.add(k)}k.needsLayout={width:g,height:h,isSetSize:false,ownerCt:i};return k}k.doComponentLayout(g,h,false,i);return k},doComponentLayout:function(m,i,p,k){var l=this,n=l.getComponentLayout(),j=n.lastComponentSize||{width:undefined,height:undefined};if(l.rendered&&n){if(!Ext.isDefined(m)){if(l.isFixedWidth()){m=Ext.isDefined(l.width)?l.width:j.width}}if(!Ext.isDefined(i)){if(l.isFixedHeight()){i=Ext.isDefined(l.height)?l.height:j.height}}if(p){l.width=m;l.height=i}n.layout(m,i,p,k)}return l},forceComponentLayout:function(){this.doComponentLayout()},setComponentLayout:function(c){var d=this.componentLayout;if(d&&d.isLayout&&d!=c){d.setOwner(null)}this.componentLayout=c;c.setOwner(this)},getComponentLayout:function(){var b=this;if(!b.componentLayout||!b.componentLayout.isLayout){b.setComponentLayout(Ext.layout.Layout.create(b.componentLayout,"autocomponent"))}return b.componentLayout},afterComponentLayout:function(p,j,i,k){var l=this,m=l.componentLayout,n=l.preLayoutSize;++l.componentLayoutCounter;if(!n||((p!==n.width)||(j!==n.height))){l.fireEvent("resize",l,p,j)}},beforeComponentLayout:function(i,g,e,h){this.preLayoutSize=this.componentLayout.lastComponentSize;return true},setPosition:function(e,g){var d=this;if(Ext.isObject(e)){g=e.y;e=e.x}if(!d.rendered){return d}if(e!==undefined||g!==undefined){d.el.setBox(e,g);d.onPosition(e,g);d.fireEvent("move",d,e,g)}return d},onPosition:Ext.emptyFn,setWidth:function(b){return this.setSize(b)},setHeight:function(b){return this.setSize(undefined,b)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var g=this,d=g.autoLoad?(Ext.isObject(g.autoLoad)?g.autoLoad:{url:g.autoLoad}):null,e=g.loader||d;if(e){if(!e.isLoader){g.loader=Ext.create("Ext.ComponentLoader",Ext.apply({target:g,autoLoad:d},e))}else{e.setTarget(g)}return g.loader}return null},setLoading:function(i,h){var e=this,g;if(e.rendered){if(i!==false&&!e.collapsed){if(Ext.isObject(i)){g=i}else{if(Ext.isString(i)){g={msg:i}}else{g={}}}e.loadMask=e.loadMask||Ext.create("Ext.LoadMask",h?e.getTargetEl():e.el,g);e.loadMask.show()}else{if(e.loadMask){Ext.destroy(e.loadMask);e.loadMask=null}}}return e.loadMask},setDocked:function(d,g){var e=this;e.dock=d;if(g&&e.ownerCt&&e.rendered){e.ownerCt.doComponentLayout()}return e},onDestroy:function(){var b=this;if(b.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(b.setSize,b)
}Ext.destroy(b.componentLayout,b.loadMask,b.floatingItems)},cleanElementRefs:function(){var k=this,m=0,l=k.childEls,n=k.renderSelectors,i,p,j;if(k.rendered){if(l){for(j=l.length;m<j;++m){p=l[m];if(typeof(p)!="string"){p=p.name}delete k[p]}}if(n){for(i in n){if(n.hasOwnProperty(i)){delete k[i]}}}}delete k.rendered;delete k.el;delete k.frameBody},destroy:function(){var b=this;if(!b.isDestroyed){if(b.fireEvent("beforedestroy",b)!==false){b.destroying=true;b.beforeDestroy();if(b.floating){delete b.floatParent;if(b.zIndexManager){b.zIndexManager.unregister(b)}}else{if(b.ownerCt&&b.ownerCt.remove){b.ownerCt.remove(b,false)}}b.onDestroy();Ext.destroy(b.plugins);if(b.rendered){b.el.remove()}b.fireEvent("destroy",b);Ext.ComponentManager.unregister(b);b.mixins.state.destroy.call(b);b.clearListeners();b.cleanElementRefs();b.destroying=false;b.isDestroyed=true}}},getPlugin:function(e){var i=0,g=this.plugins,h=g.length;for(;i<h;i++){if(g[i].pluginId===e){return g[i]}}},isDescendantOf:function(b){return !!this.findParentBy(function(a){return a===b})}},function(){this.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"})});Ext.define("Ext.AbstractPlugin",{disabled:false,constructor:function(b){Ext.apply(this,b)},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.util.Observable"},statics:{requestId:0},url:null,async:true,method:null,username:"",password:"",disableCaching:true,withCredentials:false,cors:false,disableCachingParam:"_dc",timeout:30000,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(b){b=b||{};Ext.apply(this,b);this.addEvents("beforerequest","requestcomplete","requestexception");this.requests={};this.mixins.observable.constructor.call(this)},request:function(l){l=l||{};var q=this,m=l.scope||window,r=l.username||q.username,p=l.password||q.password||"",u,t,s,v,n;if(q.fireEvent("beforerequest",q,l)!==false){t=q.setOptions(l,m);if(this.isFormUpload(l)===true){this.upload(l.form,t.url,t.data,l);return null}if(l.autoAbort===true||q.autoAbort){q.abort()}if((l.cors===true||q.cors===true)&&Ext.isIe&&Ext.ieVersion>=8){n=new XDomainRequest()}else{n=this.getXhrInstance()}u=l.async!==false?(l.async||q.async):false;if(r){n.open(t.method,t.url,u,r,p)}else{n.open(t.method,t.url,u)}if(l.withCredentials===true||q.withCredentials===true){n.withCredentials=true}v=q.setupHeaders(n,l,t.data,t.params);s={id:++Ext.data.Connection.requestId,xhr:n,headers:v,options:l,async:u,timeout:setTimeout(function(){s.timedout=true;q.abort(s)},l.timeout||q.timeout)};q.requests[s.id]=s;q.latestId=s.id;if(u){n.onreadystatechange=Ext.Function.bind(q.onStateChange,q,[s])}n.send(t.data);if(!u){return this.onComplete(s)}return s}else{Ext.callback(l.callback,l.scope,[l,undefined,undefined]);return null}},upload:function(s,u,n,l){s=Ext.getDom(s);l=l||{};var t=Ext.id(),q=document.createElement("iframe"),m=[],p="multipart/form-data",r={target:s.target,method:s.method,encoding:s.encoding,enctype:s.enctype,action:s.action},v;Ext.fly(q).set({id:t,name:t,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(q);if(document.frames){document.frames[t].name=t}Ext.fly(s).set({target:t,method:"POST",enctype:p,encoding:p,action:u||r.action});if(n){Ext.iterate(Ext.Object.fromQueryString(n),function(b,a){v=document.createElement("input");Ext.fly(v).set({type:"hidden",value:a,name:b});s.appendChild(v);m.push(v)})}Ext.fly(q).on("load",Ext.Function.bind(this.onUploadComplete,this,[q,l]),null,{single:true});s.submit();Ext.fly(s).set(r);Ext.each(m,function(a){Ext.removeNode(a)})},onUploadComplete:function(k,e){var p=this,j={responseText:"",responseXML:null},l,m;try{l=k.contentWindow.document||k.contentDocument||window.frames[k.id].document;if(l){if(l.body){if(/textarea/i.test((m=l.body.firstChild||{}).tagName)){j.responseText=m.value}else{j.responseText=l.body.innerHTML
}}j.responseXML=l.XMLDocument||l}}catch(n){}p.fireEvent("requestcomplete",p,j,e);Ext.callback(e.success,e.scope,[j,e]);Ext.callback(e.callback,e.scope,[e,true,j]);setTimeout(function(){Ext.removeNode(k)},100)},isFormUpload:function(d){var c=this.getForm(d);if(c){return(d.isUpload||(/multipart\/form-data/i).test(c.getAttribute("enctype")))}return false},getForm:function(b){return Ext.getDom(b.form)||null},setOptions:function(m,n){var q=this,t=m.params||{},r=q.extraParams,u=m.urlParams,v=m.url||q.url,p=m.jsonData,w,x,s;if(Ext.isFunction(t)){t=t.call(n,m)}if(Ext.isFunction(v)){v=v.call(n,m)}v=this.setupUrl(m,v);s=m.rawData||m.xmlData||p||null;if(p&&!Ext.isPrimitive(p)){s=Ext.encode(s)}if(Ext.isObject(t)){t=Ext.Object.toQueryString(t)}if(Ext.isObject(r)){r=Ext.Object.toQueryString(r)}t=t+((r)?((t)?"&":"")+r:"");u=Ext.isObject(u)?Ext.Object.toQueryString(u):u;t=this.setupParams(m,t);w=(m.method||q.method||((t||s)?"POST":"GET")).toUpperCase();this.setupMethod(m,w);x=m.disableCaching!==false?(m.disableCaching||q.disableCaching):false;if(w==="GET"&&x){v=Ext.urlAppend(v,(m.disableCachingParam||q.disableCachingParam)+"="+(new Date().getTime()))}if((w=="GET"||s)&&t){v=Ext.urlAppend(v,t);t=null}if(u){v=Ext.urlAppend(v,u)}return{url:v,method:w,data:s||t||null}},setupUrl:function(d,e){var g=this.getForm(d);if(g){e=e||g.action}return e},setupParams:function(g,h){var i=this.getForm(g),e;if(i&&!this.isFormUpload(g)){e=Ext.Element.serializeForm(i);h=h?(h+"&"+e):e}return h},setupMethod:function(d,c){if(this.isFormUpload(d)){return"POST"}return c},setupHeaders:function(p,e,w,x){var t=this,y=Ext.apply({},e.headers||{},t.defaultHeaders||{}),q=t.defaultPostHeader,s=e.jsonData,z=e.xmlData,r,v;if(!y["Content-Type"]&&(w||x)){if(w){if(e.rawData){q="text/plain"}else{if(z&&Ext.isDefined(z)){q="text/xml"}else{if(s&&Ext.isDefined(s)){q="application/json"}}}}y["Content-Type"]=q}if(t.useDefaultXhrHeader&&!y["X-Requested-With"]){y["X-Requested-With"]=t.defaultXhrHeader}try{for(r in y){if(y.hasOwnProperty(r)){v=y[r];p.setRequestHeader(r,v)}}}catch(u){t.fireEvent("exception",r,v)}return y},getXhrInstance:(function(){var e=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],k=0,h=e.length,i;for(;k<h;++k){try{i=e[k];i();break}catch(j){}}return i})(),isLoading:function(d){if(!d){d=this.getLatest()}if(!(d&&d.xhr)){return false}var c=d.xhr.readyState;return !(c===0||c==4)},abort:function(c){var d=this;if(!c){c=d.getLatest()}if(c&&d.isLoading(c)){c.xhr.onreadystatechange=null;c.xhr.abort();d.clearTimeout(c);if(!c.timedout){c.aborted=true}d.onComplete(c);d.cleanup(c)}},abortAll:function(){var c=this.requests,d;for(d in c){if(c.hasOwnProperty(d)){this.abort(c[d])}}},getLatest:function(){var c=this.latestId,d;if(c){d=this.requests[c]}return d||null},onStateChange:function(b){if(b.xhr.readyState==4){this.clearTimeout(b);this.onComplete(b);this.cleanup(b)}},clearTimeout:function(b){clearTimeout(b.timeout);delete b.timeout},cleanup:function(b){b.xhr=null;delete b.xhr},onComplete:function(m){var n=this,p=m.options,j,k,e;try{j=n.parseStatus(m.xhr.status)}catch(l){j={success:false,isException:false}}k=j.success;if(k){e=n.createResponse(m);n.fireEvent("requestcomplete",n,e,p);Ext.callback(p.success,p.scope,[e,p])}else{if(j.isException||m.aborted||m.timedout){e=n.createException(m)}else{e=n.createResponse(m)}n.fireEvent("requestexception",n,e,p);Ext.callback(p.failure,p.scope,[e,p])}Ext.callback(p.callback,p.scope,[p,k,e]);delete n.requests[m.id];return e},parseStatus:function(e){e=e==1223?204:e;var g=(e>=200&&e<300)||e==304,d=false;if(!g){switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:d=true;break}}return{success:g,isException:d}},createResponse:function(t){var n=t.xhr,v={},m=n.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),s=m.length,l,r,p,q,u;while(s--){l=m[s];r=l.indexOf(":");if(r>=0){p=l.substr(0,r).toLowerCase();if(l.charAt(r+1)==" "){++r}v[p]=l.substr(r+1)}}t.xhr=null;
delete t.xhr;u={request:t,requestId:t.id,status:n.status,statusText:n.statusText,getResponseHeader:function(a){return v[a.toLowerCase()]},getAllResponseHeaders:function(){return v},responseText:n.responseText,responseXML:n.responseXML};n=null;return u},createException:function(b){return{request:b,requestId:b.id,status:b.aborted?-1:0,statusText:b.aborted?"transaction aborted":"communication failure",aborted:b.aborted,timedout:b.timedout}}});Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:true,autoAbort:false});Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(e,d,g){e.getTarget().update(d.responseText,g.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(d){var g=this,e;d=d||{};Ext.apply(g,d);g.setTarget(g.target);g.addEvents("beforeload","exception","load");g.mixins.observable.constructor.call(g);if(g.autoLoad){e=g.autoLoad;if(e===true){e={}}g.load(e)}},setTarget:function(c){var d=this;c=Ext.get(c);if(d.target&&d.target!=c){d.abort()}d.target=c},getTarget:function(){return this.target||null},abort:function(){var b=this.active;if(b!==undefined){Ext.Ajax.abort(b.request);if(b.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(b){this.target.mask(b===true?null:b)},load:function(l){l=Ext.apply({},l);var p=this,q=p.target,k=Ext.isDefined(l.loadMask)?l.loadMask:p.loadMask,s=Ext.apply({},l.params),t=Ext.apply({},l.ajaxOptions),n=l.callback||p.callback,m=l.scope||p.scope||p,r;Ext.applyIf(t,p.ajaxOptions);Ext.applyIf(l,t);Ext.applyIf(s,p.params);Ext.apply(s,p.baseParams);Ext.applyIf(l,{url:p.url});Ext.apply(l,{scope:p,params:s,callback:p.onComplete});if(p.fireEvent("beforeload",p,l)===false){return}if(k){p.addMask(k)}r=Ext.Ajax.request(l);p.active={request:r,options:l,mask:k,scope:m,callback:n,success:l.success||p.success,failure:l.failure||p.failure,renderer:l.renderer||p.renderer,scripts:Ext.isDefined(l.scripts)?l.scripts:p.scripts};p.setOptions(p.active,l)},setOptions:Ext.emptyFn,onComplete:function(i,k,j){var n=this,l=n.active,p=l.scope,m=n.getRenderer(l.renderer);if(k){k=m.call(n,n,j,l)}if(k){Ext.callback(l.success,p,[n,j,i]);n.fireEvent("load",n,j,i)}else{Ext.callback(l.failure,p,[n,j,i]);n.fireEvent("exception",n,j,i)}Ext.callback(l.callback,p,[n,k,j,i]);if(l.mask){n.removeMask()}delete n.active},getRenderer:function(b){if(Ext.isFunction(b)){return b}return this.statics().Renderer.Html},startAutoRefresh:function(e,d){var g=this;g.stopAutoRefresh();g.autoRefresh=setInterval(function(){g.load(d)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var b=this;b.stopAutoRefresh();delete b.target;b.abort();b.clearListeners()}});Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(h,e,j){var i=true;try{h.getTarget().update(Ext.decode(e.responseText))}catch(k){i=false}return i},Component:function(j,p,l){var k=true,m=j.getTarget(),e=[];try{e=Ext.decode(p.responseText)}catch(n){k=false}if(k){if(l.removeAll){m.removeAll()}m.add(e)}return k}}},target:null,loadMask:false,renderer:"html",setTarget:function(c){var d=this;if(Ext.isString(c)){c=Ext.getCmp(c)}if(d.target&&d.target!=c){d.abort()}d.target=c},removeMask:function(){this.target.setLoading(false)},addMask:function(b){this.target.setLoading(b)},setOptions:function(c,d){c.removeAll=Ext.isDefined(d.removeAll)?d.removeAll:this.removeAll},getRenderer:function(c){if(Ext.isFunction(c)){return c}var d=this.statics().Renderer;switch(c){case"component":return d.Component;case"data":return d.Data;default:return Ext.ElementLoader.Renderer.Html}}});Ext.define("Ext.data.Association",{primaryKey:"id",defaultReaderType:"json",statics:{create:function(b){if(!b.isAssociation){if(Ext.isString(b)){b={type:b}}switch(b.type){case"belongsTo":return Ext.create("Ext.data.BelongsToAssociation",b);
case"hasMany":return Ext.create("Ext.data.HasManyAssociation",b);default:}}return b}},constructor:function(i){Ext.apply(this,i);var p=Ext.ModelManager.types,n=i.ownerModel,l=i.associatedModel,m=p[n],k=p[l],j;this.ownerModel=m;this.associatedModel=k;Ext.applyIf(this,{ownerName:n,associatedName:l})},getReader:function(){var g=this,e=g.reader,d=g.associatedModel;if(e){if(Ext.isString(e)){e={type:e}}if(e.isReader){e.setModel(d)}else{Ext.applyIf(e,{model:d,type:g.defaultReaderType})}g.reader=Ext.createByAlias("reader."+e.type,e)}return g.reader||null}});Ext.define("Ext.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ModelMgr",requires:["Ext.data.Association"],singleton:true,typeName:"mtype",associationStack:[],registerType:function(i,e){var h=e.prototype,g;if(h&&h.isModel){g=e}else{if(!e.extend){e.extend="Ext.data.Model"}g=Ext.define(i,e)}this.types[i]=g;return g},onModelDefined:function(p){var j=this.associationStack,l=j.length,m=[],i,n,k;for(n=0;n<l;n++){i=j[n];if(i.associatedModel==p.modelName){m.push(i)}}for(n=0,l=m.length;n<l;n++){k=m[n];this.types[k.ownerModel].prototype.associations.add(Ext.data.Association.create(k));Ext.Array.remove(j,k)}},registerDeferredAssociation:function(b){this.associationStack.push(b)},getModel:function(c){var d=c;if(typeof d=="string"){d=this.types[d]}return d},create:function(i,e,h){var g=typeof e=="function"?e:this.types[e||i.name];return new g(i,h)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define("Ext.PluginManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.PluginMgr",singleton:true,typeName:"ptype",create:function(d,c){if(d.init){return d}else{return Ext.createByAlias("plugin."+(d.ptype||c),d)}},findByType:function(m,j){var k=[],h=this.types;for(var i in h){if(!h.hasOwnProperty(i)){continue}var l=h[i];if(l.type==m&&(!j||(j===true&&l.isDefault))){k.push(l)}}return k}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}});Ext.define("Ext.Template",{requires:["Ext.DomHelper","Ext.util.Format"],inheritableStatics:{from:function(c,d){c=Ext.getDom(c);return new this(c.value||c.innerHTML,d||"")}},constructor:function(n){var l=this,i=arguments,j=[],p=0,m=i.length,k;l.initialConfig={};if(m>1){for(;p<m;p++){k=i[p];if(typeof k=="object"){Ext.apply(l.initialConfig,k);Ext.apply(l,k)}else{j.push(k)}}n=j.join("")}else{if(Ext.isArray(n)){j.push(n.join(""))}else{j.push(n)}}l.html=j.join("");if(l.compiled){l.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,applyTemplate:function(i){var j=this,m=j.disableFormats!==true,k=Ext.util.Format,h=j;if(j.compiled){return j.compiled(i)}function l(d,b,a,c){if(a&&m){if(c){c=[i[b]].concat(Ext.functionFactory("return ["+c+"];")())}else{c=[i[b]]}if(a.substr(0,5)=="this."){return h[a.substr(5)].apply(h,c)}else{return k[a].apply(k,c)}}else{return i[b]!==undefined?i[b]:""}}return j.html.replace(j.re,l)},set:function(e,g){var d=this;d.html=e;d.compiled=null;return g?d.compile():d},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"',"+format+"values['"+name+"']"+args+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'].join('');};";eval(body);return me},insertFirst:function(d,e,g){return this.doInsert("afterBegin",d,e,g)},insertBefore:function(d,e,g){return this.doInsert("beforeBegin",d,e,g)},insertAfter:function(d,e,g){return this.doInsert("afterEnd",d,e,g)},append:function(d,e,g){return this.doInsert("beforeEnd",d,e,g)},doInsert:function(k,i,g,h){i=Ext.getDom(i);var j=Ext.DomHelper.insertHtml(k,i,this.applyTemplate(g));
return h?Ext.get(j,true):j},overwrite:function(d,e,g){d=Ext.getDom(d);d.innerHTML=this.applyTemplate(e);return g?Ext.get(d.firstChild,true):d.firstChild}},function(){this.createAlias("apply","applyTemplate")});Ext.define("Ext.XTemplate",{extend:"Ext.Template",argsRe:/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,nameRe:/^<tpl\b[^>]*?for="(.*?)"/,ifRe:/^<tpl\b[^>]*?if="(.*?)"/,execRe:/^<tpl\b[^>]*?exec="(.*?)"/,constructor:function(){this.callParent(arguments);var i=this,O=i.html,C=i.argsRe,T=i.nameRe,E=i.ifRe,m=i.execRe,I=0,N=[],K="values",B="parent",M="xindex",L="xcount",S="return ",U="with(values){ ",H,Q,D,V,R,P,G,J,F;O=["<tpl>",O,"</tpl>"].join("");while((H=O.match(C))){R=null;P=null;G=null;Q=H[0].match(T);D=H[0].match(E);V=H[0].match(m);R=D?D[1]:null;if(R){P=Ext.functionFactory(K,B,M,L,U+"try{"+S+Ext.String.htmlDecode(R)+";}catch(e){return;}}")}R=V?V[1]:null;if(R){G=Ext.functionFactory(K,B,M,L,U+Ext.String.htmlDecode(R)+";}")}J=Q?Q[1]:null;if(J){if(J==="."){J=K}else{if(J===".."){J=B}}J=Ext.functionFactory(K,B,"try{"+U+S+J+";}}catch(e){return;}")}N.push({id:I,target:J,exec:G,test:P,body:H[1]||""});O=O.replace(H[0],"{xtpl"+I+"}");I=I+1}for(F=N.length-1;F>=0;--F){i.compileTpl(N[F])}i.master=N[N.length-1];i.tpls=N},applySubTemplate:function(k,j,p,m,l){var n=this,i=n.tpls[k];return i.compiled.call(n,j,p,m,l)},codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?\}/g,compileTpl:function(tpl){var fm=Ext.util.Format,me=this,useFormat=me.disableFormats!==true,body,bodyReturn,evaluatedFn;function fn(m,name,format,args,math){var v;if(name.substr(0,4)=="xtpl"){return"',this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount),'"}if(name=="."){v='Ext.Array.indexOf(["string", "number", "boolean"], typeof values) > -1 || Ext.isDate(values) ? values : ""'}else{if(name=="#"){v="xindex"}else{if(name.substr(0,7)=="parent."){v=name}else{if(name.indexOf(".")!=-1){v="values."+name}else{v="values['"+name+"']"}}}}if(math){v="("+v+math+")"}if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="("+v+" === undefined ? '' : "}return"',"+format+v+args+"),'"}function codeFn(m,code){return"',("+code.replace(me.compileARe,"'")+"),'"}bodyReturn=tpl.body.replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn).replace(me.codeRe,codeFn);body="evaluatedFn = function(values, parent, xindex, xcount){return ['"+bodyReturn+"'].join('');};";eval(body);tpl.compiled=function(values,parent,xindex,xcount){var vs,length,buffer,i;if(tpl.test&&!tpl.test.call(me,values,parent,xindex,xcount)){return""}vs=tpl.target?tpl.target.call(me,values,parent):values;if(!vs){return""}parent=tpl.target?values:parent;if(tpl.target&&Ext.isArray(vs)){buffer=[];length=vs.length;if(tpl.exec){for(i=0;i<length;i++){buffer[buffer.length]=evaluatedFn.call(me,vs[i],parent,i+1,length);tpl.exec.call(me,vs[i],parent,i+1,length)}}else{for(i=0;i<length;i++){buffer[buffer.length]=evaluatedFn.call(me,vs[i],parent,i+1,length)}}return buffer.join("")}if(tpl.exec){tpl.exec.call(me,vs,parent,xindex,xcount)}return evaluatedFn.call(me,vs,parent,xindex,xcount)};return this},applyTemplate:function(b){return this.master.compiled.call(this,b,{},1,1)},compile:function(){return this}},function(){this.createAlias("apply","applyTemplate")});Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.util.Observable"},onClassExtended:function(l,r){var m=Ext.getClassName(l),q=m.match(/^(.*)\.controller\./);if(q!==null){var t=Ext.Loader.getPrefix(m)||q[1],n=r.onBeforeClassCreated,k=[],s=["model","view","store"],p;r.onBeforeClassCreated=function(i,e){var d,b,h,a,g,c,j;for(d=0,b=s.length;d<b;d++){h=s[d];a=Ext.Array.from(e[h+"s"]);for(g=0,c=a.length;g<c;g++){j=a[g];p=Ext.Loader.getPrefix(j);if(p===""||p===j){k.push(t+"."+h+"."+j)}else{k.push(j)}}}Ext.require(k,Ext.Function.pass(n,arguments,this))}}},constructor:function(b){this.mixins.observable.constructor.call(this,b);Ext.apply(this,b||{});this.createGetters("model",this.models);
this.createGetters("store",this.stores);this.createGetters("view",this.views);if(this.refs){this.ref(this.refs)}},init:function(b){},onLaunch:function(b){},createGetters:function(c,d){c=Ext.String.capitalize(c);Ext.Array.each(d,function(b){var g="get",a=b.split(".");Ext.Array.each(a,function(e){g+=Ext.String.capitalize(e)});g+=c;if(!this[g]){this[g]=Ext.Function.pass(this["get"+c],[b],this)}this[g](b)},this)},ref:function(d){var c=this;d=Ext.Array.from(d);Ext.Array.each(d,function(a){var b=a.ref,g="get"+Ext.String.capitalize(b);if(!c[g]){c[g]=Ext.Function.pass(c.getRef,[b,a],c)}})},getRef:function(k,j,h){this.refCache=this.refCache||{};j=j||{};h=h||{};Ext.apply(j,h);if(j.forceCreate){return Ext.ComponentManager.create(j,"component")}var l=this,i=j.selector,m=l.refCache[k];if(!m){l.refCache[k]=m=Ext.ComponentQuery.query(j.selector)[0];if(!m&&j.autoCreate){l.refCache[k]=m=Ext.ComponentManager.create(j,"component")}if(m){m.on("beforedestroy",function(){l.refCache[k]=null})}}return m},control:function(d,c){this.application.control(d,c,this)},getController:function(b){return this.application.getController(b)},getStore:function(b){return this.application.getStore(b)},getModel:function(b){return this.application.getModel(b)},getView:function(b){return this.application.getView(b)}});Ext.define("Ext.data.IdGenerator",{isGenerator:true,constructor:function(d){var c=this;Ext.apply(c,d);if(c.id){Ext.data.IdGenerator.all[c.id]=c}},getRecId:function(b){return b.modelName+"-"+b.internalId},statics:{all:{},get:function(g){var i,h,e;if(typeof g=="string"){h=e=g;g=null}else{if(g.isGenerator){return g}else{h=g.id||g.type;e=g.type}}i=this.all[h];if(!i){i=Ext.create("idgen."+e,g)}return i}}});Ext.define("Ext.data.SortTypes",{singleton:true,none:function(b){return b},stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return String(b).replace(this.stripTagsRE,"")},asUCText:function(b){return String(b).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(b){return String(b).toUpperCase()},asDate:function(b){if(!b){return 0}if(Ext.isDate(b)){return b.getTime()}return Date.parse(String(b))},asFloat:function(d){var c=parseFloat(String(d).replace(/,/g,""));return isNaN(c)?0:c},asInt:function(d){var c=parseInt(String(d).replace(/,/g,""),10);return isNaN(c)?0:c}});Ext.define("Ext.util.Filter",{anyMatch:false,exactMatch:false,caseSensitive:false,constructor:function(d){var c=this;Ext.apply(c,d);c.filter=c.filter||c.filterFn;if(c.filter===undefined){if(c.property===undefined||c.value===undefined){}else{c.filter=c.createFilterFn()}c.filterFn=c.filter}},createFilterFn:function(){var e=this,g=e.createValueMatcher(),d=e.property;return function(b){var a=e.getRoot.call(e,b)[d];return g===null?a===null:g.test(a)}},getRoot:function(c){var d=this.root;return d===undefined?c:c[d]},createValueMatcher:function(){var l=this,k=l.value,j=l.anyMatch,m=l.exactMatch,i=l.caseSensitive,h=Ext.String.escapeRegex;if(k===null){return k}if(!k.exec){k=String(k);if(j===true){k=h(k)}else{k="^"+h(k);if(m===true){k+="$"}}k=new RegExp(k,i?"":"i")}return k}});Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(d){var c=this;Ext.apply(c,d);c.updateSortFunction()},createSortFunction:function(g){var k=this,j=k.property,i=k.direction||"ASC",h=i.toUpperCase()=="DESC"?-1:1;return function(a,b){return h*g.call(k,a,b)}},defaultSorterFn:function(l,m){var h=this,i=h.transform,j=h.getRoot(l)[h.property],k=h.getRoot(m)[h.property];if(i){j=i(j);k=i(k)}return j>k?1:(j<k?-1:0)},getRoot:function(b){return this.root===undefined?b:b[this.root]},setDirection:function(c){var d=this;d.direction=c;d.updateSortFunction()},toggle:function(){var b=this;b.direction=Ext.String.toggle(b.direction,"ASC","DESC");b.updateSortFunction()},updateSortFunction:function(d){var c=this;d=d||c.sorterFn||c.defaultSorterFn;c.sort=c.createSortFunction(d)}});Ext.define("Ext.data.Operation",{synchronous:true,action:undefined,filters:undefined,sorters:undefined,group:undefined,start:undefined,limit:undefined,batch:undefined,callback:undefined,scope:undefined,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(b){Ext.apply(this,b||{})
},commitRecords:function(i){var l=this,k,p,n,m,j;if(!l.actionSkipSyncRe.test(l.action)){n=l.records;if(n&&n.length){k=Ext.create("Ext.util.MixedCollection",true,function(a){return a.getId()});k.addAll(n);for(p=i?i.length:0;p--;){m=i[p];j=k.get(m.getId());if(j){j.beginEdit();j.set(m.data);j.endEdit(true)}}if(l.actionCommitRecordsRe.test(l.action)){for(p=n.length;p--;){n[p].commit()}}}}},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(b){this.exception=true;this.success=false;this.running=false;this.error=b},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var b=this.getResultSet();return(b===undefined?this.records:b.records)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(b){this.batch=b},allowWrite:function(){return this.action!="read"}});Ext.define("Ext.data.validations",{singleton:true,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(d,c){if(c===undefined){c=d}return !!c||c===0},length:function(g,i){if(i===undefined||i===null){return false}var j=i.length,k=g.min,h=g.max;if((k&&j<k)||(h&&j>h)){return false}else{return true}},email:function(c,d){return Ext.data.validations.emailRe.test(d)},format:function(d,c){return !!(d.matcher&&d.matcher.test(c))},inclusion:function(d,c){return d.list&&Ext.Array.indexOf(d.list,c)!=-1},exclusion:function(d,c){return d.list&&Ext.Array.indexOf(d.list,c)==-1}});Ext.define("Ext.data.ResultSet",{loaded:true,count:0,total:0,success:false,constructor:function(b){Ext.apply(this,b);this.totalRecords=this.total;if(b.count===undefined){this.count=this.records.length}}});Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:true,nameProperty:"name",constructor:function(b){Ext.apply(this,b)},write:function(k){var m=k.operation,h=m.records||[],i=h.length,l=0,j=[];for(;l<i;l++){j.push(this.getRecordData(h[l]))}return this.writeRecords(k,j)},getRecordData:function(r){var m=r.phantom===true,u=this.writeAllFields||m,t=this.nameProperty,q=r.fields,s={},n,v,p,l;if(u){q.each(function(a){if(a.persist){v=a[t]||a.name;s[v]=r.get(a.name)}})}else{n=r.getChanges();for(l in n){if(n.hasOwnProperty(l)){p=q.get(l);v=p[t]||p.name;s[v]=n[l]}}if(!m){s[r.idProperty]=r.getId()}}return s}});Ext.define("Ext.util.Floating",{uses:["Ext.Layer","Ext.window.Window"],focusOnToFront:true,shadow:"sides",constructor:function(d){var c=this;c.floating=true;c.el=Ext.create("Ext.Layer",Ext.apply({},d,{hideMode:c.hideMode,hidden:c.hidden,shadow:Ext.isDefined(c.shadow)?c.shadow:"sides",shadowOffset:c.shadowOffset,constrain:false,shim:c.shim===false?false:undefined}),c.el)},onFloatRender:function(){var b=this;b.zIndexParent=b.getZIndexParent();b.setFloatParent(b.ownerCt);delete b.ownerCt;if(b.zIndexParent){b.zIndexParent.registerFloatingItem(b)}else{Ext.WindowManager.register(b)}},setFloatParent:function(c){var d=this;if(d.floatParent){d.mun(d.floatParent,{hide:d.onFloatParentHide,show:d.onFloatParentShow,scope:d})}d.floatParent=c;if(c){d.mon(d.floatParent,{hide:d.onFloatParentHide,show:d.onFloatParentShow,scope:d})}if((d.constrain||d.constrainHeader)&&!d.constrainTo){d.constrainTo=c?c.getTargetEl():d.container}},onFloatParentHide:function(){var b=this;if(b.hideOnParentHide!==false){b.showOnParentShow=b.isVisible();b.hide()}},onFloatParentShow:function(){if(this.showOnParentShow){delete this.showOnParentShow;this.show()}},getZIndexParent:function(){var d=this.ownerCt,c;
if(d){while(d){c=d;d=d.ownerCt}if(c.floating){return c}}},setZIndex:function(d){var c=this;c.el.setZIndex(d);d+=10;if(c.floatingItems){d=Math.floor(c.floatingItems.setBase(d)/100)*100+10000}return d},doConstrain:function(e){var i=this,g=i.getConstrainVector(e||i.el.getScopeParent()),h;if(g){h=i.getPosition();h[0]+=g[0];h[1]+=g[1];i.setPosition(h)}},getConstrainVector:function(d){var g=this,e;if(g.constrain||g.constrainHeader){e=g.constrainHeader?g.header.el:g.el;d=d||(g.floatParent&&g.floatParent.getTargetEl())||g.container;return e.getConstrainVector(d)}},alignTo:function(e,g,i){if(e.isComponent){e=e.getEl()}var h=this.el.getAlignToXY(e,g,i);this.setPagePosition(h);return this},toFront:function(c){var d=this;if(d.zIndexParent){d.zIndexParent.toFront(true)}if(d.zIndexManager.bringToFront(d)){if(!Ext.isDefined(c)){c=!d.focusOnToFront}if(!c){d.focus(false,true)}}return d},setActive:function(d,g){var e=this;if(d){if(e.el.shadow&&!e.maximized){e.el.enableShadow(true)}e.fireEvent("activate",e)}else{if((e instanceof Ext.window.Window)&&(g instanceof Ext.window.Window)){e.el.disableShadow()}e.fireEvent("deactivate",e)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var d=this,c=d.el.getAlignToXY(d.container,"c-c");d.setPagePosition(c);return d},syncShadow:function(){if(this.floating){this.el.sync(true)}},fitContainer:function(){var g=this.floatParent,e=g?g.getTargetEl():this.container,d=e.getViewSize(false);this.setSize(d)}});Ext.define("Ext.layout.Layout",{isLayout:true,initialized:false,statics:{create:function(d,g){var e;if(d instanceof Ext.layout.Layout){return Ext.createByAlias("layout."+d)}else{if(!d||typeof d==="string"){e=d||g;d={}}else{e=d.type||g}return Ext.createByAlias("layout."+e,d||{})}}},constructor:function(b){this.id=Ext.id(null,this.type+"-");Ext.apply(this,b)},layout:function(){var b=this;b.layoutBusy=true;b.initLayout();if(b.beforeLayout.apply(b,arguments)!==false){b.layoutCancelled=false;b.onLayout.apply(b,arguments);b.childrenChanged=false;b.owner.needsLayout=false;b.layoutBusy=false;b.afterLayout.apply(b,arguments)}else{b.layoutCancelled=true}b.layoutBusy=false;b.doOwnerCtLayouts()},beforeLayout:function(){this.renderChildren();return true},renderChildren:function(){this.renderItems(this.getLayoutItems(),this.getRenderTarget())},renderItems:function(i,j){var k=this,l=i.length,h=0,m;for(;h<l;h++){m=i[h];if(m&&!m.rendered){k.renderItem(m,j,h)}else{if(!k.isValidParent(m,j,h)){k.moveItem(m,j,h)}else{k.configureItem(m)}}}},isValidParent:function(e,i,g){var h=e.el?e.el.dom:Ext.getDom(e);if(h&&i&&i.dom){if(Ext.isNumber(g)&&h!==i.dom.childNodes[g]){return false}return(h.parentNode==(i.dom||i))}return false},renderItem:function(i,h,g){var e=this;if(!i.rendered){if(e.itemCls){i.addCls(e.itemCls)}if(e.owner.itemCls){i.addCls(e.owner.itemCls)}i.render(h,g);e.configureItem(i);e.childrenChanged=true}},moveItem:function(d,g,e){g=g.dom||g;if(typeof e=="number"){e=g.childNodes[e]}g.insertBefore(d.el.dom,e||null);d.container=Ext.get(g);this.configureItem(d);this.childrenChanged=true},initLayout:function(){var d=this,c=d.targetCls;if(!d.initialized&&!Ext.isEmpty(c)){d.getTarget().addCls(c)}d.initialized=true},setOwner:function(b){this.owner=b},getLayoutItems:function(){return[]},configureItem:Ext.emptyFn,onLayout:Ext.emptyFn,afterLayout:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,doOwnerCtLayouts:Ext.emptyFn,afterRemove:function(k){var g=k.el,h=this.owner,i=this.itemCls,j=h.itemCls;if(k.rendered&&!k.isDestroyed){if(i){g.removeCls(i)}if(j){g.removeCls(j)}}delete k.layoutManagedWidth;delete k.layoutManagedHeight},destroy:function(){var c=this.targetCls,d;if(!Ext.isEmpty(c)){d=this.getTarget();if(d){d.removeCls(c)}}this.onDestroy()}});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000},constructor:function(d){var c=this;c.list={};c.zIndexStack=[];c.front=null;if(d){if(d.isContainer){d.on("resize",c._onContainerResize,c);c.zseed=Ext.Number.from(d.getEl().getStyle("zIndex"),c.getNextZSeed());c.targetEl=d.getTargetEl();c.container=d}else{Ext.EventManager.onWindowResize(c._onContainerResize,c);
c.zseed=c.getNextZSeed();c.targetEl=Ext.get(d)}}else{Ext.EventManager.onWindowResize(c._onContainerResize,c);c.zseed=c.getNextZSeed();Ext.onDocumentReady(function(){c.targetEl=Ext.getBody()})}},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(b){this.zseed=b;return this.assignZIndices()},assignZIndices:function(){var k=this.zIndexStack,a=k.length,i=0,h=this.zseed,j;for(;i<a;i++){j=k[i];if(j&&!j.hidden){h=j.setZIndex(h)}}this._activateLast();return h},_setActiveChild:function(b){if(b!==this.front){if(this.front){this.front.setActive(false,b)}this.front=b;if(b){b.setActive(true);if(b.modal){this._showModalMask(b)}}}},_activateLast:function(g){var e,h=false,i;for(i=this.zIndexStack.length-1;i>=0;--i){e=this.zIndexStack[i];if(!e.hidden){if(!h){this._setActiveChild(e);h=true}if(e.modal){this._showModalMask(e);return}}}this._hideModalMask();if(!h){this._setActiveChild(null)}},_showModalMask:function(g){var h=g.el.getStyle("zIndex")-4,e=g.floatParent?g.floatParent.getTargetEl():Ext.get(g.getEl().dom.parentNode),i;if(!e){return}i=e.getBox();if(!this.mask){this.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask"});this.mask.setVisibilityMode(Ext.Element.DISPLAY);this.mask.on("click",this._onMaskClick,this)}if(e.dom===document.body){i.height=Ext.Element.getViewHeight()}e.addCls(Ext.baseCSSPrefix+"body-masked");this.mask.setBox(i);this.mask.setStyle("zIndex",h);this.mask.show()},_hideModalMask:function(){if(this.mask&&this.mask.dom.parentNode){Ext.get(this.mask.dom.parentNode).removeCls(Ext.baseCSSPrefix+"body-masked");this.mask.hide()}},_onMaskClick:function(){if(this.front){this.front.focus()}},_onContainerResize:function(){if(this.mask&&this.mask.isVisible()){this.mask.setSize(Ext.get(this.mask.dom.parentNode).getViewSize(true))}},register:function(b){if(b.zIndexManager){b.zIndexManager.unregister(b)}b.zIndexManager=this;this.list[b.id]=b;this.zIndexStack.push(b);b.on("hide",this._activateLast,this)},unregister:function(b){delete b.zIndexManager;if(this.list&&this.list[b.id]){delete this.list[b.id];b.un("hide",this._activateLast);Ext.Array.remove(this.zIndexStack,b);this._activateLast(b)}},get:function(b){return typeof b=="object"?b:this.list[b]},bringToFront:function(b){b=this.get(b);if(b!==this.front){Ext.Array.remove(this.zIndexStack,b);this.zIndexStack.push(b);this.assignZIndices();return true}if(b.modal){this._showModalMask(b)}return false},sendToBack:function(b){b=this.get(b);Ext.Array.remove(this.zIndexStack,b);this.zIndexStack.unshift(b);this.assignZIndices();return b},hideAll:function(){for(var b in this.list){if(this.list[b].isComponent&&this.list[b].isVisible()){this.list[b].hide()}}},hide:function(){var d=0,g=this.zIndexStack.length,e;this.tempHidden=[];for(;d<g;d++){e=this.zIndexStack[d];if(e.isVisible()){this.tempHidden.push(e);e.hide()}}},show:function(){var k=0,j=this.tempHidden.length,g,h,i;for(;k<j;k++){g=this.tempHidden[k];h=g.x;i=g.y;g.show();g.setPosition(h,i)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(k,l){var j=[],m=0,i=this.zIndexStack.length,h;for(;m<i;m++){h=this.zIndexStack[m];if(k.call(l||h,h)!==false){j.push(h)}}return j},each:function(i,e){var g;for(var h in this.list){g=this.list[h];if(g.isComponent&&i.call(e||g,g)===false){return}}},eachBottomUp:function(k,l){var h,i=this.zIndexStack,m,j;for(m=0,j=i.length;m<j;m++){h=i[m];if(h.isComponent&&k.call(l||h,h)===false){return}}},eachTopDown:function(i,j){var g,h=this.zIndexStack,k;for(k=h.length;k-->0;){g=h[k];if(g.isComponent&&i.call(j||g,g)===false){return}}},destroy:function(){this.each(function(b){b.destroy()});delete this.zIndexStack;delete this.list;delete this.container;delete this.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this()});Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(c,d){this.layout=c;Ext.apply(this,d||{})},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,onRemove:Ext.emptyFn,getItem:function(b){return this.layout.owner.getComponent(b)},onRemove:Ext.emptyFn});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",constructor:function(e,h,g){var i=this;
Ext.apply(i,{el:Ext.get(e),eventName:g||i.eventName,bindings:[]});if(h){i.addBinding(h)}i.enable()},eventName:"keydown",addBinding:function(m){if(Ext.isArray(m)){Ext.each(m,this.addBinding,this);return}var n=m.key,l=false,q,p,i,r,k;if(Ext.isString(n)){p=[];i=n.toUpperCase();for(r=0,k=i.length;r<k;++r){p.push(i.charCodeAt(r))}n=p;l=true}if(!Ext.isArray(n)){n=[n]}if(!l){for(r=0,k=n.length;r<k;++r){q=n[r];if(Ext.isString(q)){n[r]=q.toUpperCase().charCodeAt(0)}}}this.bindings.push(Ext.apply({keyCode:n},m))},handleKeyDown:function(i){if(this.enabled){var h=this.bindings,e=0,g=h.length;i=this.processEvent(i);for(;e<g;++e){this.processBinding(h[e],i)}}},processEvent:function(b){return b},processBinding:function(q,v){if(this.checkModifiers(q,v)){var p=v.getKey(),m=q.fn||q.handler,i=q.scope||this,n=q.keyCode,u=q.defaultEventAction,t,r,s=new Ext.EventObjectImpl(v);for(t=0,r=n.length;t<r;++t){if(p===n[t]){if(m.call(i,p,v)!==true&&u){s[u]()}break}}}},checkModifiers:function(k,m){var n=["shift","ctrl","alt"],p=0,i=n.length,l,e;for(;p<i;++p){e=n[p];l=k[e];if(!(l===undefined||(l===m[e+"Key"]))){return false}}return true},on:function(i,n,p){var k,j,m,l;if(Ext.isObject(i)&&!Ext.isArray(i)){k=i.key;j=i.shift;m=i.ctrl;l=i.alt}else{k=i}this.addBinding({key:k,shift:j,ctrl:m,alt:l,fn:n,scope:p})},isEnabled:function(){return this.enabled},enable:function(){var b=this;if(!b.enabled){b.el.on(b.eventName,b.handleKeyDown,b);b.enabled=true}},disable:function(){var b=this;if(b.enabled){b.el.removeListener(b.eventName,b.handleKeyDown,b);b.enabled=false}},setDisabled:function(b){if(b){this.disable()}else{this.enable()}},destroy:function(c){var d=this;d.bindings=[];d.disable();if(c===true){d.el.remove()}delete d.el}});Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(c,d){this.el=Ext.get(c);this.el.unselectable();Ext.apply(this,d);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}this.callParent()},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(b){if(b||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(b){this[b?"disable":"enable"]()},eventOptions:function(b){if(this.preventDefault){b.preventDefault()}if(this.stopDefault){b.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(b){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b)},handleMouseDown:function(b){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b);if(this.accelerate){this.delay=400}b=new Ext.EventObjectImpl(b);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[b])},click:function(b){this.fireEvent("click",this,b);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[b])},easeOutExpo:function(i,b,c,d){return(i==d)?b+c:c*(-Math.pow(2,-10*i/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(b){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);
this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,b)}});Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",monitorChildren:true,initLayout:function(){var g=this,e=g.owner,d=e.el;if(!g.initialized){if(e.frameSize){g.frameSize=e.frameSize}else{e.frameSize=g.frameSize={top:0,left:0,bottom:0,right:0}}}g.callParent(arguments)},beforeLayout:function(w,n,m,q){this.callParent(arguments);var r=this,v=r.owner,u=v.ownerCt,s=v.layout,t=v.isVisible(true),x=v.el.child,p;r.previousComponentSize=r.lastComponentSize;if(!m&&((!Ext.isNumber(w)&&v.isFixedWidth())||(!Ext.isNumber(n)&&v.isFixedHeight()))&&q&&q!==u){r.doContainerLayout();return false}if(!t&&(v.hiddenAncestor||v.floating)){if(v.hiddenAncestor){p=v.hiddenAncestor.layoutOnShow;p.remove(v);p.add(v)}v.needsLayout={width:w,height:n,isSetSize:false}}if(t&&this.needsLayout(w,n)){return v.beforeComponentLayout(w,n,m,q)}else{return false}},needsLayout:function(j,h){var i=this,k,g;i.lastComponentSize=i.lastComponentSize||{width:-Infinity,height:-Infinity};k=!Ext.isDefined(j)||i.lastComponentSize.width!==j;g=!Ext.isDefined(h)||i.lastComponentSize.height!==h;return !i.isSizing&&(i.childrenChanged||k||g)},setElementSize:function(g,d,e){if(d!==undefined&&e!==undefined){g.setSize(d,e)}else{if(e!==undefined){g.setHeight(e)}else{if(d!==undefined){g.setWidth(d)}}}},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},setTargetSize:function(n,j){var m=this;m.setElementSize(m.owner.el,n,j);if(m.owner.frameBody){var k=m.getTargetInfo(),l=k.padding,p=k.border,i=m.frameSize;m.setElementSize(m.owner.frameBody,Ext.isNumber(n)?(n-i.left-i.right-l.left-l.right-p.left-p.right):n,Ext.isNumber(j)?(j-i.top-i.bottom-l.top-l.bottom-p.top-p.bottom):j)}m.autoSized={width:!Ext.isNumber(n),height:!Ext.isNumber(j)};m.lastComponentSize={width:n,height:j}},getTargetInfo:function(){if(!this.targetInfo){var c=this.getTarget(),d=this.owner.getTargetEl();this.targetInfo={padding:{top:c.getPadding("t"),right:c.getPadding("r"),bottom:c.getPadding("b"),left:c.getPadding("l")},border:{top:c.getBorderWidth("t"),right:c.getBorderWidth("r"),bottom:c.getBorderWidth("b"),left:c.getBorderWidth("l")},bodyMargin:{top:d.getMargin("t"),right:d.getMargin("r"),bottom:d.getMargin("b"),left:d.getMargin("l")}}}return this.targetInfo},doOwnerCtLayouts:function(){var j=this.owner,p=j.ownerCt,r,l,q=this.lastComponentSize,m=this.previousComponentSize,k=(m&&q&&Ext.isNumber(q.width))?q.width!==m.width:true,n=(m&&q&&Ext.isNumber(q.height))?q.height!==m.height:true;if(!p||(!k&&!n)){return}r=p.componentLayout;l=p.layout;if(!j.floating&&r&&r.monitorChildren&&!r.layoutBusy){if(!p.suspendLayout&&l&&!l.layoutBusy){if(((k&&!p.isFixedWidth())||(n&&!p.isFixedHeight()))){this.isSizing=true;p.doComponentLayout();this.isSizing=false}else{if(l.bindToOwnerCtContainer===true){l.layout()}}}}},doContainerLayout:function(){var i=this,h=i.owner,k=h.ownerCt,j=h.layout,g;if(!h.suspendLayout&&j&&j.isLayout&&!j.layoutBusy&&!j.isAutoDock){j.layout()}if(k&&k.componentLayout){g=k.componentLayout;if(!h.floating&&g.monitorChildren&&!g.layoutBusy){g.childrenChanged=true}}},afterLayout:function(i,g,e,h){this.doContainerLayout();this.owner.afterComponentLayout(i,g,e,h)}});Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(h,j,i){var g=this,k=g.shared;if(!k){k=g.shared=new g(h,i)}k.bind(h);k.setFixedWidth(i||"auto");return k.getSize(j)},destroy:function(){var b=this;Ext.destroy(b.shared);b.shared=null}},constructor:function(e,g){var d=this.measure=Ext.getBody().createChild({cls:"x-textmetrics"});this.el=Ext.get(e);d.position("absolute");d.setLeftTop(-1000,-1000);d.hide();if(g){d.setWidth(g)}},getSize:function(g){var d=this.measure,e;d.update(g);e=d.getSize();d.update("");return e},bind:function(d){var c=this;c.el=Ext.get(d);c.measure.setStyle(c.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))
},setFixedWidth:function(b){this.measure.setWidth(b)},getWidth:function(b){this.measure.dom.style.width="auto";return this.getSize(b).width},getHeight:function(b){return this.getSize(b).height},destroy:function(){var b=this;b.measure.remove();delete b.el;delete b.measure}},function(){Ext.Element.addMethods({getTextWidth:function(g,d,e){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(g,this.dom.innerHTML,true)).width,d||0,e||1000000)}})});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:"Ext.util.Observable"},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(c,d){this.layout=c;Ext.apply(this,d||{});this.addEvents("scroll")},initCSSClasses:function(){var c=this,d=c.layout;if(!c.CSSinitialized){c.beforeCtCls=c.beforeCtCls||Ext.baseCSSPrefix+"box-scroller-"+d.parallelBefore;c.afterCtCls=c.afterCtCls||Ext.baseCSSPrefix+"box-scroller-"+d.parallelAfter;c.beforeScrollerCls=c.beforeScrollerCls||Ext.baseCSSPrefix+d.owner.getXType()+"-scroll-"+d.parallelBefore;c.afterScrollerCls=c.afterScrollerCls||Ext.baseCSSPrefix+d.owner.getXType()+"-scroll-"+d.parallelAfter;c.CSSinitializes=true}},handleOverflow:function(i,j){var k=this,l=k.layout,m="get"+l.parallelPrefixCap,h={};k.initCSSClasses();k.callParent(arguments);this.createInnerElements();this.showScrollers();h[l.perpendicularPrefix]=j[l.perpendicularPrefix];h[l.parallelPrefix]=j[l.parallelPrefix]-(k.beforeCt[m]()+k.afterCt[m]());return{targetSize:h}},createInnerElements:function(){var d=this,c=d.layout.getRenderTarget();if(!d.beforeCt){c.addCls(Ext.baseCSSPrefix+d.layout.direction+"-box-overflow-body");d.beforeCt=c.insertSibling({cls:Ext.layout.container.Box.prototype.innerCls+" "+d.beforeCtCls},"before");d.afterCt=c.insertSibling({cls:Ext.layout.container.Box.prototype.innerCls+" "+d.afterCtCls},"after");d.createWheelListener()}},createWheelListener:function(){this.layout.innerCt.on({scope:this,mousewheel:function(b){b.stopEvent();this.scrollBy(b.getWheelDelta()*this.wheelIncrement*-1,false)}})},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.createScrollers();this.beforeScroller.show();this.afterScroller.show();this.updateScrollButtons();this.layout.owner.addClsWithUI("scroller")},hideScrollers:function(){if(this.beforeScroller!=undefined){this.beforeScroller.hide();this.afterScroller.hide();this.layout.owner.removeClsWithUI("scroller")}},createScrollers:function(){if(!this.beforeScroller&&!this.afterScroller){var d=this.beforeCt.createChild({cls:Ext.String.format("{0} {1} ",this.scrollerCls,this.beforeScrollerCls)});var c=this.afterCt.createChild({cls:Ext.String.format("{0} {1}",this.scrollerCls,this.afterScrollerCls)});d.addClsOnOver(this.beforeScrollerCls+"-hover");c.addClsOnOver(this.afterScrollerCls+"-hover");d.setVisibilityMode(Ext.Element.DISPLAY);c.setVisibilityMode(Ext.Element.DISPLAY);this.beforeRepeater=Ext.create("Ext.util.ClickRepeater",d,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this});this.afterRepeater=Ext.create("Ext.util.ClickRepeater",c,{interval:this.scrollRepeatInterval,handler:this.scrollRight,scope:this});this.beforeScroller=d;this.afterScroller=c}},destroy:function(){Ext.destroy(this.beforeRepeater,this.afterRepeater,this.beforeScroller,this.afterScroller,this.beforeCt,this.afterCt)},scrollBy:function(c,d){this.scrollTo(this.getScrollPosition()+c,d)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){if(this.beforeScroller==undefined||this.afterScroller==undefined){return}var h=this.atExtremeBefore()?"addCls":"removeCls",i=this.atExtremeAfter()?"addCls":"removeCls",g=this.beforeScrollerCls+"-disabled",e=this.afterScrollerCls+"-disabled";this.beforeScroller[h](g);this.afterScroller[i](e);this.scrolling=false
},atExtremeBefore:function(){return this.getScrollPosition()===0},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var b=this.layout;return parseInt(b.innerCt.dom["scroll"+b.parallelBeforeCap],10)||0},getMaxScrollPosition:function(){var b=this.layout;return b.innerCt.dom["scroll"+b.parallelPrefixCap]-this.layout.innerCt["get"+b.parallelPrefixCap]()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(i,h){var j=this,k=j.layout,l=j.getScrollPosition(),m=Ext.Number.constrain(i,0,j.getMaxScrollPosition());if(m!=l&&!j.scrolling){if(h==undefined){h=j.animateScroll}k.innerCt.scrollTo(k.parallelBefore,m,h?j.getScrollAnim():false);if(h){j.scrolling=true}else{j.scrolling=false;j.updateScrollButtons()}j.fireEvent("scroll",j,m,h?j.getScrollAnim():false)}},scrollToItem:function(k,i){var l=this,m=l.layout,j,n,p;k=l.getItem(k);if(k!=undefined){j=this.getItemVisibility(k);if(!j.fullyVisible){n=k.getBox(true,true);p=n[m.parallelPosition];if(j.hiddenEnd){p-=(this.layout.innerCt["get"+m.parallelPrefixCap]()-n[m.parallelPrefix])}this.scrollTo(p,i)}}},getItemVisibility:function(n){var p=this,q=p.getItem(n).getBox(true,true),r=p.layout,j=q[r.parallelPosition],m=j+q[r.parallelPrefix],l=p.getScrollPosition(),k=l+r.innerCt["get"+r.parallelPrefixCap]();return{hiddenStart:j<l,hiddenEnd:m>k,fullyVisible:j>l&&m<k}}});Ext.define("Ext.util.Offset",{statics:{fromObject:function(b){return new this(b.x,b.y)}},constructor:function(d,c){this.x=(d!=null&&!isNaN(d))?d:0;this.y=(c!=null&&!isNaN(c))?c:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(b){this.x=b.x;this.y=b.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(b){return(this.x==b.x&&this.y==b.y)},round:function(c){if(!isNaN(c)){var d=Math.pow(10,c);this.x=Math.round(this.x*d)/d;this.y=Math.round(this.y*d)/d}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(c,d){this.setConfig(c,d||{})},setConfig:function(l,i){if(this.map){this.map.destroy()}var j=Ext.create("Ext.util.KeyMap",l,null,this.getKeyEvent("forceKeyDown" in i?i.forceKeyDown:this.forceKeyDown)),k=Ext.util.KeyNav.keyOptions,m=i.scope||this,h;this.map=j;for(h in k){if(k.hasOwnProperty(h)){if(i[h]){j.addBinding({scope:m,key:k[h],handler:Ext.Function.bind(this.handleEvent,m,[i[h]],true),defaultEventAction:i.defaultEventAction||this.defaultEventAction})}}}j.disable();if(!i.disabled){j.enable()}},handleEvent:function(g,d,e){return e.call(this,d)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,destroy:function(b){this.map.destroy(b);delete this.map},enable:function(){this.map.enable();this.disabled=false},disable:function(){this.map.disable();this.disabled=true},setDisabled:function(b){this.map.setDisabled(b);this.disabled=b},getKeyEvent:function(b){return(b||Ext.EventManager.useKeyDown)?"keydown":"keypress"}});Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=Ext.create("Ext.util.HashMap");this.fxQueue={}},getFxDefaults:function(d){var c=this.targets.get(d);if(c){return c.fxDefaults}return{}},setFxDefaults:function(e,g){var d=this.targets.get(e);if(d){d.fxDefaults=Ext.apply(d.fxDefaults||{},g)}},stopAnimation:function(e){var h=this,g=h.getFxQueue(e),i=g.length;while(i){g[i-1].end();i--}},getActiveAnimation:function(c){var d=this.getFxQueue(c);return(d&&!!d.length)?d[0]:false},hasFxBlock:function(c){var d=this.getFxQueue(c);return d&&d[0]&&d[0].block},getFxQueue:function(e){if(!e){return false}var i=this,g=i.fxQueue[e],h=i.targets.get(e);if(!h){return false}if(!g){i.fxQueue[e]=[];if(h.type!="element"){h.target.on("destroy",function(){i.fxQueue[e]=[]})
}}return i.fxQueue[e]},queueFx:function(j){var k=this,i=j.target,h,g;if(!i){return}h=k.getFxQueue(i.getId());g=h.length;if(g){if(j.concurrent){j.paused=false}else{h[g-1].on("afteranimate",function(){j.paused=false})}}else{j.paused=false}j.on("afteranimate",function(){Ext.Array.remove(h,j);if(j.remove){if(i.type=="element"){var a=Ext.get(i.id);if(a){a.remove()}}}},this);h.push(j)}});Ext.define("Ext.fx.target.Target",{isAnimTarget:true,constructor:function(b){this.target=b;this.id=this.getId()},getId:function(){return this.target.id}});Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(d,e){var g;if(e=="translate"){g={x:d.attr.translation.x||0,y:d.attr.translation.y||0}}else{if(e=="rotate"){g={degrees:d.attr.rotation.degrees||0,x:d.attr.rotation.x,y:d.attr.rotation.y}}else{g=d.attr[e]}}return g},getAttr:function(d,c){return[[this.target,c!=undefined?c:this.getFromPrim(this.target,d)]]},setAttr:function(u){var y=u.length,w=[],F,z,i,A,D,j,t,B,C,v,x,E;for(B=0;B<y;B++){F=u[B].attrs;for(z in F){i=F[z];E=i.length;for(C=0;C<E;C++){D=i[C][0];A=i[C][1];if(z==="translate"){t={x:A.x,y:A.y}}else{if(z==="rotate"){v=A.x;if(isNaN(v)){v=null}x=A.y;if(isNaN(x)){x=null}t={degrees:A.degrees,x:v,y:x}}else{if(z==="width"||z==="height"||z==="x"||z==="y"){t=parseFloat(A)}else{t=A}}}j=Ext.Array.indexOf(w,D);if(j==-1){w.push([D,{}]);j=w.length-1}w[j][1][z]=t}}}y=w.length;for(B=0;B<y;B++){D=w[B];D[0].setAttributes(D[1])}this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(g,h){var e=[],i=this.target;i.each(function(a){e.push([a,h!=undefined?h:this.getFromPrim(a,g)])},this);return e}});Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},compMethod:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(d,c){return[[this.target,c!==undefined?c:this.getPropMethod[d].call(this.target)]]},setAttr:function(I,B,E){var h=this,x=h.target,i=I.length,G,w,F,A,C,j,y,D,J,H,z;for(A=0;A<i;A++){G=I[A].attrs;for(w in G){y=G[w].length;j={setPosition:{},setPagePosition:{},setSize:{},setOpacity:{}};for(C=0;C<y;C++){F=G[w][C];j[h.compMethod[w]].target=F[0];j[h.compMethod[w]][w]=F[1]}if(j.setPosition.target){F=j.setPosition;D=(F.left===undefined)?undefined:parseInt(F.left,10);J=(F.top===undefined)?undefined:parseInt(F.top,10);F.target.setPosition(D,J)}if(j.setPagePosition.target){F=j.setPagePosition;F.target.setPagePosition(F.x,F.y)}if(j.setSize.target&&j.setSize.target.el){F=j.setSize;H=(F.width===undefined)?F.target.getWidth():parseInt(F.width,10);z=(F.height===undefined)?F.target.getHeight():parseInt(F.height,10);if(E||h.dynamic){F.target.componentLayout.childrenChanged=true;if(h.layoutAnimation){F.target.setCalculatedSize(H,z)}else{F.target.setSize(H,z)}}else{F.target.el.setSize(H,z)}}if(j.setOpacity.target){F=j.setOpacity;F.target.el.setStyle("opacity",F.opacity)}}}}});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(s,C,E,t,u,y){var x=3*C,v=3*(t-C)-x,F=1-x-v,z=3*E,w=3*(u-E)-z,r=1-z-w;function A(a){return((F*a+v)*a+x)*a}function D(c,a){var b=B(c,a);return((r*b+w)*b+z)*b}function B(g,h){var i,a,c,e,b,d;for(c=g,d=0;d<8;d++){e=A(c)-g;if(Math.abs(e)<h){return c}b=(3*F*c+2*v)*c+x;if(Math.abs(b)<0.000001){break}c=c-e/b}i=0;a=1;c=g;if(c<i){return i}if(c>a){return a}while(i<a){e=A(c);if(Math.abs(e-g)<h){return c}if(g>e){i=c}else{a=c}c=(a-i)/2+i}return c}return D(s,1/(200*y))},cubicBezier:function(g,i,h,k){var j=function(a){return Ext.fx.CubicBezier.cubicBezierAtTime(a,g,i,h,k,1)};j.toCSS3=function(){return"cubic-bezier("+[g,i,h,k].join(",")+")"};j.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-h,1-k,1-g,1-i)
};return j}});Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:0.2,constructor:function(j,k,h){var g=this,i=Ext.Number.constrain;g.r=i(j,0,255);g.g=i(k,0,255);g.b=i(h,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var b=this;return[b.r,b.g,b.b]},getHSL:function(){var q=this,v=q.r/255,r=q.g/255,l=q.b/255,h=Math.max(v,r,l),t=Math.min(v,r,l),g=h-t,s,b=0,u=0.5*(h+t);if(t!=h){b=(u<0.5)?g/(h+t):g/(2-h-t);if(v==h){s=60*(r-l)/g}else{if(r==h){s=120+60*(l-v)/g}else{s=240+60*(v-r)/g}}if(s<0){s+=360}if(s>=360){s-=360}}return[s,b,u]},getLighter:function(c){var d=this.getHSL();c=c||this.lightnessFactor;d[2]=Ext.Number.constrain(d[2]+c,0,1);return this.fromHSL(d[0],d[1],d[2])},getDarker:function(b){b=b||this.lightnessFactor;return this.getLighter(-b)},toString:function(){var g=this,k=Math.round,i=k(g.r).toString(16),j=k(g.g).toString(16),b=k(g.b).toString(16);i=(i.length==1)?"0"+i:i;j=(j.length==1)?"0"+j:j;b=(b.length==1)?"0"+b:b;return["#",i,j,b].join("")},toHex:function(h){if(Ext.isArray(h)){h=h[0]}if(!Ext.isString(h)){return""}if(h.substr(0,1)==="#"){return h}var k=this.colorToHexRe.exec(h);if(Ext.isArray(k)){var j=parseInt(k[2],10),l=parseInt(k[3],10),i=parseInt(k[4],10),m=i|(l<<8)|(j<<16);return k[1]+"#"+("000000"+m.toString(16)).slice(-6)}else{return""}},fromString:function(g){var m,k,l,b,j=parseInt;if((g.length==4||g.length==7)&&g.substr(0,1)==="#"){m=g.match(this.hexRe);if(m){k=j(m[1],16)>>0;l=j(m[2],16)>>0;b=j(m[3],16)>>0;if(g.length==4){k+=(k*16);l+=(l*16);b+=(b*16)}}}else{m=g.match(this.rgbRe);if(m){k=m[1];l=m[2];b=m[3]}}return(typeof k=="undefined")?undefined:Ext.create("Ext.draw.Color",k,l,b)},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},fromHSL:function(q,h,s){var v,u,t,r,l=[],i=Math.abs,m=Math.floor;if(h==0||q==null){l=[s,s,s]}else{q/=60;v=h*(1-i(2*s-1));u=v*(1-i(q-2*m(q/2)-1));t=s-v/2;switch(m(q)){case 0:l=[v,u,0];break;case 1:l=[u,v,0];break;case 2:l=[0,v,u];break;case 3:l=[0,u,v];break;case 4:l=[u,0,v];break;case 5:l=[v,0,u];break}l=[l[0]+t,l[1]+t,l[2]+t]}return Ext.create("Ext.draw.Color",l[0]*255,l[1]*255,l[2]*255)}},function(){var b=this.prototype;this.addStatics({fromHSL:function(){return b.fromHSL.apply(b,arguments)},fromString:function(){return b.fromString.apply(b,arguments)},toHex:function(){return b.toHex.apply(b,arguments)}})});Ext.define("Ext.dd.StatusProxy",{animRepair:false,constructor:function(b){Ext.apply(this,b);this.id=this.id||Ext.id();this.proxy=Ext.createWidget("component",{floating:true,stateful:false,id:this.id,html:'<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>',cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:!b||b.shadow!==false,renderTo:document.body});this.el=this.proxy.el;this.el.show();this.el.setVisibilityMode(Ext.Element.VISIBILITY);this.el.hide();this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(b){b=b||this.dropNotAllowed;if(this.dropStatus!=b){this.el.replaceCls(this.dropStatus,b);this.dropStatus=b}},reset:function(b){this.el.dom.className=Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(b){this.ghost.update("")}},update:function(d){if(typeof d=="string"){this.ghost.update(d)}else{this.ghost.update("");d.style.margin="0";this.ghost.dom.appendChild(d)}var c=this.ghost.dom.firstChild;if(c){Ext.fly(c).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(b){this.proxy.hide();if(b){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.proxy.show();this.proxy.toFront()},sync:function(){this.proxy.el.sync()
},repair:function(d,g,e){this.callback=g;this.scope=e;if(d&&this.animRepair!==false){this.el.addCls(Ext.baseCSSPrefix+"dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.animate({duration:this.repairDuration||500,easing:"ease-out",to:{x:d[0],y:d[1]},stopAnimation:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.proxy,this.el)}});Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",constructor:function(d,c){this.panel=d;this.id=this.panel.id+"-ddproxy";Ext.apply(this,c)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.unghost(null,false);delete this.ghost}},show:function(){if(!this.ghost){var b=this.panel.getSize();this.panel.el.setVisibilityMode(Ext.Element.DISPLAY);this.ghost=this.panel.ghost();if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});this.proxy.setSize(b)}}},repair:function(d,g,e){this.hide();if(typeof g=="function"){g.call(e||this)}},moveProxy:function(d,c){if(this.proxy){d.insertBefore(this.proxy.dom,c)}}});Ext.define("Ext.layout.component.AbstractDock",{extend:"Ext.layout.component.Component",type:"dock",autoSizing:true,beforeLayout:function(){var b=this.callParent(arguments);if(b!==false&&(!this.initializedBorders||this.childrenChanged)&&(!this.owner.border||this.owner.manageBodyBorders)){this.handleItemBorders();this.initializedBorders=true}return b},handleItemBorders:function(){var x=this.owner,t=x.body,i=this.getLayoutItems(),r={top:[],right:[],bottom:[],left:[]},w=this.borders,u={top:"bottom",right:"left",bottom:"top",left:"right"},v,q,n,p,s;for(v=0,q=i.length;v<q;v++){n=i[v];p=n.dock;if(n.ignoreBorderManagement){continue}if(!r[p].satisfied){r[p].push(n);r[p].satisfied=true}if(!r.top.satisfied&&u[p]!=="top"){r.top.push(n)}if(!r.right.satisfied&&u[p]!=="right"){r.right.push(n)}if(!r.bottom.satisfied&&u[p]!=="bottom"){r.bottom.push(n)}if(!r.left.satisfied&&u[p]!=="left"){r.left.push(n)}}if(w){for(s in w){if(w.hasOwnProperty(s)){q=w[s].length;if(!x.manageBodyBorders){for(v=0;v<q;v++){w[s][v].removeCls(Ext.baseCSSPrefix+"docked-noborder-"+s)}if(!w[s].satisfied&&!x.bodyBorder){t.removeCls(Ext.baseCSSPrefix+"docked-noborder-"+s)}}else{if(w[s].satisfied){t.setStyle("border-"+s+"-width","")}}}}}for(s in r){if(r.hasOwnProperty(s)){q=r[s].length;if(!x.manageBodyBorders){for(v=0;v<q;v++){r[s][v].addCls(Ext.baseCSSPrefix+"docked-noborder-"+s)}if((!r[s].satisfied&&!x.bodyBorder)||x.bodyBorder===false){t.addCls(Ext.baseCSSPrefix+"docked-noborder-"+s)}}else{if(r[s].satisfied){t.setStyle("border-"+s+"-width","1px")}}}}this.borders=r},onLayout:function(B,p){if(this.onLayout_running){return}this.onLayout_running=true;var t=this,A=t.owner,v=A.body,w=A.layout,u=t.getTarget(),r=false,q=false,s,x,y;var z=t.info={boxes:[],size:{width:B,height:p},bodyBox:{}};delete w.isAutoDock;Ext.applyIf(z,t.getTargetInfo());if(A&&A.ownerCt&&A.ownerCt.layout&&A.ownerCt.layout.isLayout){if(!Ext.isNumber(A.height)||!Ext.isNumber(A.width)){A.ownerCt.layout.bindToOwnerCtComponent=true}else{A.ownerCt.layout.bindToOwnerCtComponent=false}}if(p==null||B==null){s=z.padding;x=z.border;y=t.frameSize;if((p==null)&&(B==null)){q=true;r=true;t.setTargetSize(null);t.setBodyBox({width:null,height:null})}else{if(p==null){q=true;t.setTargetSize(B);t.setBodyBox({width:B-s.left-x.left-s.right-x.right-y.left-y.right,height:null})}else{r=true;t.setTargetSize(null,p);t.setBodyBox({width:null,height:p-s.top-s.bottom-x.top-x.bottom-y.top-y.bottom})}}if(w&&w.isLayout){w.bindToOwnerCtComponent=true;w.isAutoDock=w.autoSize!==true;w.layout();z.autoSizedCtLayout=w.autoSize===true;z.autoHeight=q;z.autoWidth=r}t.dockItems();
t.setTargetSize(z.size.width,z.size.height)}else{t.setTargetSize(B,p);t.dockItems()}t.callParent(arguments);this.onLayout_running=false},dockItems:function(){this.calculateDockBoxes();var m=this.info,l=m.autoWidth,k=m.autoHeight,r=m.boxes,n=r.length,p,i,q;for(i=0;i<n;i++){p=r[i];q=p.item;q.setPosition(p.x,p.y);if((l||k)&&q.layout&&q.layout.isLayout){q.layout.bindToOwnerCtComponent=true}}if(!m.autoSizedCtLayout){if(l){m.bodyBox.width=null}if(k){m.bodyBox.height=null}}this.setBodyBox(m.bodyBox)},calculateDockBoxes:function(){if(this.calculateDockBoxes_running){return}this.calculateDockBoxes_running=true;var y=this,B=y.getTarget(),z=y.getLayoutItems(),H=y.owner,J=H.body,G=y.info,v=G.autoWidth,u=G.autoHeight,I=G.size,A=z.length,w=G.padding,E=G.border,F=y.frameSize,i,D,C,x;if(u){I.height=J.getHeight()+w.top+E.top+w.bottom+E.bottom+F.top+F.bottom}else{I.height=B.getHeight()}if(v){I.width=J.getWidth()+w.left+E.left+w.right+E.right+F.left+F.right}else{I.width=B.getWidth()}G.bodyBox={x:w.left+F.left,y:w.top+F.top,width:I.width-w.left-E.left-w.right-E.right-F.left-F.right,height:I.height-E.top-w.top-E.bottom-w.bottom-F.top-F.bottom};for(D=0;D<A;D++){i=z[D];C=y.initBox(i);if(u===true){C=y.adjustAutoBox(C,D)}else{C=y.adjustSizedBox(C,D)}G.boxes.push(C)}this.calculateDockBoxes_running=false},adjustSizedBox:function(p,q){var k=this.info.bodyBox,j=this.frameSize,m=this.info,n=m.padding,l=p.type,r=m.border;switch(l){case"top":p.y=k.y;break;case"left":p.x=k.x;break;case"bottom":p.y=(k.y+k.height)-p.height;break;case"right":p.x=(k.x+k.width)-p.width;break}if(p.ignoreFrame){if(l=="bottom"){p.y+=(j.bottom+n.bottom+r.bottom)}else{p.y-=(j.top+n.top+r.top)}if(l=="right"){p.x+=(j.right+n.right+r.right)}else{p.x-=(j.left+n.left+r.left)}}if(!p.overlay){switch(l){case"top":k.y+=p.height;k.height-=p.height;break;case"left":k.x+=p.width;k.width-=p.width;break;case"bottom":k.height-=p.height;break;case"right":k.width-=p.width;break}}return p},adjustAutoBox:function(z,w){var F=this.info,G=this.owner,v=F.bodyBox,H=F.size,y=F.boxes,B=y.length,t=z.type,C=this.frameSize,i=F.padding,D=F.border,E=F.autoSizedCtLayout,u=(B<w)?B:w,A,x;if(t=="top"||t=="bottom"){for(A=0;A<u;A++){x=y[A];if(x.stretched&&x.type=="left"||x.type=="right"){x.height+=z.height}else{if(x.type=="bottom"){x.y+=z.height}}}}switch(t){case"top":z.y=v.y;if(!z.overlay){v.y+=z.height;if(F.autoHeight){H.height+=z.height}else{v.height-=z.height}}break;case"bottom":if(!z.overlay){if(F.autoHeight){H.height+=z.height}else{v.height-=z.height}}z.y=(v.y+v.height);break;case"left":z.x=v.x;if(!z.overlay){v.x+=z.width;if(F.autoWidth){H.width+=z.width}else{v.width-=z.width}}break;case"right":if(!z.overlay){if(F.autoWidth){H.width+=z.width}else{v.width-=z.width}}z.x=(v.x+v.width);break}if(z.ignoreFrame){if(t=="bottom"){z.y+=(C.bottom+i.bottom+D.bottom)}else{z.y-=(C.top+i.top+D.top)}if(t=="right"){z.x+=(C.right+i.right+D.right)}else{z.x-=(C.left+i.left+D.left)}}return z},initBox:function(l){var n=this,p=n.info.bodyBox,v=(l.dock=="top"||l.dock=="bottom"),u=n.owner,r=n.frameSize,t=n.info,m=t.padding,s=t.border,q={item:l,overlay:l.overlay,type:l.dock,offsets:Ext.Element.parseBox(l.offsets||{}),ignoreFrame:l.ignoreParentFrame};if(l.stretch!==false){q.stretched=true;if(v){q.x=p.x+q.offsets.left;q.width=p.width-(q.offsets.left+q.offsets.right);if(q.ignoreFrame){q.width+=(r.left+r.right+s.left+s.right+m.left+m.right)}l.setCalculatedSize(q.width-l.el.getMargin("lr"),undefined,u)}else{q.y=p.y+q.offsets.top;q.height=p.height-(q.offsets.bottom+q.offsets.top);if(q.ignoreFrame){q.height+=(r.top+r.bottom+s.top+s.bottom+m.top+m.bottom)}l.setCalculatedSize(undefined,q.height-l.el.getMargin("tb"),u);if(!Ext.supports.ComputedStyle){l.el.repaint()}}}else{l.doComponentLayout();q.width=l.getWidth()-(q.offsets.left+q.offsets.right);q.height=l.getHeight()-(q.offsets.bottom+q.offsets.top);q.y+=q.offsets.top;if(v){q.x=(l.align=="right")?p.width-q.width:p.x;q.x+=q.offsets.left}}if(q.width===undefined){q.width=l.getWidth()+l.el.getMargin("lr")}if(q.height===undefined){q.height=l.getHeight()+l.el.getMargin("tb")}return q},getLayoutItems:function(){var i=this.owner.getDockedItems(),h=i.length,e=0,g=[];
for(;e<h;e++){if(i[e].isVisible(true)){g.push(i[e])}}return g},renderItems:function(p,r){var v=r.dom.childNodes,s=v.length,q=p.length,j=0,t,u,n,i;for(t=0;t<s;t++){n=Ext.get(v[t]);for(u=0;u<q;u++){i=p[u];if(i.rendered&&(n.id==i.el.id||n.contains(i.el.id))){break}}if(u===q){j++}}for(t=0,u=0;t<q;t++,u++){i=p[t];if(t===u&&(i.dock==="right"||i.dock==="bottom")){u+=j}if(i&&!i.rendered){this.renderItem(i,r,u)}else{if(!this.isValidParent(i,r,u)){this.moveItem(i,r,u)}}}},setBodyBox:function(n){var l=this,t=l.owner,m=t.body,s=l.info,p=s.bodyMargin,k=s.padding,q=s.border,r=l.frameSize;if(t.collapsed){return}if(Ext.isNumber(n.width)){n.width-=p.left+p.right}if(Ext.isNumber(n.height)){n.height-=p.top+p.bottom}l.setElementSize(m,n.width,n.height);if(Ext.isNumber(n.x)){m.setLeft(n.x-k.left-r.left)}if(Ext.isNumber(n.y)){m.setTop(n.y-k.top-r.top)}},configureItem:function(d,c){this.callParent(arguments);if(d.dock=="top"||d.dock=="bottom"){d.layoutManagedWidth=1;d.layoutManagedHeight=2}else{d.layoutManagedWidth=2;d.layoutManagedHeight=1}d.addCls(Ext.baseCSSPrefix+"docked");d.addClsWithUI("docked-"+d.dock)},afterRemove:function(d){this.callParent(arguments);if(this.itemCls){d.el.removeCls(this.itemCls+"-"+d.dock)}var c=d.el.dom;if(!d.destroying&&c){c.parentNode.removeChild(c)}this.childrenChanged=true}});Ext.define("Ext.util.Memento",function(){function j(b,c,a){b[a]=c[a]}function k(b,c,a){delete b[a]}function i(b,c,a){var d=b[a];if(d||b.hasOwnProperty(a)){h(c,a,d)}}function h(b,a,c){if(Ext.isDefined(c)){b[a]=c}else{delete b[a]}}function g(d,a,b,c){if(a){if(Ext.isArray(c)){Ext.each(c,function(e){d(a,b,e)})}else{d(a,b,c)}}}return{data:null,target:null,constructor:function(a,b){if(a){this.target=a;if(b){this.capture(b)}}},capture:function(b,a){g(j,this.data||(this.data={}),a||this.target,b)},remove:function(a){g(k,this.data,null,a)},restore:function(b,c,a){g(i,this.data,a||this.target,b);if(c!==false){this.remove(b)}},restoreAll:function(d,a){var b=this,c=a||this.target;Ext.Object.each(b.data,function(e,m){h(c,e,m)});if(d!==false){delete b.data}}}}());Ext.define("Ext.app.EventBus",{requires:["Ext.util.Event"],mixins:{observable:"Ext.util.Observable"},constructor:function(){this.mixins.observable.constructor.call(this);this.bus={};var b=this;Ext.override(Ext.Component,{fireEvent:function(a){if(Ext.util.Observable.prototype.fireEvent.apply(this,arguments)!==false){return b.dispatch.call(b,a,this,arguments)}return false}})},dispatch:function(q,u,r){var t=this.bus,p=t[q],w,x,y,i,z,v,s;if(p){for(w in p){if(u.is(w)){x=p[w];for(y in x){i=x[y];for(v=0,s=i.length;v<s;v++){z=i[v];if(z.fire.apply(z,Array.prototype.slice.call(r,1))===false){return false}}}}}}},control:function(l,j,m){var h=this.bus,i,k;if(Ext.isString(l)){i=l;l={};l[i]=j;this.control(l,null,m);return}Ext.Object.each(l,function(b,a){Ext.Object.each(a,function(c,p){var g={},e=m,d=Ext.create("Ext.util.Event",m,c);if(Ext.isObject(p)){g=p;p=g.fn;e=g.scope||m;delete g.fn;delete g.scope}d.addListener(p,e,g);h[c]=h[c]||{};h[c][b]=h[c][b]||{};h[c][b][m.id]=h[c][b][m.id]||[];h[c][b][m.id].push(d)})})}});Ext.define("Ext.data.Types",{singleton:true,requires:["Ext.data.SortTypes"]},function(){var b=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{convert:function(a){return a},sortType:b.none,type:"auto"},STRING:{convert:function(d){var a=this.useNull?null:"";return(d===undefined||d===null)?a:String(d)},sortType:b.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:b.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:b.none,type:"float"},BOOL:{convert:function(a){if(this.useNull&&(a===undefined||a===null||a==="")){return null}return a===true||a==="true"||a==1},sortType:b.none,type:"bool"},DATE:{convert:function(g){var e=this.dateFormat,a;if(!g){return null}if(Ext.isDate(g)){return g}if(e){if(e=="timestamp"){return new Date(g*1000)}if(e=="time"){return new Date(parseInt(g,10))
}return Ext.Date.parse(g,e)}a=Date.parse(g);return a?new Date(a):null},sortType:b.asDate,type:"date"}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",constructor:function(e){if(Ext.isString(e)){e={name:e}}Ext.apply(this,e);var h=Ext.data.Types,g=this.sortType,i;if(this.type){if(Ext.isString(this.type)){this.type=h[this.type.toUpperCase()]||h.AUTO}}else{this.type=h.AUTO}if(Ext.isString(g)){this.sortType=Ext.data.SortTypes[g]}else{if(Ext.isEmpty(g)){this.sortType=this.type.sortType}}if(!this.convert){this.convert=this.type.convert}},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true,persist:true});Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},constructor:function(d,e){var g=this;g.items=[];g.map={};g.keys=[];g.length=0;g.addEvents("clear","add","replace","remove");g.allowFunctions=d===true;if(e){g.getKey=e}g.mixins.observable.constructor.call(g)},allowFunctions:false,add:function(h,k){var l=this,j=k,m=h,i;if(arguments.length==1){j=m;m=l.getKey(j)}if(typeof m!="undefined"&&m!==null){i=l.map[m];if(typeof i!="undefined"){return l.replace(m,j)}l.map[m]=j}l.length++;l.items.push(j);l.keys.push(m);l.fireEvent("add",l.length-1,j,m);return j},getKey:function(b){return b.id},replace:function(k,i){var j=this,h,g;if(arguments.length==1){i=arguments[0];k=j.getKey(i)}h=j.map[k];if(typeof k=="undefined"||k===null||typeof h=="undefined"){return j.add(k,i)}g=j.indexOfKey(k);j.items[g]=i;j.map[k]=i;j.fireEvent("replace",k,h,i);return i},addAll:function(j){var k=this,l=0,h,i,m;if(arguments.length>1||Ext.isArray(j)){h=arguments.length>1?arguments:j;for(i=h.length;l<i;l++){k.add(h[l])}}else{for(m in j){if(j.hasOwnProperty(m)){if(k.allowFunctions||typeof j[m]!="function"){k.add(m,j[m])}}}}},each:function(k,l){var h=[].concat(this.items),m=0,i=h.length,j;for(;m<i;m++){j=h[m];if(k.call(l||j,j,m,i)===false){break}}},eachKey:function(k,l){var j=this.keys,h=this.items,m=0,i=j.length;for(;m<i;m++){k.call(l||window,j[m],h[m],m,i)}},findBy:function(k,l){var j=this.keys,h=this.items,m=0,i=h.length;for(;m<i;m++){if(k.call(l||window,h[m],j[m])){return h[m]}}return null},find:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.")}return this.findBy.apply(this,arguments)},insert:function(i,h,k){var l=this,m=h,j=k;if(arguments.length==2){j=m;m=l.getKey(j)}if(l.containsKey(m)){l.suspendEvents();l.removeAtKey(m);l.resumeEvents()}if(i>=l.length){return l.add(m,j)}l.length++;Ext.Array.splice(l.items,i,0,j);if(typeof m!="undefined"&&m!==null){l.map[m]=j}Ext.Array.splice(l.keys,i,0,m);l.fireEvent("add",i,j,m);return j},remove:function(b){return this.removeAt(this.indexOf(b))},removeAll:function(b){Ext.each(b||[],function(a){this.remove(a)},this);return this},removeAt:function(g){var i=this,h,e;if(g<i.length&&g>=0){i.length--;h=i.items[g];Ext.Array.erase(i.items,g,1);e=i.keys[g];if(typeof e!="undefined"){delete i.map[e]}Ext.Array.erase(i.keys,g,1);i.fireEvent("remove",h,e);return h}return false},removeAtKey:function(b){return this.removeAt(this.indexOfKey(b))},getCount:function(){return this.length},indexOf:function(b){return Ext.Array.indexOf(this.items,b)},indexOfKey:function(b){return Ext.Array.indexOf(this.keys,b)},get:function(e){var h=this,g=h.map[e],i=g!==undefined?g:(typeof e=="number")?h.items[e]:undefined;return typeof i!="function"||h.allowFunctions?i:null},getAt:function(b){return this.items[b]},getByKey:function(b){return this.map[b]},contains:function(b){return Ext.Array.contains(this.items,b)},containsKey:function(b){return typeof this.map[b]!="undefined"},clear:function(){var b=this;b.length=0;b.items=[];b.keys=[];b.map={};b.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(m,i,l,k){var r=this.extractValues(m,i),n=r.length,p=0,q;l=l||0;
k=(k||k===0)?k:n-1;for(q=l;q<=k;q++){p+=r[q]}return p},collect:function(m,r,p){var i=this.extractValues(m,r),v=i.length,u={},t=[],n,q,s;for(s=0;s<v;s++){n=i[s];q=String(n);if((p||!Ext.isEmpty(n))&&!u[q]){u[q]=true;t.push(n)}}return t},extractValues:function(g,e){var d=this.items;if(e){d=Ext.Array.pluck(d,e)}return Ext.Array.pluck(d,g)},getRange:function(j,i){var k=this,m=k.items,h=[],l;if(m.length<1){return h}j=j||0;i=Math.min(typeof i=="undefined"?k.length-1:i,k.length-1);if(j<=i){for(l=j;l<=i;l++){h[h.length]=m[l]}}else{for(l=j;l>=i;l--){h[h.length]=m[l]}}return h},filter:function(l,m,j,i){var h=[],k;if(Ext.isString(l)){h.push(Ext.create("Ext.util.Filter",{property:l,value:m,anyMatch:j,caseSensitive:i}))}else{if(Ext.isArray(l)||l instanceof Ext.util.Filter){h=h.concat(l)}}k=function(e){var q=true,g=h.length,d;for(d=0;d<g;d++){var a=h[d],b=a.filterFn,c=a.scope;q=q&&b.call(c,e)}return q};return this.filterBy(k)},filterBy:function(p,q){var l=this,k=new this.self(),m=l.keys,i=l.items,n=i.length,r;k.getKey=l.getKey;for(r=0;r<n;r++){if(p.call(q||l,i[r],m[r])){k.add(m[r],i[r])}}return k},findIndex:function(k,g,i,j,h){if(Ext.isEmpty(g,false)){return -1}g=this.createValueMatcher(g,j,h);return this.findIndexBy(function(a){return a&&g.test(a[k])},null,i)},findIndexBy:function(p,q,l){var m=this,n=m.keys,i=m.items,r=l||0,k=i.length;for(;r<k;r++){if(p.call(q||m,i[r],n[r])){return r}}return -1},createValueMatcher:function(k,i,h,g){if(!k.exec){var j=Ext.String.escapeRegex;k=String(k);if(i===true){k=j(k)}else{k="^"+j(k);if(g===true){k+="$"}}k=new RegExp(k,h?"":"i")}return k},clone:function(){var k=this,j=new this.self(),l=k.keys,h=k.items,m=0,i=h.length;for(;m<i;m++){j.add(l[m],h[m])}j.getKey=k.getKey;return j}});Ext.define("Ext.util.Sortable",{isSortable:true,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var d=this,c=d.sorters;d.sorters=Ext.create("Ext.util.AbstractMixedCollection",false,function(a){return a.id||a.property});if(c){d.sorters.addAll(d.decodeSorters(c))}},sort:function(m,n,r,p){var q=this,l,j,k;if(Ext.isArray(m)){p=r;r=n;k=m}else{if(Ext.isObject(m)){p=r;r=n;k=[m]}else{if(Ext.isString(m)){l=q.sorters.get(m);if(!l){l={property:m,direction:n};k=[l]}else{if(n===undefined){l.toggle()}else{l.setDirection(n)}}}}}if(k&&k.length){k=q.decodeSorters(k);if(Ext.isString(r)){if(r==="prepend"){m=q.sorters.clone().items;q.sorters.clear();q.sorters.addAll(k);q.sorters.addAll(m)}else{q.sorters.addAll(k)}}else{q.sorters.clear();q.sorters.addAll(k)}}if(p!==false){q.onBeforeSort(k);m=q.sorters.items;if(m.length){j=function(b,c){var d=m[0].sort(b,c),e=m.length,a;for(a=1;a<e;a++){d=d||m[a].sort.call(this,b,c)}return d};q.doSort(j)}}return m},onBeforeSort:Ext.emptyFn,decodeSorters:function(l){if(!Ext.isArray(l)){if(l===undefined){l=[]}else{l=[l]}}var n=l.length,k=Ext.util.Sorter,j=this.model?this.model.prototype.fields:null,m,i,p;for(p=0;p<n;p++){i=l[p];if(!(i instanceof k)){if(Ext.isString(i)){i={property:i}}Ext.applyIf(i,{root:this.sortRoot,direction:"ASC"});if(i.fn){i.sorterFn=i.fn}if(typeof i=="function"){i={sorterFn:i}}if(j&&!i.transform){m=j.get(i.property);i.transform=m?m.sortType:undefined}l[p]=Ext.create("Ext.util.Sorter",i)}}return l},getSorters:function(){return this.sorters.items}});Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var b=this;b.callParent(arguments);b.addEvents("sort");b.mixins.sortable.initSortable.call(b)},doSort:function(b){this.sortBy(b)},_sort:function(i,v,n){var p=this,t,s,u=String(v).toUpperCase()=="DESC"?-1:1,q=[],c=p.keys,r=p.items;n=n||function(a,b){return a-b};for(t=0,s=r.length;t<s;t++){q[q.length]={key:c[t],value:r[t],index:t}}Ext.Array.sort(q,function(a,d){var b=n(a[i],d[i])*u;if(b===0){b=(a.index<d.index?-1:1)}return b});for(t=0,s=q.length;t<s;t++){r[t]=q[t].value;c[t]=q[t].key}p.fireEvent("sort",p)},sortBy:function(p){var k=this,i=k.items,l=k.keys,m=i.length,j=[],n;for(n=0;n<m;n++){j[n]={key:l[n],value:i[n],index:n}}Ext.Array.sort(j,function(b,c){var a=p(b.value,c.value);if(a===0){a=(b.index<c.index?-1:1)
}return a});for(n=0;n<m;n++){i[n]=j[n].value;l[n]=j[n].key}k.fireEvent("sort",k,i,l)},reorder:function(q){var m=this,j=m.items,r=0,n=j.length,k=[],p=[],l;m.suspendEvents();for(l in q){k[q[l]]=j[l]}for(r=0;r<n;r++){if(q[r]==undefined){p.push(j[r])}}for(r=0;r<n;r++){if(k[r]==undefined){k[r]=p.shift()}}m.clear();m.addAll(k);m.resumeEvents();m.fireEvent("sort",m)},sortByKey:function(d,c){this._sort("key",d,c||function(h,i){var a=String(h).toUpperCase(),b=String(i).toUpperCase();return a>b?1:(a<b?-1:0)})}});Ext.define("Ext.data.Errors",{extend:"Ext.util.MixedCollection",isValid:function(){return this.length===0},getByField:function(i){var j=[],h,k,g;for(g=0;g<this.length;g++){h=this.items[g];if(h.field==i){j.push(h)}}return j}});Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],totalProperty:"total",successProperty:"success",root:"",implicitIncludes:true,isReader:true,constructor:function(d){var c=this;Ext.apply(c,d||{});c.fieldCount=0;c.model=Ext.ModelManager.getModel(d.model);if(c.model){c.buildExtractors()}},setModel:function(e,g){var d=this;d.model=Ext.ModelManager.getModel(e);d.buildExtractors(true);if(g&&d.proxy){d.proxy.setModel(d.model,true)}},read:function(d){var c=d;if(d&&d.responseText){c=this.getResponseData(d)}if(c){return this.readRecords(c)}else{return this.nullResultSet}},readRecords:function(r){var q=this;if(q.fieldCount!==q.getFields().length){q.buildExtractors(true)}q.rawData=r;r=q.getData(r);var n=Ext.isArray(r)?r:q.getRoot(r),l=true,s=0,p,m,t,k;if(n){p=n.length}if(q.totalProperty){m=parseInt(q.getTotal(r),10);if(!isNaN(m)){p=m}}if(q.successProperty){m=q.getSuccess(r);if(m===false||m==="false"){l=false}}if(q.messageProperty){k=q.getMessage(r)}if(n){t=q.extractData(n);s=t.length}else{s=0;t=[]}return Ext.create("Ext.data.ResultSet",{total:p||s,count:s,records:t,success:l,message:k})},extractData:function(p){var q=this,n=[],t=[],u=q.model,s=0,w=p.length,i=q.getIdProperty(),v,x,r;if(!p.length&&Ext.isObject(p)){p=[p];w=1}for(;s<w;s++){v=p[s];n=q.extractValues(v);x=q.getId(v);r=new u(n,x,v);t.push(r);if(q.implicitIncludes){q.readAssociated(r,v)}}return t},readAssociated:function(m,p){var q=m.associations.items,n=0,t=q.length,r,s,i,l;for(;n<t;n++){r=q[n];s=this.getAssociatedDataRoot(p,r.associationKey||r.name);if(s){l=r.getReader();if(!l){i=r.associatedModel.proxy;if(i){l=i.getReader()}else{l=new this.constructor({model:r.associatedName})}}r.read(m,l,s)}}},getAssociatedDataRoot:function(c,d){return c[d]},getFields:function(){return this.model.prototype.fields.items},extractValues:function(l){var j=this.getFields(),p=0,n=j.length,i={},k,m;for(;p<n;p++){k=j[p];m=this.extractorFunctions[p](l);i[k.name]=m}return i},getData:function(b){return b},getRoot:function(b){return b},getResponseData:function(b){},onMetaChange:function(g){var e=g.fields,d;Ext.apply(this,g);if(e){d=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:e});this.setModel(d,true)}else{this.buildExtractors(true)}},getIdProperty:function(){var b=this.idProperty;if(Ext.isEmpty(b)){b=this.model.prototype.idProperty}return b},buildExtractors:function(m){var p=this,k=p.getIdProperty(),n=p.totalProperty,i=p.successProperty,l=p.messageProperty,j;if(m===true){delete p.extractorFunctions}if(p.extractorFunctions){return}if(n){p.getTotal=p.createAccessor(n)}if(i){p.getSuccess=p.createAccessor(i)}if(l){p.getMessage=p.createAccessor(l)}if(k){j=p.createAccessor(k);p.getId=function(b){var a=j.call(p,b);return(a===undefined||a==="")?null:a}}else{p.getId=function(){return null}}p.buildFieldExtractors()},buildFieldExtractors:function(){var n=this,j=n.getFields(),p=j.length,i=0,k=[],l,m;for(;i<p;i++){l=j[i];m=(l.mapping!==undefined&&l.mapping!==null)?l.mapping:l.name;k.push(n.createAccessor(m))}n.fieldCount=p;n.extractorFunctions=k}},function(){Ext.apply(this,{nullResultSet:Ext.create("Ext.data.ResultSet",{total:0,count:0,records:[],success:true})})});Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",useSimpleAccessors:false,readRecords:function(b){if(b.metaData){this.onMetaChange(b.metaData)
}this.jsonData=b;return this.callParent([b])},getResponseData:function(e){var g;try{g=Ext.decode(e.responseText)}catch(d){Ext.Error.raise({response:e,json:e.responseText,parseError:d,msg:"Unable to parse the JSON returned by the server: "+d.toString()})}return g},buildExtractors:function(){var b=this;b.callParent(arguments);if(b.root){b.getRoot=b.createAccessor(b.root)}else{b.getRoot=function(a){return a}}},extractData:function(h){var i=this.record,j=[],k,g;if(i){k=h.length;if(!k&&Ext.isObject(h)){k=1;h=[h]}for(g=0;g<k;g++){j[g]=h[g][i]}}else{j=h}return this.callParent([j])},createAccessor:function(){var b=/[\[\.]/;return function(d){if(Ext.isEmpty(d)){return Ext.emptyFn}if(Ext.isFunction(d)){return d}if(this.useSimpleAccessors!==true){var a=String(d).search(b);if(a>=0){return Ext.functionFactory("obj","return obj"+(a>0?".":"")+d)}}return function(c){return c[d]}}}()});Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:undefined,encode:false,allowSingle:true,writeRecords:function(d,g){var e=this.root;if(this.allowSingle&&g.length==1){g=g[0]}if(this.encode){if(e){d.params[e]=Ext.encode(g)}else{}}else{d.jsonData=d.jsonData||{};if(e){d.jsonData[e]=g}else{d.jsonData=g}}return d}});Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],requires:["Ext.data.reader.Json","Ext.data.writer.Json"],uses:["Ext.data.Batch","Ext.data.Operation","Ext.data.Model"],mixins:{observable:"Ext.util.Observable"},batchOrder:"create,update,destroy",batchActions:true,defaultReaderType:"json",defaultWriterType:"json",isProxy:true,constructor:function(b){b=b||{};if(b.model===undefined){delete b.model}this.mixins.observable.constructor.call(this,b);if(this.model!==undefined&&!(this.model instanceof Ext.data.Model)){this.setModel(this.model)}},setModel:function(e,i){this.model=Ext.ModelManager.getModel(e);var g=this.reader,h=this.writer;this.setReader(g);this.setWriter(h);if(i&&this.store){this.store.setModel(this.model)}},getModel:function(){return this.model},setReader:function(d){var c=this;if(d===undefined||typeof d=="string"){d={type:d}}if(d.isReader){d.setModel(c.model)}else{Ext.applyIf(d,{proxy:c,model:c.model,type:c.defaultReaderType});d=Ext.createByAlias("reader."+d.type,d)}c.reader=d;return c.reader},getReader:function(){return this.reader},setWriter:function(b){if(b===undefined||typeof b=="string"){b={type:b}}if(!(b instanceof Ext.data.writer.Writer)){Ext.applyIf(b,{model:this.model,type:this.defaultWriterType});b=Ext.createByAlias("writer."+b.type,b)}this.writer=b;return this.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(l,k){var j=this,m=Ext.create("Ext.data.Batch",{proxy:j,listeners:k||{}}),h=j.batchActions,i;Ext.each(j.batchOrder.split(","),function(a){i=l[a];if(i){if(h){m.add(Ext.create("Ext.data.Operation",{action:a,records:i}))}else{Ext.each(i,function(b){m.add(Ext.create("Ext.data.Operation",{action:a,records:[b]}))})}}},j);m.start();return m}},function(){Ext.data.DataProxy=this});Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",sortParam:"sort",filterParam:"filter",directionParam:"dir",simpleSortMode:false,noCache:true,cacheString:"_dc",timeout:30000,constructor:function(d){var c=this;d=d||{};this.addEvents("exception");c.callParent([d]);c.extraParams=d.extraParams||{};c.api=d.api||{};c.nocache=c.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},buildRequest:function(e){var g=Ext.applyIf(e.params||{},this.extraParams||{}),d;g=Ext.applyIf(g,this.getParams(e));if(e.id&&!g.id){g.id=e.id}d=Ext.create("Ext.data.Request",{params:g,action:e.action,records:e.records,operation:e,url:e.url});
d.url=this.buildUrl(d);e.request=d;return d},processResponse:function(m,t,r,s,n,l){var p=this,q,k;if(m===true){q=p.getReader();k=q.read(p.extractResponseData(s));if(k.success!==false){Ext.apply(t,{response:s,resultSet:k});t.commitRecords(k.records);t.setCompleted();t.setSuccessful()}else{t.setException(k.message);p.fireEvent("exception",this,s,t)}}else{p.setException(t,s);p.fireEvent("exception",this,s,t)}if(typeof n=="function"){n.call(l||p,t)}p.afterRequest(r,m)},setException:function(c,d){c.setException({status:d.status,statusText:d.statusText})},extractResponseData:function(b){return b},applyEncoding:function(b){return Ext.encode(b)},encodeSorters:function(h){var e=[],i=h.length,g=0;for(;g<i;g++){e[g]={property:h[g].property,direction:h[g].direction}}return this.applyEncoding(e)},encodeFilters:function(h){var e=[],i=h.length,g=0;for(;g<i;g++){e[g]={property:h[g].property,value:h[g].value}}return this.applyEncoding(e)},getParams:function(B){var u=this,v={},y=Ext.isDefined,x=B.groupers,L=B.sorters,D=B.filters,F=B.page,G=B.start,w=B.limit,E=u.simpleSortMode,z=u.pageParam,I=u.startParam,K=u.limitParam,J=u.groupParam,H=u.sortParam,A=u.filterParam,C=u.directionParam;if(z&&y(F)){v[z]=F}if(I&&y(G)){v[I]=G}if(K&&y(w)){v[K]=w}if(J&&x&&x.length>0){v[J]=u.encodeSorters(x)}if(H&&L&&L.length>0){if(E){v[H]=L[0].property;v[C]=L[0].direction}else{v[H]=u.encodeSorters(L)}}if(A&&D&&D.length>0){v[A]=u.encodeFilters(D)}return v},buildUrl:function(g){var d=this,e=d.getUrl(g);if(d.noCache){e=Ext.urlAppend(e,Ext.String.format("{0}={1}",d.cacheString,Ext.Date.now()))}return e},getUrl:function(b){return b.url||this.api[b.action]||this.url},doRequest:function(e,g,d){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}});Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.util.MixedCollection","Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},doRequest:function(h,i,g){var j=this.getWriter(),k=this.buildRequest(h,i,g);if(h.allowWrite()){k=j.write(k)}Ext.apply(k,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(k,h,i,g),method:this.getMethod(k),disableCaching:false});Ext.Ajax.request(k);return k},getMethod:function(b){return this.actionMethods[b.action]},createRequestCallback:function(j,h,i,g){var k=this;return function(b,a,c){k.processResponse(a,h,j,c,i,g)}}},function(){Ext.data.HttpProxy=this});Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.util.Observable"},requires:["Ext.ModelManager","Ext.data.IdGenerator","Ext.data.Field","Ext.data.Errors","Ext.data.Operation","Ext.data.validations","Ext.data.proxy.Ajax","Ext.util.MixedCollection"],onClassExtended:function(e,d){var g=d.onBeforeClassCreated;d.onBeforeClassCreated=function(R,a){var b=this,H=Ext.getClassName(R),K=R.prototype,E=R.prototype.superclass,Q=a.validations||[],I=a.fields||[],C=a.associations||[],D=a.belongsTo,J=a.hasMany,G=a.idgen,i=new Ext.util.MixedCollection(false,function(h){return h.name}),B=new Ext.util.MixedCollection(false,function(h){return h.name}),L=E.validations,c=E.fields,O=E.associations,P,F,N,M=[];R.modelName=H;K.modelName=H;if(L){Q=L.concat(Q)}a.validations=Q;if(c){I=c.items.concat(I)}for(F=0,N=I.length;F<N;++F){i.add(new Ext.data.Field(I[F]))}a.fields=i;if(G){a.idgen=Ext.data.IdGenerator.get(G)}if(D){D=Ext.Array.from(D);for(F=0,N=D.length;F<N;++F){P=D[F];if(!Ext.isObject(P)){P={model:P}}P.type="belongsTo";C.push(P)}delete a.belongsTo}if(J){J=Ext.Array.from(J);for(F=0,N=J.length;F<N;++F){P=J[F];if(!Ext.isObject(P)){P={model:P}}P.type="hasMany";C.push(P)}delete a.hasMany}if(O){C=O.items.concat(C)}for(F=0,N=C.length;F<N;++F){M.push("association."+C[F].type.toLowerCase())}if(a.proxy){if(typeof a.proxy==="string"){M.push("proxy."+a.proxy)}else{if(typeof a.proxy.type==="string"){M.push("proxy."+a.proxy.type)}}}Ext.require(M,function(){Ext.ModelManager.registerType(H,R);for(F=0,N=C.length;F<N;++F){P=C[F];Ext.apply(P,{ownerModel:H,associatedModel:P.model});
if(Ext.ModelManager.getModel(P.model)===undefined){Ext.ModelManager.registerDeferredAssociation(P)}else{B.add(Ext.data.Association.create(P))}}a.associations=B;g.call(b,R,a);R.setProxy(R.prototype.proxy||R.prototype.defaultProxyType);Ext.ModelManager.onModelDefined(R)})}},inheritableStatics:{setProxy:function(b){if(!b.isProxy){if(typeof b=="string"){b={type:b}}b=Ext.createByAlias("proxy."+b.type,b)}b.setModel(this);this.proxy=this.prototype.proxy=b;return b},getProxy:function(){return this.proxy},load:function(j,m){m=Ext.apply({},m);m=Ext.applyIf(m,{action:"read",id:j});var h=Ext.create("Ext.data.Operation",m),l=m.scope||this,i=null,k;k=function(a){if(a.wasSuccessful()){i=a.getRecords()[0];Ext.callback(m.success,l,[i,a])}else{Ext.callback(m.failure,l,[i,a])}Ext.callback(m.callback,l,[i,a])};this.proxy.read(h,k,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(d){var c=[this.PREFIX,"-",this.AUTO_ID++].join("");d.phantom=true;d.internalId=c;return c}},idgen:{isGenerator:true,type:"default",generate:function(){return null},getRecId:function(b){return b.modelName+"-"+b.internalId}},editing:false,dirty:false,persistenceProperty:"data",evented:false,isModel:true,phantom:false,idProperty:"id",defaultProxyType:"ajax",constructor:function(u,y,p){u=u||{};var r=this,s,x,q,z,v,w,t=Ext.isArray(u),i=t?{}:null;r.internalId=(y||y===0)?y:Ext.data.Model.id(r);r.raw=p;Ext.applyIf(r,{data:{}});r.modified={};if(r.persistanceProperty){r.persistenceProperty=r.persistanceProperty}r[r.persistenceProperty]={};r.mixins.observable.constructor.call(r);s=r.fields.items;x=s.length;for(v=0;v<x;v++){q=s[v];z=q.name;if(t){i[z]=u[v]}else{if(u[z]===undefined){u[z]=q.defaultValue}}}r.set(i||u);if(r.getId()){r.phantom=false}else{if(r.phantom){w=r.idgen.generate();if(w!==null){r.setId(w)}}}r.dirty=false;r.modified={};if(typeof r.init=="function"){r.init()}r.id=r.idgen.getRecId(r)},get:function(b){return this[this.persistenceProperty][b]},set:function(i,t){var v=this,x=v.fields,q=v.modified,y=[],u,r,z,s,A,w,B;if(arguments.length==1&&Ext.isObject(i)){A=!v.editing;w=0;for(r in i){if(i.hasOwnProperty(r)){u=x.get(r);if(u&&u.convert!==u.type.convert){y.push(r);continue}if(!w&&A){v.beginEdit()}++w;v.set(r,i[r])}}B=y.length;if(B){if(!w&&A){v.beginEdit()}w+=B;for(z=0;z<B;z++){u=y[z];v.set(u,i[u])}}if(A&&w){v.endEdit()}}else{if(x){u=x.get(i);if(u&&u.convert){t=u.convert(t,v)}}s=v.get(i);v[v.persistenceProperty][i]=t;if(u&&u.persist&&!v.isEqual(s,t)){if(v.isModified(i)){if(v.isEqual(q[i],t)){delete q[i];v.dirty=false;for(r in q){if(q.hasOwnProperty(r)){v.dirty=true;break}}}}else{v.dirty=true;q[i]=s}}if(!v.editing){v.afterEdit()}}},isEqual:function(a,b){if(Ext.isDate(a)&&Ext.isDate(b)){return a.getTime()===b.getTime()}return a===b},beginEdit:function(){var b=this;if(!b.editing){b.editing=true;b.dirtySave=b.dirty;b.dataSave=Ext.apply({},b[b.persistenceProperty]);b.modifiedSave=Ext.apply({},b.modified)}},cancelEdit:function(){var b=this;if(b.editing){b.editing=false;b.modified=b.modifiedSave;b[b.persistenceProperty]=b.dataSave;b.dirty=b.dirtySave;delete b.modifiedSave;delete b.dataSave;delete b.dirtySave}},endEdit:function(e){var d=this,g;if(d.editing){d.editing=false;g=d.dirty||d.changedWhileEditing();delete d.modifiedSave;delete d.dataSave;delete d.dirtySave;if(e!==true&&g){d.afterEdit()}}},changedWhileEditing:function(){var i=this,e=i.dataSave,h=i[i.persistenceProperty],g;for(g in h){if(h.hasOwnProperty(g)){if(!i.isEqual(h[g],e[g])){return true}}}return false},getChanges:function(){var e=this.modified,d={},g;for(g in e){if(e.hasOwnProperty(g)){d[g]=this.get(g)}}return d},isModified:function(b){return this.modified.hasOwnProperty(b)},setDirty:function(){var c=this,d;c.dirty=true;c.fields.each(function(a){if(a.persist){d=a.name;c.modified[d]=c.get(d)}},c)},reject:function(g){var i=this,e=i.modified,h;for(h in e){if(e.hasOwnProperty(h)){if(typeof e[h]!="function"){i[i.persistenceProperty][h]=e[h]}}}i.dirty=false;i.editing=false;i.modified={};if(g!==true){i.afterReject()}},commit:function(d){var c=this;c.phantom=c.dirty=c.editing=false;
c.modified={};if(d!==true){c.afterCommit()}},copy:function(d){var c=this;return new c.self(Ext.apply({},c[c.persistenceProperty]),d||c.internalId)},setProxy:function(b){if(!b.isProxy){if(typeof b==="string"){b={type:b}}b=Ext.createByAlias("proxy."+b.type,b)}b.setModel(this.self);this.proxy=b;return b},getProxy:function(){return this.proxy},validate:function(){var i=Ext.create("Ext.data.Errors"),r=this.validations,p=Ext.data.validations,s,q,l,t,m,n;if(r){s=r.length;for(n=0;n<s;n++){q=r[n];l=q.field||q.name;m=q.type;t=p[m](q,this.get(l));if(!t){i.add({field:l,message:q.message||p[m+"Message"]})}}}return i},isValid:function(){return this.validate().isValid()},save:function(p){p=Ext.apply({},p);var m=this,l=m.phantom?"create":"update",j=null,n=p.scope||m,i,k;Ext.apply(p,{records:[m],action:l});i=Ext.create("Ext.data.Operation",p);k=function(a){if(a.wasSuccessful()){j=a.getRecords()[0];m.set(j.data);j.dirty=false;Ext.callback(p.success,n,[j,a])}else{Ext.callback(p.failure,n,[j,a])}Ext.callback(p.callback,n,[j,a])};m.getProxy()[l](i,k,m);return m},destroy:function(m){m=Ext.apply({},m);var k=this,i=null,l=m.scope||k,h,j;Ext.apply(m,{records:[k],action:"destroy"});h=Ext.create("Ext.data.Operation",m);j=function(a){if(a.wasSuccessful()){Ext.callback(m.success,l,[i,a])}else{Ext.callback(m.failure,l,[i,a])}Ext.callback(m.callback,l,[i,a])};k.getProxy().destroy(h,j,k);return k},getId:function(){return this.get(this.idProperty)},setId:function(b){this.set(this.idProperty,b)},join:function(b){this.store=b},unjoin:function(b){delete this.store},afterEdit:function(){this.callStore("afterEdit")},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(c){var d=this.store;if(d!==undefined&&typeof d[c]=="function"){d[c](this)}},getAssociatedData:function(){return this.prepareAssociatedData(this,[],null)},prepareAssociatedData:function(i,F,j){var y=i.associations.items,w=y.length,B={},A,G,z,I,H,C,D,v,x,J,E;for(v=0;v<w;v++){C=y[v];J=C.type;E=true;if(j){E=J==j}if(E&&J=="hasMany"){A=i[C.storeName];B[C.name]=[];if(A&&A.data.length>0){z=A.data.items;H=z.length;for(x=0;x<H;x++){I=z[x];D=I.id;if(Ext.Array.indexOf(F,D)==-1){F.push(D);B[C.name][x]=I.data;Ext.apply(B[C.name][x],this.prepareAssociatedData(I,F,J))}}}}else{if(E&&J=="belongsTo"){I=i[C.instanceName];if(I!==undefined){D=I.id;if(Ext.Array.indexOf(F,D)==-1){F.push(D);B[C.name]=I.data;Ext.apply(B[C.name],this.prepareAssociatedData(I,F,J))}}}}}return B}});Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,uses:["Ext.data.ArrayStore"],register:function(){for(var d=0,c;(c=arguments[d]);d++){this.add(c)}},unregister:function(){for(var d=0,c;(c=arguments[d]);d++){this.remove(this.lookup(c))}},lookup:function(m){if(Ext.isArray(m)){var h=["field1"],k=!Ext.isArray(m[0]),j=m,l,i;if(k){j=[];for(l=0,i=m.length;l<i;++l){j.push([m[l]])}}else{for(l=2,i=m[0].length;l<=i;++l){h.push("field"+l)}}return Ext.create("Ext.data.ArrayStore",{data:j,fields:h,autoDestroy:true,autoCreated:true,expanded:k})}if(Ext.isString(m)){return this.get(m)}else{return Ext.data.AbstractStore.create(m)}},getKey:function(b){return b.storeId}},function(){Ext.regStore=function(g,d){var e;if(Ext.isObject(g)){d=g}else{d.storeId=g}if(d instanceof Ext.data.Store){e=d}else{e=Ext.create("Ext.data.Store",d)}return Ext.data.StoreManager.register(e)};Ext.getStore=function(b){return Ext.data.StoreManager.lookup(b)}});Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",requires:["Ext.util.DelayedTask"],uses:["Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:false,toFrontOnShow:true,hideMode:"display",hideParent:false,ariaRole:"presentation",bubbleEvents:[],actionMode:"el",monPropRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,constructor:function(d){var c=this;
d=d||{};if(d.initialConfig){if(d.isAction){c.baseAction=d}d=d.initialConfig}else{if(d.tagName||d.dom||Ext.isString(d)){d={applyTo:d,id:d.id||d}}}c.callParent([d]);if(c.baseAction){c.baseAction.addComponent(c)}},initComponent:function(){var b=this;b.callParent();if(b.listeners){b.on(b.listeners);delete b.listeners}b.enableBubble(b.bubbleEvents);b.mons=[]},afterRender:function(){var c=this,d=c.resizable;if(c.floating){c.makeFloating(c.floating)}else{c.el.setVisibilityMode(Ext.Element[c.hideMode.toUpperCase()])}if(Ext.isDefined(c.autoScroll)){c.setAutoScroll(c.autoScroll)}c.callParent();if(!(c.x&&c.y)&&(c.pageX||c.pageY)){c.setPagePosition(c.pageX,c.pageY)}if(d){c.initResizable(d)}if(c.draggable){c.initDraggable()}c.initAria()},initAria:function(){var d=this.getActionEl(),c=this.ariaRole;if(c){d.dom.setAttribute("role",c)}},setAutoScroll:function(e){var d=this,g;e=!!e;if(d.rendered){g=d.getTargetEl();g.setStyle("overflow",e?"auto":"");if(e&&(Ext.isIE6||Ext.isIE7)){g.position()}}d.autoScroll=e;return d},makeFloating:function(b){this.mixins.floating.constructor.call(this,b)},initResizable:function(d){var c=this;d=Ext.apply({target:c,dynamic:false,constrainTo:c.constrainTo||(c.floatParent?c.floatParent.getTargetEl():c.el.getScopeParent()),handles:c.resizeHandles},d);d.target=c;c.resizer=Ext.create("Ext.resizer.Resizer",d)},getDragEl:function(){return this.el},initDraggable:function(){var c=this,d=Ext.applyIf({el:c.getDragEl(),constrainTo:c.constrain?(c.constrainTo||(c.floatParent?c.floatParent.getTargetEl():c.el.getScopeParent())):undefined},c.draggable);if(c.constrain||c.constrainDelegate){d.constrain=c.constrain;d.constrainDelegate=c.constrainDelegate}c.dd=Ext.create("Ext.util.ComponentDragger",c,d)},setPosition:function(n,q,x){var s=this,w=s.el,m={},r,p,t,u,v;if(Ext.isArray(n)){x=q;q=n[1];n=n[0]}s.x=n;s.y=q;if(!s.rendered){return s}r=s.adjustPosition(n,q);p=r.x;t=r.y;u=Ext.isNumber(p);v=Ext.isNumber(t);if(u||v){if(x){if(u){m.left=p}if(v){m.top=t}s.stopAnimation();s.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(s.afterSetPosition,s,[p,t])},to:m},x))}else{if(!u){w.setTop(t)}else{if(!v){w.setLeft(p)}else{w.setLeftTop(p,t)}}s.afterSetPosition(p,t)}}return s},afterSetPosition:function(c,d){this.onPosition(c,d);this.fireEvent("move",this,c,d)},showAt:function(g,h,e){var i=this;if(i.floating){i.setPosition(g,h,e)}else{i.setPagePosition(g,h,e)}i.show()},setPagePosition:function(h,i,g){var k=this,j;if(Ext.isArray(h)){i=h[1];h=h[0]}k.pageX=h;k.pageY=i;if(k.floating&&k.floatParent){j=k.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(h)&&Ext.isNumber(j.left)){h-=j.left}if(Ext.isNumber(i)&&Ext.isNumber(j.top)){i-=j.top}k.setPosition(h,i,g)}else{j=k.el.translatePoints(h,i);k.setPosition(j.left,j.top,g)}return k},getBox:function(d){var g=this.getPosition(d),e=this.getSize();e.x=g[0];e.y=g[1];return e},updateBox:function(b){this.setSize(b.width,b.height);this.setPagePosition(b.x,b.y);return this},getOuterSize:function(){var b=this.el;return{width:b.getWidth()+b.getMargin("lr"),height:b.getHeight()+b.getMargin("tb")}},adjustPosition:function(e,g){if(this.floating&&this.floatParent){var d=this.floatParent.getTargetEl().getViewRegion();e+=d.left;g+=d.top}return{x:e,y:g}},getPosition:function(h){var k=this,g=k.el,j,i;if((h===true)||(k.floating&&!k.floatParent)){return[g.getLeft(true),g.getTop(true)]}j=k.xy||g.getXY();if(k.floating){i=k.floatParent.getTargetEl().getViewRegion();j[0]-=i.left;j[1]-=i.top}return j},getId:function(){var d=this,c;if(!d.id){c=d.getXType();c=c?c.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):"ext-comp";d.id=c+"-"+d.getAutoId()}return d.id},onEnable:function(){var b=this.getActionEl();b.dom.removeAttribute("aria-disabled");b.dom.disabled=false;this.callParent()},onDisable:function(){var b=this.getActionEl();b.dom.setAttribute("aria-disabled",true);b.dom.disabled=true;this.callParent()},show:function(h,g,e){var i=this;if(i.rendered&&i.isVisible()){if(i.toFrontOnShow&&i.floating){i.toFront()}}else{if(i.fireEvent("beforeshow",i)!==false){i.hidden=false;if(!i.rendered&&(i.autoRender||i.floating)){i.doAutoRender()
}if(i.rendered){i.beforeShow();i.onShow.apply(i,arguments);if(i.ownerCt&&!i.floating&&!(i.ownerCt.suspendLayout||i.ownerCt.layout.layoutBusy)){i.ownerCt.doLayout()}i.afterShow.apply(i,arguments)}}}return i},beforeShow:Ext.emptyFn,onShow:function(){var b=this;b.el.show();b.callParent(arguments);if(b.floating&&b.constrain){b.doConstrain()}},afterShow:function(k,i,m){var l=this,j,p,n;k=k||l.animateTarget;if(!l.ghost){k=null}if(k){k=k.el?k.el:Ext.get(k);p=l.el.getBox();j=k.getBox();l.el.addCls(Ext.baseCSSPrefix+"hide-offsets");n=l.ghost();n.el.stopAnimation();n.el.setX(-10000);n.el.animate({from:j,to:p,listeners:{afteranimate:function(){delete n.componentLayout.lastComponentSize;l.unghost();l.el.removeCls(Ext.baseCSSPrefix+"hide-offsets");l.onShowComplete(i,m)}}})}else{l.onShowComplete(i,m)}},onShowComplete:function(e,d){var g=this;if(g.floating){g.toFront()}Ext.callback(e,d||g);g.fireEvent("show",g)},hide:function(){var b=this;b.showOnParentShow=false;if(!(b.rendered&&!b.isVisible())&&b.fireEvent("beforehide",b)!==false){b.hidden=true;if(b.rendered){b.onHide.apply(b,arguments);if(b.ownerCt&&!b.floating&&!(b.ownerCt.suspendLayout||b.ownerCt.layout.layoutBusy)){b.ownerCt.doLayout()}}}return b},onHide:function(j,i,l){var k=this,m,h;j=j||k.animateTarget;if(!k.ghost){j=null}if(j){j=j.el?j.el:Ext.get(j);m=k.ghost();m.el.stopAnimation();h=j.getBox();h.width+="px";h.height+="px";m.el.animate({to:h,listeners:{afteranimate:function(){delete m.componentLayout.lastComponentSize;m.el.hide();k.afterHide(i,l)}}})}k.el.hide();if(!j){k.afterHide(i,l)}},afterHide:function(d,c){Ext.callback(d,c||this);this.fireEvent("hide",this)},onDestroy:function(){var b=this;if(b.rendered){Ext.destroy(b.proxy,b.proxyWrap,b.resizer);if(b.actionMode=="container"||b.removeMode=="container"){b.container.remove()}}delete b.focusTask;b.callParent()},deleteMembers:function(){var d=arguments,e=d.length,g=0;for(;g<e;++g){delete this[d[g]]}},focus:function(h,e){var i=this,g;if(e){if(!i.focusTask){i.focusTask=Ext.create("Ext.util.DelayedTask",i.focus)}i.focusTask.delay(Ext.isNumber(e)?e:10,null,i,[h,false]);return i}if(i.rendered&&!i.isDestroyed){g=i.getFocusEl();g.focus();if(g.dom&&h===true){g.dom.select()}if(i.floating){i.toFront(true)}}return i},getFocusEl:function(){return this.el},blur:function(){if(this.rendered){this.getFocusEl().blur()}return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},onResize:Ext.emptyFn,getBubbleTarget:function(){return this.ownerCt},getContentTarget:function(){return this.el},cloneConfig:function(i){i=i||{};var h=i.id||Ext.id(),g=Ext.applyIf(i,this.initialConfig),e;g.id=h;e=Ext.getClass(this);return new e(g)},getXType:function(){return this.self.xtype},findParentBy:function(d){var c;for(c=this.ownerCt;c&&!d(c,this);c=c.ownerCt){}return c||null},findParentByType:function(b){return Ext.isFunction(b)?this.findParentBy(function(a){return a.constructor===b}):this.up(b)},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break}h=h.ownerCt}return this},getProxy:function(){var d=this,c;if(!d.proxy){c=Ext.getBody();if(Ext.scopeResetCSS){d.proxyWrap=c=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"reset"})}d.proxy=d.el.createProxy(Ext.baseCSSPrefix+"proxy-el",c,true)}return d.proxy}});Ext.define("Ext.layout.container.AbstractContainer",{extend:"Ext.layout.Layout",type:"container",bindToOwnerCtComponent:false,bindToOwnerCtContainer:false,setItemSize:function(g,d,e){if(Ext.isObject(d)){e=d.height;d=d.width}g.setCalculatedSize(d,e,this.owner)},getLayoutItems:function(){return this.owner&&this.owner.items&&this.owner.items.items||[]},beforeLayout:function(){return !this.owner.collapsed&&this.callParent(arguments)},afterLayout:function(){this.owner.afterLayout(this)},getTarget:function(){return this.owner.getTargetEl()},getRenderTarget:function(){return this.owner.getTargetEl()}});Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.container.AbstractContainer",alternateClassName:"Ext.layout.ContainerLayout",layoutItem:function(c,d){if(d){c.doComponentLayout(d.width,d.height)
}else{c.doComponentLayout()}},getLayoutTargetSize:function(){var c=this.getTarget(),d;if(c){d=c.getViewSize();if(Ext.isIE&&d.width==0){d=c.getStyleSize()}d.width-=c.getPadding("lr");d.height-=c.getPadding("tb")}return d},beforeLayout:function(){if(this.owner.beforeLayout(arguments)!==false){return this.callParent(arguments)}else{return false}},getRenderedItems:function(){var m=this,k=m.getTarget(),j=m.getLayoutItems(),n=j.length,l=[],i,p;for(i=0;i<n;i++){p=j[i];if(p.rendered&&m.isValidParent(p,k,i)){l.push(p)}}return l},getVisibleItems:function(){var j=this.getTarget(),h=this.getLayoutItems(),k=h.length,i=[],m,l;for(m=0;m<k;m++){l=h[m];if(l.rendered&&this.isValidParent(l,j,m)&&l.hidden!==true){i.push(l)}}return i}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",bindToOwnerCtComponent:true,onLayout:function(i,j){var k=this,h=k.getLayoutItems(),l=h.length,m;if(l){if(!k.clearEl){k.clearEl=k.getRenderTarget().createChild({cls:Ext.baseCSSPrefix+"clear",role:"presentation"})}for(m=0;m<l;m++){k.setItemSize(h[m])}}},configureItem:function(b){this.callParent(arguments);b.layoutManagedHeight=2;b.layoutManagedWidth=2}});Ext.define("Ext.container.AbstractContainer",{extend:"Ext.Component",requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],suspendLayout:false,autoDestroy:true,defaultType:"panel",isContainer:true,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",bubbleEvents:["add","remove"],initComponent:function(){var b=this;b.addEvents("afterlayout","beforeadd","beforeremove","add","remove");b.layoutOnShow=Ext.create("Ext.util.MixedCollection");b.callParent();b.initItems()},initItems:function(){var c=this,d=c.items;c.items=Ext.create("Ext.util.MixedCollection",false,c.getComponentId);if(d){if(!Ext.isArray(d)){d=[d]}c.add(d)}},afterRender:function(){this.getLayout();this.callParent()},renderChildren:function(){var c=this,d=c.getLayout();c.callParent();if(d){c.suspendLayout=true;d.renderChildren();delete c.suspendLayout}},setLayout:function(c){var d=this.layout;if(d&&d.isLayout&&d!=c){d.setOwner(null)}this.layout=c;c.setOwner(this)},getLayout:function(){var b=this;if(!b.layout||!b.layout.isLayout){b.setLayout(Ext.layout.Layout.create(b.layout,"autocontainer"))}return b.layout},doLayout:function(){var c=this,d=c.getLayout();if(c.rendered&&d&&!c.suspendLayout){if(!c.isFixedWidth()||!c.isFixedHeight()){if(c.componentLayout.layoutBusy!==true){c.doComponentLayout();if(c.componentLayout.layoutCancelled===true){d.layout()}}}else{if(d.layoutBusy!==true){d.layout()}}}return c},afterLayout:function(b){++this.layoutCounter;this.fireEvent("afterlayout",this,b)},prepareItems:function(g,j){if(!Ext.isArray(g)){g=[g]}var k=0,h=g.length,i;for(;k<h;k++){i=g[k];if(j){i=this.applyDefaults(i)}g[k]=this.lookupComponent(i)}return g},applyDefaults:function(d){var c=this.defaults;if(c){if(Ext.isFunction(c)){c=c.call(this,d)}if(Ext.isString(d)){d=Ext.ComponentManager.get(d)}Ext.applyIf(d,c)}return d},lookupComponent:function(b){return Ext.isString(b)?Ext.ComponentManager.get(b):this.createComponent(b)},createComponent:function(d,c){return Ext.ComponentManager.create(d,c||this.defaultType)},getComponentId:function(b){return b.getItemId()},add:function(){var n=this,q=Array.prototype.slice.call(arguments),v,p,u=[],t,r,i,s=-1,m;if(typeof q[0]=="number"){s=q.shift()}v=q.length>1;if(v||Ext.isArray(q[0])){p=v?q:q[0];n.suspendLayout=true;for(t=0,r=p.length;t<r;t++){i=p[t];if(s!=-1){i=n.add(s+t,i)}else{i=n.add(i)}u.push(i)}n.suspendLayout=false;n.doLayout();return u}m=n.prepareItems(q[0],true)[0];if(m.floating){m.onAdded(n,s)}else{s=(s!==-1)?s:n.items.length;if(n.fireEvent("beforeadd",n,m,s)!==false&&n.onBeforeAdd(m)!==false){n.items.insert(s,m);m.onAdded(n,s);n.onAdd(m,s);n.fireEvent("add",n,m,s)}n.doLayout()}return m},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(c,d){return this.add(c,d)},move:function(e,h){var g=this.items,i;i=g.removeAt(e);if(i===false){return false}g.insert(h,i);this.doLayout();return i},onBeforeAdd:function(c){var d=this;
if(c.ownerCt){c.ownerCt.remove(c,false)}if(d.border===false||d.border===0){c.border=(c.border===true)}},remove:function(g,c){var i=this,h=i.getComponent(g);if(h&&i.fireEvent("beforeremove",i,h)!==false){i.doRemove(h,c);i.fireEvent("remove",i,h)}return h},doRemove:function(k,g){var i=this,j=i.layout,h=j&&i.rendered;i.items.remove(k);k.onRemoved();if(h){j.onRemove(k)}i.onRemove(k,g);if(g===true||(g!==false&&i.autoDestroy)){k.destroy()}if(h&&!g){j.afterRemove(k)}if(!i.destroying){i.doLayout()}},removeAll:function(p){var k=this,m=k.items.items.slice(),i=[],n=0,j=m.length,l;k.suspendLayout=true;for(;n<j;n++){l=m[n];k.remove(l,p);if(l.ownerCt!==k){i.push(l)}}k.suspendLayout=false;if(j){k.doLayout()}return i},getRefItems:function(p){var k=this,n=k.items.items,i=n.length,m=0,l,j=[];for(;m<i;m++){l=n[m];j.push(l);if(p&&l.getRefItems){j.push.apply(j,l.getRefItems(true))}}if(k.floatingItems&&k.floatingItems.accessList){j.push.apply(j,k.floatingItems.accessList)}return j},cascade:function(i,c,v){var n=this,s=n.items?n.items.items:[],r=s.length,t=0,p,q=v?v.concat(n):[n],u=q.length-1;if(i.apply(c||n,q)!==false){for(;t<r;t++){p=s[t];if(p.cascade){p.cascade(i,c,v)}else{q[u]=p;i.apply(c||s,q)}}}return this},getComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}return this.items.get(b)},query:function(b){b=b||"*";return Ext.ComponentQuery.query(b,this)},child:function(b){b=b||"";return this.query("> "+b)[0]||null},down:function(b){return this.query(b)[0]||null},show:function(){this.callParent(arguments);this.performDeferredLayouts();return this},performDeferredLayouts:function(){var i=this.layoutOnShow,j=i.getCount(),g=0,h,k;for(;g<j;g++){k=i.get(g);h=k.needsLayout;if(Ext.isObject(h)){k.doComponentLayout(h.width,h.height,h.isSetSize,h.ownerCt)}}i.clear()},onEnable:function(){Ext.Array.each(this.query("[isFormField]"),function(b){if(b.resetDisable){b.enable();delete b.resetDisable}});this.callParent()},onDisable:function(){Ext.Array.each(this.query("[isFormField]"),function(b){if(b.resetDisable!==false&&!b.disabled){b.disable();b.resetDisable=true}});this.callParent()},beforeLayout:function(){return true},beforeDestroy:function(){var c=this,e=c.items,g;if(e){while((g=e.first())){c.doRemove(g,true)}}Ext.destroy(c.layout);c.callParent()}});Ext.define("Ext.container.Container",{extend:"Ext.container.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(l){var j,h,i=0,m=this.items.items,k=m.length;l=Ext.getDom(l);for(;i<k;i++){j=m[i];h=j.getEl();if((h.dom===l)||h.contains(l)){return j}}return null}});Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:true,flex:1});Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:false});Ext.define("Ext.menu.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menus:{},groups:{},attached:false,lastShow:new Date(),init:function(){var b=this;b.active=Ext.create("Ext.util.MixedCollection");Ext.getDoc().addKeyListener(27,function(){if(b.active.length>0){b.hideAll()}},b)},hideAll:function(){var d=this.active,c;if(d&&d.length>0){c=d.clone();c.each(function(a){a.hide()});return true}return false},onHide:function(e){var d=this,g=d.active;g.remove(e);if(g.length<1){Ext.getDoc().un("mousedown",d.onMouseDown,d);d.attached=false}},onShow:function(j){var m=this,l=m.active,n=l.last(),p=m.attached,i=j.getEl(),k;m.lastShow=new Date();l.add(j);if(!p){Ext.getDoc().on("mousedown",m.onMouseDown,m);m.attached=true}j.toFront()},onBeforeHide:function(b){if(b.activeChild){b.activeChild.hide()}if(b.autoHideTimer){clearTimeout(b.autoHideTimer);delete b.autoHideTimer}},onBeforeShow:function(e){var g=this.active,d=e.parentMenu;
g.remove(e);if(!d&&!e.allowOtherMenus){this.hideAll()}else{if(d&&d.activeChild&&e!=d.activeChild){d.activeChild.hide()}}},onMouseDown:function(i){var e=this,j=e.active,h=e.lastShow,k=i.target;if(Ext.Date.getElapsed(h)>50&&j.length>0&&!i.getTarget("."+Ext.baseCSSPrefix+"menu")){e.hideAll();if(Ext.isIE&&Ext.fly(k).focusable()){k.focus()}}},register:function(c){var d=this;if(!d.active){d.init()}if(c.floating){d.menus[c.id]=c;c.on({beforehide:d.onBeforeHide,hide:d.onHide,beforeshow:d.onBeforeShow,show:d.onShow,scope:d})}},get:function(c){var d=this.menus;if(typeof c=="string"){if(!d){return null}return d[c]}else{if(c.isMenu){return c}else{if(Ext.isArray(c)){return Ext.create("Ext.menu.Menu",{items:c})}else{return Ext.ComponentManager.create(c,"menu")}}}},unregister:function(h){var g=this,e=g.menus,i=g.active;delete e[h.id];i.remove(h);h.un({beforehide:g.onBeforeHide,hide:g.onHide,beforeshow:g.onBeforeShow,show:g.onShow,scope:g})},registerCheckable:function(g){var e=this.groups,d=g.group;if(d){if(!e[d]){e[d]=[]}e[d].push(g)}},unregisterCheckable:function(g){var e=this.groups,d=g.group;if(d){Ext.Array.remove(e[d],g)}},onCheckChange:function(q,n){var k=this.groups,r=q.group,i=0,l,p,m;if(r&&n){l=k[r];p=l.length;for(;i<p;i++){m=l[i];if(m!=q){m.setChecked(false)}}}}});Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Component",type:"button",cellClsRE:/-btn-(tl|br)\b/,htmlRE:/<.*>/,beforeLayout:function(){return this.callParent(arguments)||this.lastText!==this.owner.text},onLayout:function(D,s){var v=this,z=Ext.isNumber,C=v.owner,t=C.el,y=C.btnEl,B=C.btnInnerEl,A=C.btnIconEl,x=(C.icon||C.iconCls)&&(C.iconAlign=="top"||C.iconAlign=="bottom"),E=C.minWidth,u=C.maxWidth,F,r,w;v.getTargetInfo();v.callParent(arguments);B.unclip();v.setTargetSize(D,s);if(!z(D)){if(C.text&&(Ext.isIE6||Ext.isIE7)&&Ext.isStrict&&y&&y.getWidth()>20){r=v.btnFrameWidth;w=Ext.util.TextMetrics.measure(B,C.text);t.setWidth(w.width+r+v.adjWidth);y.setWidth(w.width+r);B.setWidth(w.width+r);if(x){A.setWidth(w.width+r)}}else{t.setWidth(null);y.setWidth(null);B.setWidth(null);A.setWidth(null)}if(E||u){F=t.getWidth();if(E&&(F<E)){v.setTargetSize(E,s)}else{if(u&&(F>u)){B.clip();v.setTargetSize(u,s)}}}}this.lastText=C.text},setTargetSize:function(x,m){var r=this,w=r.owner,t=Ext.isNumber,u=w.btnInnerEl,p=(t(x)?x-r.adjWidth:x),s=(t(m)?m-r.adjHeight:m),v=r.btnFrameHeight,n=w.getText(),q;r.callParent(arguments);r.setElementSize(w.btnEl,p,s);r.setElementSize(u,p,s);if(s>=0){u.setStyle("line-height",s-v+"px")}if(n&&this.htmlRE.test(n)){u.setStyle("line-height","normal");q=Ext.util.TextMetrics.measure(u,n).height;u.setStyle("padding-top",r.btnFrameTop+Math.max(u.getHeight()-v-q,0)/2+"px");r.setElementSize(u,p,s)}},getTargetInfo:function(){var m=this,j=m.owner,n=j.el,p=m.frameSize,k=j.frameBody,i=j.btnWrap,l=j.btnInnerEl;if(!("adjWidth" in m)){Ext.apply(m,{adjWidth:p.left+p.right+n.getBorderWidth("lr")+n.getPadding("lr")+i.getPadding("lr")+(k?k.getFrameWidth("lr"):0),adjHeight:p.top+p.bottom+n.getBorderWidth("tb")+n.getPadding("tb")+i.getPadding("tb")+(k?k.getFrameWidth("tb"):0),btnFrameWidth:l.getFrameWidth("lr"),btnFrameHeight:l.getFrameWidth("tb"),btnFrameTop:l.getFrameWidth("t")})}return m.callParent()}});Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.menu.Manager","Ext.util.ClickRepeater","Ext.layout.component.Button","Ext.util.TextMetrics","Ext.util.KeyMap"],alternateClassName:"Ext.Button",isButton:true,componentLayout:"button",hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",textAlign:"center",type:"button",clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",ariaRole:"button",renderTpl:'<em id="{id}-btnWrap" class="{splitCls}"><tpl if="href"><a id="{id}-btnEl" href="{href}" target="{target}"<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl> role="link"><span id="{id}-btnInnerEl" class="{baseCls}-inner">{text}</span><span id="{id}-btnIconEl" class="{baseCls}-icon"></span></a></tpl><tpl if="!href"><button id="{id}-btnEl" type="{type}" hidefocus="true"<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl> role="button" autocomplete="off"><span id="{id}-btnInnerEl" class="{baseCls}-inner" style="{innerSpanStyle}">{text}</span><span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}">&#160;</span></button></tpl></em>',scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,initComponent:function(){var b=this;
b.callParent(arguments);b.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(b.menu){b.split=true;b.menu=Ext.menu.Manager.get(b.menu);b.menu.ownerCt=b}if(b.url){b.href=b.url}if(b.href&&!b.hasOwnProperty("preventDefault")){b.preventDefault=false}if(Ext.isString(b.toggleGroup)){b.enableToggle=true}},initAria:function(){this.callParent();var b=this.getActionEl();if(this.menu){b.dom.setAttribute("aria-haspopup",true)}},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.btnEl},setButtonCls:function(){var h=this,e=[],g=h.btnIconEl,i="x-hide-display";if(h.useSetClass){if(!Ext.isEmpty(h.oldCls)){h.removeClsWithUI(h.oldCls);h.removeClsWithUI(h.pressedCls)}if(h.iconCls||h.icon){if(h.text){e.push("icon-text-"+h.iconAlign)}else{e.push("icon")}if(g){g.removeCls(i)}}else{if(h.text){e.push("noicon")}if(g){g.addCls(i)}}h.oldCls=e;h.addClsWithUI(e);h.addClsWithUI(h.pressed?h.pressedCls:null)}},onRender:function(j,h){var i=this,k,g;Ext.applyIf(i.renderData,i.getTemplateArgs());i.addChildEls("btnEl","btnWrap","btnInnerEl","btnIconEl");if(i.scale){i.ui=i.ui+"-"+i.scale}i.callParent(arguments);if(i.split&&i.arrowTooltip){i.arrowEl.dom.setAttribute(i.getTipAttr(),i.arrowTooltip)}i.mon(i.btnEl,{scope:i,focus:i.onFocus,blur:i.onBlur});g=i.el;if(i.icon){i.setIcon(i.icon)}if(i.iconCls){i.setIconCls(i.iconCls)}if(i.tooltip){i.setTooltip(i.tooltip,true)}if(i.textAlign){i.setTextAlign(i.textAlign)}if(i.handleMouseEvents){i.mon(g,{scope:i,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousedown:i.onMouseDown});if(i.split){i.mon(g,{mousemove:i.onMouseMove,scope:i})}}if(i.menu){i.mon(i.menu,{scope:i,show:i.onMenuShow,hide:i.onMenuHide});i.keyMap=Ext.create("Ext.util.KeyMap",i.el,{key:Ext.EventObject.DOWN,handler:i.onDownKey,scope:i})}if(i.repeat){k=Ext.create("Ext.util.ClickRepeater",g,Ext.isObject(i.repeat)?i.repeat:{});i.mon(k,"click",i.onRepeatClick,i)}else{i.mon(g,i.clickEvent,i.onClick,i)}Ext.ButtonToggleManager.register(i)},getTemplateArgs:function(){var g=this,d=g.getPersistentBtnPadding(),e="";if(Math.max.apply(Math,d)>0){e="margin:"+Ext.Array.map(d,function(a){return -a+"px"}).join(" ")}return{href:g.getHref(),target:g.target||"_blank",type:g.type,splitCls:g.getSplitCls(),cls:g.cls,iconCls:g.iconCls||"",text:g.text||"&#160;",tabIndex:g.tabIndex,innerSpanStyle:e}},getHref:function(){var d=this,c=Ext.apply({},d.baseParams);c=Ext.apply(c,d.params);return d.href?Ext.urlAppend(d.href,Ext.Object.toQueryString(c)):false},setParams:function(b){this.params=b;this.btnEl.dom.href=this.getHref()},getSplitCls:function(){var b=this;return b.split?(b.baseCls+"-"+b.arrowCls)+" "+(b.baseCls+"-"+b.arrowCls+"-"+b.arrowAlign):""},afterRender:function(){var b=this;b.useSetClass=true;b.setButtonCls();b.doc=Ext.getDoc();this.callParent(arguments)},setIconCls:function(e){var h=this,g=h.btnIconEl,i=h.iconCls;h.iconCls=e;if(g){g.removeCls(i);g.addCls(e||"");h.setButtonCls()}return h},setTooltip:function(g,e){var d=this;if(d.rendered){if(!e){d.clearTip()}if(Ext.isObject(g)){Ext.tip.QuickTipManager.register(Ext.apply({target:d.btnEl.id},g));d.tooltip=g}else{d.btnEl.dom.setAttribute(d.getTipAttr(),g)}}else{d.tooltip=g}return d},setTextAlign:function(g){var d=this,e=d.btnEl;if(e){e.removeCls(d.baseCls+"-"+d.textAlign);e.addCls(d.baseCls+"-"+g)}d.textAlign=g;return d},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(e){var g=this.menu,d;if(g){d=g.getRefItems(e);d.unshift(g)}return d||[]},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.btnEl)}},beforeDestroy:function(){var b=this;if(b.rendered){b.clearTip()}if(b.menu&&b.destroyMenu!==false){Ext.destroy(b.menu)}Ext.destroy(b.btnInnerEl,b.repeater);b.callParent()},onDestroy:function(){var b=this;if(b.rendered){b.doc.un("mouseover",b.monitorMouseOver,b);b.doc.un("mouseup",b.onMouseUp,b);delete b.doc;Ext.ButtonToggleManager.unregister(b);Ext.destroy(b.keyMap);delete b.keyMap}b.callParent()},setHandler:function(c,d){this.handler=c;this.scope=d;return this},setText:function(c){var d=this;
d.text=c;if(d.el){d.btnInnerEl.update(c||"&#160;");d.setButtonCls()}d.doComponentLayout();return d},setIcon:function(d){var g=this,e=g.btnIconEl;g.icon=d;if(e){e.setStyle("background-image",d?"url("+d+")":"");g.setButtonCls()}return g},getText:function(){return this.text},toggle:function(g,e){var d=this;g=g===undefined?!d.pressed:!!g;if(g!==d.pressed){if(d.rendered){d[g?"addClsWithUI":"removeClsWithUI"](d.pressedCls)}d.btnEl.dom.setAttribute("aria-pressed",g);d.pressed=g;if(!e){d.fireEvent("toggle",d,g);Ext.callback(d.toggleHandler,d.scope||d,[d,g])}}return d},maybeShowMenu:function(){var b=this;if(b.menu&&!b.hasVisibleMenu()&&!b.ignoreNextClick){b.showMenu()}},showMenu:function(){var b=this;if(b.rendered&&b.menu){if(b.tooltip&&b.getTipAttr()!="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(b.btnEl)}if(b.menu.isVisible()){b.menu.hide()}b.menu.showBy(b.el,b.menuAlign)}return b},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var b=this.menu;return b&&b.rendered&&b.isVisible()},onRepeatClick:function(d,c){this.onClick(c)},onClick:function(c){var d=this;if(d.preventDefault||(d.disabled&&d.getHref())&&c){c.preventDefault()}if(c.button!==0){return}if(!d.disabled){d.doToggle();d.maybeShowMenu();d.fireHandler(c)}},fireHandler:function(g){var d=this,e=d.handler;d.fireEvent("click",d,g);if(e){e.call(d.scope||d,d,g)}d.onBlur()},doToggle:function(){var b=this;if(b.enableToggle&&(b.allowDepress!==false||!b.pressed)){b.toggle()}},onMouseOver:function(c){var d=this;if(!d.disabled&&!c.within(d.el,true,true)){d.onMouseEnter(c)}},onMouseOut:function(c){var d=this;if(!c.within(d.el,true,true)){if(d.overMenuTrigger){d.onMenuTriggerOut(c)}d.onMouseLeave(c)}},onMouseMove:function(j){var l=this,m=l.el,k=l.overMenuTrigger,e,i;if(l.split){if(l.arrowAlign==="right"){e=j.getX()-m.getX();i=m.getWidth()}else{e=j.getY()-m.getY();i=m.getHeight()}if(e>(i-l.getTriggerSize())){if(!k){l.onMenuTriggerOver(j)}}else{if(k){l.onMenuTriggerOut(j)}}}},getTriggerSize:function(){var i=this,k=i.triggerSize,g,h,j;if(k===j){g=i.arrowAlign;h=g.charAt(0);k=i.triggerSize=i.el.getFrameWidth(h)+i.btnWrap.getFrameWidth(h)+(i.frameSize&&i.frameSize[g]||0)}return k},onMouseEnter:function(c){var d=this;d.addClsWithUI(d.overCls);d.fireEvent("mouseover",d,c)},onMouseLeave:function(c){var d=this;d.removeClsWithUI(d.overCls);d.fireEvent("mouseout",d,c)},onMenuTriggerOver:function(c){var d=this;d.overMenuTrigger=true;d.fireEvent("menutriggerover",d,d.menu,c)},onMenuTriggerOut:function(c){var d=this;delete d.overMenuTrigger;d.fireEvent("menutriggerout",d,d.menu,c)},enable:function(d){var c=this;c.callParent(arguments);c.removeClsWithUI("disabled");return c},disable:function(d){var c=this;c.callParent(arguments);c.addClsWithUI("disabled");c.removeClsWithUI(c.overCls);return c},setScale:function(g){var e=this,d=e.ui.replace("-"+e.scale,"");if(!Ext.Array.contains(e.allowedScales,g)){throw ("#setScale: scale must be an allowed scale ("+e.allowedScales.join(", ")+")")}e.scale=g;e.setUI(d)},setUI:function(c){var d=this;if(d.scale&&!c.match(d.scale)){c=c+"-"+d.scale}d.callParent([c])},onFocus:function(c){var d=this;if(!d.disabled){d.addClsWithUI(d.focusCls)}},onBlur:function(c){var d=this;d.removeClsWithUI(d.focusCls)},onMouseDown:function(c){var d=this;if(!d.disabled&&c.button===0){d.addClsWithUI(d.pressedCls);d.doc.on("mouseup",d.onMouseUp,d)}},onMouseUp:function(c){var d=this;if(c.button===0){if(!d.pressed){d.removeClsWithUI(d.pressedCls)}d.doc.un("mouseup",d.onMouseUp,d)}},onMenuShow:function(c){var d=this;d.ignoreNextClick=0;d.addClsWithUI(d.menuActiveCls);d.fireEvent("menushow",d,d.menu)},onMenuHide:function(c){var d=this;d.removeClsWithUI(d.menuActiveCls);d.ignoreNextClick=Ext.defer(d.restoreClick,250,d);d.fireEvent("menuhide",d,d.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){var b=this;if(!b.disabled){if(b.menu){b.showMenu()}}},getPersistentBtnPadding:function(){var i=Ext.button.Button,k=i.persistentPadding,m,h,l,j;if(!k){k=i.persistentPadding=[0,0,0,0];if(!Ext.isIE){m=Ext.create("Ext.button.Button",{renderTo:Ext.getBody(),text:"test",style:"position:absolute;top:-999px;"});
l=m.btnEl;j=m.btnInnerEl;l.setSize(null,null);h=j.getOffsetsTo(l);k[0]=h[1];k[1]=l.getWidth()-j.getWidth()-h[0];k[2]=l.getHeight()-j.getHeight()-h[1];k[3]=h[0];m.destroy()}}return k}},function(){var d={};function c(g,a){var b,i,k;if(a){b=d[g.toggleGroup];for(i=0,k=b.length;i<k;i++){if(b[i]!==g){b[i].toggle(false)}}}}Ext.ButtonToggleManager={register:function(b){if(!b.toggleGroup){return}var a=d[b.toggleGroup];if(!a){a=d[b.toggleGroup]=[]}a.push(b);b.on("toggle",c)},unregister:function(b){if(!b.toggleGroup){return}var a=d[b.toggleGroup];if(a){Ext.Array.remove(a,b);b.un("toggle",c)}},getPressed:function(a){var b=d[a],g=0,i;if(b){for(i=b.length;g<i;g++){if(b[g].pressed===true){return b[g]}}}return null}}});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(c){var d=this;d.callParent(arguments);c.beforeLayout=Ext.Function.createInterceptor(c.beforeLayout,this.clearOverflow,this);d.afterCtCls=d.afterCtCls||Ext.baseCSSPrefix+"box-menu-"+c.parallelAfter;d.menuItems=[]},onRemove:function(b){Ext.Array.remove(this.menuItems,b)},handleOverflow:function(j,k){var l=this,m=l.layout,p="get"+m.parallelPrefixCap,i={},n=[null,null];l.callParent(arguments);this.createMenu(j,k);i[m.perpendicularPrefix]=k[m.perpendicularPrefix];i[m.parallelPrefix]=k[m.parallelPrefix]-l.afterCt[p]();n[m.perpendicularSizeIndex]=(j.meta.maxSize-l.menuTrigger["get"+m.perpendicularPrefixCap]())/2;l.menuTrigger.setPosition.apply(l.menuTrigger,n);return{targetSize:i}},clearOverflow:function(k,l){var m=this,n=l?l.width+(m.afterCt?m.afterCt.getWidth():0):0,i=m.menuItems,r=0,p=i.length,q;m.hideTrigger();for(;r<p;r++){i[r].show()}i.length=0;return l?{targetSize:{height:l.height,width:n}}:null},showTrigger:function(){this.menuTrigger.show()},hideTrigger:function(){if(this.menuTrigger!==undefined){this.menuTrigger.hide()}},beforeMenuShow:function(l){var m=this,i=m.menuItems,q=0,k=i.length,n,p;var r=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.toolbar.Separator)};m.clearMenu();l.removeAll();for(;q<k;q++){n=i[q];if(!q&&(n instanceof Ext.toolbar.Separator)){continue}if(p&&(r(n,p)||r(p,n))){l.add("-")}m.addComponentToMenu(l,n);p=n}if(l.items.length<1){l.add(m.noItemsMenuText)}},createMenuConfig:function(i,g){var e=Ext.apply({},i.initialConfig),h=i.toggleGroup;Ext.copyTo(e,i,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(e,{text:i.overflowText||i.text,hideOnClick:g,destroyMenu:false});if(h||i.enableToggle){Ext.apply(e,{group:h,checked:i.pressed,listeners:{checkchange:function(a,b){i.toggle(b)}}})}delete e.ownerCt;delete e.xtype;delete e.id;return e},addComponentToMenu:function(g,e){var d=this;if(e instanceof Ext.toolbar.Separator){g.add("-")}else{if(e.isComponent){if(e.isXType("splitbutton")){g.add(d.createMenuConfig(e,true))}else{if(e.isXType("button")){g.add(d.createMenuConfig(e,!e.menu))}else{if(e.isXType("buttongroup")){e.items.each(function(a){d.addComponentToMenu(g,a)})}else{g.add(Ext.create(Ext.getClassName(e),d.createMenuConfig(e)))}}}}}},clearMenu:function(){var b=this.moreMenu;if(b&&b.items){b.items.each(function(a){if(a.menu){delete a.menu}})}},createMenu:function(x,v){var n=this,q=n.layout,i=q.parallelBefore,t=q.parallelPrefix,w=v[t],r=x.boxes,u=0,p=r.length,s;if(!n.menuTrigger){n.createInnerElements();n.menu=Ext.create("Ext.menu.Menu",{listeners:{scope:n,beforeshow:n.beforeMenuShow}});n.menuTrigger=Ext.create("Ext.button.Button",{ownerCt:n.layout.owner,iconCls:n.layout.owner.menuTriggerCls,ui:q.owner instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:n.menu,getSplitCls:function(){return""},renderTo:n.afterCt})}n.showTrigger();w-=n.afterCt.getWidth();n.menuItems.length=0;for(;u<p;u++){s=r[u];if(s[i]+s[t]>w){n.menuItems.push(s.component);s.component.hide()}}},createInnerElements:function(){var d=this,c=d.layout.getRenderTarget();if(!this.afterCt){c.addCls(Ext.baseCSSPrefix+d.layout.direction+"-box-overflow-body");
this.afterCt=c.insertSibling({cls:Ext.layout.container.Box.prototype.innerCls+" "+this.afterCtCls},"before")}},destroy:function(){Ext.destroy(this.menu,this.menuTrigger)}});Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],statics:{getRegion:function(b){return Ext.fly(b).getPageBox(true)},from:function(b){return new this(b.top,b.right,b.bottom,b.left)}},constructor:function(j,h,b,k){var i=this;i.y=i.top=i[1]=j;i.right=h;i.bottom=b;i.x=i.left=i[0]=k},contains:function(c){var d=this;return(c.x>=d.x&&c.right<=d.right&&c.y>=d.y&&c.bottom<=d.bottom)},intersect:function(i){var j=this,l=Math.max(j.y,i.y),k=Math.min(j.right,i.right),b=Math.min(j.bottom,i.bottom),m=Math.max(j.x,i.x);if(b>l&&k>m){return new this.self(l,k,b,m)}else{return false}},union:function(i){var j=this,l=Math.min(j.y,i.y),k=Math.max(j.right,i.right),b=Math.max(j.bottom,i.bottom),m=Math.min(j.x,i.x);return new this.self(l,k,b,m)},constrainTo:function(d){var e=this,g=Ext.Number.constrain;e.top=e.y=g(e.top,d.y,d.bottom);e.bottom=g(e.bottom,d.y,d.bottom);e.left=e.x=g(e.left,d.x,d.right);e.right=g(e.right,d.x,d.right);return e},adjust:function(j,h,b,k){var i=this;i.top=i.y+=j;i.left=i.x+=k;i.right+=h;i.bottom+=b;return i},getOutOfBoundOffset:function(e,d){if(!Ext.isObject(e)){if(e=="x"){return this.getOutOfBoundOffsetX(d)}else{return this.getOutOfBoundOffsetY(d)}}else{d=e;var g=Ext.create("Ext.util.Offset");g.x=this.getOutOfBoundOffsetX(d.x);g.y=this.getOutOfBoundOffsetY(d.y);return g}},getOutOfBoundOffsetX:function(b){if(b<=this.x){return this.x-b}else{if(b>=this.right){return this.right-b}}return 0},getOutOfBoundOffsetY:function(b){if(b<=this.y){return this.y-b}else{if(b>=this.bottom){return this.bottom-b}}return 0},isOutOfBound:function(d,c){if(!Ext.isObject(d)){if(d=="x"){return this.isOutOfBoundX(c)}else{return this.isOutOfBoundY(c)}}else{c=d;return(this.isOutOfBoundX(c.x)||this.isOutOfBoundY(c.y))}},isOutOfBoundX:function(b){return(b<this.x||b>this.right)},isOutOfBoundY:function(b){return(b<this.y||b>this.bottom)},restrict:function(e,h,g){if(Ext.isObject(e)){var i;g=h;h=e;if(h.copy){i=h.copy()}else{i={x:h.x,y:h.y}}i.x=this.restrictX(h.x,g);i.y=this.restrictY(h.y,g);return i}else{if(e=="x"){return this.restrictX(h,g)}else{return this.restrictY(h,g)}}},restrictX:function(c,d){if(!d){d=1}if(c<=this.x){c-=(c-this.x)*d}else{if(c>=this.right){c-=(c-this.right)*d}}return c},restrictY:function(c,d){if(!d){d=1}if(c<=this.y){c-=(c-this.y)*d}else{if(c>=this.bottom){c-=(c-this.bottom)*d}}return c},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(c){var d=this;d.top=d.y=d[1]=c.y;d.right=c.right;d.bottom=c.bottom;d.left=d.x=d[0]=c.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,g){if(arguments.length==1){g=e.y;e=e.x}var d=this;d.top=d.y+=g;d.right+=e;d.bottom+=g;d.left=d.x+=e;return d},round:function(){var b=this;b.top=b.y=Math.round(b.y);b.right=Math.round(b.right);b.bottom=Math.round(b.bottom);b.left=b.x=Math.round(b.x);return b},equals:function(b){return(this.top==b.top&&this.right==b.right&&this.bottom==b.bottom&&this.left==b.left)}});Ext.define("Ext.dd.DragDropManager",{singleton:true,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(k,g){for(var j in this.ids){for(var h in this.ids[j]){var i=this.ids[j][h];if(!this.isTypeOfDD(i)){continue}i[k].apply(i,g)}}},_onLoad:function(){this.init();var b=Ext.EventManager;b.on(document,"mouseup",this.handleMouseUp,this,true);b.on(document,"mousemove",this.handleMouseMove,this,true);b.on(window,"unload",this._onUnload,this,true);b.on(window,"resize",this._onResize,this,true)},_onResize:function(b){this._execOnAll("resetConstraints",[])
},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(c,d){if(!this.initialized){this.init()}if(!this.ids[d]){this.ids[d]={}}this.ids[d][c.id]=c},removeDDFromGroup:function(g,e){if(!this.ids[e]){this.ids[e]={}}var d=this.ids[e];if(d&&d[g.id]){delete d[g.id]}},_remove:function(c){for(var d in c.groups){if(d&&this.ids[d]&&this.ids[d][c.id]){delete this.ids[d][c.id]}}delete this.handleIds[c.id]},regHandle:function(c,d){if(!this.handleIds[c]){this.handleIds[c]={}}this.handleIds[c][d]=d},isDragDrop:function(b){return(this.getDDById(b))?true:false},getRelated:function(j,h){var k=[];for(var l in j.groups){for(var m in this.ids[l]){var i=this.ids[l][m];if(!this.isTypeOfDD(i)){continue}if(!h||i.isTarget){k[k.length]=i}}}return k},isLegalTarget:function(i,j){var g=this.getRelated(i,true);for(var k=0,h=g.length;k<h;++k){if(g[k].id==j.id){return true}}return false},isTypeOfDD:function(b){return(b&&b.__ygDragDrop)},isHandle:function(c,d){return(this.handleIds[c]&&this.handleIds[c][d])},getDDById:function(c){for(var d in this.ids){if(this.ids[d][c]){return this.ids[d][c]}}return null},handleMouseDown:function(g,d){if(Ext.tip.QuickTipManager){Ext.tip.QuickTipManager.ddDisable()}if(this.dragCurrent){this.handleMouseUp(g)}this.currentTarget=g.getTarget();this.dragCurrent=d;var e=d.getEl();this.startX=g.getPageX();this.startY=g.getPageY();this.deltaX=this.startX-e.offsetLeft;this.deltaY=this.startY-e.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var a=Ext.dd.DragDropManager;a.startDrag(a.startX,a.startY)},this.clickTimeThresh)},startDrag:function(d,c){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(d,c);this.dragCurrent.startDrag(d,c)}this.dragThreshMet=true},handleMouseUp:function(b){if(Ext.tip&&Ext.tip.QuickTipManager){Ext.tip.QuickTipManager.ddEnable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(b,true)}else{}this.stopDrag(b);this.stopEvent(b)},stopEvent:function(b){if(this.stopPropagation){b.stopPropagation()}if(this.preventDefault){b.preventDefault()}},stopDrag:function(b){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(b);this.dragCurrent.endDrag(b)}this.dragCurrent.onMouseUp(b)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(g){if(!this.dragCurrent){return true}if(Ext.isIE&&(g.button!==0&&g.button!==1&&g.button!==2)){this.stopEvent(g);return this.handleMouseUp(g)}if(!this.dragThreshMet){var d=Math.abs(this.startX-g.getPageX());var e=Math.abs(this.startY-g.getPageY());if(d>this.clickPixelThresh||e>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(g);this.dragCurrent.onDrag(g);if(!this.dragCurrent.moveOnly){this.fireEvents(g,false)}}this.stopEvent(g);return true},fireEvents:function(u,t){var i=this.dragCurrent;if(!i||i.isLocked()){return}var e=u.getPoint();var D=[];var A=[];var w=[];var y=[];var B=[];for(var z in this.dragOvers){var C=this.dragOvers[z];if(!this.isTypeOfDD(C)){continue}if(!this.isOverTarget(e,C,this.mode)){A.push(C)}D[z]=true;delete this.dragOvers[z]}for(var s in i.groups){if("string"!=typeof s){continue}for(z in this.ids[s]){var x=this.ids[s][z];if(!this.isTypeOfDD(x)){continue}if(x.isTarget&&!x.isLocked()&&((x!=i)||(i.ignoreSelf===false))){if(this.isOverTarget(e,x,this.mode)){if(t){y.push(x)}else{if(!D[x.id]){B.push(x)}else{w.push(x)}this.dragOvers[x.id]=x}}}}}if(this.mode){if(A.length){i.b4DragOut(u,A);i.onDragOut(u,A)}if(B.length){i.onDragEnter(u,B)}if(w.length){i.b4DragOver(u,w);i.onDragOver(u,w)}if(y.length){i.b4DragDrop(u,y);i.onDragDrop(u,y)}}else{var v=0;for(z=0,v=A.length;z<v;++z){i.b4DragOut(u,A[z].id);i.onDragOut(u,A[z].id)}for(z=0,v=B.length;z<v;++z){i.onDragEnter(u,B[z].id)}for(z=0,v=w.length;z<v;++z){i.b4DragOver(u,w[z].id);i.onDragOver(u,w[z].id)}for(z=0,v=y.length;z<v;++z){i.b4DragDrop(u,y[z].id);
i.onDragDrop(u,y[z].id)}}if(t&&!y.length){i.onInvalidDrop(u)}},getBestMatch:function(k){var i=null;var g=k.length;if(g==1){i=k[0]}else{for(var j=0;j<g;++j){var h=k[j];if(h.cursorIsOver){i=h;break}else{if(!i||i.overlap.getArea()<h.overlap.getArea()){i=h}}}}return i},refreshCache:function(g){for(var h in g){if("string"!=typeof h){continue}for(var k in this.ids[h]){var j=this.ids[h][k];if(this.isTypeOfDD(j)){var i=this.getLocation(j);if(i){this.locationCache[j.id]=i}else{delete this.locationCache[j.id]}}}}},verifyEl:function(d){if(d){var e;if(Ext.isIE){try{e=d.offsetParent}catch(g){}}else{e=d.offsetParent}if(e){return true}}return false},getLocation:function(u){if(!this.isTypeOfDD(u)){return null}if(u.getRegion){return u.getRegion()}var w=u.getEl(),r,x,y,e,l,b,z,s,v;try{r=Ext.Element.getXY(w)}catch(t){}if(!r){return null}x=r[0];y=x+w.offsetWidth;e=r[1];l=e+w.offsetHeight;b=e-u.padding[0];z=y+u.padding[1];s=l+u.padding[2];v=x-u.padding[3];return Ext.create("Ext.util.Region",b,z,s,v)},isOverTarget:function(k,t,r){var p=this.locationCache[t.id];if(!p||!this.useCache){p=this.getLocation(t);this.locationCache[t.id]=p}if(!p){return false}t.cursorIsOver=p.contains(k);var l=this.dragCurrent;if(!l||!l.getTargetCoord||(!r&&!l.constrainX&&!l.constrainY)){return t.cursorIsOver}t.overlap=null;var n=l.getTargetCoord(k.x,k.y);var s=l.getDragEl();var q=Ext.create("Ext.util.Region",n.y,n.x+s.offsetWidth,n.y+s.offsetHeight,n.x);var m=q.intersect(p);if(m){t.overlap=m;return(r)?true:t.cursorIsOver}else{return false}},_onUnload:function(c,d){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var b in this.elementCache){delete this.elementCache[b]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(c){var d=this.elementCache[c];if(!d||!d.el){d=this.elementCache[c]=new this.ElementWrapper(Ext.getDom(c))}return d},getElement:function(b){return Ext.getDom(b)},getCss:function(c){var d=Ext.getDom(c);return(d)?d.style:null},ElementWrapper:function(b){this.el=b||null;this.id=this.el&&b.id;this.css=this.el&&b.style},getPosX:function(b){return Ext.Element.getX(b)},getPosY:function(b){return Ext.Element.getY(b)},swapNode:function(i,g){if(i.swapNode){i.swapNode(g)}else{var h=g.parentNode;var e=g.nextSibling;if(e==i){h.insertBefore(i,g)}else{if(g==i.nextSibling){h.insertBefore(g,i)}else{i.parentNode.replaceChild(g,i);h.insertBefore(i,e)}}}},getScroll:function(){var j=window.document,i=j.documentElement,h=j.body,k=0,g=0;if(Ext.isGecko4){k=window.scrollYOffset;g=window.scrollXOffset}else{if(i&&(i.scrollTop||i.scrollLeft)){k=i.scrollTop;g=i.scrollLeft}else{if(h){k=h.scrollTop;g=h.scrollLeft}}}return{top:k,left:g}},getStyle:function(c,d){return Ext.fly(c).getStyle(d)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,g){var d=Ext.Element.getXY(g);Ext.Element.setXY(e,d)},numericSort:function(a,b){return(a-b)},_timeoutCount:0,_addListeners:function(){if(document){this._onLoad()}else{if(this._timeoutCount>2000){}else{setTimeout(this._addListeners,10);if(document&&document.body){this._timeoutCount+=1}}}},handleWasClicked:function(e,g){if(this.isHandle(g,e.id)){return true}else{var d=e.parentNode;while(d){if(this.isHandle(g,d.id)){return true}else{d=d.parentNode}}}return false}},function(){this._addListeners()});Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],defaultMargins:{top:0,right:0,bottom:0,left:0},padding:"0",pack:"start",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",innerCls:Ext.baseCSSPrefix+"box-inner",bindToOwnerCtContainer:true,availableSpaceOffset:0,reserveOffset:true,shrinkToFit:true,clearInnerCtOnLayout:false,flexSortFn:function(h,i){var b="max"+this.parallelPrefixCap,a=Infinity;
h=h.component[b]||a;i=i.component[b]||a;if(!isFinite(h)&&!isFinite(i)){return false}return h-i},minSizeSortFn:function(a,b){return b.available-a.available},constructor:function(d){var c=this;c.callParent(arguments);c.flexSortFn=Ext.Function.bind(c.flexSortFn,c);c.initOverflowHandler()},getChildBox:function(c){c=c.el||this.owner.getComponent(c).el;var d=c.getBox(false,true);return{left:d.left,top:d.top,width:d.width,height:d.height}},calculateChildBox:function(i){var j=this,g=j.calculateChildBoxes(j.getVisibleItems(),j.getLayoutTargetSize()).boxes,k=g.length,h=0;i=j.owner.getComponent(i);for(;h<k;h++){if(g[h].component===i){return g[h]}}},calculateChildBoxes:function(be,br){var a6=this,aI=Math,bi=aI.max,bf=Infinity,a8,bb=a6.parallelPrefix,bg=a6.parallelPrefixCap,aC=a6.perpendicularPrefix,ba=a6.perpendicularPrefixCap,aW="min"+bg,aQ="min"+ba,aH="max"+ba,bq=br[bb]-a6.scrollOffset,a4=br[aC],aU=a6.padding,bc=aU[a6.parallelBefore],a9=bc+aU[a6.parallelAfter],ay=aU[a6.perpendicularLeftTop],aG=ay+aU[a6.perpendicularRightBottom],aN=bi(0,a4-aG),aK=a6.innerCt.getBorderWidth(a6.perpendicularLT+a6.perpendicularRB),a0=a6.pack=="start",aB=a6.pack=="center",aS=a6.pack=="end",aV=Ext.Number.constrain,aA=be.length,bp=0,aM=0,aF=0,a7=0,aO=0,ax=[],aE=[],aP,aR,bl,a2,aZ,aY,aD,a5,aq,i,bh,bo,a1,aJ,a3,az,bk,aw,aX,bn,aT,au,bs,bd,bj,aL,av,ar,bm,at;for(aR=0;aR<aA;aR++){bl=be[aR];aZ=bl[aC];if(!bl.flex||!(a6.align=="stretch"||a6.align=="stretchmax")){if(bl.componentLayout.initialized!==true){a6.layoutItem(bl)}}aY=bl.margins;aL=aY[a6.parallelBefore]+aY[a6.parallelAfter];aq={component:bl,margins:aY};if(bl.flex){aM+=bl.flex;a2=a8}else{if(!(bl[bb]&&aZ)){aD=bl.getSize()}a2=bl[bb]||aD[bb];aZ=aZ||aD[aC]}bp+=aL+(a2||0);aF+=aL+(bl.flex?bl[aW]||0:a2);a7+=aL+(bl[aW]||a2||0);if(typeof aZ!="number"){aZ=bl["get"+ba]()}aO=bi(aO,bi(aZ,bl[aQ]||0)+aY[a6.perpendicularLeftTop]+aY[a6.perpendicularRightBottom]);aq[bb]=a2||a8;aq.dirtySize=bl.componentLayout.lastComponentSize?(aq[bb]!==bl.componentLayout.lastComponentSize[bb]):false;aq[aC]=aZ||a8;ax.push(aq)}if(!a6.autoSize){i=aF-bq;bh=a7>bq}bo=bi(0,bq-bp-a9-(a6.reserveOffset?a6.availableSpaceOffset:0));if(bh){for(aR=0;aR<aA;aR++){bk=ax[aR];a1=be[aR][aW]||be[aR][bb]||bk[bb];bk.dirtySize=bk.dirtySize||bk[bb]!=a1;bk[bb]=a1}}else{if(i>0){for(aR=0;aR<aA;aR++){aJ=be[aR];a1=aJ[aW]||0;if(aJ.flex){bk=ax[aR];bk.dirtySize=bk.dirtySize||bk[bb]!=a1;bk[bb]=a1}else{if(a6.shrinkToFit){aE.push({minSize:a1,available:ax[aR][bb]-a1,index:aR})}}}Ext.Array.sort(aE,a6.minSizeSortFn);for(aR=0,a3=aE.length;aR<a3;aR++){az=aE[aR].index;if(az==a8){continue}aJ=be[az];a1=aE[aR].minSize;bk=ax[az];aw=bk[bb];aX=bi(a1,aw-aI.ceil(i/(a3-aR)));bn=aw-aX;bk.dirtySize=bk.dirtySize||bk[bb]!=aX;bk[bb]=aX;i-=bn}bh=(i>0)}else{bs=bo;bd=aM;au=[];for(aR=0;aR<aA;aR++){bl=be[aR];if(a0&&bl.flex){au.push(ax[Ext.Array.indexOf(be,bl)])}}Ext.Array.sort(au,a6.flexSortFn);for(aR=0;aR<au.length;aR++){av=au[aR];bl=av.component;aY=av.margins;bj=aI.ceil((bl.flex/bd)*bs);bj=Math.max(bl["min"+bg]||0,aI.min(bl["max"+bg]||bf,bj));bs-=bj;bd-=bl.flex;av.dirtySize=av.dirtySize||av[bb]!=bj;av[bb]=bj}}}if(aB){bc+=bo/2}else{if(aS){bc+=bo}}if(a6.owner.dock&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&!a6.owner.width&&a6.direction=="vertical"){aP=aO+a6.owner.el.getPadding("lr")+a6.owner.el.getBorderWidth("lr");if(a6.owner.frameSize){aP+=a6.owner.frameSize.left+a6.owner.frameSize.right}aN=Math.min(aN,br.width=aO+aU.left+aU.right)}for(aR=0;aR<aA;aR++){bl=be[aR];av=ax[aR];aY=av.margins;bm=aY[a6.perpendicularLeftTop]+aY[a6.perpendicularRightBottom];bc+=aY[a6.parallelBefore];av[a6.parallelBefore]=bc;av[a6.perpendicularLeftTop]=ay+aY[a6.perpendicularLeftTop];if(a6.align=="stretch"){at=aV(aN-bm,bl[aQ]||0,bl[aH]||bf);av.dirtySize=av.dirtySize||av[aC]!=at;av[aC]=at}else{if(a6.align=="stretchmax"){at=aV(aO-bm,bl[aQ]||0,bl[aH]||bf);av.dirtySize=av.dirtySize||av[aC]!=at;av[aC]=at}else{if(a6.align==a6.alignCenteringString){aT=bi(aN,aO)-aK-av[aC];if(aT>0){av[a6.perpendicularLeftTop]=ay+Math.round(aT/2)}}}}bc+=(av[bb]||0)+aY[a6.parallelAfter]}return{boxes:ax,meta:{calculatedWidth:aP,maxSize:aO,nonFlexSize:bp,desiredSize:aF,minimumSize:a7,shortfall:i,tooNarrow:bh}}
},onRemove:function(b){this.callParent(arguments);if(this.overflowHandler){this.overflowHandler.onRemove(b)}},initOverflowHandler:function(){var g=this.overflowHandler;if(typeof g=="string"){g={type:g}}var d="None";if(g&&g.type!==undefined){d=g.type}var e=Ext.layout.container.boxOverflow[d];if(e[this.type]){e=e[this.type]}this.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+d,this,g)},onLayout:function(){this.callParent();if(this.clearInnerCtOnLayout===true&&this.adjustmentPass!==true){this.innerCt.setSize(null,null)}var m=this,r=m.getLayoutTargetSize(),n=m.getVisibleItems(),s=m.calculateChildBoxes(n,r),p=s.boxes,l=s.meta,k,t,q;if(m.autoSize&&s.meta.desiredSize){r[m.parallelPrefix]=s.meta.desiredSize}if(l.shortfall>0){k=m.overflowHandler;t=l.tooNarrow?"handleOverflow":"clearOverflow";q=k[t](s,r);if(q){if(q.targetSize){r=q.targetSize}if(q.recalculate){n=m.getVisibleItems();s=m.calculateChildBoxes(n,r);p=s.boxes}}}else{m.overflowHandler.clearOverflow()}m.layoutTargetLastSize=r;m.childBoxCache=s;m.updateInnerCtSize(r,s);m.updateChildBoxes(p);m.handleTargetOverflow(r)},animCallback:Ext.emptyFn,updateChildBoxes:function(x){var t=this,z=0,B=x.length,i=[],r=Ext.dd.DDM.getDDById(t.innerCt.id),D,y,A,w,v,C;for(;z<B;z++){y=x[z];w=y.component;if(r&&(r.getDragEl()===w.el.dom)){continue}A=false;D=t.getChildBox(w);if(t.animate){C=t.animate.callback||t.animate;v={layoutAnimation:true,target:w,from:{},to:{},listeners:{}};if(!isNaN(y.width)&&(y.width!=D.width)){A=true;v.to.width=y.width}if(!isNaN(y.height)&&(y.height!=D.height)){A=true;v.to.height=y.height}if(!isNaN(y.left)&&(y.left!=D.left)){A=true;v.to.left=y.left}if(!isNaN(y.top)&&(y.top!=D.top)){A=true;v.to.top=y.top}if(A){i.push(v)}}else{if(y.dirtySize){if(y.width!==D.width||y.height!==D.height){t.setItemSize(w,y.width,y.height)}}if(isNaN(y.left)||isNaN(y.top)){continue}w.setPosition(y.left,y.top)}}B=i.length;if(B){var s=function(a){B-=1;if(!B){t.animCallback(a);t.layoutBusy=false;if(Ext.isFunction(C)){C()}}};var u=function(){t.layoutBusy=true};for(z=0,B=i.length;z<B;z++){v=i[z];v.listeners.afteranimate=s;if(!z){v.listeners.beforeanimate=u}if(t.animate.duration){v.duration=t.animate.duration}w=v.target;delete v.target;w.stopAnimation();w.animate(v)}}},updateInnerCtSize:function(v,x){var r=this,t=Math.max,s=r.align,q=r.padding,w=v.width,n=v.height,m=x.meta,u,p;if(r.direction=="horizontal"){u=w;p=m.maxSize+q.top+q.bottom+r.innerCt.getBorderWidth("tb");if(s=="stretch"){p=n}else{if(s=="middle"){p=t(n,p)}}}else{p=n;u=m.maxSize+q.left+q.right+r.innerCt.getBorderWidth("lr");if(s=="stretch"){u=w}else{if(s=="center"){u=t(w,u)}}}r.getRenderTarget().setSize(u||undefined,p||undefined);if(m.calculatedWidth&&r.owner.el.getWidth()>m.calculatedWidth){r.owner.el.setWidth(m.calculatedWidth)}if(r.innerCt.dom.scrollTop){r.innerCt.dom.scrollTop=0}},handleTargetOverflow:function(i){var e=this.getTarget(),h=e.getStyle("overflow"),g;if(h&&h!="hidden"&&!this.adjustmentPass){g=this.getLayoutTargetSize();if(g.width!=i.width||g.height!=i.height){this.adjustmentPass=true;this.onLayout();return true}}delete this.adjustmentPass},isValidParent:function(i,h,g){var e=i.el?i.el.dom:Ext.getDom(i);return(e&&this.innerCt&&e.parentNode===this.innerCt.dom)||false},getRenderTarget:function(){if(!this.innerCt){this.innerCt=this.getTarget().createChild({cls:this.innerCls,role:"presentation"});this.padding=Ext.util.Format.parseBox(this.padding)}return this.innerCt},renderItem:function(l,j){this.callParent(arguments);var m=this,i=l.getEl(),h=i.dom.style,k=l.margins||l.margin;if(k){if(Ext.isString(k)||Ext.isNumber(k)){k=Ext.util.Format.parseBox(k)}else{Ext.applyIf(k,{top:0,right:0,bottom:0,left:0})}}else{k=Ext.apply({},m.defaultMargins)}k.top+=i.getMargin("t");k.right+=i.getMargin("r");k.bottom+=i.getMargin("b");k.left+=i.getMargin("l");k.height=k.top+k.bottom;k.width=k.left+k.right;h.marginTop=h.marginRight=h.marginBottom=h.marginLeft="0";l.margins=k},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.callParent(arguments)}});Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.HBoxLayout",align:"top",alignCenteringString:"middle",type:"hbox",direction:"horizontal",parallelSizeIndex:0,perpendicularSizeIndex:1,parallelPrefix:"width",parallelPrefixCap:"Width",parallelLT:"l",parallelRB:"r",parallelBefore:"left",parallelBeforeCap:"Left",parallelAfter:"right",parallelPosition:"x",perpendicularPrefix:"height",perpendicularPrefixCap:"Height",perpendicularLT:"t",perpendicularRB:"b",perpendicularLeftTop:"top",perpendicularRightBottom:"bottom",perpendicularPosition:"y",configureItem:function(b){if(b.flex){b.layoutManagedWidth=1
}else{b.layoutManagedWidth=2}if(this.align==="stretch"||this.align==="stretchmax"){b.layoutManagedHeight=1}else{b.layoutManagedHeight=2}this.callParent(arguments)}});Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.VBoxLayout",align:"left",alignCenteringString:"center",type:"vbox",direction:"vertical",parallelSizeIndex:1,perpendicularSizeIndex:0,parallelPrefix:"height",parallelPrefixCap:"Height",parallelLT:"t",parallelRB:"b",parallelBefore:"top",parallelBeforeCap:"Top",parallelAfter:"bottom",parallelPosition:"y",perpendicularPrefix:"width",perpendicularPrefixCap:"Width",perpendicularLT:"l",perpendicularRB:"r",perpendicularLeftTop:"left",perpendicularRightBottom:"right",perpendicularPosition:"x",configureItem:function(b){if(b.flex){b.layoutManagedHeight=1}else{b.layoutManagedHeight=2}if(this.align==="stretch"||this.align==="stretchmax"){b.layoutManagedWidth=1}else{b.layoutManagedWidth=2}this.callParent(arguments)}});Ext.define("Ext.FocusManager",{singleton:true,alternateClassName:"Ext.FocusMgr",mixins:{observable:"Ext.util.Observable"},requires:["Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:false,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],tabIndexWhitelist:["a","button","embed","frame","iframe","img","input","object","select","textarea"],constructor:function(){var d=this,c=Ext.ComponentQuery;d.addEvents("beforecomponentfocus","componentfocus","disable","enable");d.keyNav=Ext.create("Ext.util.KeyNav",Ext.getDoc(),{disabled:true,scope:d,backspace:d.focusLast,enter:d.navigateIn,esc:d.navigateOut,tab:d.navigateSiblings});d.focusData={};d.subscribers=Ext.create("Ext.util.HashMap");d.focusChain={};Ext.apply(c.pseudos,{focusable:function(l){var n=l.length,b=[],i=0,a,m=function(e){return e&&e.focusable!==false&&c.is(e,"[rendered]:not([destroying]):not([isDestroyed]):not([disabled]){isVisible(true)}{el && c.el.dom && c.el.isVisible()}")};for(;i<n;i++){a=l[i];if(m(a)){b.push(a)}}return b},nextFocus:function(l,m,b){b=b||1;m=parseInt(m,10);var n=l.length,i=m+b,a;for(;i!=m;i+=b){if(i>=n){i=0}else{if(i<0){i=n-1}}a=l[i];if(c.is(a,":focusable")){return[a]}else{if(a.placeholder&&c.is(a.placeholder,":focusable")){return[a.placeholder]}}}return[]},prevFocus:function(a,b){return this.nextFocus(a,b,-1)},root:function(k){var l=k.length,b=[],i=0,a;for(;i<l;i++){a=k[i];if(!a.ownerCt){b.push(a)}}return b}})},addXTypeToWhitelist:function(c){var d=this;if(Ext.isArray(c)){Ext.Array.forEach(c,d.addXTypeToWhitelist,d);return}if(!Ext.Array.contains(d.whitelist,c)){d.whitelist.push(c)}},clearComponent:function(b){clearTimeout(this.cmpFocusDelay);if(!b.isDestroyed){b.blur()}},disable:function(){var b=this;if(!b.enabled){return}delete b.options;b.enabled=false;Ext.ComponentManager.all.un("add",b.onComponentCreated,b);b.removeDOM();b.keyNav.disable();b.setFocusAll(false);b.fireEvent("disable",b)},enable:function(d){var c=this;if(d===true){d={focusFrame:true}}c.options=d=d||{};if(c.enabled){return}Ext.ComponentManager.all.on("add",c.onComponentCreated,c);c.initDOM(d);c.keyNav.enable();c.setFocusAll(true,d);c.focusEl.focus();delete c.focusedCmp;c.enabled=true;c.fireEvent("enable",c)},focusLast:function(c){var d=this;if(d.isWhitelisted(d.focusedCmp)){return true}if(d.previousFocusedCmp){d.previousFocusedCmp.focus()}},getRootComponents:function(){var g=this,i=Ext.ComponentQuery,e=i.query(":focusable:root:not([floating])"),h=i.query(":focusable:root[floating]");h.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()});return h.concat(e)},initDOM:function(e){var i=this,h="&#160",g=i.focusFrameCls;if(!Ext.isReady){Ext.onReady(i.initDOM,i);return}if(!i.focusEl){i.focusEl=Ext.getBody().createChild({tabIndex:"-1",cls:i.focusElementCls,html:h})}if(!i.focusFrame&&e.focusFrame){i.focusFrame=Ext.getBody().createChild({cls:g,children:[{cls:g+"-top"},{cls:g+"-bottom"},{cls:g+"-left"},{cls:g+"-right"}],style:"top: -100px; left: -100px;"});i.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);
i.focusFrameWidth=2;i.focusFrame.hide().setLeftTop(0,0)}},isWhitelisted:function(b){return b&&Ext.Array.some(this.whitelist,function(a){return b.isXType(a)})},navigateIn:function(j){var e=this,h=e.focusedCmp,i,k;if(!h){i=e.getRootComponents();if(i.length){i[0].focus()}}else{k=Ext.ComponentQuery.query(">:focusable",h)[0];if(k){k.focus()}else{if(Ext.isFunction(h.onClick)){j.button=0;h.onClick(j);h.focus()}}}},navigateOut:function(g){var d=this,e;if(!d.focusedCmp||!(e=d.focusedCmp.up(":focusable"))){d.focusEl.focus()}else{e.focus()}return true},navigateSiblings:function(v,A,q){var u=this,B=A||u,e=v.getKey(),x=Ext.EventObject,t=v.shiftKey||e==x.LEFT||e==x.UP,z=e==x.LEFT||e==x.RIGHT||e==x.UP||e==x.DOWN,w=t?"prev":"next",r,y,s;s=(B.focusedCmp&&B.focusedCmp.comp)||B.focusedCmp;if(!s&&!q){return}if(z&&u.isWhitelisted(s)){return true}q=q||s.up();if(q){r=s?Ext.Array.indexOf(q.getRefItems(),s):-1;y=Ext.ComponentQuery.query(">:"+w+"Focus("+r+")",q)[0];if(y&&s!==y){y.focus();return y}}},onComponentBlur:function(d,g){var e=this;if(e.focusedCmp===d){e.previousFocusedCmp=d;delete e.focusedCmp}if(e.focusFrame){e.focusFrame.hide()}},onComponentCreated:function(d,g,e){this.setFocus(e,true,this.options)},onComponentDestroy:function(b){this.setFocus(b,false)},onComponentFocus:function(v,y){var x=this,H=x.focusChain;if(!Ext.ComponentQuery.is(v,":focusable")){x.clearComponent(v);if(H[v.id]){return}var e=v.up();if(e){H[v.id]=true;e.focus()}return}x.focusChain={};clearTimeout(x.cmpFocusDelay);if(arguments.length!==2){x.cmpFocusDelay=Ext.defer(x.onComponentFocus,90,x,[v,y]);return}if(x.fireEvent("beforecomponentfocus",x,v,x.previousFocusedCmp)===false){x.clearComponent(v);return}x.focusedCmp=v;if(x.shouldShowFocusFrame(v)){var I="."+x.focusFrameCls+"-",G=x.focusFrame,D=x.focusFrameWidth,A=v.el.getPageBox(),J=A.top,F=A.left,w=A.width,C=A.height,B=G.child(I+"top"),E=G.child(I+"bottom"),u=G.child(I+"left"),z=G.child(I+"right");B.setWidth(w).setLeftTop(F,J);E.setWidth(w).setLeftTop(F,J+C-D);u.setHeight(C-D-D).setLeftTop(F,J+D);z.setHeight(C-D-D).setLeftTop(F+w-D,J+D);G.show()}x.fireEvent("componentfocus",x,v,x.previousFocusedCmp)},onComponentHide:function(k){var l=this,j=Ext.ComponentQuery,h=false,i,m;if(l.focusedCmp){i=j.query("[id="+l.focusedCmp.id+"]",k)[0];h=l.focusedCmp.id===k.id||i;if(i){l.clearComponent(i)}}l.clearComponent(k);if(h){m=j.query("^:focusable",k)[0];if(m){m.focus()}}},removeDOM:function(){var b=this;if(b.enabled||b.subscribers.length){return}Ext.destroy(b.focusEl,b.focusFrame);delete b.focusEl;delete b.focusFrame;delete b.focusFrameWidth},removeXTypeFromWhitelist:function(c){var d=this;if(Ext.isArray(c)){Ext.Array.forEach(c,d.removeXTypeFromWhitelist,d);return}Ext.Array.remove(d.whitelist,c)},setFocus:function(p,l,j){var q=this,r,m,n,k=function(a){return !Ext.Array.contains(q.tabIndexWhitelist,a.tagName.toLowerCase())&&a.tabIndex<=0};j=j||{};if(!p.rendered){p.on("afterrender",Ext.pass(q.setFocus,arguments,q),q,{single:true});return}r=p.getFocusEl();m=r.dom;if((l&&!q.focusData[p.id])||(!l&&q.focusData[p.id])){if(l){n={focusFrame:j.focusFrame};if(k(m)){n.tabIndex=m.tabIndex;m.tabIndex=-1}r.on({focus:n.focusFn=Ext.bind(q.onComponentFocus,q,[p],0),blur:n.blurFn=Ext.bind(q.onComponentBlur,q,[p],0),scope:q});p.on({hide:q.onComponentHide,close:q.onComponentHide,beforedestroy:q.onComponentDestroy,scope:q});q.focusData[p.id]=n}else{n=q.focusData[p.id];if("tabIndex" in n){m.tabIndex=n.tabIndex}r.un("focus",n.focusFn,q);r.un("blur",n.blurFn,q);p.un("hide",q.onComponentHide,q);p.un("close",q.onComponentHide,q);p.un("beforedestroy",q.onComponentDestroy,q);delete q.focusData[p.id]}}},setFocusAll:function(k,p){var l=this,i=Ext.ComponentManager.all.getArray(),j=i.length,m,n=0;for(;n<j;n++){l.setFocus(i[n],k,p)}},setupSubscriberKeys:function(j,l){var m=this,n=j.getFocusEl(),p=l.scope,i={backspace:m.focusLast,enter:m.navigateIn,esc:m.navigateOut,scope:m},k=function(a){if(m.focusedCmp===j){return m.navigateSiblings(a,m,j)}else{return m.navigateSiblings(a)}};Ext.iterate(l,function(a,b){i[a]=function(c){var d=k(c);if(Ext.isFunction(b)&&b.call(p||j,c,d)===true){return true
}return d}},m);return Ext.create("Ext.util.KeyNav",n,i)},shouldShowFocusFrame:function(g){var d=this,e=d.options||{};if(!d.focusFrame||!g){return false}if(e.focusFrame){return true}if(d.focusData[g.id].focusFrame){return true}return false},subscribe:function(j,p){var l=this,m=Ext.Array,k={},n=l.subscribers,i=function(a){if(a.isContainer&&!n.containsKey(a.id)){m.forEach(a.query(">"),i);l.setFocus(a,true,p);a.on("add",k.onAdd,l)}else{if(!a.isContainer){l.setFocus(a,true,p)}}};if(!j||!j.isContainer){return}if(!j.rendered){j.on("afterrender",Ext.pass(l.subscribe,arguments,l),l,{single:true});return}l.initDOM(p);k.keyNav=l.setupSubscriberKeys(j,p.keys);k.onAdd=function(b,a,c){i(a)};j.on("beforedestroy",l.unsubscribe,l);i(j);n.add(j.id,k)},unsubscribe:function(i){var k=this,l=Ext.Array,m=k.subscribers,j,h=function(a){if(a.isContainer&&!m.containsKey(a.id)){l.forEach(a.query(">"),h);k.setFocus(a,false);a.un("add",j.onAdd,k)}else{if(!a.isContainer){k.setFocus(a,false)}}};if(!i||!m.containsKey(i.id)){return}j=m.get(i.id);j.keyNav.destroy();i.un("beforedestroy",k.unsubscribe,k);m.removeAtKey(i.id);h(i);k.removeDOM()}});Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.FocusManager"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:false,enableOverflow:false,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",initComponent:function(){var c=this,d;if(!c.layout&&c.enableOverflow){c.layout={overflowHandler:"Menu"}}if(c.dock==="right"||c.dock==="left"){c.vertical=true}c.layout=Ext.applyIf(Ext.isString(c.layout)?{type:c.layout}:c.layout||{},{type:c.vertical?"vbox":"hbox",align:c.vertical?"stretchmax":"middle",clearInnerCtOnLayout:true});if(c.vertical){c.addClsWithUI("vertical")}if(c.ui==="footer"){c.ignoreBorderManagement=true}c.callParent();c.addEvents("overflowchange");d=c.vertical?["up","down"]:["left","right"];Ext.FocusManager.subscribe(c,{keys:d})},getRefItems:function(h){var i=this,g=i.callParent(arguments),j=i.layout,k;if(h&&i.enableOverflow){k=j.overflowHandler;if(k&&k.menu){g=g.concat(k.menu.getRefItems(h))}}return g},lookupComponent:function(c){if(Ext.isString(c)){var d=Ext.toolbar.Toolbar.shortcuts[c];if(d){c={xtype:d}}else{c={xtype:"tbtext",text:c}}this.applyDefaults(c)}return this.callParent(arguments)},applyDefaults:function(c){if(!Ext.isString(c)){c=this.callParent(arguments);var d=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,d);Ext.apply(c,d)}else{Ext.applyIf(c,d)}}return c},trackMenu:function(i,g){if(this.trackMenus&&i.menu){var h=g?"mun":"mon",e=this;e[h](i,"mouseover",e.onButtonOver,e);e[h](i,"menushow",e.onButtonMenuShow,e);e[h](i,"menuhide",e.onButtonMenuHide,e)}},constructButton:function(b){return b.events?b:this.createComponent(b,b.split?"splitbutton":this.defaultType)},onBeforeAdd:function(b){if(b.is("field")||(b.is("button")&&this.ui!="footer")){b.ui=b.ui+"-toolbar"}if(b instanceof Ext.toolbar.Separator){b.setUI((this.vertical)?"vertical":"horizontal")}this.callParent(arguments)},onAdd:function(b){this.callParent(arguments);this.trackMenu(b);if(this.disabled){b.disable()}},onRemove:function(b){this.callParent(arguments);this.trackMenu(b,true)},onButtonOver:function(b){if(this.activeMenuBtn&&this.activeMenuBtn!=b){this.activeMenuBtn.hideMenu();b.showMenu();this.activeMenuBtn=b}},onButtonMenuShow:function(b){this.activeMenuBtn=b},onButtonMenuHide:function(b){delete this.activeMenuBtn}},function(){this.shortcuts={"-":"tbseparator"," ":"tbspacer","->":"tbfill"}});Ext.define("Ext.panel.AbstractPanel",{extend:"Ext.container.Container",requires:["Ext.util.MixedCollection","Ext.Element","Ext.toolbar.Toolbar"],baseCls:Ext.baseCSSPrefix+"panel",isPanel:true,componentLayout:"dock",defaultDockWeights:{top:1,left:3,right:5,bottom:7},renderTpl:['<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"</div>"],border:true,initComponent:function(){var b=this;
b.addEvents("bodyresize");b.addChildEls("body");if(b.frame&&b.border&&b.bodyBorder===undefined){b.bodyBorder=false}if(b.frame&&b.border&&(b.bodyBorder===false||b.bodyBorder===0)){b.manageBodyBorders=true}b.callParent()},initItems:function(){var c=this,d=c.dockedItems;c.callParent();c.dockedItems=Ext.create("Ext.util.MixedCollection",false,c.getComponentId);if(d){c.addDocked(d)}},getDockedComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}return this.dockedItems.get(b)},getComponent:function(d){var c=this.callParent(arguments);if(c===undefined&&!Ext.isNumber(d)){c=this.getDockedComponent(d)}return c},initBodyStyles:function(){var j=this,h=j.bodyStyle,k=[],g=Ext.Element,i;if(Ext.isFunction(h)){h=h()}if(Ext.isString(h)){k=h.split(";")}else{for(i in h){if(h.hasOwnProperty(i)){k.push(i+":"+h[i])}}}if(j.bodyPadding!==undefined){k.push("padding: "+g.unitizeBox((j.bodyPadding===true)?5:j.bodyPadding))}if(j.frame&&j.bodyBorder){if(!Ext.isNumber(j.bodyBorder)){j.bodyBorder=1}k.push("border-width: "+g.unitizeBox(j.bodyBorder))}delete j.bodyStyle;return k.length?k.join(";"):undefined},initBodyCls:function(){var d=this,e="",g=d.bodyCls;if(g){Ext.each(g,function(a){e+=" "+a});delete d.bodyCls}return e.length>0?e:undefined},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyStyle:this.initBodyStyles(),bodyCls:this.initBodyCls()})},addDocked:function(i,j){var k=this,h=0,l,m;i=k.prepareItems(i);m=i.length;for(;h<m;h++){l=i[h];l.dock=l.dock||"top";if(k.border===false){}if(j!==undefined){k.dockedItems.insert(j+h,l)}else{k.dockedItems.add(l)}l.onAdded(k,h);k.onDockedAdd(l)}k.componentLayout.childrenChanged=true;if(k.rendered&&!k.suspendLayout){k.doComponentLayout()}return i},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,insertDocked:function(c,d){this.addDocked(d,c)},removeDocked:function(i,g){var j=this,k,h;if(!j.dockedItems.contains(i)){return i}k=j.componentLayout;h=k&&j.rendered;if(h){k.onRemove(i)}j.dockedItems.remove(i);i.onRemoved();j.onDockedRemove(i);if(g===true||(g!==false&&j.autoDestroy)){i.destroy()}else{if(h){k.afterRemove(i)}}j.componentLayout.childrenChanged=true;if(!j.destroying&&!j.suspendLayout){j.doComponentLayout()}return i},getDockedItems:function(i){var h=this,e=h.defaultDockWeights,g;if(h.dockedItems&&h.dockedItems.items.length){if(i){g=Ext.ComponentQuery.query(i,h.dockedItems.items)}else{g=h.dockedItems.items.slice()}Ext.Array.sort(g,function(c,d){var b=c.weight||e[c.dock],a=d.weight||e[d.dock];if(Ext.isNumber(b)&&Ext.isNumber(a)){return b-a}return 0});return g}return[]},addUIClsToElement:function(i,l){var m=this,j=m.callParent(arguments),n=[Ext.baseCSSPrefix+i,m.baseCls+"-body-"+i,m.baseCls+"-body-"+m.ui+"-"+i],k,p;if(!l&&m.rendered){if(m.bodyCls){m.body.addCls(m.bodyCls)}else{m.body.addCls(n)}}else{if(m.bodyCls){k=m.bodyCls.split(" ");for(p=0;p<n.length;p++){if(!Ext.Array.contains(k,n[p])){k.push(n[p])}}m.bodyCls=k.join(" ")}else{m.bodyCls=n.join(" ")}}return j},removeUIClsFromElement:function(i,l){var m=this,j=m.callParent(arguments),n=[Ext.baseCSSPrefix+i,m.baseCls+"-body-"+i,m.baseCls+"-body-"+m.ui+"-"+i],k,p;if(!l&&m.rendered){if(m.bodyCls){m.body.removeCls(m.bodyCls)}else{m.body.removeCls(n)}}else{if(m.bodyCls){k=m.bodyCls.split(" ");for(p=0;p<n.length;p++){Ext.Array.remove(k,n[p])}m.bodyCls=k.join(" ")}}return j},addUIToElement:function(i){var e=this,g=e.baseCls+"-body-"+e.ui,h;e.callParent(arguments);if(!i&&e.rendered){if(e.bodyCls){e.body.addCls(e.bodyCls)}else{e.body.addCls(g)}}else{if(e.bodyCls){h=e.bodyCls.split(" ");if(!Ext.Array.contains(h,g)){h.push(g)}e.bodyCls=h.join(" ")}else{e.bodyCls=g}}},removeUIFromElement:function(){var d=this,e=d.baseCls+"-body-"+d.ui,g;d.callParent(arguments);if(d.rendered){if(d.bodyCls){d.body.removeCls(d.bodyCls)}else{d.body.removeCls(e)}}else{if(d.bodyCls){g=d.bodyCls.split(" ");Ext.Array.remove(g,e);d.bodyCls=g.join(" ")}else{d.bodyCls=e}}},getTargetEl:function(){return this.body},getRefItems:function(i){var h=this.callParent(arguments),l=this.getDockedItems(i?"*,* *":undefined),j=l.length,m=0,k;for(;m<j;m++){k=l[m];if(k.dock==="right"||k.dock==="bottom"){break
}}return Ext.Array.splice(l,0,m).concat(h).concat(l)},beforeDestroy:function(){var c=this.dockedItems,d;if(c){while((d=c.first())){this.removeDocked(d,true)}}this.callParent()},setBorder:function(d){var c=this;c.border=(d!==undefined)?d:true;if(c.rendered){c.doComponentLayout()}}});Ext.define("Ext.panel.Header",{extend:"Ext.container.Container",uses:["Ext.panel.Tool","Ext.draw.Component","Ext.util.CSS"],alias:"widget.header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,renderTpl:['<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>','<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],initComponent:function(){var m=this,j,k,h,i,l;m.indicateDragCls=m.baseCls+"-draggable";m.title=m.title||"&#160;";m.tools=m.tools||[];m.items=m.items||[];m.orientation=m.orientation||"horizontal";m.dock=(m.dock)?m.dock:(m.orientation=="horizontal")?"top":"left";m.addClsWithUI(m.orientation);m.addClsWithUI(m.dock);m.addChildEls("body");if(!Ext.isEmpty(m.iconCls)){m.initIconCmp();m.items.push(m.iconCmp)}if(m.orientation=="vertical"){if(Ext.isIE6||Ext.isIE7){m.width=this.width||24}else{if(Ext.isIEQuirks){m.width=this.width||25}}m.layout={type:"vbox",align:"center",clearInnerCtOnLayout:true,bindToOwnerCtContainer:false};m.textConfig={cls:m.baseCls+"-text",type:"text",text:m.title,rotate:{degrees:90}};l=m.ui;if(Ext.isArray(l)){l=l[0]}j="."+m.baseCls+"-text-"+l;if(Ext.scopeResetCSS){j="."+Ext.baseCSSPrefix+"reset "+j}k=Ext.util.CSS.getRule(j);if(k){h=k.style}if(h){Ext.apply(m.textConfig,{"font-family":h.fontFamily,"font-weight":h.fontWeight,"font-size":h.fontSize,fill:h.color})}m.titleCmp=Ext.create("Ext.draw.Component",{ariaRole:"heading",focusable:false,viewBox:false,flex:1,autoSize:true,margins:"5 0 0 0",items:[m.textConfig],renderSelectors:{textEl:"."+m.baseCls+"-text"}})}else{m.layout={type:"hbox",align:"middle",clearInnerCtOnLayout:true,bindToOwnerCtContainer:false};m.titleCmp=Ext.create("Ext.Component",{xtype:"component",ariaRole:"heading",focusable:false,flex:1,cls:m.baseCls+"-text-container",renderTpl:['<span id="{id}-textEl" class="{cls}-text {cls}-text-{ui}">{title}</span>'],renderData:{title:m.title,cls:m.baseCls,ui:m.ui},childEls:["textEl"]})}m.items.push(m.titleCmp);m.items=m.items.concat(m.tools);this.callParent()},initIconCmp:function(){this.iconCmp=Ext.create("Ext.Component",{focusable:false,renderTpl:['<img id="{id}-iconEl" alt="" src="{blank}" class="{cls}-icon {iconCls}"/>'],renderData:{blank:Ext.BLANK_IMAGE_URL,cls:this.baseCls,iconCls:this.iconCls,orientation:this.orientation},childEls:["iconEl"],iconCls:this.iconCls})},afterRender:function(){var b=this;b.el.unselectable();if(b.indicateDrag){b.el.addCls(b.indicateDragCls)}b.mon(b.el,{click:b.onClick,scope:b});b.callParent()},afterLayout:function(){var b=this;b.callParent(arguments);if(Ext.isIE7){b.el.repaint()}},addUIClsToElement:function(i,l){var m=this,j=m.callParent(arguments),n=[m.baseCls+"-body-"+i,m.baseCls+"-body-"+m.ui+"-"+i],k,p;if(!l&&m.rendered){if(m.bodyCls){m.body.addCls(m.bodyCls)}else{m.body.addCls(n)}}else{if(m.bodyCls){k=m.bodyCls.split(" ");for(p=0;p<n.length;p++){if(!Ext.Array.contains(k,n[p])){k.push(n[p])}}m.bodyCls=k.join(" ")}else{m.bodyCls=n.join(" ")}}return j},removeUIClsFromElement:function(i,l){var m=this,j=m.callParent(arguments),n=[m.baseCls+"-body-"+i,m.baseCls+"-body-"+m.ui+"-"+i],k,p;if(!l&&m.rendered){if(m.bodyCls){m.body.removeCls(m.bodyCls)}else{m.body.removeCls(n)}}else{if(m.bodyCls){k=m.bodyCls.split(" ");for(p=0;p<n.length;p++){Ext.Array.remove(k,n[p])}m.bodyCls=k.join(" ")}}return j},addUIToElement:function(i){var e=this,h,g;e.callParent(arguments);g=e.baseCls+"-body-"+e.ui;if(!i&&e.rendered){if(e.bodyCls){e.body.addCls(e.bodyCls)}else{e.body.addCls(g)}}else{if(e.bodyCls){h=e.bodyCls.split(" ");if(!Ext.Array.contains(h,g)){h.push(g)}e.bodyCls=h.join(" ")}else{e.bodyCls=g}}if(!i&&e.titleCmp&&e.titleCmp.rendered&&e.titleCmp.textEl){e.titleCmp.textEl.addCls(e.baseCls+"-text-"+e.ui)}},removeUIFromElement:function(){var d=this,g,e;
d.callParent(arguments);e=d.baseCls+"-body-"+d.ui;if(d.rendered){if(d.bodyCls){d.body.removeCls(d.bodyCls)}else{d.body.removeCls(e)}}else{if(d.bodyCls){g=d.bodyCls.split(" ");Ext.Array.remove(g,e);d.bodyCls=g.join(" ")}else{d.bodyCls=e}}if(d.titleCmp&&d.titleCmp.rendered&&d.titleCmp.textEl){d.titleCmp.textEl.removeCls(d.baseCls+"-text-"+d.ui)}},onClick:function(b){if(!b.getTarget(Ext.baseCSSPrefix+"tool")){this.fireEvent("click",b)}},getTargetEl:function(){return this.body||this.frameBody||this.el},setTitle:function(h){var i=this;if(i.rendered){if(i.titleCmp.rendered){if(i.titleCmp.surface){i.title=h||"";var e=i.titleCmp.surface.items.items[0],g=i.titleCmp.surface;g.remove(e);i.textConfig.type="text";i.textConfig.text=h;e=g.add(i.textConfig);e.setAttributes({rotate:{degrees:90}},true);i.titleCmp.autoSizeSurface()}else{i.title=h||"&#160;";i.titleCmp.textEl.update(i.title)}}else{i.titleCmp.on({render:function(){i.setTitle(h)},single:true})}}else{i.on({render:function(){i.layout.layout();i.setTitle(h)},single:true})}},setIconCls:function(h){var k=this,i=!h||!h.length,j=k.iconCmp,g;k.iconCls=h;if(!k.iconCmp&&!i){k.initIconCmp();k.insert(0,k.iconCmp)}else{if(j){if(i){k.iconCmp.destroy()}else{g=j.iconEl;g.removeCls(j.iconCls);g.addCls(h);j.iconCls=h}}}},addTool:function(b){this.tools.push(this.add(b))},onAdd:function(c,d){this.callParent([arguments]);if(c instanceof Ext.panel.Tool){c.bindTo(this.ownerCt);this.tools[c.type]=c}}});Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(d,e,g){if(g==undefined){if(e==="x"){g=d.getX()}else{if(e==="y"){g=d.getY()}else{if(e==="scrollTop"){g=d.getScroll().top}else{if(e==="scrollLeft"){g=d.getScroll().left}else{if(e==="height"){g=d.getHeight()}else{if(e==="width"){g=d.getWidth()}else{g=d.getStyle(e)}}}}}}}return g},getAttr:function(e,g){var d=this.target;return[[d,this.getElVal(d,e,g)]]},setAttr:function(p){var s=this.target,q=p.length,i,r,w,t,v,x,u,j;for(t=0;t<q;t++){i=p[t].attrs;for(r in i){if(i.hasOwnProperty(r)){x=i[r].length;for(v=0;v<x;v++){w=i[r][v];u=w[0];j=w[1];if(r==="x"){u.setX(j)}else{if(r==="y"){u.setY(j)}else{if(r==="scrollTop"){u.scrollTo("top",j)}else{if(r==="scrollLeft"){u.scrollTo("left",j)}else{u.setStyle(r,j)}}}}}}}}}});Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:true,constructor:function(b){b.id=b.id||Ext.id(null,"ext-composite-");this.callParent([b])},getAttr:function(g,h){var e=[],i=this.target;i.each(function(a){e.push([a,this.getElVal(a,g,h)])},this);return e}});Ext.define("Ext.fx.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.fx.target.Element","Ext.fx.target.CompositeElement","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){this.items=Ext.create("Ext.util.MixedCollection");this.mixins.queue.constructor.call(this)},interval:16,forceJS:true,createTarget:function(h){var e=this,i=!e.forceJS&&Ext.supports.Transitions,g;e.useCSS3=i;if(Ext.isString(h)){h=Ext.get(h)}if(h&&h.tagName){h=Ext.get(h);g=Ext.create("Ext.fx.target.Element"+(i?"CSS":""),h);e.targets.add(g);return g}if(Ext.isObject(h)){if(h.dom){g=Ext.create("Ext.fx.target.Element"+(i?"CSS":""),h)}else{if(h.isComposite){g=Ext.create("Ext.fx.target.CompositeElement"+(i?"CSS":""),h)}else{if(h.isSprite){g=Ext.create("Ext.fx.target.Sprite",h)}else{if(h.isCompositeSprite){g=Ext.create("Ext.fx.target.CompositeSprite",h)}else{if(h.isComponent){g=Ext.create("Ext.fx.target.Component",h)}else{if(h.isAnimTarget){return h}else{return null}}}}}}e.targets.add(g);return g}else{return null}},addAnim:function(g){var d=this.items,e=this.task;d.add(g);if(!e&&d.length){e=this.task={run:this.runner,interval:this.interval,scope:this};Ext.TaskManager.start(e)}},removeAnim:function(g){var d=this.items,e=this.task;d.remove(g);if(e&&!d.length){Ext.TaskManager.stop(e);delete this.task}},startingFilter:function(b){return b.paused===false&&b.running===false&&b.iterations>0},runningFilter:function(b){return b.paused===false&&b.running===true&&b.isAnimator!==true
},runner:function(){var c=this,d=c.items;c.targetData={};c.targetArr={};c.timestamp=new Date();d.filterBy(c.startingFilter).each(c.startAnim,c);d.filterBy(c.runningFilter).each(c.runAnim,c);c.applyPendingAttrs()},startAnim:function(b){b.start(this.timestamp)},runAnim:function(n){if(!n){return}var p=this,i=n.target.getId(),l=p.useCSS3&&n.target.type=="element",j=p.timestamp-n.startTime,m,k;this.collectTargetData(n,j,l);if(l){n.target.setAttr(p.targetData[i],true);p.targetData[i]=[];p.collectTargetData(n,n.duration,l);n.paused=true;m=n.target.target;if(n.target.isComposite){m=n.target.target.last()}k={};k[Ext.supports.CSS3TransitionEnd]=n.lastFrame;k.scope=n;k.single=true;m.on(k)}else{if(j>=n.duration){p.applyPendingAttrs(true);delete p.targetData[i];delete p.targetArr[i];n.lastFrame()}}},collectTargetData:function(l,i,k){var h=l.target.getId(),j=this.targetData[h],m;if(!j){j=this.targetData[h]=[];this.targetArr[h]=l.target}m={duration:l.duration,easing:(k&&l.reverse)?l.easingFn.reverse().toCSS3():l.easing,attrs:{}};Ext.apply(m.attrs,l.runAnim(i));j.push(m)},applyPendingAttrs:function(h){var i=this.targetData,e=this.targetArr,g;for(g in i){if(i.hasOwnProperty(g)){e[g].setAttr(i[g],false,h)}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(d){var c=this;d=Ext.apply(c,d||{});c.config=d;c.id=Ext.id(null,"ext-animator-");c.addEvents("beforeanimate","keyframe","afteranimate");c.mixins.observable.constructor.call(c,d);c.timeline=[];c.createTimeline(c.keyframes);if(c.target){c.applyAnimator(c.target);Ext.fx.Manager.addAnim(c)}},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(w){var t=this,q=[],s=t.to||{},z=t.duration,i,B,x,u,r,A,y,v;for(r in w){if(w.hasOwnProperty(r)&&t.animKeyFramesRE.test(r)){v={attrs:Ext.apply(w[r],s)};if(r=="from"){r=0}else{if(r=="to"){r=100}}v.pct=parseInt(r,10);q.push(v)}}Ext.Array.sort(q,t.sorter);u=q.length;for(x=0;x<u;x++){i=(q[x-1])?z*(q[x-1].pct/100):0;B=z*(q[x].pct/100);t.timeline.push({duration:B-i,attrs:q[x].attrs})}},applyAnimator:function(x){var t=this,s=[],i=t.timeline,w=t.reverse,u=i.length,A,v,B,y,q,r,z;if(t.fireEvent("beforeanimate",t)!==false){for(z=0;z<u;z++){A=i[z];q=A.attrs;v=q.easing||t.easing;B=q.damper||t.damper;delete q.easing;delete q.damper;A=Ext.create("Ext.fx.Anim",{target:x,easing:v,damper:B,duration:A.duration,paused:true,to:q});s.push(A)}t.animations=s;t.target=A.target;for(z=0;z<u-1;z++){A=s[z];A.nextAnim=s[z+1];A.on("afteranimate",function(){this.nextAnim.paused=false});A.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},t)}s[u-1].on("afteranimate",function(){this.lastFrame()},t)}},start:function(j){var i=this,k=i.delay,g=i.delayStart,h;if(k){if(!g){i.delayStart=j;return}else{h=j-g;if(h<k){return}else{j=new Date(g.getTime()+k)}}}if(i.fireEvent("beforeanimate",i)!==false){i.startTime=j;i.running=true;i.animations[i.keyframeStep].paused=false}},lastFrame:function(){var g=this,e=g.iterations,d=g.currentIteration;d++;if(d<e){g.startTime=new Date();g.currentIteration=d;g.keyframeStep=0;g.applyAnimator(g.target);g.animations[g.keyframeStep].paused=false}else{g.currentIteration=0;g.end()}},end:function(){var b=this;b.fireEvent("afteranimate",b,b.startTime,new Date()-b.startTime)}});Ext.ns("Ext.fx");Ext.require("Ext.fx.CubicBezier",function(){var m=Math,k=m.PI,n=m.pow,i=m.sin,l=m.sqrt,j=m.abs,p=1.70158;Ext.fx.Easing={};Ext.apply(Ext.fx.Easing,{linear:function(a){return a},ease:function(d){var h=0.07813-d/2,c=-0.25,b=l(0.0066+h*h),t=b-h,e=n(j(t),1/3)*(t<0?-1:1),a=-b-h,g=n(j(a),1/3)*(a<0?-1:1),q=e+g+0.25;return n(1-q,2)*3*q*0.1+(1-q)*3*q*q+q*q*q},easeIn:function(a){return n(a,1.7)},easeOut:function(a){return n(a,0.48)},easeInOut:function(g){var b=0.48-g/1.04,c=l(0.1734+b*b),e=c-b,h=n(j(e),1/3)*(e<0?-1:1),q=-c-b,a=n(j(q),1/3)*(q<0?-1:1),d=h+a+0.5;return(1-d)*3*d*d+d*d*d},backIn:function(a){return a*a*((p+1)*a-p)
},backOut:function(a){a=a-1;return a*a*((p+1)*a+p)+1},elasticIn:function(a){if(a===0||a===1){return a}var b=0.3,c=b/4;return n(2,-10*a)*i((a-c)*(2*k)/b)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){var c=7.5625,b=2.75,d;if(a<(1/b)){d=c*a*a}else{if(a<(2/b)){a-=(1.5/b);d=c*a*a+0.75}else{if(a<(2.5/b)){a-=(2.25/b);d=c*a*a+0.9375}else{a-=(2.625/b);d=c*a*a+0.984375}}}return d}});Ext.apply(Ext.fx.Easing,{"back-in":Ext.fx.Easing.backIn,"back-out":Ext.fx.Easing.backOut,"ease-in":Ext.fx.Easing.easeIn,"ease-out":Ext.fx.Easing.easeOut,"elastic-in":Ext.fx.Easing.elasticIn,"elastic-out":Ext.fx.Easing.elasticIn,"bounce-in":Ext.fx.Easing.bounceIn,"bounce-out":Ext.fx.Easing.bounceOut,"ease-in-out":Ext.fx.Easing.easeInOut})});Ext.define("Ext.draw.Draw",{singleton:true,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(c,d){d=String(d).toLowerCase();return(d=="object"&&c===Object(c))||(d=="undefined"&&typeof c==d)||(d=="null"&&c===null)||(d=="array"&&Array.isArray&&Array.isArray(c))||(Object.prototype.toString.call(c).toLowerCase().slice(8,-1))==d},ellipsePath:function(c){var d=c.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",d.x,d.y-d.ry,d.rx,d.ry,d.y+d.ry)},rectPath:function(c){var d=c.attr;if(d.radius){return Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",d.x+d.radius,d.y,d.width-d.radius*2,d.radius,-d.radius,d.height-d.radius*2,d.radius*2-d.width,d.radius*2-d.height)}else{return Ext.String.format("M{0},{1}l{2},0,0,{3},{4},0z",d.x,d.y,d.width,d.height,-d.width)}},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(b){return b.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(g){if(!g){return null}var h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[],e=this;if(e.is(g,"array")&&e.is(g[0],"array")){i=e.pathClone(g)}if(!i.length){String(g).replace(e.pathCommandRE,function(d,k,a){var b=[],c=k.toLowerCase();a.replace(e.pathValuesRE,function(j,m){m&&b.push(+m)});if(c=="m"&&b.length>2){i.push([k].concat(Ext.Array.splice(b,0,2)));c="l";k=(k=="m")?"l":"L"}while(b.length>=h[c]){i.push([k].concat(Ext.Array.splice(b,0,h[c])));if(!h[c]){break}}})}i.toString=e.path2string;return i},mapPath:function(i,n){if(!n){return i}var m,p,r,j,t,q,s;i=this.path2curve(i);for(r=0,j=i.length;r<j;r++){s=i[r];for(t=1,q=s.length;t<q-1;t+=2){m=n.x(s[t],s[t+1]);p=n.y(s[t],s[t+1]);s[t]=m;s[t+1]=p}}return i},pathClone:function(j){var m=[],i,k,h,l;if(!this.is(j,"array")||!this.is(j&&j[0],"array")){j=this.parsePathString(j)}for(h=0,l=j.length;h<l;h++){m[h]=[];for(i=0,k=j[h].length;i<k;i++){m[h][i]=j[h][i]}}m.toString=this.path2string;return m},pathToAbsolute:function(x){if(!this.is(x,"array")||!this.is(x&&x[0],"array")){x=this.parsePathString(x)}var s=[],q=0,r=0,i=0,j=0,u=0,t=x.length,y,w,v,z;if(t&&x[0][0]=="M"){q=+x[0][1];r=+x[0][2];i=q;j=r;u++;s[0]=["M",q,r]}for(;u<t;u++){y=s[u]=[];w=x[u];if(w[0]!=w[0].toUpperCase()){y[0]=w[0].toUpperCase();switch(y[0]){case"A":y[1]=w[1];y[2]=w[2];y[3]=w[3];y[4]=w[4];y[5]=w[5];y[6]=+(w[6]+q);y[7]=+(w[7]+r);break;case"V":y[1]=+w[1]+r;break;case"H":y[1]=+w[1]+q;break;case"M":i=+w[1]+q;j=+w[2]+r;default:v=1;z=w.length;for(;v<z;v++){y[v]=+w[v]+((v%2)?q:r)}}}else{v=0;z=w.length;for(;v<z;v++){s[u][v]=w[v]}}switch(y[0]){case"Z":q=i;r=j;break;case"H":q=y[1];break;case"V":r=y[1];break;case"M":w=s[u];z=w.length;i=w[z-2];j=w[z-1];default:w=s[u];
z=w.length;q=w[z-2];r=w[z-1]}}s.toString=this.path2string;return s},pathToRelative:function(A){if(!this.is(A,"array")||!this.is(A&&A[0],"array")){A=this.parsePathString(A)}var k=[],i=0,j=0,F=0,G=0,B=0;if(A[0][0]=="M"){i=A[0][1];j=A[0][2];F=i;G=j;B++;k.push(["M",i,j])}for(var x=B,E=A.length;x<E;x++){var D=k[x]=[],H=A[x];if(H[0]!=H[0].toLowerCase()){D[0]=H[0].toLowerCase();switch(D[0]){case"a":D[1]=H[1];D[2]=H[2];D[3]=H[3];D[4]=H[4];D[5]=H[5];D[6]=+(H[6]-i).toFixed(3);D[7]=+(H[7]-j).toFixed(3);break;case"v":D[1]=+(H[1]-j).toFixed(3);break;case"m":F=H[1];G=H[2];default:for(var y=1,w=H.length;y<w;y++){D[y]=+(H[y]-((y%2)?i:j)).toFixed(3)}}}else{D=k[x]=[];if(H[0]=="m"){F=H[1]+i;G=H[2]+j}for(var z=0,C=H.length;z<C;z++){k[x][z]=H[z]}}var r=k[x].length;switch(k[x][0]){case"z":i=F;j=G;break;case"h":i+=+k[x][r-1];break;case"v":j+=+k[x][r-1];break;default:i+=+k[x][r-2];j+=+k[x][r-1]}}k.toString=this.path2string;return k},path2curve:function(i){var q=this,m=q.pathToAbsolute(i),r=m.length,l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s,t,n,p;for(s=0;s<r;s++){m[s]=q.command2curve(m[s],l);if(m[s].length>7){m[s].shift();p=m[s];while(p.length){Ext.Array.splice(m,s++,0,["C"].concat(Ext.Array.splice(p,0,6)))}Ext.Array.erase(m,s,1);r=m.length}t=m[s];n=t.length;l.x=t[n-2];l.y=t[n-1];l.bx=parseFloat(t[n-4])||l.x;l.by=parseFloat(t[n-3])||l.y}return m},interpolatePaths:function(F,v){var x=this,B=x.pathToAbsolute(F),u=x.pathToAbsolute(v),t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},D=function(c,b){if(c[b].length>7){c[b].shift();var a=c[b];while(a.length){Ext.Array.splice(c,b++,0,["C"].concat(Ext.Array.splice(a,0,6)))}Ext.Array.erase(c,b,1);p=Math.max(B.length,u.length||0)}},C=function(a,b,d,e,c){if(a&&b&&a[c][0]=="M"&&b[c][0]!="M"){Ext.Array.splice(b,c,0,["M",e.x,e.y]);d.bx=0;d.by=0;d.x=a[c][1];d.y=a[c][2];p=Math.max(B.length,u.length||0)}};for(var y=0,p=Math.max(B.length,u.length||0);y<p;y++){B[y]=x.command2curve(B[y],t);D(B,y);(u[y]=x.command2curve(u[y],E));D(u,y);C(B,u,t,E,y);C(u,B,E,t,y);var z=B[y],i=u[y],A=z.length,w=i.length;t.x=z[A-2];t.y=z[A-1];t.bx=parseFloat(z[A-4])||t.x;t.by=parseFloat(z[A-3])||t.y;E.bx=(parseFloat(i[w-4])||E.x);E.by=(parseFloat(i[w-3])||E.y);E.x=i[w-2];E.y=i[w-1]}return[B,u]},command2curve:function(g,d){var e=this;if(!g){return["C",d.x,d.y,d.x,d.y,d.x,d.y]}if(g[0]!="T"&&g[0]!="Q"){d.qx=d.qy=null}switch(g[0]){case"M":d.X=g[1];d.Y=g[2];break;case"A":g=["C"].concat(e.arc2curve.apply(e,[d.x,d.y].concat(g.slice(1))));break;case"S":g=["C",d.x+(d.x-(d.bx||d.x)),d.y+(d.y-(d.by||d.y))].concat(g.slice(1));break;case"T":d.qx=d.x+(d.x-(d.qx||d.x));d.qy=d.y+(d.y-(d.qy||d.y));g=["C"].concat(e.quadratic2curve(d.x,d.y,d.qx,d.qy,g[1],g[2]));break;case"Q":d.qx=g[1];d.qy=g[2];g=["C"].concat(e.quadratic2curve(d.x,d.y,g[1],g[2],g[3],g[4]));break;case"L":g=["C"].concat(d.x,d.y,g[1],g[2],g[1],g[2]);break;case"H":g=["C"].concat(d.x,d.y,g[1],d.y,g[1],d.y);break;case"V":g=["C"].concat(d.x,d.y,d.x,g[1],d.x,g[1]);break;case"Z":g=["C"].concat(d.x,d.y,d.X,d.Y,d.X,d.Y);break}return g},quadratic2curve:function(j,q,m,p,k,r){var n=1/3,l=2/3;return[n*j+l*m,n*q+l*p,n*k+l*m,n*r+l*p,k,r]},rotate:function(i,k,j){var n=Math.cos(j),p=Math.sin(j),l=i*n-k*p,m=i*p+k*n;return{x:l,y:m}},arc2curve:function(aO,aw,at,av,aH,aU,aY,aP,az,aF){var aL=this,a0=Math.PI,aJ=aL.radian,ax=a0*120/180,a3=aJ*(+aH||0),an=[],aq=Math,t=aq.cos,a4=aq.sin,i=aq.sqrt,aN=aq.abs,aT=aq.asin,ar,a2,aR,al,am,aG,a1,y,k,aB,aD,aV,aW,aQ,aX,aA,aZ,aC,ak,x,aj,aE,aI,aK,h,ao,aM,ap,ay,au,aS;if(!aF){ar=aL.rotate(aO,aw,-a3);aO=ar.x;aw=ar.y;ar=aL.rotate(aP,az,-a3);aP=ar.x;az=ar.y;a2=t(aJ*aH);aR=a4(aJ*aH);al=(aO-aP)/2;am=(aw-az)/2;aG=(al*al)/(at*at)+(am*am)/(av*av);if(aG>1){aG=i(aG);at=aG*at;av=aG*av}a1=at*at;y=av*av;k=(aU==aY?-1:1)*i(aN((a1*y-a1*am*am-y*al*al)/(a1*am*am+y*al*al)));aB=k*at*am/av+(aO+aP)/2;aD=k*-av*al/at+(aw+az)/2;aV=aT(((aw-aD)/av).toFixed(7));aW=aT(((az-aD)/av).toFixed(7));aV=aO<aB?a0-aV:aV;aW=aP<aB?a0-aW:aW;if(aV<0){aV=a0*2+aV}if(aW<0){aW=a0*2+aW}if(aY&&aV>aW){aV=aV-a0*2}if(!aY&&aW>aV){aW=aW-a0*2}}else{aV=aF[0];aW=aF[1];aB=aF[2];aD=aF[3]}aQ=aW-aV;
if(aN(aQ)>ax){ay=aW;au=aP;aS=az;aW=aV+ax*(aY&&aW>aV?1:-1);aP=aB+at*t(aW);az=aD+av*a4(aW);an=aL.arc2curve(aP,az,at,av,aH,0,aY,au,aS,[aW,ay,aB,aD])}aQ=aW-aV;aX=t(aV);aA=a4(aV);aZ=t(aW);aC=a4(aW);ak=aq.tan(aQ/4);x=4/3*at*ak;aj=4/3*av*ak;aE=[aO,aw];aI=[aO+x*aA,aw-aj*aX];aK=[aP+x*aC,az-aj*aZ];h=[aP,az];aI[0]=2*aE[0]-aI[0];aI[1]=2*aE[1]-aI[1];if(aF){return[aI,aK,h].concat(an)}else{an=[aI,aK,h].concat(an).join().split(",");ao=[];ap=an.length;for(aM=0;aM<ap;aM++){ao[aM]=aM%2?aL.rotate(an[aM-1],an[aM],a3).y:aL.rotate(an[aM],an[aM+1],a3).x}return ao}},rotateAndTranslatePath:function(s){var x=s.rotation.degrees,w=s.rotation.x,y=s.rotation.y,i=s.translation.x,r=s.translation.y,j,u,z,p,v,t=[];if(!x&&!i&&!r){return this.pathToAbsolute(s.attr.path)}i=i||0;r=r||0;j=this.pathToAbsolute(s.attr.path);for(u=j.length;u--;){z=t[u]=j[u].slice();if(z[0]=="A"){p=this.rotatePoint(z[6],z[7],x,w,y);z[6]=p.x+i;z[7]=p.y+r}else{v=1;while(z[v+1]!=null){p=this.rotatePoint(z[v],z[v+1],x,w,y);z[v]=p.x+i;z[v+1]=p.y+r;v+=2}}}return t},rotatePoint:function(i,k,m,j,l){if(!m){return{x:i,y:k}}j=j||0;l=l||0;i=i-j;k=k-l;m=m*this.radian;var n=Math.cos(m),p=Math.sin(m);return{x:i*n-k*p+j,y:i*p+k*n+l}},pathDimensions:function(i){if(!i||!(i+"")){return{x:0,y:0,width:0,height:0}}i=this.path2curve(i);var p=0,q=0,u=[],w=[],t=0,r=i.length,v,x,n,s;for(;t<r;t++){v=i[t];if(v[0]=="M"){p=v[1];q=v[2];u.push(p);w.push(q)}else{s=this.curveDim(p,q,v[1],v[2],v[3],v[4],v[5],v[6]);u=u.concat(s.min.x,s.max.x);w=w.concat(s.min.y,s.max.y);p=v[5];q=v[6]}}x=Math.min.apply(0,u);n=Math.min.apply(0,w);return{x:x,y:n,path:i,width:Math.max.apply(0,u)-x,height:Math.max.apply(0,w)-n}},intersectInside:function(d,g,e){return(e[0]-g[0])*(d[1]-g[1])>(e[1]-g[1])*(d[0]-g[0])},intersectIntersection:function(e,p,v,w){var x=[],y=v[0]-w[0],z=v[1]-w[1],r=e[0]-p[0],t=e[1]-p[1],q=v[0]*w[1]-v[1]*w[0],s=e[0]*p[1]-e[1]*p[0],u=1/(y*t-z*r);x[0]=(q*r-s*y)*u;x[1]=(q*t-s*z)*u;return x},intersect:function(j,A){var s=this,w=0,u=A.length,x=A[u-1],e=j,y,D,v,i,C,B,z;for(;w<u;++w){y=A[w];B=e;e=[];D=B[B.length-1];z=0;C=B.length;for(;z<C;z++){v=B[z];if(s.intersectInside(v,x,y)){if(!s.intersectInside(D,x,y)){e.push(s.intersectIntersection(D,v,x,y))}e.push(v)}else{if(s.intersectInside(D,x,y)){e.push(s.intersectIntersection(D,v,x,y))}}D=v}x=y}return e},curveDim:function(C,E,A,B,F,G,b,w){var H=(F-2*A+C)-(b-2*F+A),c=2*(A-C)-2*(F-A),x=C-A,y=(-c+Math.sqrt(c*c-4*H*x))/2/H,z=(-c-Math.sqrt(c*c-4*H*x))/2/H,v=[E,w],a=[C,b],D;if(Math.abs(y)>1000000000000){y=0.5}if(Math.abs(z)>1000000000000){z=0.5}if(y>0&&y<1){D=this.findDotAtSegment(C,E,A,B,F,G,b,w,y);a.push(D.x);v.push(D.y)}if(z>0&&z<1){D=this.findDotAtSegment(C,E,A,B,F,G,b,w,z);a.push(D.x);v.push(D.y)}H=(G-2*B+E)-(w-2*G+B);c=2*(B-E)-2*(G-B);x=E-B;y=(-c+Math.sqrt(c*c-4*H*x))/2/H;z=(-c-Math.sqrt(c*c-4*H*x))/2/H;if(Math.abs(y)>1000000000000){y=0.5}if(Math.abs(z)>1000000000000){z=0.5}if(y>0&&y<1){D=this.findDotAtSegment(C,E,A,B,F,G,b,w,y);a.push(D.x);v.push(D.y)}if(z>0&&z<1){D=this.findDotAtSegment(C,E,A,B,F,G,b,w,z);a.push(D.x);v.push(D.y)}return{min:{x:Math.min.apply(0,a),y:Math.min.apply(0,v)},max:{x:Math.max.apply(0,a),y:Math.max.apply(0,v)}}},getAnchors:function(R,S,M,N,B,C,G){G=G||4;var O=Math,H=O.PI,F=H/2,K=O.abs,V=O.sin,U=O.cos,Q=O.atan,D,E,P,L,I,J,z,A,T;D=(M-R)/G;E=(B-M)/G;if((N>=S&&N>=C)||(N<=S&&N<=C)){P=L=F}else{P=Q((M-R)/K(N-S));if(S<N){P=H-P}L=Q((B-M)/K(N-C));if(C<N){L=H-L}}T=F-((P+L)%(H*2))/2;if(T>F){T-=H}P+=T;L+=T;I=M-D*V(P);J=N+D*U(P);z=M+E*V(L);A=N+E*U(L);if((N>S&&J<S)||(N<S&&J>S)){I+=K(S-J)*(I-M)/(J-N);J=S}if((N>C&&A<C)||(N<C&&A>C)){z-=K(C-A)*(z-M)/(A-N);A=C}return{x1:I,y1:J,x2:z,y2:A}},smooth:function(T,D){var E=this.path2curve(T),P=[E[0]],M=E[0][1],N=E[0][2],C,x,j=1,L=E.length,O=1,J=M,K=N,R=0,S=0;for(;j<L;j++){var G=E[j],I=G.length,i=E[j-1],H=i.length,y=E[j+1],F=y&&y.length;if(G[0]=="M"){J=G[1];K=G[2];C=j+1;while(E[C][0]!="C"){C++}R=E[C][5];S=E[C][6];P.push(["M",J,K]);O=P.length;M=J;N=K;continue}if(G[I-2]==J&&G[I-1]==K&&(!y||y[0]=="M")){var Q=P[O].length;x=this.getAnchors(i[H-2],i[H-1],J,K,P[O][Q-2],P[O][Q-1],D);P[O][1]=x.x2;P[O][2]=x.y2}else{if(!y||y[0]=="M"){x={x1:G[I-2],y1:G[I-1]}
}else{x=this.getAnchors(i[H-2],i[H-1],G[I-2],G[I-1],y[F-2],y[F-1],D)}}P.push(["C",M,N,x.x1,x.y1,G[I-2],G[I-1]]);M=x.x2;N=x.y2}return P},findDotAtSegment:function(u,v,s,t,m,n,p,q,l){var r=1-l;return{x:Math.pow(r,3)*u+Math.pow(r,2)*3*l*s+r*3*l*l*m+Math.pow(l,3)*p,y:Math.pow(r,3)*v+Math.pow(r,2)*3*l*t+r*3*l*l*n+Math.pow(l,3)*q}},snapEnds:function(i,H,C){if(Ext.isDate(i)){return this.snapEndsByDate(i,H,C)}var D=(H-i)/C,F=Math.floor(Math.log(D)/Math.LN10)+1,B=Math.pow(10,F),G,u=Math.round((D%B)*Math.pow(10,2-F)),E=[[0,15],[20,4],[30,2],[40,4],[50,9],[60,4],[70,2],[80,4],[100,15]],z=0,m,x,y,A,w=1000000000,v=E.length;G=i=Math.floor(i/B)*B;for(y=0;y<v;y++){m=E[y][0];x=(m-u)<0?1000000:(m-u)/E[y][1];if(x<w){A=m;w=x}}D=Math.floor(D*Math.pow(10,-F))*Math.pow(10,F)+A*Math.pow(10,F-2);while(G<H){G+=D;z++}H=+G.toFixed(10);return{from:i,to:H,power:F,step:D,steps:z}},snapEndsByDate:function(l,m,j,k){var q=false,n=[[Ext.Date.MILLI,[1,2,3,5,10,20,30,50,100,200,300,500]],[Ext.Date.SECOND,[1,2,3,5,10,15,30]],[Ext.Date.MINUTE,[1,2,3,5,10,20,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,3,7,14]],[Ext.Date.MONTH,[1,2,3,4,6]]],r,p;Ext.each(n,function(a,b){for(r=0;r<a[1].length;r++){if(m<Ext.Date.add(l,a[0],a[1][r]*j)){q=[a[0],a[1][r]];return false}}});if(!q){p=this.snapEnds(l.getFullYear(),m.getFullYear()+1,j,k);q=[Date.YEAR,Math.round(p.step)]}return this.snapEndsByDateAndStep(l,m,q,k)},snapEndsByDateAndStep:function(l,m,p,k){var q=[l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()],j=0,n,r;if(k){n=l}else{switch(p[0]){case Ext.Date.MILLI:n=new Date(q[0],q[1],q[2],q[3],q[4],q[5],Math.floor(q[6]/p[1])*p[1]);break;case Ext.Date.SECOND:n=new Date(q[0],q[1],q[2],q[3],q[4],Math.floor(q[5]/p[1])*p[1],0);break;case Ext.Date.MINUTE:n=new Date(q[0],q[1],q[2],q[3],Math.floor(q[4]/p[1])*p[1],0,0);break;case Ext.Date.HOUR:n=new Date(q[0],q[1],q[2],Math.floor(q[3]/p[1])*p[1],0,0,0);break;case Ext.Date.DAY:n=new Date(q[0],q[1],Math.floor(q[2]-1/p[1])*p[1]+1,0,0,0,0);break;case Ext.Date.MONTH:n=new Date(q[0],Math.floor(q[1]/p[1])*p[1],1,0,0,0,0);break;default:n=new Date(Math.floor(q[0]/p[1])*p[1],0,1,0,0,0,0);break}}r=n;while(r<m){r=Ext.Date.add(r,p[0],p[1]);j++}if(k){r=m}return{from:+n,to:+r,step:(r-n)/j,steps:j}},sorter:function(a,b){return a.offset-b.offset},rad:function(b){return b%360*Math.PI/180},degrees:function(b){return b*180/Math.PI%360},withinBox:function(e,g,d){d=d||{};return(e>=d.x&&e<=(d.x+d.width)&&g>=d.y&&g<=(d.y+d.height))},parseGradient:function(n){var t=this,s=n.type||"linear",v=n.angle||0,q=t.radian,m=n.stops,x=[],p,w,r,u;if(s=="linear"){w=[0,0,Math.cos(v*q),Math.sin(v*q)];r=1/(Math.max(Math.abs(w[2]),Math.abs(w[3]))||1);w[2]*=r;w[3]*=r;if(w[2]<0){w[0]=-w[2];w[2]=0}if(w[3]<0){w[1]=-w[3];w[3]=0}}for(p in m){if(m.hasOwnProperty(p)&&t.stopsRE.test(p)){u={offset:parseInt(p,10),color:Ext.draw.Color.toHex(m[p].color)||"#ffffff",opacity:m[p].opacity||1};x.push(u)}}Ext.Array.sort(x,t.sorter);if(s=="linear"){return{id:n.id,type:s,vector:w,stops:x}}else{return{id:n.id,type:s,centerX:n.centerX,centerY:n.centerY,focalX:n.focalX,focalY:n.focalY,radius:n.radius,vector:w,stops:x}}}});Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.draw.Draw"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(k,r,t,n,l){t=(typeof t=="number")?t:1;var m=this.unitRE,q=m.exec(k),s,p;if(q){k=q[1];p=q[2];if(!this.scrollRE.test(l)&&!p&&this.pixelDefaultsRE.test(l)){p="px"}}k=+k||0;q=m.exec(r);if(q){r=q[1];p=q[2]||p}r=+r||0;s=(n!=null)?n:k;return{from:k,delta:(r-s)*t,units:p}},get:function(i,y,z,j,s){var q=i.length,w=[],v,t,r,x,u;for(v=0;v<q;v++){if(j){t=j[v][1].from}if(Ext.isArray(i[v][1])&&Ext.isArray(y)){r=[];x=0;u=i[v][1].length;for(;x<u;x++){r.push(this.computeDelta(i[v][1][x],y[x],z,t,s))}w.push([i[v][0],r])}else{w.push([i[v][0],this.computeDelta(i[v][1],y,z,t,s)])}}return w},set:function(i,n){var m=i.length,r=[],q,t,j,p,s;for(q=0;q<m;q++){t=i[q][1];if(Ext.isArray(t)){j=[];s=0;p=t.length;
for(;s<p;s++){j.push(t[s].from+(t[s].delta*n)+(t[s].units||0))}r.push([i[q][0],j])}else{r.push([i[q][0],t.from+(t.delta*n)+(t.units||0)])}}return r}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(h,j){j=(typeof j=="number")?j:1;var i,k=false,g;Ext.each([this.hexRE,this.rgbRE,this.hex3RE],function(a,b){i=(b%2==0)?16:10;g=a.exec(h);if(g&&g.length==4){if(b==2){g[1]+=g[1];g[2]+=g[2];g[3]+=g[3]}k={red:parseInt(g[1],i),green:parseInt(g[2],i),blue:parseInt(g[3],i)};return false}});return k||h},computeDelta:function(k,j,m,p){k=this.parseColor(k);j=this.parseColor(j,m);var l=p?p:k,i=typeof l,n=typeof j;if(i=="string"||i=="undefined"||n=="string"||n=="undefined"){return j||l}return{from:k,delta:{red:Math.round((j.red-l.red)*m),green:Math.round((j.green-l.green)*m),blue:Math.round((j.blue-l.blue)*m)}}},get:function(l,k,n,q){var m=l.length,r=[],p,i;for(p=0;p<m;p++){if(q){i=q[p][1].from}r.push([l[p][0],this.computeDelta(l[p][1],k,n,i)])}return r},set:function(i,p){var n=i.length,r=[],q,s,t,m,l;for(q=0;q<n;q++){s=i[q][1];if(s){m=s.from;l=s.delta;s=(typeof s=="object"&&"red" in s)?"rgb("+s.red+", "+s.green+", "+s.blue+")":s;s=(typeof s=="object"&&s.length)?s[0]:s;if(typeof s=="undefined"){return[]}t=typeof s=="string"?s:"rgb("+[(m.red+Math.round(l.red*p))%256,(m.green+Math.round(l.green*p))%256,(m.blue+Math.round(l.blue*p))%256].join(",")+")";r.push([i[q][0],t])}}return r}},object:{interpolate:function(h,e){e=(typeof e=="number")?e:1;var g={},i;for(i in h){g[i]=parseInt(h[i],10)*e}return g},computeDelta:function(k,j,p,i){k=this.interpolate(k);j=this.interpolate(j,p);var l=i?i:k,m={},n;for(n in j){m[n]=j[n]-l[n]}return{from:k,delta:m}},get:function(l,k,n,q){var m=l.length,r=[],p,i;for(p=0;p<m;p++){if(q){i=q[p][1].from}r.push([l[p][0],this.computeDelta(l[p][1],k,n,i)])}return r},set:function(i,q){var p=i.length,t=[],r={},s,n,m,u,v;for(s=0;s<p;s++){u=i[s][1];n=u.from;m=u.delta;for(v in n){r[v]=Math.round(n[v]+m[v]*q)}t.push([i[s][0],r])}return t}},path:{computeDelta:function(i,h,k,g){k=(typeof k=="number")?k:1;var j;i=+i||0;h=+h||0;j=(g!=null)?g:i;return{from:i,delta:(h-j)*k}},forcePath:function(b){if(!Ext.isArray(b)&&!Ext.isArray(b[0])){b=Ext.draw.Draw.parsePathString(b)}return b},get:function(D,x,E,i){var C=this.forcePath(x),v=[],G=D.length,B,y,k,z,j,w,A,F,H;for(k=0;k<G;k++){H=this.forcePath(D[k][1]);z=Ext.draw.Draw.interpolatePaths(H,C);H=z[0];C=z[1];B=H.length;F=[];for(w=0;w<B;w++){z=[H[w][0]];y=H[w].length;for(A=1;A<y;A++){j=i&&i[0][1][w][A].from;z.push(this.computeDelta(H[w][A],C[w][A],E,j))}F.push(z)}v.push([D[k][0],F])}return v},set:function(i,k){var j=i.length,v=[],t,u,w,s,r,x,z,y;for(t=0;t<j;t++){x=i[t][1];s=[];z=x.length;for(u=0;u<z;u++){r=[x[u][0]];y=x[u].length;for(w=1;w<y;w++){r.push(x[u][w].from+x[u][w].delta*k)}s.push(r.join(","))}v.push([i[t][0],s.join(",")])}return v}}}},function(){Ext.each(["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],function(b){this[b]=this.color},this)});Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,alternate:false,currentIteration:0,startTime:0,constructor:function(e){var d=this,g;e=e||{};if(e.keyframes){return Ext.create("Ext.fx.Animator",e)}e=Ext.apply(d,e);if(d.from===undefined){d.from={}}d.propHandlers={};d.config=e;d.target=Ext.fx.Manager.createTarget(d.target);d.easingFn=Ext.fx.Easing[d.easing];d.target.dynamic=d.dynamic;if(!d.easingFn){d.easingFn=String(d.easing).match(d.bezierRE);if(d.easingFn&&d.easingFn.length==5){g=d.easingFn;d.easingFn=Ext.fx.CubicBezier.cubicBezier(+g[1],+g[2],+g[3],+g[4])}}d.id=Ext.id(null,"ext-anim-");Ext.fx.Manager.addAnim(d);
d.addEvents("beforeanimate","afteranimate","lastframe");d.mixins.observable.constructor.call(d,e);if(e.callback){d.on("afteranimate",e.callback,e.scope)}return d},setAttr:function(d,c){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,d,c)},initAttrs:function(){var p=this,m=p.from,l=p.to,n=p.initialFrom||{},r={},t,s,k,q;for(q in l){if(l.hasOwnProperty(q)){t=p.target.getAttr(q,m[q]);s=l[q];if(!Ext.fx.PropertyHandler[q]){if(Ext.isObject(s)){k=p.propHandlers[q]=Ext.fx.PropertyHandler.object}else{k=p.propHandlers[q]=Ext.fx.PropertyHandler.defaultHandler}}else{k=p.propHandlers[q]=Ext.fx.PropertyHandler[q]}r[q]=k.get(t,s,p.damper,n[q],q)}}p.currentAttrs=r},start:function(j){var i=this,k=i.delay,g=i.delayStart,h;if(k){if(!g){i.delayStart=j;return}else{h=j-g;if(h<k){return}else{j=new Date(g.getTime()+k)}}}if(i.fireEvent("beforeanimate",i)!==false){i.startTime=j;if(!i.paused&&!i.currentAttrs){i.initAttrs()}i.running=true}},runAnim:function(m){var q=this,n=q.currentAttrs,u=q.duration,v=q.easingFn,w=q.propHandlers,s={},r,p,t,x;if(m>=u){m=u;x=true}if(q.reverse){m=u-m}for(t in n){if(n.hasOwnProperty(t)){p=n[t];r=x?1:v(m/u);s[t]=w[t].set(p,r)}}return s},lastFrame:function(){var g=this,e=g.iterations,d=g.currentIteration;d++;if(d<e){if(g.alternate){g.reverse=!g.reverse}g.startTime=new Date();g.currentIteration=d;g.paused=false}else{g.currentIteration=0;g.end();g.fireEvent("lastframe",g,g.startTime)}},end:function(){var b=this;b.startTime=0;b.paused=false;b.running=false;Ext.fx.Manager.removeAnim(b);b.fireEvent("afteranimate",b,b.startTime)}});Ext.enableFx=true;Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(g,e,d){if(g){this.init(g,e,d)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(d,c){},startDrag:function(d,c){},b4Drag:function(b){},onDrag:function(b){},onDragEnter:function(d,c){},b4DragOver:function(b){},onDragOver:function(d,c){},b4DragOut:function(b){},onDragOut:function(d,c){},b4DragDrop:function(b){},onDragDrop:function(d,c){},onInvalidDrop:function(b){},b4EndDrag:function(b){},endDrag:function(b){},b4MouseDown:function(b){},onMouseDown:function(b){},onMouseUp:function(b){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(s,u,b){if(Ext.isNumber(u)){u={left:u,right:u,top:u,bottom:u}}u=u||this.defaultPadding;var q=Ext.get(this.getEl()).getBox(),x=Ext.get(s),c=x.getScroll(),r,w=x.dom;if(w==document.body){r={x:c.left,y:c.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}}else{var p=x.getXY();r={x:p[0],y:p[1],width:w.clientWidth,height:w.clientHeight}}var t=q.y-r.y,v=q.x-r.x;this.resetConstraints();this.setXConstraint(v-(u.left||0),r.width-v-q.width-(u.right||0),this.xTickSize);this.setYConstraint(t-(u.top||0),r.height-t-q.height-(u.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(g,e,d){this.initTarget(g,e,d);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(g,e,d){this.config=d||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof g!=="string"){g=Ext.id(g)}this.id=g;this.addToGroup((e)?e:"default");this.handleElId=g;this.setDragElId(g);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)
},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(i,g,h,e){if(!g&&0!==g){this.padding=[i,i,i,i]}else{if(!h&&0!==h){this.padding=[i,g,i,g]}else{this.padding=[i,g,h,e]}}},setInitPosition:function(l,m){var k=this.getEl();if(!this.DDMInstance.verifyEl(k)){return}var h=l||0;var i=m||0;var j=Ext.Element.getXY(k);this.initPageX=j[0]-h;this.initPageY=j[1]-i;this.lastPageX=j[0];this.lastPageY=j[1];this.setStartPosition(j)},setStartPosition:function(c){var d=c||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=d[0];this.startPageY=d[1]},addToGroup:function(b){this.groups[b]=true;this.DDMInstance.regDragDrop(this,b)},removeFromGroup:function(b){if(this.groups[b]){delete this.groups[b]}this.DDMInstance.removeDDFromGroup(this,b)},setDragElId:function(b){this.dragElId=b},setHandleElId:function(b){if(typeof b!=="string"){b=Ext.id(b)}this.handleElId=b;this.DDMInstance.regHandle(this.id,b)},setOuterHandleElId:function(b){if(typeof b!=="string"){b=Ext.id(b)}Ext.EventManager.on(b,"mousedown",this.handleMouseDown,this);this.setHandleElId(b);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(g,d){if(this.primaryButtonOnly&&g.button!=0){return}if(this.isLocked()){return}this.DDMInstance.refreshCache(this.groups);var e=g.getPoint();if(!this.hasOuterHandles&&!this.DDMInstance.isOverTarget(e,this)){}else{if(this.clickValidator(g)){this.setStartPosition();this.b4MouseDown(g);this.onMouseDown(g);this.DDMInstance.handleMouseDown(g,this);this.DDMInstance.stopEvent(g)}else{}}},clickValidator:function(c){var d=c.getTarget();return(this.isValidHandleChild(d)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(d,this.id)))},addInvalidHandleType:function(d){var c=d.toUpperCase();this.invalidHandleTypes[c]=c},addInvalidHandleId:function(b){if(typeof b!=="string"){b=Ext.id(b)}this.invalidHandleIds[b]=b},addInvalidHandleClass:function(b){this.invalidHandleClasses.push(b)},removeInvalidHandleType:function(d){var c=d.toUpperCase();delete this.invalidHandleTypes[c]},removeInvalidHandleId:function(b){if(typeof b!=="string"){b=Ext.id(b)}delete this.invalidHandleIds[b]},removeInvalidHandleClass:function(d){for(var g=0,e=this.invalidHandleClasses.length;g<e;++g){if(this.invalidHandleClasses[g]==d){delete this.invalidHandleClasses[g]}}},isValidHandleChild:function(l){var m=true;var j;try{j=l.nodeName.toUpperCase()}catch(k){j=l.nodeName}m=m&&!this.invalidHandleTypes[j];m=m&&!this.invalidHandleIds[l.id];for(var e=0,i=this.invalidHandleClasses.length;m&&e<i;++e){m=!Ext.fly(l).hasCls(this.invalidHandleClasses[e])}return m},setXTicks:function(h,g){this.xTicks=[];this.xTickSize=g;var i={};for(var e=this.initPageX;e>=this.minX;e=e-g){if(!i[e]){this.xTicks[this.xTicks.length]=e;i[e]=true}}for(e=this.initPageX;e<=this.maxX;e=e+g){if(!i[e]){this.xTicks[this.xTicks.length]=e;i[e]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(h,g){this.yTicks=[];this.yTickSize=g;var i={};for(var e=this.initPageY;e>=this.minY;e=e-g){if(!i[e]){this.yTicks[this.yTicks.length]=e;i[e]=true}}for(e=this.initPageY;e<=this.maxY;e=e+g){if(!i[e]){this.yTicks[this.yTicks.length]=e;i[e]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(g,d,e){this.leftConstraint=g;this.rightConstraint=d;this.minX=this.initPageX-g;this.maxX=this.initPageX+d;if(e){this.setXTicks(this.initPageX,e)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(e,g,d){this.topConstraint=e;this.bottomConstraint=g;this.minY=this.initPageY-e;this.maxY=this.initPageY+g;if(d){this.setYTicks(this.initPageY,d)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var c=(this.maintainOffset)?this.lastPageX-this.initPageX:0;
var d=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(c,d)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(k,n){if(!n){return k}else{if(n[0]>=k){return n[0]}else{for(var i=0,j=n.length;i<j;++i){var p=i+1;if(n[p]&&n[p]>=k){var l=k-n[i];var m=n[p]-k;return(m>l)?n[i]:n[p]}}return n[n.length-1]}}},toString:function(){return("DragDrop "+this.id)}});Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(g,e,d){if(g){this.init(g,e,d)}},scroll:true,autoOffset:function(i,e){var g=i-this.startPageX;var h=e-this.startPageY;this.setDelta(g,h)},setDelta:function(c,d){this.deltaX=c;this.deltaY=d},setDragElPos:function(g,d){var e=this.getDragEl();this.alignElWithMouse(e,g,d)},alignElWithMouse:function(w,t,v){var s=this.getTargetCoord(t,v),u=w.dom?w:Ext.fly(w,"_dd"),m=u.getSize(),q=Ext.Element,p;if(!this.deltaSetXY){p=this.cachedViewportSize={width:q.getDocumentWidth(),height:q.getDocumentHeight()};var x=[Math.max(0,Math.min(s.x,p.width-m.width)),Math.max(0,Math.min(s.y,p.height-m.height))];u.setXY(x);var n=u.getLeft(true);var r=u.getTop(true);this.deltaSetXY=[n-s.x,r-s.y]}else{p=this.cachedViewportSize;u.setLeftTop(Math.max(0,Math.min(s.x+this.deltaSetXY[0],p.width-m.width)),Math.max(0,Math.min(s.y+this.deltaSetXY[1],p.height-m.height)))}this.cachePosition(s.x,s.y);this.autoScroll(s.x,s.y,w.offsetHeight,w.offsetWidth);return s},cachePosition:function(d,e){if(d){this.lastPageX=d;this.lastPageY=e}else{var g=Ext.Element.getXY(this.getEl());this.lastPageX=g[0];this.lastPageY=g[1]}},autoScroll:function(u,v,z,t){if(this.scroll){var s=Ext.Element.getViewHeight();var C=Ext.Element.getViewWidth();var h=this.DDMInstance.getScrollTop();var A=this.DDMInstance.getScrollLeft();var w=z+v;var r=t+u;var x=(s+h-v-this.deltaY);var y=(C+A-u-this.deltaX);var B=40;var D=(document.all)?80:30;if(w>s&&x<B){window.scrollTo(A,h+D)}if(v<h&&h>0&&v-h<B){window.scrollTo(A,h-D)}if(r>C&&y<B){window.scrollTo(A+D,h)}if(u<A&&A>0&&u-A<B){window.scrollTo(A-D,h)}}},getTargetCoord:function(i,e){var g=i-this.deltaX;var h=e-this.deltaY;if(this.constrainX){if(g<this.minX){g=this.minX}if(g>this.maxX){g=this.maxX}}if(this.constrainY){if(h<this.minY){h=this.minY}if(h>this.maxY){h=this.maxY}}g=this.getTick(g,this.xTicks);h=this.getTick(h,this.yTicks);return{x:g,y:h}},applyConfig:function(){this.callParent();this.scroll=(this.config.scroll!==false)},b4MouseDown:function(b){this.autoOffset(b.getPageX(),b.getPageY())},b4Drag:function(b){this.setDragElPos(b.getPageX(),b.getPageY())},toString:function(){return("DD "+this.id)}});Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(g,e,d){if(g){this.init(g,e,d);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var e=this;var g=document.body;if(!g||!g.firstChild){setTimeout(function(){e.createFrame()},50);return}var h=this.getDragEl();if(!h){h=document.createElement("div");h.id=this.dragElId;var i=h.style;i.position="absolute";i.visibility="hidden";i.cursor="move";i.border="2px solid #aaa";i.zIndex=999;g.insertBefore(h,g.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(i,j){var k=this.getEl();var h=this.getDragEl();var g=h.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(g.width,10)/2),Math.round(parseInt(g.height,10)/2))}this.setDragElPos(i,j);Ext.fly(h).show()},_resizeProxy:function(){if(this.resizeFrame){var b=this.getEl();Ext.fly(this.getDragEl()).setSize(b.offsetWidth,b.offsetHeight)}},b4MouseDown:function(d){var e=d.getPageX();var g=d.getPageY();this.autoOffset(e,g);this.setDragElPos(e,g)},b4StartDrag:function(d,c){this.showFrame(d,c)},b4EndDrag:function(b){Ext.fly(this.getDragEl()).hide()
},endDrag:function(g){var d=this.getEl();var e=this.getDragEl();e.style.visibility="";this.beforeMove();d.style.visibility="hidden";Ext.dd.DDM.moveToEl(d,e);e.style.visibility="hidden";d.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(c,d){this.el=Ext.get(c);if(!this.dragData){this.dragData={}}Ext.apply(this,d);if(!this.proxy){this.proxy=Ext.create("Ext.dd.StatusProxy",{animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(b){return this.dragData},onDragEnter:function(i,h){var e=Ext.dd.DragDropManager.getDDById(h);this.cachedTarget=e;if(this.beforeDragEnter(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyEnter(this,i,this.dragData);this.proxy.setStatus(g)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(e,i,h)}}},beforeDragEnter:function(d,e,g){return true},alignElWithMouse:function(){this.callParent(arguments);this.proxy.sync()},onDragOver:function(i,h){var e=this.cachedTarget||Ext.dd.DragDropManager.getDDById(h);if(this.beforeDragOver(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyOver(this,i,this.dragData);this.proxy.setStatus(g)}if(this.afterDragOver){this.afterDragOver(e,i,h)}}},beforeDragOver:function(d,e,g){return true},onDragOut:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropManager.getDDById(g);if(this.beforeDragOut(e,d,g)!==false){if(e.isNotifyTarget){e.notifyOut(this,d,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(e,d,g)}}this.cachedTarget=null},beforeDragOut:function(d,e,g){return true},onDragDrop:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropManager.getDDById(g);if(this.beforeDragDrop(e,d,g)!==false){if(e.isNotifyTarget){if(e.notifyDrop(this,d,this.dragData)!==false){this.onValidDrop(e,d,g)}else{this.onInvalidDrop(e,d,g)}}else{this.onValidDrop(e,d,g)}if(this.afterDragDrop){this.afterDragDrop(e,d,g)}}delete this.cachedTarget},beforeDragDrop:function(d,e,g){return true},onValidDrop:function(d,e,g){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(d,e,g)}},getRepairXY:function(c,d){return this.el.getXY()},onInvalidDrop:function(d,e,g){this.beforeInvalidDrop(d,e,g);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,e,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(e,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(e,g)}},afterRepair:function(){var b=this;if(Ext.enableFx){b.el.highlight(b.repairHighlightColor)}b.dragging=false},beforeInvalidDrop:function(d,e,g){return true},handleMouseDown:function(c){if(this.dragging){return}var d=this.getDragData(c);if(d&&this.onBeforeDrag(d,c)!==false){this.dragData=d;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(d,c){return true},onStartDrag:Ext.emptyFn,startDrag:function(d,c){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(d,c);this.proxy.show()},onInitDrag:function(e,g){var d=this.el.dom.cloneNode(true);d.id=Ext.id();this.proxy.update(d);this.onStartDrag(e,g);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(b){},endDrag:function(b){this.onEndDrag(this.dragData,b)},onEndDrag:function(d,c){},autoOffset:function(d,c){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(c,d){this.panel=c;this.dragData={panel:c};this.proxy=Ext.create("Ext.panel.Proxy",c,d);
this.callParent([c.el,d]);Ext.defer(function(){var a=c.header,b=c.body;if(a){this.setHandleElId(a.id);b=a.el}b.setStyle("cursor","move");this.scroll=false},200,this)},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(d,c){this.proxy.show()},b4MouseDown:function(d){var e=d.getPageX(),g=d.getPageY();this.autoOffset(e,g)},onInitDrag:function(d,c){this.onStartDrag(d,c);return true},createFrame:Ext.emptyFn,getDragEl:function(b){return this.proxy.ghost.el.dom},endDrag:function(b){this.proxy.hide();this.panel.saveState()},autoOffset:function(d,c){d-=this.startPageX;c-=this.startPageY;this.setDelta(d,c)}});Ext.define("Ext.layout.component.Dock",{alias:["layout.dock"],extend:"Ext.layout.component.AbstractDock"});Ext.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:false,collapseFirst:true,hideCollapseTool:false,titleCollapse:false,floatable:true,collapsible:false,closable:false,closeAction:"destroy",preventHeader:false,headerPosition:"top",frame:false,frameHeader:true,initComponent:function(){var c=this,d;c.addEvents("beforeclose","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange");this.addStateEvents("expand","collapse");if(c.unstyled){c.setUI("plain")}if(c.frame){c.setUI(c.ui+"-framed")}c.bridgeToolbars();c.callParent();c.collapseDirection=c.collapseDirection||c.headerPosition||Ext.Component.DIRECTION_TOP},setBorder:function(b){this.callParent(arguments)},beforeDestroy:function(){Ext.destroy(this.ghostPanel,this.dd);this.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},initHeaderAria:function(){var d=this,e=d.el,g=d.header;if(e&&g){e.dom.setAttribute("aria-labelledby",g.titleCmp.id)}},getHeader:function(){return this.header},setTitle:function(g){var d=this,e=this.title;d.title=g;if(d.header){d.header.setTitle(g)}else{d.updateHeader()}if(d.reExpander){d.reExpander.setTitle(g)}d.fireEvent("titlechange",d,g,e)},setIconCls:function(g){var i=this,e=i.iconCls;i.iconCls=g;var h=i.header;if(h){h.setIconCls(g)}i.fireEvent("iconchange",i,g,e)},bridgeToolbars:function(){var i=this,j=[],m,h,k=i.minButtonWidth;function l(c,a,b){if(Ext.isArray(c)){c={xtype:"toolbar",items:c}}else{if(!c.xtype){c.xtype="toolbar"}}c.dock=a;if(a=="left"||a=="right"){c.vertical=true}if(b){c.layout=Ext.applyIf(c.layout||{},{pack:{left:"start",center:"center"}[i.buttonAlign]||"end"})}return c}if(i.tbar){j.push(l(i.tbar,"top"));i.tbar=null}if(i.bbar){j.push(l(i.bbar,"bottom"));i.bbar=null}if(i.buttons){i.fbar=i.buttons;i.buttons=null}if(i.fbar){m=l(i.fbar,"bottom",true);m.ui="footer";if(k){h=m.defaults;m.defaults=function(b){var a=h||{};if((!b.xtype||b.xtype==="button"||(b.isComponent&&b.isXType("button")))&&!("minWidth" in a)){a=Ext.apply({minWidth:k},a)}return a}}j.push(m);i.fbar=null}if(i.lbar){j.push(l(i.lbar,"left"));i.lbar=null}if(i.rbar){j.push(l(i.rbar,"right"));i.rbar=null}if(i.dockedItems){if(!Ext.isArray(i.dockedItems)){i.dockedItems=[i.dockedItems]}i.dockedItems=i.dockedItems.concat(j)}else{i.dockedItems=j}},initTools:function(){var b=this;b.tools=b.tools?Ext.Array.clone(b.tools):[];if(b.collapsible&&!(b.hideCollapseTool||b.header===false)){b.collapseDirection=b.collapseDirection||b.headerPosition||"top";b.collapseTool=b.expandTool=b.createComponent({xtype:"tool",type:"collapse-"+b.collapseDirection,expandType:b.getOppositeDirection(b.collapseDirection),handler:b.toggleCollapse,scope:b});if(b.collapseFirst){b.tools.unshift(b.collapseTool)}}b.addTools();if(b.closable){b.addClsWithUI("closable");b.addTool({type:"close",handler:Ext.Function.bind(b.close,this,[])})}if(b.collapseTool&&!b.collapseFirst){b.tools.push(b.collapseTool)}},addTools:Ext.emptyFn,close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},onRender:function(e,g){var h=this,i;
h.initTools();h.updateHeader();h.callParent(arguments)},afterRender:function(){var b=this;b.callParent(arguments);if(b.collapsed){b.collapsed=false;b.collapse(null,false,true)}},updateHeader:function(g){var h=this,i=h.header,j=h.title,k=h.tools;if(!h.preventHeader&&(g||j||(k&&k.length))){if(!i){i=h.header=Ext.create("Ext.panel.Header",{title:j,orientation:(h.headerPosition=="left"||h.headerPosition=="right")?"vertical":"horizontal",dock:h.headerPosition||"top",textCls:h.headerTextCls,iconCls:h.iconCls,baseCls:h.baseCls+"-header",tools:k,ui:h.ui,indicateDrag:h.draggable,border:h.border,frame:h.frame&&h.frameHeader,ignoreParentFrame:h.frame||h.overlapHeader,ignoreBorderManagement:h.frame||h.ignoreHeaderBorderManagement,listeners:h.collapsible&&h.titleCollapse?{click:h.toggleCollapse,scope:h}:null});h.addDocked(i,0);h.tools=i.tools}i.show();h.initHeaderAria()}else{if(i){i.hide()}}},setUI:function(c){var d=this;d.callParent(arguments);if(d.header){d.header.setUI(c)}},getContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},isVisible:function(d){var c=this;if(c.collapsed&&c.placeholder){return c.placeholder.isVisible(d)}return c.callParent(arguments)},onHide:function(){var b=this;if(b.collapsed&&b.placeholder){b.placeholder.hide()}else{b.callParent(arguments)}},onShow:function(){var b=this;if(b.collapsed&&b.placeholder){b.hidden=true;b.placeholder.show()}else{b.callParent(arguments)}},addTool:function(e){var d=this,g=d.header;if(Ext.isArray(e)){Ext.each(e,d.addTool,d);return}d.tools.push(e);if(g){g.addTool(e)}d.updateHeader()},getOppositeDirection:function(d){var c=Ext.Component;switch(d){case c.DIRECTION_TOP:return c.DIRECTION_BOTTOM;case c.DIRECTION_RIGHT:return c.DIRECTION_LEFT;case c.DIRECTION_BOTTOM:return c.DIRECTION_TOP;case c.DIRECTION_LEFT:return c.DIRECTION_RIGHT}},collapse:function(y,L,J){var i=this,z=Ext.Component,I=i.getHeight(),H=i.getWidth(),c,P=0,C=i.dockedItems.items,B=C.length,D=0,A,K,E={from:{height:I,width:H},to:{height:I,width:H},listeners:{afteranimate:i.afterCollapse,scope:i},duration:Ext.Number.from(L,Ext.fx.Anim.prototype.duration)},M,N,G,O,F;if(!y){y=i.collapseDirection}if(J){L=false}else{if(i.collapsed||i.fireEvent("beforecollapse",i,y,L)===false){return false}}G=y;i.expandDirection=i.getOppositeDirection(y);i.hiddenDocked=[];switch(y){case z.DIRECTION_TOP:case z.DIRECTION_BOTTOM:N="horizontal";F="height";O="getHeight";for(;D<B;D++){A=C[D];if(A.isVisible()){if(A.isXType("header",true)&&(!A.dock||A.dock=="top"||A.dock=="bottom")){M=A}else{i.hiddenDocked.push(A)}}else{if(A===i.reExpander){M=A}}}if(y==Ext.Component.DIRECTION_BOTTOM){K=i.getPosition()[1]-Ext.fly(i.el.dom.offsetParent).getRegion().top;E.from.top=K}break;case z.DIRECTION_LEFT:case z.DIRECTION_RIGHT:N="vertical";F="width";O="getWidth";for(;D<B;D++){A=C[D];if(A.isVisible()){if(A.isHeader&&(A.dock=="left"||A.dock=="right")){M=A}else{i.hiddenDocked.push(A)}}else{if(A===i.reExpander){M=A}}}if(y==Ext.Component.DIRECTION_RIGHT){K=i.getPosition()[0]-Ext.fly(i.el.dom.offsetParent).getRegion().left;E.from.left=K}break;default:throw ("Panel collapse must be passed a valid Component collapse direction")}if(L&&i.collapseTool){i.collapseTool.disable()}i.addClsWithUI(i.collapsedCls);if(M&&M.rendered){M.addClsWithUI(i.collapsedCls);M.addClsWithUI(i.collapsedCls+"-"+M.dock);if(i.border&&(!i.frame||(i.frame&&Ext.supports.CSS3BorderRadius))){M.addClsWithUI(i.collapsedCls+"-border-"+M.dock)}c=M.getFrameInfo();P=M[O]()+(c?c[y]:0);M.removeClsWithUI(i.collapsedCls);M.removeClsWithUI(i.collapsedCls+"-"+M.dock);if(i.border&&(!i.frame||(i.frame&&Ext.supports.CSS3BorderRadius))){M.removeClsWithUI(i.collapsedCls+"-border-"+M.dock)}}else{M={hideMode:"offsets",temporary:true,title:i.title,orientation:N,dock:G,textCls:i.headerTextCls,iconCls:i.iconCls,baseCls:i.baseCls+"-header",ui:i.ui,frame:i.frame&&i.frameHeader,ignoreParentFrame:i.frame||i.overlapHeader,indicateDrag:i.draggable,cls:i.baseCls+"-collapsed-placeholder  "+Ext.baseCSSPrefix+"docked "+i.baseCls+"-"+i.ui+"-collapsed",renderTo:i.el};if(!i.hideCollapseTool){M[(M.orientation=="horizontal")?"tools":"items"]=[{xtype:"tool",type:"expand-"+i.expandDirection,handler:i.toggleCollapse,scope:i}]
}M=i.reExpander=Ext.create("Ext.panel.Header",M);P=M[O]()+((M.frame)?M.frameSize[y]:0);M.hide();i.insertDocked(0,M)}i.reExpander=M;i.reExpander.addClsWithUI(i.collapsedCls);i.reExpander.addClsWithUI(i.collapsedCls+"-"+M.dock);if(i.border&&(!i.frame||(i.frame&&Ext.supports.CSS3BorderRadius))){i.reExpander.addClsWithUI(i.collapsedCls+"-border-"+i.reExpander.dock)}if(y==Ext.Component.DIRECTION_RIGHT){E.to.left=K+(H-P)}else{if(y==Ext.Component.DIRECTION_BOTTOM){E.to.top=K+(I-P)}}E.to[F]=P;if(!i.collapseMemento){i.collapseMemento=new Ext.util.Memento(i)}i.collapseMemento.capture(["width","height","minWidth","minHeight","layoutManagedHeight","layoutManagedWidth"]);i.savedFlex=i.flex;i.minWidth=0;i.minHeight=0;delete i.flex;i.suspendLayout=true;if(L){i.animate(E)}else{i.setSize(E.to.width,E.to.height);if(Ext.isDefined(E.to.left)||Ext.isDefined(E.to.top)){i.setPosition(E.to.left,E.to.top)}i.afterCollapse(false,J)}return i},afterCollapse:function(i,g){var j=this,k=0,h=j.hiddenDocked.length;j.collapseMemento.restore(["minWidth","minHeight"]);if(Ext.Component.VERTICAL_DIRECTION_Re.test(j.expandDirection)){j.layoutManagedHeight=2;j.collapseMemento.restore("width",false)}else{j.layoutManagedWidth=2;j.collapseMemento.restore("height",false)}j.saveScrollTop=j.body.dom.scrollTop;j.body.setStyle("display","none");for(;k<h;k++){j.hiddenDocked[k].hide()}if(j.reExpander){j.reExpander.updateFrame();j.reExpander.show()}j.collapsed=true;j.suspendLayout=false;if(!g){if(j.ownerCt){if(i){j.ownerCt.layout.layout()}}else{if(j.reExpander.temporary){j.doComponentLayout()}}}if(j.resizer){j.resizer.disable()}if(j.collapseTool){j.collapseTool.setType("expand-"+j.expandDirection)}if(!g){j.fireEvent("collapse",j)}if(i&&j.collapseTool){j.collapseTool.enable()}},expand:function(s){var n=this;if(!n.collapsed||n.fireEvent("beforeexpand",n,s)===false){return false}var p=0,r=n.hiddenDocked.length,l=n.expandDirection,i=n.getHeight(),t=n.getWidth(),m,q;if(s&&n.collapseTool){n.collapseTool.disable()}for(;p<r;p++){n.hiddenDocked[p].hidden=false;n.hiddenDocked[p].el.show()}if(n.reExpander){if(n.reExpander.temporary){n.reExpander.hide()}else{n.reExpander.removeClsWithUI(n.collapsedCls);n.reExpander.removeClsWithUI(n.collapsedCls+"-"+n.reExpander.dock);if(n.border&&(!n.frame||(n.frame&&Ext.supports.CSS3BorderRadius))){n.reExpander.removeClsWithUI(n.collapsedCls+"-border-"+n.reExpander.dock)}n.reExpander.updateFrame()}}if(n.collapseTool){n.collapseTool.setType("collapse-"+n.collapseDirection)}n.body.setStyle("display","");n.body.dom.scrollTop=n.saveScrollTop;n.collapsed=false;n.removeClsWithUI(n.collapsedCls);q={to:{},from:{height:i,width:t},listeners:{afteranimate:n.afterExpand,scope:n}};if((l==Ext.Component.DIRECTION_TOP)||(l==Ext.Component.DIRECTION_BOTTOM)){n.collapseMemento.restore("height",false);if(n.height===undefined){n.setCalculatedSize(n.width,null);q.to.height=n.getHeight();n.setCalculatedSize(n.width,q.from.height)}else{if(n.savedFlex){n.flex=n.savedFlex;q.to.height=n.ownerCt.layout.calculateChildBox(n).height;delete n.flex}else{q.to.height=n.height}}if(l==Ext.Component.DIRECTION_TOP){m=n.getPosition()[1]-Ext.fly(n.el.dom.offsetParent).getRegion().top;q.from.top=m;q.to.top=m-(q.to.height-i)}}else{if((l==Ext.Component.DIRECTION_LEFT)||(l==Ext.Component.DIRECTION_RIGHT)){n.collapseMemento.restore("width",false);if(n.width===undefined){n.setCalculatedSize(null,n.height);q.to.width=n.getWidth();n.setCalculatedSize(q.from.width,n.height)}else{if(n.savedFlex){n.flex=n.savedFlex;q.to.width=n.ownerCt.layout.calculateChildBox(n).width;delete n.flex}else{q.to.width=n.width}}if(l==Ext.Component.DIRECTION_LEFT){m=n.getPosition()[0]-Ext.fly(n.el.dom.offsetParent).getRegion().left;q.from.left=m;q.to.left=m-(q.to.width-t)}}}if(s){n.animate(q)}else{n.setCalculatedSize(q.to.width,q.to.height);if(q.to.x){n.setLeft(q.to.x)}if(q.to.y){n.setTop(q.to.y)}n.afterExpand(false)}return n},afterExpand:function(c){var d=this;if(d.savedFlex){d.flex=d.savedFlex;delete d.savedFlex;delete d.width;delete d.height}if(d.collapseMemento){d.collapseMemento.restoreAll()}if(c&&d.ownerCt){Ext.defer(d.ownerCt.doLayout,Ext.isIE6?1:0,d)
}if(d.resizer){d.resizer.enable()}d.fireEvent("expand",d);if(c&&d.collapseTool){d.collapseTool.enable()}},toggleCollapse:function(){if(this.collapsed){this.expand(this.animCollapse)}else{this.collapse(this.collapseDirection,this.animCollapse)}return this},getKeyMap:function(){if(!this.keyMap){this.keyMap=Ext.create("Ext.util.KeyMap",this.el,this.keys)}return this.keyMap},initDraggable:function(){this.dd=Ext.create("Ext.panel.DD",this,Ext.isBoolean(this.draggable)?null:this.draggable)},ghostTools:function(){var c=[],d=this.header.query("tool[hidden=false]");if(d.length){Ext.each(d,function(a){c.push({type:a.type})})}else{c=[{type:"placeholder"}]}return c},ghost:function(h){var j=this,g=j.ghostPanel,k=j.getBox(),i;if(!g){g=Ext.create("Ext.panel.Panel",{renderTo:j.floating?j.el.dom.parentNode:document.body,floating:{shadow:false},frame:Ext.supports.CSS3BorderRadius?j.frame:false,overlapHeader:j.overlapHeader,headerPosition:j.headerPosition,baseCls:j.baseCls,cls:j.baseCls+"-ghost "+(h||"")});j.ghostPanel=g}g.floatParent=j.floatParent;if(j.floating){g.setZIndex(Ext.Number.from(j.el.getStyle("zIndex"),0))}else{g.toFront()}i=g.header;if(i){i.suspendLayout=true;Ext.Array.forEach(i.query("tool"),function(a){i.remove(a)});i.suspendLayout=false}g.addTool(j.ghostTools());g.setTitle(j.title);g.setIconCls(j.iconCls);g.el.show();g.setPosition(k.x,k.y);g.setSize(k.width,k.height);j.el.hide();if(j.floatingItems){j.floatingItems.hide()}return g},unghost:function(d,e){var g=this;if(!g.ghostPanel){return}if(d!==false){g.el.show();if(e!==false){g.setPosition(g.ghostPanel.getPosition())}if(g.floatingItems){g.floatingItems.show()}Ext.defer(g.focus,10,g)}g.ghostPanel.el.hide()},initResizable:function(b){if(this.collapsed){b.disabled=true}this.callParent([b])}},function(){this.prototype.animCollapse=Ext.enableFx});Ext.define("Ext.layout.component.Tip",{alias:["layout.tip"],extend:"Ext.layout.component.Dock",type:"tip",onLayout:function(u,m){var p=this,t=p.owner,s=t.el,v,n,q,r,l=s.getXY();s.setXY([-9999,-9999]);this.callParent(arguments);if(!Ext.isNumber(u)){v=t.minWidth;n=t.maxWidth;if(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)){r=p.doAutoWidth()}else{q=s.getWidth()}if(q<v){r=v}else{if(q>n){r=n}}if(r){this.callParent([r,m])}}s.setXY(l)},doAutoWidth:function(){var h=this,e=h.owner,g=e.body,i=g.getTextWidth();if(e.header){i=Math.max(i,e.header.getWidth())}if(!Ext.isDefined(h.frameWidth)){h.frameWidth=e.el.getWidth()-g.getWidth()}i+=h.frameWidth+g.getPadding("lr");return i}});Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",requires:["Ext.layout.component.Tip"],alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,frame:false,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true,constrain:true},focusOnToFront:false,componentLayout:"tip",closeAction:"hide",ariaRole:"tooltip",initComponent:function(){var b=this;b.floating=Ext.apply({},{shadow:b.shadow},b.self.prototype.floating);b.callParent(arguments);b.constrain=b.constrain||b.constrainPosition},showAt:function(c){var d=this;this.callParent(arguments);if(d.isVisible()){d.setPagePosition(c[0],c[1]);if(d.constrainPosition||d.constrain){d.doConstrain()}d.toFront(true)}},showBy:function(d,c){this.showAt(this.el.getAlignToXY(d,c||this.defaultAlign))},initDraggable:function(){var b=this;b.draggable={el:b.getDragEl(),delegate:b.header.el,constrain:b,constrainTo:b.el.getScopeParent()};Ext.Component.prototype.initDraggable.call(b)},ghost:undefined,unghost:undefined});Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var b=this;b.callParent(arguments);b.lastActive=new Date();b.setTarget(b.target);b.origAnchor=b.anchor},onRender:function(d,e){var g=this;g.callParent(arguments);g.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+g.getAnchorPosition();g.anchorEl=g.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+g.anchorCls})
},afterRender:function(){var d=this,c;d.callParent(arguments);c=parseInt(d.el.getZIndex(),10)||0;d.anchorEl.setStyle("z-index",c+1).setVisibilityMode(Ext.Element.DISPLAY)},setTarget:function(h){var e=this,g=Ext.get(h),i;if(e.target){i=Ext.get(e.target);e.mun(i,"mouseover",e.onTargetOver,e);e.mun(i,"mouseout",e.onTargetOut,e);e.mun(i,"mousemove",e.onMouseMove,e)}e.target=g;if(g){e.mon(g,{freezeEvent:true,mouseover:e.onTargetOver,mouseout:e.onTargetOut,mousemove:e.onMouseMove,scope:e})}if(e.anchor){e.anchorTarget=e.target}},onMouseMove:function(h){var e=this,g=e.delegate?h.getTarget(e.delegate):e.triggerElement=true,i;if(g){e.targetXY=h.getXY();if(g===e.triggerElement){if(!e.hidden&&e.trackMouse){i=e.getTargetXY();if(e.constrainPosition){i=e.el.adjustForConstraints(i,e.el.getScopeParent())}e.setPagePosition(i)}}else{e.hide();e.lastActive=new Date(0);e.onTargetOver(h)}}else{if((!e.closable&&e.isVisible())&&e.autoHide!==false){e.hide()}}},getTargetXY:function(){var t=this,y;if(t.delegate){t.anchorTarget=t.triggerElement}if(t.anchor){t.targetCounter++;var z=t.getOffsets(),p=(t.anchorToTarget&&!t.trackMouse)?t.el.getAlignToXY(t.anchorTarget,t.getAnchorAlign()):t.targetXY,B=Ext.Element.getViewWidth()-5,u=Ext.Element.getViewHeight()-5,r=document.documentElement,x=document.body,q=(r.scrollLeft||x.scrollLeft||0)+5,s=(r.scrollTop||x.scrollTop||0)+5,A=[p[0]+z[0],p[1]+z[1]],v=t.getSize(),w=t.constrainPosition;t.anchorEl.removeCls(t.anchorCls);if(t.targetCounter<2&&w){if(A[0]<q){if(t.anchorToTarget){t.defaultAlign="l-r";if(t.mouseOffset){t.mouseOffset[0]*=-1}}t.anchor="left";return t.getTargetXY()}if(A[0]+v.width>B){if(t.anchorToTarget){t.defaultAlign="r-l";if(t.mouseOffset){t.mouseOffset[0]*=-1}}t.anchor="right";return t.getTargetXY()}if(A[1]<s){if(t.anchorToTarget){t.defaultAlign="t-b";if(t.mouseOffset){t.mouseOffset[1]*=-1}}t.anchor="top";return t.getTargetXY()}if(A[1]+v.height>u){if(t.anchorToTarget){t.defaultAlign="b-t";if(t.mouseOffset){t.mouseOffset[1]*=-1}}t.anchor="bottom";return t.getTargetXY()}}t.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+t.getAnchorPosition();t.anchorEl.addCls(t.anchorCls);t.targetCounter=0;return A}else{y=t.getMouseOffset();return(t.targetXY)?[t.targetXY[0]+y[0],t.targetXY[1]+y[1]]:y}},getMouseOffset:function(){var d=this,c=d.anchor?[0,0]:[15,18];if(d.mouseOffset){c[0]+=d.mouseOffset[0];c[1]+=d.mouseOffset[1]}return c},getAnchorPosition:function(){var c=this,d;if(c.anchor){c.tipAnchor=c.anchor.charAt(0)}else{d=c.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);c.tipAnchor=d[1].charAt(0)}switch(c.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var i=this,h,e,g=i.getAnchorPosition().charAt(0);if(i.anchorToTarget&&!i.trackMouse){switch(g){case"t":e=[0,9];break;case"b":e=[0,-13];break;case"r":e=[-13,0];break;default:e=[9,0];break}}else{switch(g){case"t":e=[-15-i.anchorOffset,30];break;case"b":e=[-19-i.anchorOffset,-13-i.el.dom.offsetHeight];break;case"r":e=[-15-i.el.dom.offsetWidth,-13-i.anchorOffset];break;default:e=[25,-13-i.anchorOffset];break}}h=i.getMouseOffset();e[0]+=h[0];e[1]+=h[1];return e},onTargetOver:function(g){var d=this,e;if(d.disabled||g.within(d.target.dom,true)){return}e=g.getTarget(d.delegate);if(e){d.triggerElement=e;d.clearTimer("hide");d.targetXY=g.getXY();d.delayShow()}},delayShow:function(){var b=this;if(b.hidden&&!b.showTimer){if(Ext.Date.getElapsed(b.lastActive)<b.quickShowInterval){b.show()}else{b.showTimer=Ext.defer(b.show,b.showDelay,b)}}else{if(!b.hidden&&b.autoHide!==false){b.show()}}},onTargetOut:function(c){var d=this;if(d.disabled||c.within(d.target.dom,true)){return}d.clearTimer("show");if(d.autoHide!==false){d.delayHide()}},delayHide:function(){var b=this;if(!b.hidden&&!b.hideTimer){b.hideTimer=Ext.defer(b.hide,b.hideDelay,b)}},hide:function(){var b=this;b.clearTimer("dismiss");b.lastActive=new Date();if(b.anchorEl){b.anchorEl.hide()}b.callParent(arguments);delete b.triggerElement
},show:function(){var b=this;this.callParent();if(this.hidden===false){b.setPagePosition(-10000,-10000);if(b.anchor){b.anchor=b.origAnchor}b.showAt(b.getTargetXY());if(b.anchor){b.syncAnchor();b.anchorEl.show()}else{b.anchorEl.hide()}}},showAt:function(c){var d=this;d.lastActive=new Date();d.clearTimers();if(!d.isVisible()){this.callParent(arguments)}if(d.isVisible()){d.setPagePosition(c[0],c[1]);if(d.constrainPosition||d.constrain){d.doConstrain()}d.toFront(true)}if(d.dismissDelay&&d.autoHide!==false){d.dismissTimer=Ext.defer(d.hide,d.dismissDelay,d)}if(d.anchor){d.syncAnchor();if(!d.anchorEl.isVisible()){d.anchorEl.show()}}else{d.anchorEl.hide()}},syncAnchor:function(){var i=this,g,e,h;switch(i.tipAnchor.charAt(0)){case"t":g="b";e="tl";h=[20+i.anchorOffset,1];break;case"r":g="l";e="tr";h=[-1,12+i.anchorOffset];break;case"b":g="t";e="bl";h=[20+i.anchorOffset,-1];break;default:g="r";e="tl";h=[1,12+i.anchorOffset];break}i.anchorEl.alignTo(i.el,g+"-"+e,h)},setPagePosition:function(e,g){var d=this;d.callParent(arguments);if(d.anchor){d.syncAnchor()}},clearTimer:function(b){b=b+"Timer";clearTimeout(this[b]);delete this[b]},clearTimers:function(){var b=this;b.clearTimer("show");b.clearTimer("dismiss");b.clearTimer("hide")},onShow:function(){var b=this;b.callParent();b.mon(Ext.getDoc(),"mousedown",b.onDocMouseDown,b)},onHide:function(){var b=this;b.callParent();b.mun(Ext.getDoc(),"mousedown",b.onDocMouseDown,b)},onDocMouseDown:function(c){var d=this;if(d.autoHide!==true&&!d.closable&&!c.within(d.el.dom)){d.disable();Ext.defer(d.doEnable,100,d)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var b=this;b.clearTimers();Ext.destroy(b.anchorEl);delete b.anchorEl;delete b.target;delete b.anchorTarget;delete b.triggerElement;b.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){var b=this;b.target=b.target||Ext.getDoc();b.targets=b.targets||{};b.callParent()},register:function(p){var k=Ext.isArray(p)?p:arguments,n=0,j=k.length,l,i,m;for(;n<j;n++){p=k[n];l=p.target;if(l){if(Ext.isArray(l)){for(i=0,m=l.length;i<m;i++){this.targets[Ext.id(l[i])]=p}}else{this.targets[Ext.id(l)]=p}}}},unregister:function(b){delete this.targets[Ext.id(b)]},cancelShow:function(e){var d=this,g=d.activeTarget;e=Ext.get(e).dom;if(d.isVisible()){if(g&&g.el==e){d.hide()}}else{if(g&&g.el==e){d.clearTimer("show")}}},getTipCfg:function(h){var i=h.getTarget(),e=i.title,g;if(this.interceptTitles&&e&&Ext.isString(e)){i.qtip=e;i.removeAttribute("title");h.preventDefault();return{text:e}}else{g=this.tagConfig;i=h.getTarget("["+g.namespace+g.attribute+"]");if(i){return{target:i,text:i.getAttribute(g.namespace+g.attribute)}}}},onTargetOver:function(m){var p=this,n=m.getTarget(),l,r,q,e,k;if(p.disabled){return}p.targetXY=m.getXY();if(!n||n.nodeType!==1||n==document||n==document.body){return}if(p.activeTarget&&((n==p.activeTarget.el)||Ext.fly(p.activeTarget.el).contains(n))){p.clearTimer("hide");p.show();return}if(n){Ext.Object.each(p.targets,function(c,b){var a=Ext.fly(b.target);if(a&&(a.dom===n||a.contains(n))){l=a.dom;return false}});if(l){p.activeTarget=p.targets[l.id];p.activeTarget.el=n;p.anchor=p.activeTarget.anchor;if(p.anchor){p.anchorTarget=n}p.delayShow();return}}l=Ext.get(n);r=p.tagConfig;q=r.namespace;e=p.getTipCfg(m);if(e){if(e.target){n=e.target;l=Ext.get(n)}k=l.getAttribute(q+r.hide);p.activeTarget={el:n,text:e.text,width:+l.getAttribute(q+r.width)||null,autoHide:k!="user"&&k!=="false",title:l.getAttribute(q+r.title),cls:l.getAttribute(q+r.cls),align:l.getAttribute(q+r.align)};p.anchor=l.getAttribute(q+r.anchor);if(p.anchor){p.anchorTarget=n}p.delayShow()}},onTargetOut:function(c){var d=this;if(d.activeTarget&&c.within(d.activeTarget.el)&&!d.getTipCfg(c)){return
}d.clearTimer("show");if(d.autoHide!==false){d.delayHide()}},showAt:function(g){var e=this,d=e.activeTarget;if(d){if(!e.rendered){e.render(Ext.getBody());e.activeTarget=d}if(d.title){e.setTitle(d.title||"");e.header.show()}else{e.header.hide()}e.body.update(d.text);e.autoHide=d.autoHide;e.dismissDelay=d.dismissDelay||e.dismissDelay;if(e.lastCls){e.el.removeCls(e.lastCls);delete e.lastCls}if(d.cls){e.el.addCls(d.cls);e.lastCls=d.cls}e.setWidth(d.width);if(e.anchor){e.constrainPosition=false}else{if(d.align){g=e.el.getAlignToXY(d.el,d.align);e.constrainPosition=false}else{e.constrainPosition=true}}}e.callParent([g])},hide:function(){delete this.activeTarget;this.callParent()}});Ext.define("Ext.tip.QuickTipManager",function(){var c,d=false;return{requires:["Ext.tip.QuickTip"],singleton:true,alternateClassName:"Ext.QuickTips",init:function(b,j){if(!c){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(b)});return}var k=Ext.apply({disabled:d},j),i=k.className,a=k.xtype;if(i){delete k.className}else{if(a){i="widget."+a;delete k.xtype}}if(b!==false){k.renderTo=document.body}c=Ext.create(i||"Ext.tip.QuickTip",k)}},destroy:function(){if(c){var a;c.destroy();c=a}},ddDisable:function(){if(c&&!d){c.disable()}},ddEnable:function(){if(c&&!d){c.enable()}},enable:function(){if(c){c.enable()}d=false},disable:function(){if(c){c.disable()}d=true},isEnabled:function(){return c!==undefined&&!c.disabled},getQuickTip:function(){return c},register:function(){c.register.apply(c,arguments)},unregister:function(){c.unregister.apply(c,arguments)},tips:function(){c.register.apply(c,arguments)}}}());Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.ModelManager","Ext.data.Model","Ext.data.StoreManager","Ext.tip.QuickTipManager","Ext.ComponentManager","Ext.app.EventBus"],scope:undefined,enableQuickTips:true,appFolder:"app",autoCreateViewport:false,constructor:function(h){h=h||{};Ext.apply(this,h);var l=h.requires||[];Ext.Loader.setPath(this.name,this.appFolder);if(this.paths){Ext.Object.each(this.paths,function(b,a){Ext.Loader.setPath(b,a)})}this.callParent(arguments);this.eventbus=Ext.create("Ext.app.EventBus");var j=Ext.Array.from(this.controllers),k=j&&j.length,m,i;this.controllers=Ext.create("Ext.util.MixedCollection");if(this.autoCreateViewport){l.push(this.getModuleClassName("Viewport","view"))}for(m=0;m<k;m++){l.push(this.getModuleClassName(j[m],"controller"))}Ext.require(l);Ext.onReady(function(){for(m=0;m<k;m++){i=this.getController(j[m]);i.init(this)}this.onBeforeLaunch.call(this)},this)},control:function(d,g,e){this.eventbus.control(d,g,e)},launch:Ext.emptyFn,onBeforeLaunch:function(){if(this.enableQuickTips){Ext.tip.QuickTipManager.init()}if(this.autoCreateViewport){this.getView("Viewport").create()}this.launch.call(this.scope||this);this.launched=true;this.fireEvent("launch",this);this.controllers.each(function(b){b.onLaunch(this)},this)},getModuleClassName:function(e,g){var d=Ext.Loader.getPrefix(e);if(d.length>0&&d!==e){return e}return this.name+"."+g+"."+e},getController:function(c){var d=this.controllers.get(c);if(!d){d=Ext.create(this.getModuleClassName(c,"controller"),{application:this,id:c});this.controllers.add(d)}return d},getStore:function(c){var d=Ext.StoreManager.get(c);if(!d){d=Ext.create(this.getModuleClassName(c,"store"),{storeId:c})}return d},getModel:function(b){b=this.getModuleClassName(b,"model");return Ext.ModelManager.getModel(b)},getView:function(b){b=this.getModuleClassName(b,"view");return Ext.ClassManager.get(b)}});Ext.define("Ext.chart.Callout",{constructor:function(b){if(b.callouts){b.callouts.styles=Ext.applyIf(b.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"});this.callouts=Ext.apply(this.callouts||{},b.callouts);this.calloutsArray=[]}},renderCallouts:function(){if(!this.callouts){return}var i=this,C=i.items,L=i.chart.animate,j=i.callouts,F=j.styles,H=i.calloutsArray,K=i.chart.store,x=K.getCount(),I=C.length/x,D=[],y,J,z,B;for(y=0,J=0;y<x;y++){for(z=0;z<I;z++){var p=C[J],G=H[J],E=K.getAt(y),A;A=j.filter(E);if(!A&&!G){J++;continue}if(!G){H[J]=G=i.onCreateCallout(E,p,y,A,z,J)
}for(B in G){if(G[B]&&G[B].setAttributes){G[B].setAttributes(F,true)}}if(!A){for(B in G){if(G[B]){if(G[B].setAttributes){G[B].setAttributes({hidden:true},true)}else{if(G[B].setVisible){G[B].setVisible(false)}}}}}j.renderer(G,E);i.onPlaceCallout(G,E,p,y,A,L,z,J,D);D.push(G);J++}}this.hideCallouts(J)},onCreateCallout:function(w,q,x,u){var t=this,s=t.calloutsGroup,y=t.callouts,i=y.styles,z=i.width,r=i.height,v=t.chart,A=v.surface,B={lines:false};B.lines=A.add(Ext.apply({},{type:"path",path:"M0,0",stroke:t.getLegendColor()||"#555"},i));if(y.items){B.panel=Ext.create("widget.panel",{style:"position: absolute;",width:z,height:r,items:y.items,renderTo:v.el})}return B},hideCallouts:function(g){var j=this.calloutsArray,h=j.length,i,k;while(h-->g){i=j[h];for(k in i){if(i[k]){i[k].hide(true)}}}}});Ext.define("Ext.draw.CompositeSprite",{extend:"Ext.util.MixedCollection",mixins:{animate:"Ext.util.Animate"},isCompositeSprite:true,constructor:function(d){var c=this;d=d||{};Ext.apply(c,d);c.addEvents("mousedown","mouseup","mouseover","mouseout","click");c.id=Ext.id(null,"ext-sprite-group-");c.callParent()},onClick:function(b){this.fireEvent("click",b)},onMouseUp:function(b){this.fireEvent("mouseup",b)},onMouseDown:function(b){this.fireEvent("mousedown",b)},onMouseOver:function(b){this.fireEvent("mouseover",b)},onMouseOut:function(b){this.fireEvent("mouseout",b)},attachEvents:function(c){var d=this;c.on({scope:d,mousedown:d.onMouseDown,mouseup:d.onMouseUp,mouseover:d.onMouseOver,mouseout:d.onMouseOut,click:d.onClick})},add:function(d,g){var e=this.callParent(arguments);this.attachEvents(e);return e},insert:function(e,d,g){return this.callParent(arguments)},remove:function(c){var d=this;c.un({scope:d,mousedown:d.onMouseDown,mouseup:d.onMouseUp,mouseover:d.onMouseOver,mouseout:d.onMouseOut,click:d.onClick});return d.callParent(arguments)},getBBox:function(){var v=0,i,s,r=this.items,u=this.length,t=Infinity,x=t,p=-t,y=t,q=-t,w,z;for(;v<u;v++){i=r[v];if(i.el){s=i.getBBox();x=Math.min(x,s.x);y=Math.min(y,s.y);p=Math.max(p,s.height+s.y);q=Math.max(q,s.width+s.x)}}return{x:x,y:y,height:p-y,width:q-x}},setAttributes:function(k,i){var j=0,g=this.items,h=this.length;for(;j<h;j++){g[j].setAttributes(k,i)}return this},hide:function(h){var i=0,e=this.items,g=this.length;for(;i<g;i++){e[i].hide(h)}return this},show:function(h){var i=0,e=this.items,g=this.length;for(;i<g;i++){e[i].show(h)}return this},redraw:function(){var i=this,j=0,k=i.items,g=i.getSurface(),h=i.length;if(g){for(;j<h;j++){g.renderItem(k[j])}}return i},setStyle:function(j){var m=0,h=this.items,i=this.length,k,l;for(;m<i;m++){k=h[m];l=k.el;if(l){l.setStyle(j)}}},addCls:function(i){var j=0,k=this.items,g=this.getSurface(),h=this.length;if(g){for(;j<h;j++){g.addCls(k[j],i)}}},removeCls:function(i){var j=0,k=this.items,g=this.getSurface(),h=this.length;if(g){for(;j<h;j++){g.removeCls(k[j],i)}}},getSurface:function(){var b=this.first();if(b){return b.surface}return null},destroy:function(){var g=this,e=g.getSurface(),d;if(e){while(g.getCount()>0){d=g.first();g.remove(d);e.remove(d)}}g.clearListeners()}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",onLayout:function(c,d){this.setTargetSize(c,d)}});Ext.define("Ext.chart.theme.Theme",{requires:["Ext.draw.Color"],theme:"Base",themeAttrs:false,initTheme:function(i){var j=this,g=Ext.chart.theme,k,h;if(i){i=i.split(":");for(k in g){if(k==i[0]){h=i[1]=="gradients";j.themeAttrs=new g[k]({useGradients:h});if(h){j.gradients=j.themeAttrs.gradients}if(j.themeAttrs.background){j.background=j.themeAttrs.background}return}}}}},function(){(function(){Ext.chart.theme=function(B,C){B=B||{};var v=0,x,D,w,l,i,z,t,s,u=[],A,y;if(B.baseColor){A=Ext.draw.Color.fromString(B.baseColor);y=A.getHSL()[2];if(y<0.15){A=A.getLighter(0.3)}else{if(y<0.3){A=A.getLighter(0.15)}else{if(y>0.85){A=A.getDarker(0.3)}else{if(y>0.7){A=A.getDarker(0.15)}}}}B.colors=[A.getDarker(0.3).toString(),A.getDarker(0.15).toString(),A.toString(),A.getLighter(0.15).toString(),A.getLighter(0.3).toString()];delete B.baseColor
}if(B.colors){D=B.colors.slice();i=C.markerThemes;l=C.seriesThemes;x=D.length;C.colors=D;for(;v<x;v++){w=D[v];t=i[v]||{};z=l[v]||{};t.fill=z.fill=t.stroke=z.stroke=w;i[v]=t;l[v]=z}C.markerThemes=i.slice(0,x);C.seriesThemes=l.slice(0,x)}for(s in C){if(s in B){if(Ext.isObject(B[s])&&Ext.isObject(C[s])){Ext.apply(C[s],B[s])}else{C[s]=B[s]}}}if(B.useGradients){D=C.colors||(function(){var a=[];for(v=0,l=C.seriesThemes,x=l.length;v<x;v++){a.push(l[v].fill||l[v].stroke)}return a})();for(v=0,x=D.length;v<x;v++){A=Ext.draw.Color.fromString(D[v]);if(A){w=A.getDarker(0.1).toString();A=A.toString();s="theme-"+A.substr(1)+"-"+w.substr(1);u.push({id:s,angle:45,stops:{0:{color:A.toString()},100:{color:w.toString()}}});D[v]="url(#"+s+")"}}C.gradients=u;C.colors=D}Ext.apply(this,C)}})()});Ext.define("Ext.chart.Mask",{require:["Ext.chart.MaskLayer"],constructor:function(d){var c=this;c.addEvents("select");if(d){Ext.apply(c,d)}if(c.mask){c.on("afterrender",function(){var b=Ext.create("Ext.chart.MaskLayer",{renderTo:c.el});b.el.on({mousemove:function(e){c.onMouseMove(e)},mouseup:function(e){c.resized(e)}});var a=Ext.create("Ext.resizer.Resizer",{el:b.el,handles:"all",pinned:true});a.on({resize:function(e){c.resized(e)}});b.initDraggable();c.maskType=c.mask;c.mask=b;c.maskSprite=c.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:0.7,hidden:true,stroke:"#444"})},c,{single:true})}},resized:function(w){var v=this,q=v.bbox||v.chartBBox,s=q.x,t=q.y,z=q.width,p=q.height,x=v.mask.getBox(true),u=Math.max,y=Math.min,e=x.x-s,r=x.y-t;e=u(e,s);r=u(r,t);e=y(e,z);r=y(r,p);x.x=e;x.y=r;v.fireEvent("select",v,x)},onMouseUp:function(i){var g=this,h=g.bbox||g.chartBBox,e=g.maskSelection;g.maskMouseDown=false;g.mouseDown=false;if(g.mouseMoved){g.onMouseMove(i);g.mouseMoved=false;g.fireEvent("select",g,{x:e.x-h.x,y:e.y-h.y,width:e.width,height:e.height})}},onMouseDown:function(c){var d=this;d.mouseDown=true;d.mouseMoved=false;d.maskMouseDown={x:c.getPageX()-d.el.getX(),y:c.getPageY()-d.el.getY()}},onMouseMove:function(w){var e=this,B=e.maskType,N=e.bbox||e.chartBBox,H=N.x,I=N.y,M=Math,z=M.floor,G=M.abs,C=M.min,A=M.max,F=z(I+N.height),D=z(H+N.width),K=w.getPageX(),L=w.getPageY(),x=K-e.el.getX(),y=L-e.el.getY(),J=e.maskMouseDown,E;e.mouseMoved=e.mouseDown;x=A(x,H);y=A(y,I);x=C(x,D);y=C(y,F);if(J&&e.mouseDown){if(B=="horizontal"){y=I;J.y=F;L=e.el.getY()+N.height+e.insetPadding}else{if(B=="vertical"){x=H;J.x=D}}D=J.x-x;F=J.y-y;E=["M",x,y,"l",D,0,0,F,-D,0,"z"];e.maskSelection={x:D>0?x:x+D,y:F>0?y:y+F,width:G(D),height:G(F)};e.mask.updateBox(e.maskSelection);e.mask.show();e.maskSprite.setAttributes({hidden:true},true)}else{if(B=="horizontal"){E=["M",x,I,"L",x,F]}else{if(B=="vertical"){E=["M",H,y,"L",D,y]}else{E=["M",x,I,"L",x,F,"M",H,y,"L",D,y]}}e.maskSprite.setAttributes({path:E,fill:e.maskMouseDown?e.maskSprite.stroke:false,"stroke-width":B===true?1:3,hidden:false},true)}},onMouseLeave:function(c){var d=this;d.mouseMoved=false;d.mouseDown=false;d.maskMouseDown=false;d.mask.hide();d.maskSprite.hide(true)}});Ext.define("Ext.chart.Navigation",{constructor:function(){this.originalStore=this.store},setZoom:function(j){var p=this,l=p.axes,k=p.chartBBox,m=1/k.width,i=1/k.height,n={x:j.x*m,y:j.y*i,width:j.width*m,height:j.height*i};l.each(function(c){var d=c.calcEnds();if(c.position=="bottom"||c.position=="top"){var a=(d.to-d.from)*n.x+d.from,b=(d.to-d.from)*n.width+a;c.minimum=a;c.maximum=b}else{var b=(d.to-d.from)*(1-n.y)+d.from,a=b-(d.to-d.from)*n.height;c.minimum=a;c.maximum=b}});p.redraw(false)},restoreZoom:function(){this.store=this.substore=this.originalStore;this.redraw(true)}});Ext.define("Ext.chart.Shape",{singleton:true,circle:function(d,c){return d.add(Ext.apply({type:"circle",x:c.x,y:c.y,stroke:null,radius:c.radius},c))},line:function(d,c){return d.add(Ext.apply({type:"rect",x:c.x-c.radius,y:c.y-c.radius,height:2*c.radius,width:2*c.radius/5},c))},square:function(d,c){return d.add(Ext.applyIf({type:"rect",x:c.x-c.radius,y:c.y-c.radius,height:2*c.radius,width:2*c.radius,radius:null},c))},triangle:function(d,c){c.radius*=1.75;return d.add(Ext.apply({type:"path",stroke:null,path:"M".concat(c.x,",",c.y,"m0-",c.radius*0.58,"l",c.radius*0.5,",",c.radius*0.87,"-",c.radius,",0z")},c))
},diamond:function(e,g){var d=g.radius;d*=1.5;return e.add(Ext.apply({type:"path",stroke:null,path:["M",g.x,g.y-d,"l",d,d,-d,d,-d,-d,d,-d,"z"]},g))},cross:function(e,g){var d=g.radius;d=d/1.7;return e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(g.x-d,",",g.y,"l",[-d,-d,d,-d,d,d,d,-d,d,d,-d,d,d,d,-d,d,-d,-d,-d,d,-d,-d,"z"])},g))},plus:function(e,g){var d=g.radius/1.3;return e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(g.x-d/2,",",g.y-d/2,"l",[0,-d,d,0,0,d,d,0,0,d,-d,0,0,d,-d,0,0,-d,-d,0,0,-d,"z"])},g))},arrow:function(e,g){var d=g.radius;return e.add(Ext.apply({type:"path",path:"M".concat(g.x-d*0.7,",",g.y-d*0.4,"l",[d*0.6,0,0,-d*0.4,d,d*0.8,-d,d*0.8,0,-d*0.4,-d*0.6,0],"z")},g))},drop:function(h,i,j,k,m,l){m=m||30;l=l||0;h.add({type:"path",path:["M",i,j,"l",m,0,"A",m*0.4,m*0.4,0,1,0,i+m*0.7,j-m*0.7,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-l,x:i,y:j}});l=(l+90)*Math.PI/180;h.add({type:"text",x:i+m*Math.sin(l)-10,y:j+m*Math.cos(l)+5,text:k,"font-size":m*12/40,stroke:"none",fill:"#fff"})}});Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.CompositeSprite"],uses:["Ext.draw.engine.Svg","Ext.draw.engine.Vml"],separatorRe:/[, ]+/,statics:{create:function(g,j){j=j||["Svg","Vml"];var k=0,h=j.length,i;for(;k<h;k++){if(Ext.supports[j[k]]){return Ext.create("Ext.draw.engine."+j[k],g)}}return false}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:false,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:undefined,height:352,width:512,x:0,y:0,orderSpritesByZIndex:true,constructor:function(d){var c=this;d=d||{};Ext.apply(c,d);c.domRef=Ext.getDoc().dom;c.customAttributes={};c.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click");c.mixins.observable.constructor.call(c);c.getId();c.initGradients();c.initItems();if(c.renderTo){c.render(c.renderTo);delete c.renderTo}c.initBackground(d.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(e,h,i,g){if(isFinite(e)&&isFinite(h)&&isFinite(i)&&isFinite(g)){this.viewBox={x:e,y:h,width:i,height:g};this.applyViewBox()}},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){var b=this.gradients;if(b){Ext.each(b,this.addGradient,this)}},initItems:function(){var b=this.items;this.items=Ext.create("Ext.draw.CompositeSprite");this.groups=Ext.create("Ext.draw.CompositeSprite");if(b){this.add(b)}},initBackground:function(i){var m=this,n=m.width,j=m.height,l,k,p;if(i){if(i.gradient){k=i.gradient;l=k.id;m.addGradient(k);m.background=m.add({type:"rect",x:0,y:0,width:n,height:j,fill:"url(#"+l+")"})}else{if(i.fill){m.background=m.add({type:"rect",x:0,y:0,width:n,height:j,fill:i.fill})}else{if(i.image){m.background=m.add({type:"image",x:0,y:0,width:n,height:j,src:i.image})}}}}},setSize:function(d,c){if(this.background){this.background.setAttributes({width:d,height:c,hidden:false},true)}this.applyViewBox()},scrubAttrs:function(j){var k,g={},h={},i=j.attr;for(k in i){if(this.translateAttrs.hasOwnProperty(k)){g[this.translateAttrs[k]]=i[k];h[this.translateAttrs[k]]=true}else{if(this.availableAttrs.hasOwnProperty(k)&&!h[k]){g[k]=i[k]}}}return g},onClick:function(b){this.processEvent("click",b)},onMouseUp:function(b){this.processEvent("mouseup",b)},onMouseDown:function(b){this.processEvent("mousedown",b)},onMouseOver:function(b){this.processEvent("mouseover",b)},onMouseOut:function(b){this.processEvent("mouseout",b)},onMouseMove:function(b){this.fireEvent("mousemove",b)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var n=Array.prototype.slice.call(arguments),l,q;
var t=n.length>1;if(t||Ext.isArray(n[0])){var m=t?n:n[0],s=[],r,p,i;for(r=0,p=m.length;r<p;r++){i=m[r];i=this.add(i);s.push(i)}return s}l=this.prepareItems(n[0],true)[0];this.insertByZIndex(l);this.onAdd(l);return l},insertByZIndex:function(m){var q=this,s=q.items.items,t=s.length,l=Math.ceil,p=m.attr.zIndex,n=t,u=n-1,r=0,v;if(q.orderSpritesByZIndex&&t&&p<s[u].attr.zIndex){while(r<=u){n=l((r+u)/2);v=s[n].attr.zIndex;if(v>p){u=n-1}else{if(v<p){r=n+1}else{break}}}while(n<t&&s[n].attr.zIndex<=p){n++}}q.items.insert(n,m);return n},onAdd:function(l){var j=l.group,h=l.draggable,i,k,m;if(j){i=[].concat(j);k=i.length;for(m=0;m<k;m++){j=i[m];this.getGroup(j).add(l)}delete l.group}if(h){l.initDraggable()}},remove:function(d,c){if(d){this.items.remove(d);this.groups.each(function(a){a.remove(d)});d.onRemove();if(c===true){d.destroy()}}},removeAll:function(h){var g=this.items.items,i=g.length,e;for(e=i-1;e>-1;e--){this.remove(g[e],h)}},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var u=this,m=u.viewBox,x=u.width,r=u.height,s,t,p,w,q,v,n;if(m&&(x||r)){s=m.x;t=m.y;p=m.width;w=m.height;q=r/w;v=x/p;if(p*q<x){s-=(x-p*q)/2/q}if(w*v<r){t-=(r-w*v)/2/v}n=1/Math.min(p,q);u.viewBoxShift={dx:-s,dy:-t,scale:n}}},transformToViewBox:function(g,h){if(this.viewBoxShift){var i=this,e=i.viewBoxShift;return[g*e.scale-e.dx,h*e.scale-e.dy]}else{return[g,h]}},applyTransformations:function(e){e.bbox.transform=0;this.transform(e);var h=this,i=false,g=e.attr;if(g.translation.x!=null||g.translation.y!=null){h.translate(e);i=true}if(g.scaling.x!=null||g.scaling.y!=null){h.scale(e);i=true}if(g.rotation.degrees!=null){h.rotate(e);i=true}if(i){e.bbox.transform=0;this.transform(e);e.transformations=[]}},rotate:function(h){var i,g=h.attr.rotation.degrees,j=h.attr.rotation.x,k=h.attr.rotation.y;if(!Ext.isNumber(j)||!Ext.isNumber(k)){i=this.getBBox(h);j=!Ext.isNumber(j)?i.x+i.width/2:j;k=!Ext.isNumber(k)?i.y+i.height/2:k}h.transformations.push({type:"rotate",degrees:g,x:j,y:k})},translate:function(d){var e=d.attr.translation.x||0,g=d.attr.translation.y||0;d.transformations.push({type:"translate",x:e,y:g})},scale:function(h){var k,i=h.attr.scaling.x||1,j=h.attr.scaling.y||1,l=h.attr.scaling.centerX,m=h.attr.scaling.centerY;if(!Ext.isNumber(l)||!Ext.isNumber(m)){k=this.getBBox(h);l=!Ext.isNumber(l)?k.x+k.width/2:l;m=!Ext.isNumber(m)?k.y+k.height/2:m}h.transformations.push({type:"scale",x:i,y:j,centerX:l,centerY:m})},rectPath:function(h,i,g,k,j){if(j){return[["M",h+j,i],["l",g-j*2,0],["a",j,j,0,0,1,j,j],["l",0,k-j*2],["a",j,j,0,0,1,-j,j],["l",j*2-g,0],["a",j,j,0,0,1,-j,-j],["l",0,j*2-k],["a",j,j,0,0,1,j,-j],["z"]]}return[["M",h,i],["l",g,0],["l",0,k],["l",-g,0],["z"]]},ellipsePath:function(g,h,i,e){if(e==null){e=i}return[["M",g,h],["m",0,-e],["a",i,e,0,1,1,0,2*e],["a",i,e,0,1,1,0,-2*e],["z"]]},getPathpath:function(b){return b.attr.path},getPathcircle:function(d){var a=d.attr;return this.ellipsePath(a.x,a.y,a.radius,a.radius)},getPathellipse:function(d){var a=d.attr;return this.ellipsePath(a.x,a.y,a.radiusX||(a.width/2)||0,a.radiusY||(a.height/2)||0)},getPathrect:function(d){var a=d.attr;return this.rectPath(a.x,a.y,a.width,a.height,a.r)},getPathimage:function(d){var a=d.attr;return this.rectPath(a.x||0,a.y||0,a.width,a.height)},getPathtext:function(d){var c=this.getBBoxText(d);return this.rectPath(c.x,c.y,c.width,c.height)},createGroup:function(c){var d=this.groups.get(c);if(!d){d=Ext.create("Ext.draw.CompositeSprite",{surface:this});d.id=c||Ext.id(null,"ext-surface-group-");this.groups.add(d)}return d},getGroup:function(c){if(typeof c=="string"){var d=this.groups.get(c);if(!d){d=this.createGroup(c)}}else{d=c}return d},prepareItems:function(h,k){h=[].concat(h);var i,g,j;for(g=0,j=h.length;g<j;g++){i=h[g];if(!(i instanceof Ext.draw.Sprite)){i.surface=this;h[g]=this.createItem(i)}else{i.surface=this}}return h},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){delete this.domRef;this.removeAll()}});Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:"Ext.layout.component.Auto",type:"draw",onLayout:function(c,d){this.owner.surface.setSize(c,d);
this.callParent(arguments)}});Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:true,autoSize:false,initComponent:function(){this.callParent(arguments);this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click")},onRender:function(){var q=this,k=q.viewBox,s=q.autoSize,m,r,t,l,n,p;q.callParent(arguments);if(q.createSurface()!==false){r=q.surface.items;if(k||s){m=r.getBBox();t=m.width;l=m.height;n=m.x;p=m.y;if(q.viewBox){q.surface.setViewBox(n,p,t,l)}else{q.autoSizeSurface()}}}},autoSizeSurface:function(){var j=this,g=j.surface.items,i=g.getBBox(),k=i.width,h=i.height;g.setAttributes({translate:{x:-i.x,y:-i.y+(+Ext.isOpera)}},true);if(j.rendered){j.setSize(k,h);j.surface.setSize(k,h)}else{j.surface.setSize(k,h)}j.el.setSize(k,h)},createSurface:function(){var d=Ext.draw.Surface.create(Ext.apply({},{width:this.width,height:this.height,renderTo:this.el},this.initialConfig));if(!d){return false}this.surface=d;function c(a){return function(b){this.fireEvent(a,b)}}d.on({scope:this,mouseup:c("mouseup"),mousedown:c("mousedown"),mousemove:c("mousemove"),mouseenter:c("mouseenter"),mouseleave:c("mouseleave"),click:c("click")})},onDestroy:function(){var b=this.surface;if(b){b.destroy()}this.callParent(arguments)}});Ext.define("Ext.chart.LegendItem",{extend:"Ext.draw.CompositeSprite",requires:["Ext.chart.Shape"],x:0,y:0,zIndex:500,constructor:function(b){this.callParent(arguments);this.createLegend(b)},createLegend:function(w){var v=this,G=w.yFieldIndex,D=v.series,N=D.type,C=v.yFieldIndex,K=v.legend,z=v.surface,y=K.x+v.x,B=K.y+v.y,L,E=v.zIndex,M,F,x,J,A=false,H=Ext.apply(D.seriesStyle,D.style);function I(b){var a=D[b];return(Ext.isArray(a)?a[C]:a)}F=v.add("label",z.add({type:"text",x:20,y:0,zIndex:E||0,font:K.labelFont,text:I("title")||I("yField")}));if(N==="line"||N==="scatter"){if(N==="line"){v.add("line",z.add({type:"path",path:"M0.5,0.5L16.5,0.5",zIndex:E,"stroke-width":D.lineWidth,"stroke-linejoin":"round","stroke-dasharray":D.dash,stroke:H.stroke||"#000",style:{cursor:"pointer"}}))}if(D.showMarkers||N==="scatter"){M=Ext.apply(D.markerStyle,D.markerConfig||{});v.add("marker",Ext.chart.Shape[M.type](z,{fill:M.fill,x:8.5,y:0.5,zIndex:E,radius:M.radius||M.size,style:{cursor:"pointer"}}))}}else{v.add("box",z.add({type:"rect",zIndex:E,x:0,y:0,width:12,height:12,fill:D.getLegendColor(G),style:{cursor:"pointer"}}))}v.setAttributes({hidden:false},true);L=v.getBBox();x=v.add("mask",z.add({type:"rect",x:L.x,y:L.y,width:L.width||20,height:L.height||20,zIndex:(E||0)+1000,fill:"#f00",opacity:0,style:{cursor:"pointer"}}));v.on("mouseover",function(){F.setStyle({"font-weight":"bold"});x.setStyle({cursor:"pointer"});D._index=G;D.highlightItem()},v);v.on("mouseout",function(){F.setStyle({"font-weight":"normal"});D._index=G;D.unHighlightItem()},v);if(!D.visibleInLegend(G)){A=true;F.setAttributes({opacity:0.5},true)}v.on("mousedown",function(){if(!A){D.hideAll();F.setAttributes({opacity:0.5},true)}else{D.showAll();F.setAttributes({opacity:1},true)}A=!A},v);v.updatePosition({x:0,y:0})},updatePosition:function(m){var j=this,i=j.items,k=i.length,h=0,l;if(!m){m=j.legend}for(;h<k;h++){l=i[h];switch(l.type){case"text":l.setAttributes({x:20+m.x+j.x,y:m.y+j.y},true);break;case"rect":l.setAttributes({translate:{x:m.x+j.x,y:m.y+j.y-6}},true);break;default:l.setAttributes({translate:{x:m.x+j.x,y:m.y+j.y}},true)}}}});Ext.define("Ext.chart.Legend",{requires:["Ext.chart.LegendItem"],visible:true,position:"bottom",x:0,y:0,labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(d){var c=this;if(d){Ext.apply(c,d)}c.items=[];c.isVertical=("left|right|float".indexOf(c.position)!==-1);c.origX=c.x;c.origY=c.y},create:function(){var b=this;b.createBox();b.createItems();if(!b.created&&b.isDisplayed()){b.created=true;b.chart.series.each(function(a){a.on("titlechange",function(){b.create();
b.updatePosition()})})}},isDisplayed:function(){return this.visible&&this.chart.series.findIndex("showInLegend",true)!==-1},createItems:function(){var K=this,O=K.chart,F=O.surface,L=K.items,P=K.padding,J=K.itemSpacing,S=2,x=0,G=0,V=0,N=0,Y=K.isVertical,W=Math,X=W.floor,H=W.max,T=0,E=0,y=L?L.length:0,Q,R,U,i,Z,M,I;if(y){for(;E<y;E++){L[E].destroy()}}L.length=[];O.series.each(function(b,a){if(b.showInLegend){Ext.each([].concat(b.yField),function(d,c){i=Ext.create("Ext.chart.LegendItem",{legend:this,series:b,surface:O.surface,yFieldIndex:c});Z=i.getBBox();I=Z.width;M=Z.height;if(a+c===0){U=Y?P+M/2:P}else{U=J/(Y?2:1)}i.x=X(Y?P:V+U);i.y=X(Y?N+U:P+M/2);V+=I+U;N+=M+U;x=H(x,I);G=H(G,M);L.push(i)},this)}},K);K.width=X((Y?x:V)+P*2);if(Y&&L.length===1){S=1}K.height=X((Y?N-S*U:G)+(P*2));K.itemHeight=G},getBBox:function(){var b=this;return{x:Math.round(b.x)-b.boxStrokeWidth/2,y:Math.round(b.y)-b.boxStrokeWidth/2,width:b.width,height:b.height}},createBox:function(){var c=this,d;if(c.boxSprite){c.boxSprite.destroy()}d=c.boxSprite=c.chart.surface.add(Ext.apply({type:"rect",stroke:c.boxStroke,"stroke-width":c.boxStrokeWidth,fill:c.boxFill,zIndex:c.boxZIndex},c.getBBox()));d.redraw()},updatePosition:function(){var y=this,v,x,t=y.width,u=y.height,w=y.padding,z=y.chart,s=z.chartBBox,E=z.insetPadding,C=s.width-(E*2),D=s.height-(E*2),A=s.x+E,B=s.y+E,F=z.surface,r=Math.floor;if(y.isDisplayed()){switch(y.position){case"left":v=E;x=r(B+D/2-u/2);break;case"right":v=r(F.width-t)-E;x=r(B+D/2-u/2);break;case"top":v=r(A+C/2-t/2);x=E;break;case"bottom":v=r(A+C/2-t/2);x=r(F.height-u)-E;break;default:v=r(y.origX)+E;x=r(y.origY)+E}y.x=v;y.y=x;Ext.each(y.items,function(a){a.updatePosition()});y.boxSprite.setAttributes(y.getBBox(),true)}}});Ext.define("Ext.chart.Chart",{alias:"widget.chart",extend:"Ext.draw.Component",mixins:{themeManager:"Ext.chart.theme.Theme",mask:"Ext.chart.Mask",navigation:"Ext.chart.Navigation"},requires:["Ext.util.MixedCollection","Ext.data.StoreManager","Ext.chart.Legend","Ext.util.DelayedTask"],viewBox:false,animate:false,legend:false,insetPadding:10,enginePriority:["Svg","Vml"],background:false,constructor:function(d){var g=this,e;d=Ext.apply({},d);g.initTheme(d.theme||g.theme);if(g.gradients){Ext.apply(d,{gradients:g.gradients})}if(g.background){Ext.apply(d,{background:g.background})}if(d.animate){e={easing:"ease",duration:500};if(Ext.isObject(d.animate)){d.animate=Ext.applyIf(d.animate,e)}else{d.animate=e}}g.mixins.mask.constructor.call(g,d);g.mixins.navigation.constructor.call(g,d);g.callParent([d])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var d=this,g,e;d.callParent();d.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");Ext.applyIf(d,{zoom:{width:1,height:1,x:0,y:0}});d.maxGutter=[0,0];d.store=Ext.data.StoreManager.lookup(d.store);g=d.axes;d.axes=Ext.create("Ext.util.MixedCollection",false,function(a){return a.position});if(g){d.axes.addAll(g)}e=d.series;d.series=Ext.create("Ext.util.MixedCollection",false,function(a){return a.seriesId||(a.seriesId=Ext.id(null,"ext-chart-series-"))});if(e){d.series.addAll(e)}if(d.legend!==false){d.legend=Ext.create("Ext.chart.Legend",Ext.applyIf({chart:d},d.legend))}d.on({mousemove:d.onMouseMove,mouseleave:d.onMouseLeave,mousedown:d.onMouseDown,mouseup:d.onMouseUp,scope:d})},afterComponentLayout:function(d,e){var g=this;if(Ext.isNumber(d)&&Ext.isNumber(e)){g.curWidth=d;g.curHeight=e;g.redraw(true)}this.callParent(arguments)},redraw:function(g){var h=this,i=h.chartBBox={x:0,y:0,height:h.curHeight,width:h.curWidth},e=h.legend;h.surface.setSize(i.width,i.height);h.series.each(h.initializeSeries,h);h.axes.each(h.initializeAxis,h);h.axes.each(function(a){a.processView()});h.axes.each(function(a){a.drawAxis(true)});if(e!==false){e.create()}h.alignAxes();if(h.legend!==false){e.updatePosition()}h.getMaxGutter();h.resizing=!!g;h.axes.each(h.drawAxis,h);h.series.each(h.drawCharts,h);h.resizing=false},afterRender:function(){var c,d=this;this.callParent();
if(d.categoryNames){d.setCategoryNames(d.categoryNames)}if(d.tipRenderer){c=d.getFunctionRef(d.tipRenderer);d.setTipRenderer(c.fn,c.scope)}d.bindStore(d.store,true);d.refresh()},getEventXY:function(l){var m=this,e=this.surface.getRegion(),j=l.getXY(),i=j[0]-e.left,k=j[1]-e.top;return[i,k]},onClick:function(h){var i=this,g=i.getEventXY(h),e;i.series.each(function(a){if(Ext.draw.Draw.withinBox(g[0],g[1],a.bbox)){if(a.getItemForPoint){e=a.getItemForPoint(g[0],g[1]);if(e){a.fireEvent("itemclick",e)}}}},i)},onMouseDown:function(h){var i=this,g=i.getEventXY(h),e;if(i.mask){i.mixins.mask.onMouseDown.call(i,h)}i.series.each(function(a){if(Ext.draw.Draw.withinBox(g[0],g[1],a.bbox)){if(a.getItemForPoint){e=a.getItemForPoint(g[0],g[1]);if(e){a.fireEvent("itemmousedown",e)}}}},i)},onMouseUp:function(h){var i=this,g=i.getEventXY(h),e;if(i.mask){i.mixins.mask.onMouseUp.call(i,h)}i.series.each(function(a){if(Ext.draw.Draw.withinBox(g[0],g[1],a.bbox)){if(a.getItemForPoint){e=a.getItemForPoint(g[0],g[1]);if(e){a.fireEvent("itemmouseup",e)}}}},i)},onMouseMove:function(k){var l=this,j=l.getEventXY(k),m,n,p,e;if(l.mask){l.mixins.mask.onMouseMove.call(l,k)}l.series.each(function(a){if(Ext.draw.Draw.withinBox(j[0],j[1],a.bbox)){if(a.getItemForPoint){m=a.getItemForPoint(j[0],j[1]);n=a._lastItemForPoint;p=a._lastStoreItem;e=a._lastStoreField;if(m!==n||m&&(m.storeItem!=p||m.storeField!=e)){if(n){a.fireEvent("itemmouseout",n);delete a._lastItemForPoint;delete a._lastStoreField;delete a._lastStoreItem}if(m){a.fireEvent("itemmouseover",m);a._lastItemForPoint=m;a._lastStoreItem=m.storeItem;a._lastStoreField=m.storeField}}}}else{n=a._lastItemForPoint;if(n){a.fireEvent("itemmouseout",n);delete a._lastItemForPoint;delete a._lastStoreField;delete a._lastStoreItem}}},l)},onMouseLeave:function(c){var d=this;if(d.mask){d.mixins.mask.onMouseLeave.call(d,c)}d.series.each(function(a){delete a._lastItemForPoint})},delayRefresh:function(){var b=this;if(!b.refreshTask){b.refreshTask=Ext.create("Ext.util.DelayedTask",b.refresh,b)}b.refreshTask.delay(b.refreshBuffer)},refresh:function(){var b=this;if(b.rendered&&b.curWidth!==undefined&&b.curHeight!==undefined){if(b.fireEvent("beforerefresh",b)!==false){b.redraw();b.fireEvent("refresh",b)}}},bindStore:function(e,d){var g=this;if(!d&&g.store){if(e!==g.store&&g.store.autoDestroy){g.store.destroyStore()}else{g.store.un("datachanged",g.refresh,g);g.store.un("add",g.delayRefresh,g);g.store.un("remove",g.delayRefresh,g);g.store.un("update",g.delayRefresh,g);g.store.un("clear",g.refresh,g)}}if(e){e=Ext.data.StoreManager.lookup(e);e.on({scope:g,datachanged:g.refresh,add:g.delayRefresh,remove:g.delayRefresh,update:g.delayRefresh,clear:g.refresh})}g.store=e;if(e&&!d){g.refresh()}},initializeAxis:function(s){var p=this,h=p.chartBBox,l=h.width,q=h.height,m=h.x,n=h.y,r=p.themeAttrs,t={chart:p};if(r){t.axisStyle=Ext.apply({},r.axis);t.axisLabelLeftStyle=Ext.apply({},r.axisLabelLeft);t.axisLabelRightStyle=Ext.apply({},r.axisLabelRight);t.axisLabelTopStyle=Ext.apply({},r.axisLabelTop);t.axisLabelBottomStyle=Ext.apply({},r.axisLabelBottom);t.axisTitleLeftStyle=Ext.apply({},r.axisTitleLeft);t.axisTitleRightStyle=Ext.apply({},r.axisTitleRight);t.axisTitleTopStyle=Ext.apply({},r.axisTitleTop);t.axisTitleBottomStyle=Ext.apply({},r.axisTitleBottom)}switch(s.position){case"top":Ext.apply(t,{length:l,width:q,x:m,y:n});break;case"bottom":Ext.apply(t,{length:l,width:q,x:m,y:q});break;case"left":Ext.apply(t,{length:q,width:l,x:m,y:q});break;case"right":Ext.apply(t,{length:q,width:l,x:l,y:q});break}if(!s.chart){Ext.apply(t,s);s=p.axes.replace(Ext.createByAlias("axis."+s.type.toLowerCase(),t))}else{Ext.apply(s,t)}},alignAxes:function(){var n=this,m=n.axes,p=n.legend,j=["top","right","bottom","left"],q,r=n.insetPadding,k={top:r,right:r,bottom:r,left:r};function l(a){var b=m.findIndex("position",a);return(b<0)?null:m.getAt(b)}Ext.each(j,function(c){var a=(c==="left"||c==="right"),d=l(c),b;if(p!==false){if(p.position===c){b=p.getBBox();k[c]+=(a?b.width:b.height)+k[c]}}if(d&&d.bbox){b=d.bbox;k[c]+=(a?b.width:b.height)}});q={x:k.left,y:k.top,width:n.curWidth-k.left-k.right,height:n.curHeight-k.top-k.bottom};
n.chartBBox=q;m.each(function(c){var a=c.position,b=(a==="left"||a==="right");c.x=(a==="right"?q.x+q.width:q.x);c.y=(a==="top"?q.y:q.y+q.height);c.width=(b?q.width:q.height);c.length=(b?q.height:q.width)})},initializeSeries:function(v,t){var u=this,y=u.themeAttrs,z,x,r,i,l,s=[],w=0,A,B={chart:u,seriesId:v.seriesId};if(y){r=y.seriesThemes;l=y.markerThemes;z=Ext.apply({},y.series);x=Ext.apply({},y.marker);B.seriesStyle=Ext.apply(z,r[t%r.length]);B.seriesLabelStyle=Ext.apply({},y.seriesLabel);B.markerStyle=Ext.apply(x,l[t%l.length]);if(y.colors){B.colorArrayStyle=y.colors}else{s=[];for(A=r.length;w<A;w++){i=r[w];if(i.fill||i.stroke){s.push(i.fill||i.stroke)}}if(s.length){B.colorArrayStyle=s}}B.seriesIdx=t}if(v instanceof Ext.chart.series.Series){Ext.apply(v,B)}else{Ext.applyIf(B,v);v=u.series.replace(Ext.createByAlias("series."+v.type.toLowerCase(),B))}if(v.initialize){v.initialize()}},getMaxGutter:function(){var c=this,d=[0,0];c.series.each(function(b){var a=b.getGutters&&b.getGutters()||[0,0];d[0]=Math.max(d[0],a[0]);d[1]=Math.max(d[1],a[1])});c.maxGutter=d},drawAxis:function(b){b.drawAxis()},drawCharts:function(b){b.triggerafterrender=false;b.drawSeries();if(!this.animate){b.fireEvent("afterrender")}},destroy:function(){Ext.destroy(this.surface);this.bindStore(null);this.callParent(arguments)}});Ext.define("Ext.chart.Highlight",{requires:["Ext.fx.Anim"],highlight:false,highlightCfg:null,constructor:function(b){if(b.highlight){if(b.highlight!==true){this.highlightCfg=Ext.apply({},b.highlight)}else{this.highlightCfg={fill:"#fdd",radius:20,lineWidth:5,stroke:"#f55"}}}},highlightItem:function(l){if(!l){return}var q=this,m=l.sprite,v=q.highlightCfg,s=q.chart.surface,t=q.chart.animate,u,n,p,r;if(!q.highlight||!m||m._highlighted){return}if(m._anim){m._anim.paused=true}m._highlighted=true;if(!m._defaults){m._defaults=Ext.apply({},m.attr);n={};p={};for(u in v){if(!(u in m._defaults)){m._defaults[u]=s.availableAttrs[u]}n[u]=m._defaults[u];p[u]=v[u];if(Ext.isObject(v[u])){n[u]={};p[u]={};Ext.apply(m._defaults[u],m.attr[u]);Ext.apply(n[u],m._defaults[u]);for(r in m._defaults[u]){if(!(r in v[u])){p[u][r]=n[u][r]}else{p[u][r]=v[u][r]}}for(r in v[u]){if(!(r in p[u])){p[u][r]=v[u][r]}}}}m._from=n;m._to=p;m._endStyle=p}if(t){m._anim=Ext.create("Ext.fx.Anim",{target:m,from:m._from,to:m._to,duration:150})}else{m.setAttributes(m._to,true)}},unHighlightItem:function(){if(!this.highlight||!this.items){return}var l=this,m=l.items,n=m.length,t=l.highlightCfg,r=l.chart.animate,p=0,q,s,i;for(;p<n;p++){if(!m[p]){continue}i=m[p].sprite;if(i&&i._highlighted){if(i._anim){i._anim.paused=true}q={};for(s in t){if(Ext.isObject(i._defaults[s])){q[s]={};Ext.apply(q[s],i._defaults[s])}else{q[s]=i._defaults[s]}}if(r){i._endStyle=q;i._anim=Ext.create("Ext.fx.Anim",{target:i,to:q,duration:150})}else{i.setAttributes(q,true)}delete i._highlighted}}},cleanHighlights:function(){if(!this.highlight){return}var h=this.group,i=this.markerGroup,e=0,g;for(g=h.getCount();e<g;e++){delete h.getAt(e)._defaults}if(i){for(g=i.getCount();e<g;e++){delete i.getAt(e)._defaults}}}});Ext.define("Ext.chart.Label",{requires:["Ext.draw.Color"],colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(d){var c=this;c.label=Ext.applyIf(c.label||{},{display:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:function(a){return a}});if(c.label.display!=="none"){c.labelsGroup=c.chart.surface.getGroup(c.seriesId+"-labels")}},renderLabels:function(){var al=this,k=al.chart,ac=k.gradients,ai=al.items,S=k.animate,Z=al.label,af=Z.display,ae=Z.color,at=[].concat(Z.field),aj=al.labelsGroup,ao=(aj||0)&&aj.length,av=al.chart.store,ak=av.getCount(),ap=(ai||0)&&ai.length,W=ap/ak,aa=(ac||0)&&ac.length,an=Ext.draw.Color,P=[],am,Q,V,au,ab,R,T,ar,aq,ag,ad,U,j,ah,i,X,Y,aw;if(af=="none"){return}if(ap==0){while(ao--){P.push(ao)}}else{for(Q=0,V=0,au=0;Q<ak;Q++){ab=0;for(R=0;R<W;R++){ad=ai[V];U=aj.getAt(au);j=av.getAt(Q);while(this.__excludes&&this.__excludes[ab]&&W>1){if(at[R]){P.push(au)}ab++}if(!ad&&U){U.hide(true);au++}if(ad&&at[R]){if(!U){U=al.onCreateLabel(j,ad,Q,af,R,ab)
}al.onPlaceLabel(U,j,ad,Q,af,S,R,ab);au++;if(Z.contrast&&ad.sprite){ah=ad.sprite;if(ah._endStyle){aw=ah._endStyle.fill}else{if(ah._to){aw=ah._to.fill}else{aw=ah.attr.fill}}aw=aw||ah.attr.fill;i=an.fromString(aw);if(aw&&!i){aw=aw.match(al.colorStringRe)[1];for(T=0;T<aa;T++){am=ac[T];if(am.id==aw){ag=0;ar=0;for(aq in am.stops){ag++;ar+=an.fromString(am.stops[aq].color).getGrayscale()}X=(ar/ag)/255;break}}}else{X=i.getGrayscale()/255}if(U.isOutside){X=1}Y=an.fromString(U.attr.color||U.attr.fill).getHSL();Y[2]=X>0.5?0.2:0.8;U.setAttributes({fill:String(an.fromHSL.apply({},Y))},true)}}V++;ab++}}}al.hideLabels(P)},hideLabels:function(d){var e=this.labelsGroup,g=d.length;while(g--){e.getAt(d[g]).hide(true)}}});Ext.define("Ext.chart.MaskLayer",{extend:"Ext.Component",constructor:function(b){b=Ext.apply(b||{},{style:"position:absolute;background-color:#888;cursor:move;opacity:0.6;border:1px solid #222;"});this.callParent([b])},initComponent:function(){var b=this;b.callParent(arguments);b.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments);this.dd.onStart=function(g){var d=this,e=d.comp;this.startPosition=e.getPosition(true);if(e.ghost&&!e.liveDrag){d.proxy=e.ghost();d.dragTarget=d.proxy.header.el}if(d.constrain||d.constrainDelegate){d.constrainTo=d.calculateConstrainRegion()}}}});Ext.define("Ext.chart.TipSurface",{extend:"Ext.draw.Component",spriteArray:false,renderFirst:true,constructor:function(b){this.callParent([b]);if(b.sprites){this.spriteArray=[].concat(b.sprites);delete b.sprites}},onRender:function(){var k=this,g=0,h=0,j,i;this.callParent(arguments);i=k.spriteArray;if(k.renderFirst&&i){k.renderFirst=false;for(h=i.length;g<h;g++){j=k.surface.add(i[g]);j.setAttributes({hidden:false},true)}}}});Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(g){var k=this,h,j,i;if(g.tips){k.tipTimeout=null;k.tipConfig=Ext.apply({},g.tips,{renderer:Ext.emptyFn,constrainPosition:false});k.tooltip=Ext.create("Ext.tip.ToolTip",k.tipConfig);k.chart.surface.on("mousemove",k.tooltip.onMouseMove,k.tooltip);k.chart.surface.on("mouseleave",function(){k.hideTip()});if(k.tipConfig.surface){h=k.tipConfig.surface;j=h.sprites;i=Ext.create("Ext.chart.TipSurface",{id:"tipSurfaceComponent",sprites:j});if(h.width&&h.height){i.setSize(h.width,h.height)}k.tooltip.add(i);k.spriteTip=i}}},showTip:function(p){var v=this;if(!v.tooltip){return}clearTimeout(v.tipTimeout);var n=v.tooltip,z=v.spriteTip,x=v.tipConfig,w=n.trackMouse,q,y,r,t,s,u;if(!w){n.trackMouse=true;q=p.sprite;y=q.surface;r=Ext.get(y.getId());if(r){t=r.getXY();s=t[0]+(q.attr.x||0)+(q.attr.translation&&q.attr.translation.x||0);u=t[1]+(q.attr.y||0)+(q.attr.translation&&q.attr.translation.y||0);n.targetXY=[s,u]}}if(z){x.renderer.call(n,p.storeItem,p,z.surface)}else{x.renderer.call(n,p.storeItem,p)}n.show();n.trackMouse=w},hideTip:function(d){var c=this.tooltip;if(!c){return}clearTimeout(this.tipTimeout);this.tipTimeout=setTimeout(function(){c.hide()},0)}});Ext.define("Ext.chart.axis.Abstract",{requires:["Ext.chart.Chart"],constructor:function(e){e=e||{};var d=this,g=e.position||"left";g=g.charAt(0).toUpperCase()+g.substring(1);e.label=Ext.apply(e["axisLabel"+g+"Style"]||{},e.label||{});e.axisTitleStyle=Ext.apply(e["axisTitle"+g+"Style"]||{},e.labelTitle||{});Ext.apply(d,e);d.fields=[].concat(d.fields);this.callParent();d.labels=[];d.getId();d.labelGroup=d.chart.surface.getGroup(d.axisId+"-labels")},alignment:null,grid:false,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn});Ext.define("Ext.chart.axis.Axis",{extend:"Ext.chart.axis.Abstract",alternateClassName:"Ext.chart.Axis",requires:["Ext.draw.Draw"],forceMinMax:false,dashSize:3,position:"bottom",skipFirst:false,length:0,width:0,majorTickSteps:false,applyData:Ext.emptyFn,getRange:function(){var w=this,I=w.chart.getChartStore(),D=w.fields,G=D.length,J=Math,i=J.max,x=J.min,E=false,B=isNaN(w.minimum)?Infinity:w.minimum,z=isNaN(w.maximum)?-Infinity:w.maximum,l=0,y,A,C,L,H,K=[],F=w.chart.series.items;
for(y=0,A=F.length;!E&&y<A;y++){E=E||F[y].stacked;K=F[y].__excludes||K}I.each(function(a){if(E){if(!isFinite(B)){B=0}for(L=[0,0],y=0;y<G;y++){if(K[y]){continue}H=a.get(D[y]);L[+(H>0)]+=J.abs(H)}z=i(z,-L[0],+L[1]);B=x(B,-L[0],+L[1])}else{for(y=0;y<G;y++){if(K[y]){continue}C=a.get(D[y]);z=i(z,+C);B=x(B,+C)}}});if(!isFinite(z)){z=w.prevMax||0}if(!isFinite(B)){B=w.prevMin||0}if(B!=z&&(z!=Math.floor(z))){z=Math.floor(z)+1}if(!isNaN(w.minimum)){B=w.minimum}if(!isNaN(w.maximum)){z=w.maximum}return{min:B,max:z}},calcEnds:function(){var l=this,j=l.fields,r=l.getRange(),m=r.min,k=r.max,p,n,q;q=Ext.draw.Draw.snapEnds(m,k,l.majorTickSteps!==false?(l.majorTickSteps+1):l.steps);p=q.from;n=q.to;if(l.forceMinMax){if(!isNaN(k)){q.to=k}if(!isNaN(m)){q.from=m}}if(!isNaN(l.maximum)){q.to=l.maximum}if(!isNaN(l.minimum)){q.from=l.minimum}q.step=(q.to-q.from)/(n-p)*q.step;if(l.adjustMaximumByMajorUnit){q.to+=q.step}if(l.adjustMinimumByMajorUnit){q.from-=q.step}l.prevMin=m==k?0:m;l.prevMax=k;return q},drawAxis:function(I){var y=this,x,K,Y=y.x,Z=y.y,M=y.chart.maxGutter[0],O=y.chart.maxGutter[1],ab=y.dashSize,Q=y.minorTickSteps||0,S=y.minorTickSteps||0,ae=y.length,j=y.position,aa=[],V=false,ad=y.applyData(),ac=ad.step,i=ad.steps,L=ad.from,af=ad.to,U,N,P,R,T,W,X,J;if(y.hidden||isNaN(ac)||(L==af)){return}y.from=ad.from;y.to=ad.to;if(j=="left"||j=="right"){N=Math.floor(Y)+0.5;R=["M",N,Z,"l",0,-ae];U=ae-(O*2)}else{P=Math.floor(Z)+0.5;R=["M",Y,P,"l",ae,0];U=ae-(M*2)}J=U/(i||1);W=Math.max(Q+1,0);X=Math.max(S+1,0);if(y.type=="Numeric"||y.type=="Time"){V=true;y.labels=[ad.from]}if(j=="right"||j=="left"){P=Z-O;N=Y-((j=="left")*ab*2);while(P>=Z-O-U){R.push("M",N,Math.floor(P)+0.5,"l",ab*2+1,0);if(P!=Z-O){for(x=1;x<X;x++){R.push("M",N+ab,Math.floor(P+J*x/X)+0.5,"l",ab+1,0)}}aa.push([Math.floor(Y),Math.floor(P)]);P-=J;if(V){y.labels.push(y.labels[y.labels.length-1]+ac)}if(J===0){break}}if(Math.round(P+J-(Z-O-U))){R.push("M",N,Math.floor(Z-ae+O)+0.5,"l",ab*2+1,0);for(x=1;x<X;x++){R.push("M",N+ab,Math.floor(Z-ae+O+J*x/X)+0.5,"l",ab+1,0)}aa.push([Math.floor(Y),Math.floor(P)]);if(V){y.labels.push(y.labels[y.labels.length-1]+ac)}}}else{N=Y+M;P=Z-((j=="top")*ab*2);while(N<=Y+M+U){R.push("M",Math.floor(N)+0.5,P,"l",0,ab*2+1);if(N!=Y+M){for(x=1;x<W;x++){R.push("M",Math.floor(N-J*x/W)+0.5,P,"l",0,ab+1)}}aa.push([Math.floor(N),Math.floor(Z)]);N+=J;if(V){y.labels.push(y.labels[y.labels.length-1]+ac)}if(J===0){break}}if(Math.round(N-J-(Y+M+U))){R.push("M",Math.floor(Y+ae-M)+0.5,P,"l",0,ab*2+1);for(x=1;x<W;x++){R.push("M",Math.floor(Y+ae-M-J*x/W)+0.5,P,"l",0,ab+1)}aa.push([Math.floor(N),Math.floor(Z)]);if(V){y.labels.push(y.labels[y.labels.length-1]+ac)}}}if(!y.axis){y.axis=y.chart.surface.add(Ext.apply({type:"path",path:R},y.axisStyle))}y.axis.setAttributes({path:R},true);y.inflections=aa;if(!I&&y.grid){y.drawGrid()}y.axisBBox=y.axis.getBBox();y.drawLabel()},drawGrid:function(){var x=this,D=x.chart.surface,O=x.grid,M=O.odd,L=O.even,J=x.inflections,H=J.length-((M||L)?0:1),i=x.position,N=x.chart.maxGutter,E=x.width-2,z=false,C,B,A=1,F=[],K,P,I,G=[],y=[];if((N[1]!==0&&(i=="left"||i=="right"))||(N[0]!==0&&(i=="top"||i=="bottom"))){A=0;H++}for(;A<H;A++){C=J[A];B=J[A-1];if(M||L){F=(A%2)?G:y;K=((A%2)?M:L)||{};P=(K.lineWidth||K["stroke-width"]||0)/2;I=2*P;if(i=="left"){F.push("M",B[0]+1+P,B[1]+0.5-P,"L",B[0]+1+E-P,B[1]+0.5-P,"L",C[0]+1+E-P,C[1]+0.5+P,"L",C[0]+1+P,C[1]+0.5+P,"Z")}else{if(i=="right"){F.push("M",B[0]-P,B[1]+0.5-P,"L",B[0]-E+P,B[1]+0.5-P,"L",C[0]-E+P,C[1]+0.5+P,"L",C[0]-P,C[1]+0.5+P,"Z")}else{if(i=="top"){F.push("M",B[0]+0.5+P,B[1]+1+P,"L",B[0]+0.5+P,B[1]+1+E-P,"L",C[0]+0.5-P,C[1]+1+E-P,"L",C[0]+0.5-P,C[1]+1+P,"Z")}else{F.push("M",B[0]+0.5+P,B[1]-P,"L",B[0]+0.5+P,B[1]-E+P,"L",C[0]+0.5-P,C[1]-E+P,"L",C[0]+0.5-P,C[1]-P,"Z")}}}}else{if(i=="left"){F=F.concat(["M",C[0]+0.5,C[1]+0.5,"l",E,0])}else{if(i=="right"){F=F.concat(["M",C[0]-0.5,C[1]+0.5,"l",-E,0])}else{if(i=="top"){F=F.concat(["M",C[0]+0.5,C[1]+0.5,"l",0,E])}else{F=F.concat(["M",C[0]+0.5,C[1]-0.5,"l",0,-E])}}}}}if(M||L){if(G.length){if(!x.gridOdd&&G.length){x.gridOdd=D.add({type:"path",path:G})}x.gridOdd.setAttributes(Ext.apply({path:G,hidden:false},M||{}),true)
}if(y.length){if(!x.gridEven){x.gridEven=D.add({type:"path",path:y})}x.gridEven.setAttributes(Ext.apply({path:y,hidden:false},L||{}),true)}}else{if(F.length){if(!x.gridLines){x.gridLines=x.chart.surface.add({type:"path",path:F,"stroke-width":x.lineWidth||1,stroke:x.gridColor||"#ccc"})}x.gridLines.setAttributes({hidden:false,path:F},true)}else{if(x.gridLines){x.gridLines.hide(true)}}}},getOrCreateLabel:function(m,j){var l=this,h=l.labelGroup,k=h.getAt(m),i=l.chart.surface;if(k){if(j!=k.attr.text){k.setAttributes(Ext.apply({text:j},l.label),true);k._bbox=k.getBBox()}}else{k=i.add(Ext.apply({group:h,type:"text",x:0,y:0,text:j},l.label));i.renderItem(k);k._bbox=k.getBBox()}if(l.label.rotation){k.setAttributes({rotation:{degrees:0}},true);k._ubbox=k.getBBox();k.setAttributes(l.label,true)}else{k._ubbox=k._bbox}return k},rect2pointArray:function(p){var y=this.chart.surface,u=y.getBBox(p,true),n=[u.x,u.y],w=n.slice(),q=[u.x+u.width,u.y],z=q.slice(),r=[u.x+u.width,u.y+u.height],v=r.slice(),s=[u.x,u.y+u.height],x=s.slice(),t=p.matrix;n[0]=t.x.apply(t,w);n[1]=t.y.apply(t,w);q[0]=t.x.apply(t,z);q[1]=t.y.apply(t,z);r[0]=t.x.apply(t,v);r[1]=t.y.apply(t,v);s[0]=t.x.apply(t,x);s[1]=t.y.apply(t,x);return[n,q,r,s]},intersect:function(i,g){var h=this.rect2pointArray(i),e=this.rect2pointArray(g);return !!Ext.draw.Draw.intersect(h,e).length},drawHorizontalLabels:function(){var I=this,af=I.label,T=Math.floor,i=Math.max,U=I.chart.axes,y=I.position,Z=I.inflections,V=Z.length,L=I.labels,O=I.labelGroup,N=0,ac,P=I.chart.maxGutter[1],ae,ah,J,ad,W,R=0,M,K,aa,Q,ab,X,S,Y,x,ag;X=V-1;J=Z[0];ag=I.getOrCreateLabel(0,I.label.renderer(L[0]));ac=Math.floor(Math.abs(Math.sin(af.rotate&&(af.rotate.degrees*Math.PI/180)||0)));for(x=0;x<V;x++){J=Z[x];Q=I.label.renderer(L[x]);M=I.getOrCreateLabel(x,Q);ah=M._bbox;N=i(N,ah.height+I.dashSize+I.label.padding);S=T(J[0]-(ac?ah.height:ah.width)/2);if(I.chart.maxGutter[0]==0){if(x==0&&U.findIndex("position","left")==-1){S=J[0]}else{if(x==X&&U.findIndex("position","right")==-1){S=J[0]-ah.width}}}if(y=="top"){Y=J[1]-(I.dashSize*2)-I.label.padding-(ah.height/2)}else{Y=J[1]+(I.dashSize*2)+I.label.padding+(ah.height/2)}M.setAttributes({hidden:false,x:S,y:Y},true);if(x!=0&&(I.intersect(M,W)||I.intersect(M,ag))){M.hide(true);continue}W=M}return N},drawVerticalLabels:function(){var J=this,U=J.inflections,H=J.position,R=U.length,N=J.labels,y=0,G=Math.max,E=Math.floor,Y=Math.ceil,F=J.chart.axes,x=J.chart.maxGutter[1],X,Z,L,Q,i=0,K,M,V,O,W,S,P,T,I;S=R;for(I=0;I<S;I++){L=U[I];O=J.label.renderer(N[I]);K=J.getOrCreateLabel(I,O);Z=K._bbox;y=G(y,Z.width+J.dashSize+J.label.padding);T=L[1];if(x<Z.height/2){if(I==S-1&&F.findIndex("position","top")==-1){T=J.y-J.length+Y(Z.height/2)}else{if(I==0&&F.findIndex("position","bottom")==-1){T=J.y-E(Z.height/2)}}}if(H=="left"){P=L[0]-Z.width-J.dashSize-J.label.padding-2}else{P=L[0]+J.dashSize+J.label.padding+2}K.setAttributes(Ext.apply({hidden:false,x:P,y:T},J.label),true);if(I!=0&&J.intersect(K,Q)){K.hide(true);continue}Q=K}return y},drawLabel:function(){var m=this,k=m.position,i=m.labelGroup,l=m.inflections,n=0,p=0,q,r;if(k=="left"||k=="right"){n=m.drawVerticalLabels()}else{p=m.drawHorizontalLabels()}q=i.getCount();r=l.length;for(;r<q;r++){i.getAt(r).hide(true)}m.bbox={};Ext.apply(m.bbox,m.axisBBox);m.bbox.height=p;m.bbox.width=n;if(Ext.isString(m.title)){m.drawTitle(n,p)}},elipsis:function(n,k,p,m,i){var l,j;if(p<m){n.hide(true);return false}while(k.length>4){k=k.substr(0,k.length-4)+"...";n.setAttributes({text:k},true);l=n.getBBox();if(l.width<p){if(typeof i=="number"){n.setAttributes({x:Math.floor(i-(l.width/2))},true)}break}}return true},setTitle:function(b){this.title=b;this.drawLabel()},drawTitle:function(r,q){var v=this,w=v.position,A=v.chart.surface,z=v.displaySprite,s=v.title,x=(w=="left"||w=="right"),t=v.x,u=v.y,B,p,y;if(z){z.setAttributes({text:s},true)}else{B={type:"text",x:0,y:0,text:s};z=v.displaySprite=A.add(Ext.apply(B,v.axisTitleStyle,v.labelTitle));A.renderItem(z)}p=z.getBBox();y=v.dashSize+v.label.padding;if(x){u-=((v.length/2)-(p.height/2));if(w=="left"){t-=(r+y+(p.width/2))}else{t+=(r+y+p.width-(p.width/2))
}v.bbox.width+=p.width+10}else{t+=(v.length/2)-(p.width*0.5);if(w=="top"){u-=(q+y+(p.height*0.3))}else{u+=(q+y+(p.height*0.8))}v.bbox.height+=p.height+10}z.setAttributes({translate:{x:t,y:u}},true)}});Ext.define("Ext.chart.axis.Category",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:false,setLabels:function(){var e=this.chart.store,g=this.fields,h=g.length,i;this.labels=[];e.each(function(a){for(i=0;i<h;i++){this.labels.push(a.get(g[i]))}},this)},applyData:function(){this.callParent();this.setLabels();var b=this.chart.store.getCount();return{from:0,to:b,power:1,step:1,steps:b-1}}});Ext.define("Ext.chart.axis.Gauge",{extend:"Ext.chart.axis.Abstract",position:"gauge",alias:"axis.gauge",drawAxis:function(i){var y=this.chart,F=y.surface,s=y.chartBBox,C=s.x+(s.width/2),E=s.y+s.height,D=this.margin||10,v=Math.min(s.width,2*s.height)/2+D,z=[],u,w=this.steps,B,A=Math.PI,t=Math.cos,x=Math.sin;if(this.sprites&&!y.resizing){this.drawLabel();return}if(this.margin>=0){if(!this.sprites){for(B=0;B<=w;B++){u=F.add({type:"path",path:["M",C+(v-D)*t(B/w*A-A),E+(v-D)*x(B/w*A-A),"L",C+v*t(B/w*A-A),E+v*x(B/w*A-A),"Z"],stroke:"#ccc"});u.setAttributes({hidden:false},true);z.push(u)}}else{z=this.sprites;for(B=0;B<=w;B++){z[B].setAttributes({path:["M",C+(v-D)*t(B/w*A-A),E+(v-D)*x(B/w*A-A),"L",C+v*t(B/w*A-A),E+v*x(B/w*A-A),"Z"],stroke:"#ccc"},true)}}}this.sprites=z;this.drawLabel();if(this.title){this.drawTitle()}},drawTitle:function(){var k=this,l=k.chart,i=l.surface,j=l.chartBBox,m=k.titleSprite,h;if(!m){k.titleSprite=m=i.add({type:"text",zIndex:2})}m.setAttributes(Ext.apply({text:k.title},k.label||{}),true);h=m.getBBox();m.setAttributes({x:j.x+(j.width/2)-(h.width/2),y:j.y+j.height-(h.height/2)-4},true)},setTitle:function(b){this.title=b;this.drawTitle()},drawLabel:function(){var F=this.chart,B=F.surface,M=F.chartBBox,G=M.x+(M.width/2),H=M.y+M.height,E=this.margin||10,K=Math.min(M.width,2*M.height)/2+2*E,w=Math.round,D=[],I,y=this.maximum||0,z=this.steps,A=0,i,x=Math.PI,L=Math.cos,N=Math.sin,J=this.label,C=J.renderer||function(a){return a};if(!this.labelArray){for(A=0;A<=z;A++){i=(A===0||A===z)?7:0;I=B.add({type:"text",text:C(w(A/z*y)),x:G+K*L(A/z*x-x),y:H+K*N(A/z*x-x)-i,"text-anchor":"middle","stroke-width":0.2,zIndex:10,stroke:"#333"});I.setAttributes({hidden:false},true);D.push(I)}}else{D=this.labelArray;for(A=0;A<=z;A++){i=(A===0||A===z)?7:0;D[A].setAttributes({text:C(w(A/z*y)),x:G+K*L(A/z*x-x),y:H+K*N(A/z*x-x)-i},true)}}this.labelArray=D}});Ext.define("Ext.chart.axis.Numeric",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.NumericAxis",type:"numeric",alias:"axis.numeric",constructor:function(i){var h=this,g=!!(i.label&&i.label.renderer),e;h.callParent([i]);e=h.label;if(h.roundToDecimal===false){return}if(!g){e.renderer=function(a){return h.roundToDecimal(a,h.decimals)}}},roundToDecimal:function(e,g){var d=Math.pow(10,g||0);return Math.floor(e*d)/d},minimum:NaN,maximum:NaN,decimals:2,scale:"linear",position:"left",adjustMaximumByMajorUnit:false,adjustMinimumByMajorUnit:false,applyData:function(){this.callParent();return this.calcEnds()}});Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Abstract",position:"radial",alias:"axis.radial",drawAxis:function(G){var x=this.chart,F=x.surface,H=x.chartBBox,i=x.store,E=i.getCount(),B=H.x+(H.width/2),D=H.y+(H.height/2),j=Math.min(H.width,H.height)/2,y=[],J,l=this.steps,A,C,z=Math.PI*2,I=Math.cos,w=Math.sin;if(this.sprites&&!x.resizing){this.drawLabel();return}if(!this.sprites){for(A=1;A<=l;A++){J=F.add({type:"circle",x:B,y:D,radius:Math.max(j*A/l,0),stroke:"#ccc"});J.setAttributes({hidden:false},true);y.push(J)}i.each(function(a,b){J=F.add({type:"path",path:["M",B,D,"L",B+j*I(b/E*z),D+j*w(b/E*z),"Z"],stroke:"#ccc"});J.setAttributes({hidden:false},true);y.push(J)})}else{y=this.sprites;for(A=0;A<l;A++){y[A].setAttributes({x:B,y:D,radius:Math.max(j*(A+1)/l,0),stroke:"#ccc"},true)}i.each(function(a,b){y[A+b].setAttributes({path:["M",B,D,"L",B+j*I(b/E*z),D+j*w(b/E*z),"Z"],stroke:"#ccc"},true)})}this.sprites=y;
this.drawLabel()},drawLabel:function(){var O=this.chart,j=O.surface,ae=O.chartBBox,Z=O.store,W=ae.x+(ae.width/2),X=ae.y+(ae.height/2),ab=Math.min(ae.width,ae.height)/2,Q=Math.max,J=Math.round,M=[],Y,H=[],ad,G=[],aa,K=!this.maximum,L=this.maximum||0,N=this.steps,S=0,U,R,T,I=Math.PI*2,ac=Math.cos,af=Math.sin,i=this.label.display,V=i!=="none",P=10;if(!V){return}O.series.each(function(a){H.push(a.yField);aa=a.xField});Z.each(function(a,b){if(K){for(b=0,ad=H.length;b<ad;b++){L=Q(+a.get(H[b]),L)}}G.push(a.get(aa))});if(!this.labelArray){if(i!="categories"){for(S=1;S<=N;S++){Y=j.add({type:"text",text:J(S/N*L),x:W,y:X-ab*S/N,"text-anchor":"middle","stroke-width":0.1,stroke:"#333"});Y.setAttributes({hidden:false},true);M.push(Y)}}if(i!="scale"){for(U=0,N=G.length;U<N;U++){R=ac(U/N*I)*(ab+P);T=af(U/N*I)*(ab+P);Y=j.add({type:"text",text:G[U],x:W+R,y:X+T,"text-anchor":R*R<=0.001?"middle":(R<0?"end":"start")});Y.setAttributes({hidden:false},true);M.push(Y)}}}else{M=this.labelArray;if(i!="categories"){for(S=0;S<N;S++){M[S].setAttributes({text:J((S+1)/N*L),x:W,y:X-ab*(S+1)/N,"text-anchor":"middle","stroke-width":0.1,stroke:"#333"},true)}}if(i!="scale"){for(U=0,N=G.length;U<N;U++){R=ac(U/N*I)*(ab+P);T=af(U/N*I)*(ab+P);if(M[S+U]){M[S+U].setAttributes({type:"text",text:G[U],x:W+R,y:X+T,"text-anchor":R*R<=0.001?"middle":(R<0?"end":"start")},true)}}}}this.labelArray=M}});Ext.define("Ext.data.AbstractStore",{requires:["Ext.util.MixedCollection","Ext.data.Operation","Ext.util.Filter"],mixins:{observable:"Ext.util.Observable",sortable:"Ext.util.Sortable"},statics:{create:function(b){if(!b.isStore){if(!b.type){b.type="store"}b=Ext.createByAlias("store."+b.type,b)}return b}},remoteSort:false,remoteFilter:false,autoLoad:false,autoSync:false,batchUpdateMode:"operation",filterOnLoad:true,sortOnLoad:true,implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,sortRoot:"data",constructor:function(e){var g=this,d;g.addEvents("add","remove","update","datachanged","beforeload","load","write","beforesync","clear");Ext.apply(g,e);g.removed=[];g.mixins.observable.constructor.apply(g,arguments);g.model=Ext.ModelManager.getModel(g.model);Ext.applyIf(g,{modelDefaults:{}});if(!g.model&&g.fields){g.model=Ext.define("Ext.data.Store.ImplicitModel-"+(g.storeId||Ext.id()),{extend:"Ext.data.Model",fields:g.fields,proxy:g.proxy||g.defaultProxyType});delete g.fields;g.implicitModel=true}g.setProxy(g.proxy||g.model.getProxy());if(g.id&&!g.storeId){g.storeId=g.id;delete g.id}if(g.storeId){Ext.data.StoreManager.register(g)}g.mixins.sortable.initSortable.call(g);d=g.decodeFilters(g.filters);g.filters=Ext.create("Ext.util.MixedCollection");g.filters.addAll(d)},setProxy:function(d){var c=this;if(d instanceof Ext.data.proxy.Proxy){d.setModel(c.model)}else{if(Ext.isString(d)){d={type:d}}Ext.applyIf(d,{model:c.model});d=Ext.createByAlias("proxy."+d.type,d)}c.proxy=d;return c.proxy},getProxy:function(){return this.proxy},create:function(i,k){var j=this,h=Ext.ModelManager.create(Ext.applyIf(i,j.modelDefaults),j.model.modelName),g;k=k||{};Ext.applyIf(k,{action:"create",records:[h]});g=Ext.create("Ext.data.Operation",k);j.proxy.create(g,j.onProxyWrite,j);return h},read:function(){return this.load.apply(this,arguments)},onProxyRead:Ext.emptyFn,update:function(d){var g=this,e;d=d||{};Ext.applyIf(d,{action:"update",records:g.getUpdatedRecords()});e=Ext.create("Ext.data.Operation",d);return g.proxy.update(e,g.onProxyWrite,g)},onProxyWrite:function(e){var i=this,h=e.wasSuccessful(),g=e.getRecords();switch(e.action){case"create":i.onCreateRecords(g,e,h);break;case"update":i.onUpdateRecords(g,e,h);break;case"destroy":i.onDestroyRecords(g,e,h);break}if(h){i.fireEvent("write",i,e);i.fireEvent("datachanged",i)}Ext.callback(e.callback,e.scope||i,[g,e,h])},destroy:function(d){var g=this,e;d=d||{};Ext.applyIf(d,{action:"destroy",records:g.getRemovedRecords()});e=Ext.create("Ext.data.Operation",d);return g.proxy.destroy(e,g.onProxyWrite,g)},onBatchOperationComplete:function(c,d){return this.onProxyWrite(d)},onBatchComplete:function(m,i){var j=this,h=m.operations,k=h.length,l;
j.suspendEvents();for(l=0;l<k;l++){j.onProxyWrite(h[l])}j.resumeEvents();j.fireEvent("datachanged",j)},onBatchException:function(c,d){},filterNew:function(b){return b.phantom===true&&b.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},filterUpdated:function(b){return b.dirty===true&&b.phantom!==true&&b.isValid()},getRemovedRecords:function(){return this.removed},filter:function(d,c){},decodeFilters:function(i){if(!Ext.isArray(i)){if(i===undefined){i=[]}else{i=[i]}}var j=i.length,h=Ext.util.Filter,g,k;for(k=0;k<j;k++){g=i[k];if(!(g instanceof h)){Ext.apply(g,{root:"data"});if(g.fn){g.filterFn=g.fn}if(typeof g=="function"){g={filterFn:g}}i[k]=new h(g)}}return i},clearFilter:function(b){},isFiltered:function(){},filterBy:function(c,d){},sync:function(){var l=this,h={},k=l.getNewRecords(),m=l.getUpdatedRecords(),i=l.getRemovedRecords(),j=false;if(k.length>0){h.create=k;j=true}if(m.length>0){h.update=m;j=true}if(i.length>0){h.destroy=i;j=true}if(j&&l.fireEvent("beforesync",h)!==false){l.proxy.batch(h,l.getBatchListeners())}},getBatchListeners:function(){var c=this,d={scope:c,exception:c.onBatchException};if(c.batchUpdateMode=="operation"){d.operationcomplete=c.onBatchOperationComplete}else{d.complete=c.onBatchComplete}return d},save:function(){return this.sync.apply(this,arguments)},load:function(d){var g=this,e;d=d||{};Ext.applyIf(d,{action:"read",filters:g.filters.items,sorters:g.getSorters()});e=Ext.create("Ext.data.Operation",d);if(g.fireEvent("beforeload",g,e)!==false){g.loading=true;g.proxy.read(e,g.onProxyLoad,g)}return g},afterEdit:function(d){var c=this;if(c.autoSync){c.sync()}c.fireEvent("update",c,d,Ext.data.Model.EDIT)},afterReject:function(b){this.fireEvent("update",this,b,Ext.data.Model.REJECT)},afterCommit:function(b){this.fireEvent("update",this,b,Ext.data.Model.COMMIT)},clearData:Ext.emptyFn,destroyStore:function(){var b=this;if(!b.isDestroyed){if(b.storeId){Ext.data.StoreManager.unregister(b)}b.clearData();b.data=null;b.tree=null;b.reader=b.writer=null;b.clearListeners();b.isDestroyed=true;if(b.implicitModel){Ext.destroy(b.model)}}},doSort:function(d){var c=this;if(c.remoteSort){c.load()}else{c.data.sortBy(d);c.fireEvent("datachanged",c)}},getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return !!this.loading}});Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",getGroupString:function(b){return b.get(this.property)}});Ext.define("Ext.data.Store",{extend:"Ext.data.AbstractStore",alias:"store.store",requires:["Ext.data.StoreManager","Ext.ModelManager","Ext.data.Model","Ext.util.Grouper"],uses:["Ext.data.proxy.Memory"],remoteSort:false,remoteFilter:false,remoteGroup:false,groupField:undefined,groupDir:"ASC",pageSize:25,currentPage:1,clearOnPageLoad:true,loading:false,sortOnFilter:true,buffered:false,purgePageCount:5,isStore:true,onClassExtended:function(g,i){var e=i.model;if(typeof e=="string"){var h=i.onBeforeClassCreated;i.onBeforeClassCreated=function(c,a){var b=this;Ext.require(e,function(){h.call(b,c,a)})}}},constructor:function(h){h=Ext.Object.merge({},h);var l=this,j=h.groupers||l.groupers,i=h.groupField||l.groupField,m,k;if(h.buffered||l.buffered){l.prefetchData=Ext.create("Ext.util.MixedCollection",false,function(a){return a.index});l.pendingRequests=[];l.pagesRequested=[];l.sortOnLoad=false;l.filterOnLoad=false}l.addEvents("beforeprefetch","groupchange","prefetch");k=h.data||l.data;l.data=Ext.create("Ext.util.MixedCollection",false,function(a){return a.internalId});if(k){l.inlineData=k;delete h.data}if(!j&&i){j=[{property:i,direction:h.groupDir||l.groupDir}]}delete h.groupers;l.groupers=Ext.create("Ext.util.MixedCollection");l.groupers.addAll(l.decodeGroupers(j));this.callParent([h]);if(l.groupers.items.length){l.sort(l.groupers.items,"prepend",false)}m=l.proxy;k=l.inlineData;if(k){if(m instanceof Ext.data.proxy.Memory){m.data=k;l.read()}else{l.add.apply(l,k)}l.sort();delete l.inlineData}else{if(l.autoLoad){Ext.defer(l.load,10,l,[typeof l.autoLoad==="object"?l.autoLoad:undefined])}}},onBeforeSort:function(){var b=this.groupers;
if(b.getCount()>0){this.sort(b.items,"prepend",false)}},decodeGroupers:function(j){if(!Ext.isArray(j)){if(j===undefined){j=[]}else{j=[j]}}var k=j.length,i=Ext.util.Grouper,h,g;for(g=0;g<k;g++){h=j[g];if(!(h instanceof i)){if(Ext.isString(h)){h={property:h}}Ext.applyIf(h,{root:"data",direction:"ASC"});if(h.fn){h.sorterFn=h.fn}if(typeof h=="function"){h={sorterFn:h}}j[g]=new i(h)}}return j},group:function(k,j){var l=this,m=false,h,i;if(Ext.isArray(k)){i=k}else{if(Ext.isObject(k)){i=[k]}else{if(Ext.isString(k)){h=l.groupers.get(k);if(!h){h={property:k,direction:j};i=[h]}else{if(j===undefined){h.toggle()}else{h.setDirection(j)}}}}}if(i&&i.length){m=true;i=l.decodeGroupers(i);l.groupers.clear();l.groupers.addAll(i)}if(l.remoteGroup){l.load({scope:l,callback:l.fireGroupChange})}else{l.sort(null,null,null,m);l.fireGroupChange()}},clearGrouping:function(){var b=this;b.groupers.each(function(a){b.sorters.remove(a)});b.groupers.clear();if(b.remoteGroup){b.load({scope:b,callback:b.fireGroupChange})}else{b.sort();b.fireEvent("groupchange",b,b.groupers)}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(s){var q=this.data.items,t=q.length,r=[],i={},n,m,l,p;for(p=0;p<t;p++){n=q[p];m=this.getGroupString(n);l=i[m];if(l===undefined){l={name:m,children:[]};r.push(l);i[m]=l}l.children.push(n)}return s?i[s]:r},getGroupsForGrouper:function(n,s){var q=n.length,p=[],t,r,l,i,m;for(m=0;m<q;m++){l=n[m];r=s.getGroupString(l);if(r!==t){i={name:r,grouper:s,records:[]};p.push(i)}i.records.push(l);t=r}return p},getGroupsForGrouperIndex:function(r,l){var n=this,m=n.groupers,i=m.getAt(l),k=n.getGroupsForGrouper(r,i),p=k.length,q;if(l+1<m.length){for(q=0;q<p;q++){k[q].children=n.getGroupsForGrouperIndex(k[q].records,l+1)}}for(q=0;q<p;q++){k[q].depth=l}return k},getGroupData:function(d){var c=this;if(d!==false){c.sort()}return c.getGroupsForGrouperIndex(c.data.items,0)},getGroupString:function(d){var c=this.groupers.first();if(c){return d.get(c.property)}return""},insert:function(n,p){var k=this,l=false,m,i,j;p=[].concat(p);for(m=0,j=p.length;m<j;m++){i=k.createModel(p[m]);i.set(k.modelDefaults);p[m]=i;k.data.insert(n+m,i);i.join(k);l=l||i.phantom===true}if(k.snapshot){k.snapshot.addAll(p)}k.fireEvent("add",k,p,n);k.fireEvent("datachanged",k);if(k.autoSync&&l){k.sync()}},add:function(g){if(!Ext.isArray(g)){g=Array.prototype.slice.apply(arguments)}var i=this,k=0,j=g.length,h;for(;k<j;k++){h=i.createModel(g[k]);g[k]=h}i.insert(i.data.length,g);return g},createModel:function(b){if(!b.isModel){b=Ext.ModelManager.create(b,this.model)}return b},each:function(c,d){this.data.each(c,d)},remove:function(s,i){if(!Ext.isArray(s)){s=[s]}i=i===true;var n=this,m=false,r=0,t=s.length,l,p,q;for(;r<t;r++){q=s[r];p=n.data.indexOf(q);if(n.snapshot){n.snapshot.remove(q)}if(p>-1){l=q.phantom===true;if(!i&&!l){n.removed.push(q)}q.unjoin(n);n.data.remove(q);m=m||!l;n.fireEvent("remove",n,q,p)}}n.fireEvent("datachanged",n);if(!i&&n.autoSync&&m){n.sync()}},removeAt:function(c){var d=this.getAt(c);if(d){this.remove(d)}},load:function(d){var c=this;d=d||{};if(Ext.isFunction(d)){d={callback:d}}Ext.applyIf(d,{groupers:c.groupers.items,page:c.currentPage,start:(c.currentPage-1)*c.pageSize,limit:c.pageSize,addRecords:false});return c.callParent([d])},onProxyLoad:function(g){var j=this,k=g.getResultSet(),h=g.getRecords(),i=g.wasSuccessful();if(k){j.totalCount=k.total}if(i){j.loadRecords(h,g)}j.loading=false;j.fireEvent("load",j,h,i);j.fireEvent("read",j,h,g.wasSuccessful());Ext.callback(g.callback,g.scope||j,[h,g,i])},onCreateRecords:function(u,t,i){if(i){var r=0,s=this.data,x=this.snapshot,w=u.length,n=t.records,q,v,p;for(;r<w;++r){q=u[r];v=n[r];if(v){p=s.indexOf(v);if(p>-1){s.removeAt(p);s.insert(p,q)}if(x){p=x.indexOf(v);if(p>-1){x.removeAt(p);x.insert(p,q)}}q.phantom=false;q.join(this)}}}},onUpdateRecords:function(q,r,l){if(l){var p=0,n=q.length,m=this.data,i=this.snapshot,k;for(;p<n;++p){k=q[p];m.replace(k);if(i){i.replace(k)}k.join(this)}}},onDestroyRecords:function(r,q,i){if(i){var l=this,n=0,s=r.length,p=l.data,t=l.snapshot,m;
for(;n<s;++n){m=r[n];m.unjoin(l);p.remove(m);if(t){t.remove(m)}}l.removed=[]}},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(m,l){if(Ext.isString(m)){m={property:m,value:l}}var n=this,j=n.decodeFilters(m),i=0,k=n.sortOnFilter&&!n.remoteSort,p=j.length;for(;i<p;i++){n.filters.replace(j[i])}if(n.remoteFilter){n.load()}else{if(n.filters.getCount()){n.snapshot=n.snapshot||n.data.clone();n.data=n.data.filter(n.filters.items);if(k){n.sort()}if(!k||n.sorters.length<1){n.fireEvent("datachanged",n)}}}},clearFilter:function(d){var c=this;c.filters.clear();if(c.remoteFilter){c.load()}else{if(c.isFiltered()){c.data=c.snapshot.clone();delete c.snapshot;if(d!==true){c.fireEvent("datachanged",c)}}}},isFiltered:function(){var b=this.snapshot;return !!b&&b!==this.data},filterBy:function(d,e){var g=this;g.snapshot=g.snapshot||g.data.clone();g.data=g.queryBy(d,e||g);g.fireEvent("datachanged",g)},queryBy:function(e,g){var i=this,h=i.snapshot||i.data;return h.filterBy(e,g||i)},loadData:function(k,j){var p=this.model,l=k.length,m=[],n,i;for(n=0;n<l;n++){i=k[n];if(!(i instanceof Ext.data.Model)){i=Ext.ModelManager.create(i,p)}m.push(i)}this.loadRecords(m,{addRecords:j})},loadRawData:function(i,g){var j=this,h=j.proxy.reader.read(i),k=h.records;if(h.success){j.loadRecords(k,{addRecords:g});j.fireEvent("load",j,k,true)}},loadRecords:function(h,g){var i=this,k=0,j=h.length;g=g||{};if(!g.addRecords){delete i.snapshot;i.clearData()}i.data.addAll(h);for(;k<j;k++){if(g.start!==undefined){h[k].index=g.start+k}h[k].join(i)}i.suspendEvents();if(i.filterOnLoad&&!i.remoteFilter){i.filter()}if(i.sortOnLoad&&!i.remoteSort){i.sort()}i.resumeEvents();i.fireEvent("datachanged",i,h)},loadPage:function(g,e){var d=this;e=Ext.apply({},e);d.currentPage=g;d.read(Ext.applyIf(e,{page:g,start:(g-1)*d.pageSize,limit:d.pageSize,addRecords:!d.clearOnPageLoad}))},nextPage:function(b){this.loadPage(this.currentPage+1,b)},previousPage:function(b){this.loadPage(this.currentPage-1,b)},clearData:function(){var b=this;b.data.each(function(a){a.unjoin(b)});b.data.clear()},prefetch:function(e){var i=this,g,h=i.getRequestId();e=e||{};Ext.applyIf(e,{action:"read",filters:i.filters.items,sorters:i.sorters.items,requestId:h});i.pendingRequests.push(h);g=Ext.create("Ext.data.Operation",e);if(i.fireEvent("beforeprefetch",i,g)!==false){i.loading=true;i.proxy.read(g,i.onProxyPrefetch,i)}return i},prefetchPage:function(k,m){var l=this,h=l.pageSize,j=(k-1)*l.pageSize,i=j+h;if(Ext.Array.indexOf(l.pagesRequested,k)===-1&&!l.rangeSatisfied(j,i)){m=m||{};l.pagesRequested.push(k);Ext.applyIf(m,{page:k,start:j,limit:h,callback:l.onWaitForGuarantee,scope:l});l.prefetch(m)}},getRequestId:function(){this.requestSeed=this.requestSeed||1;return this.requestSeed++},onProxyPrefetch:function(g){var j=this,k=g.getResultSet(),h=g.getRecords(),i=g.wasSuccessful();if(k){j.totalCount=k.total;j.fireEvent("totalcountchange",j.totalCount)}if(i){j.cacheRecords(h,g)}Ext.Array.remove(j.pendingRequests,g.requestId);if(g.page){Ext.Array.remove(j.pagesRequested,g.page)}j.loading=false;j.fireEvent("prefetch",j,h,i,g);if(g.blocking){j.fireEvent("load",j,h,i)}Ext.callback(g.callback,g.scope||j,[h,g,i])},cacheRecords:function(h,i){var k=this,m=0,l=h.length,j=i?i.start:0;if(!Ext.isDefined(k.totalCount)){k.totalCount=h.length;k.fireEvent("totalcountchange",k.totalCount)}for(;m<l;m++){h[m].index=j+m}k.prefetchData.addAll(h);if(k.purgePageCount){k.purgeRecords()}},purgeRecords:function(){var k=this,g=k.prefetchData.getCount(),j=k.purgePageCount*k.pageSize,i=g-j-1,h=0;for(;h<=i;h++){k.prefetchData.removeAt(0)}},rangeSatisfied:function(i,h){var k=this,g=i,j=true;for(;g<h;g++){if(!k.prefetchData.getByKey(g)){j=false;break}}return j},getPageFromRecordIndex:function(b){return Math.floor(b/this.pageSize)+1},onGuaranteedRange:function(){var l=this,p=l.getTotalCount(),k=l.requestStart,i=((p-1)<l.requestEnd)?p-1:l.requestEnd,n=[],j,m=k;i=Math.max(0,i);if(k!==l.guaranteedStart&&i!==l.guaranteedEnd){l.guaranteedStart=k;
l.guaranteedEnd=i;for(;m<=i;m++){j=l.prefetchData.getByKey(m);if(j){n.push(j)}}l.fireEvent("guaranteedrange",n,k,i);if(l.cb){l.cb.call(l.scope||l,n)}}l.unmask()},mask:function(){this.masked=true;this.fireEvent("beforeload")},unmask:function(){if(this.masked){this.fireEvent("load")}},hasPendingRequests:function(){return this.pendingRequests.length},onWaitForGuarantee:function(){if(!this.hasPendingRequests()){this.onGuaranteedRange()}},guaranteeRange:function(z,x,y,i){x=(x>this.totalCount)?this.totalCount-1:x;var s=this,w=z,q=s.prefetchData,v=[],t=!!q.getByKey(z),r=!!q.getByKey(x),u=s.getPageFromRecordIndex(z),p=s.getPageFromRecordIndex(x);s.cb=y;s.scope=i;s.requestStart=z;s.requestEnd=x;if(!t||!r){if(u===p){s.mask();s.prefetchPage(u,{callback:s.onWaitForGuarantee,scope:s})}else{s.mask();s.prefetchPage(u,{callback:s.onWaitForGuarantee,scope:s});s.prefetchPage(p,{callback:s.onWaitForGuarantee,scope:s})}}else{s.onGuaranteedRange()}},sort:function(){var l=this,m=l.prefetchData,k,j,i,h;if(l.buffered){if(l.remoteSort){m.clear();l.callParent(arguments)}else{k=l.getSorters();j=l.guaranteedStart;i=l.guaranteedEnd;if(k.length){m.sort(k);h=m.getRange();m.clear();l.cacheRecords(h);delete l.guaranteedStart;delete l.guaranteedEnd;l.guaranteeRange(j,i)}l.callParent(arguments)}}else{l.callParent(arguments)}},doSort:function(g){var i=this;if(i.remoteSort){i.load()}else{i.data.sortBy(g);if(!i.buffered){var h=i.getRange(),j=h.length,k=0;for(;k<j;k++){h[k].index=k}}i.fireEvent("datachanged",i)}},find:function(m,n,k,l,j,p){var i=this.createFilterFn(m,n,l,j,p);return i?this.data.findIndexBy(i,null,k):-1},findRecord:function(){var c=this,d=c.find.apply(c,arguments);return d!==-1?c.getAt(d):null},createFilterFn:function(j,k,i,h,g){if(Ext.isEmpty(k)){return false}k=this.data.createValueMatcher(k,i,h,g);return function(a){return k.test(a.data[j])}},findExact:function(d,e,g){return this.data.findIndexBy(function(a){return a.get(d)==e},this,g)},findBy:function(d,e,g){return this.data.findIndexBy(d,e,g)},collect:function(g,h,k){var j=this,i=(k===true&&j.snapshot)?j.snapshot:j.data;return i.collect(g,"data",h)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalCount},getAt:function(b){return this.data.getAt(b)},getRange:function(c,d){return this.data.getRange(c,d)},getById:function(b){return(this.snapshot||this.data).findBy(function(a){return a.getId()===b})},indexOf:function(b){return this.data.indexOf(b)},indexOfTotal:function(d){var c=d.index;if(c||c===0){return c}return this.indexOf(d)},indexOfId:function(b){return this.indexOf(this.getById(b))},removeAll:function(d){var c=this;c.clearData();if(c.snapshot){c.snapshot.clear()}if(d!==true){c.fireEvent("clear",c)}},first:function(d){var c=this;if(d&&c.isGrouped()){return c.aggregate(function(a){return a.length?a[0]:undefined},c,true)}else{return c.data.first()}},last:function(d){var c=this;if(d&&c.isGrouped()){return c.aggregate(function(a){var b=a.length;return b?a[b-1]:undefined},c,true)}else{return c.data.last()}},sum:function(g,e){var d=this;if(e&&d.isGrouped()){return d.aggregate(d.getSum,d,true,[g])}else{return d.getSum(d.data.items,g)}},getSum:function(g,i){var j=0,k=0,h=g.length;for(;k<h;++k){j+=g[k].get(i)}return j},count:function(d){var c=this;if(d&&c.isGrouped()){return c.aggregate(function(a){return a.length},c,true)}else{return c.getCount()}},min:function(g,e){var d=this;if(e&&d.isGrouped()){return d.aggregate(d.getMin,d,true,[g])}else{return d.getMin(d.data.items,g)}},getMin:function(h,j){var l=1,i=h.length,k,m;if(i>0){m=h[0].get(j)}for(;l<i;++l){k=h[l].get(j);if(k<m){m=k}}return m},max:function(g,e){var d=this;if(e&&d.isGrouped()){return d.aggregate(d.getMax,d,true,[g])}else{return d.getMax(d.data.items,g)}},getMax:function(m,j){var l=1,h=m.length,k,i;if(h>0){i=m[0].get(j)}for(;l<h;++l){k=m[l].get(j);if(k>i){i=k}}return i},average:function(g,e){var d=this;if(e&&d.isGrouped()){return d.aggregate(d.getAverage,d,true,[g])}else{return d.getAverage(d.data.items,g)}},getAverage:function(g,i){var k=0,h=g.length,j=0;if(g.length>0){for(;k<h;++k){j+=g[k].get(i)
}return j/h}return 0},aggregate:function(m,i,p,n){n=n||[];if(p&&this.isGrouped()){var t=this.getGroups(),r=0,q=t.length,s={},l;for(;r<q;++r){l=t[r];s[l.name]=m.apply(i||this,[l.children].concat(n))}return s}else{return m.apply(i||this,[this.data.items].concat(n))}}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"proxy"})});Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",constructor:function(b){b=b||{};Ext.applyIf(b,{proxy:{type:"ajax",reader:"json",writer:"json"}});this.callParent([b])}});Ext.define("Ext.chart.axis.Time",{extend:"Ext.chart.axis.Numeric",alternateClassName:"Ext.chart.TimeAxis",alias:"axis.time",requires:["Ext.data.Store","Ext.data.JsonStore"],dateFormat:false,fromDate:false,toDate:false,step:[Ext.Date.DAY,1],constrain:false,roundToDecimal:false,constructor:function(g){var k=this,h,j,i;k.callParent([g]);h=k.label||{};i=this.dateFormat;if(i){if(h.renderer){j=h.renderer;h.renderer=function(a){a=j(a);return Ext.Date.format(new Date(j(a)),i)}}else{h.renderer=function(a){return Ext.Date.format(new Date(a>>0),i)}}}},doConstrain:function(){var w=this,I=w.chart.store,l=[],F=w.chart.series.items,J=Math,i=J.max,x=J.min,D=w.fields,G=D.length,E=w.getRange(),B=E.min,z=E.max,y,A,K=[],C,L,H,l=[];for(y=0,A=F.length;y<A;y++){K[y]=F[y].__excludes}I.each(function(a){for(y=0;y<G;y++){if(K[y]){continue}C=a.get(D[y]);if(+C<+B){return}if(+C>+z){return}}l.push(a)});w.chart.substore=Ext.create("Ext.data.JsonStore",{model:I.model,data:l})},processView:function(){var b=this;if(b.fromDate){b.minimum=+b.fromDate}if(b.toDate){b.maximum=+b.toDate}if(b.constrain){b.doConstrain()}},calcEnds:function(){var g=this,e,d=g.step;if(d){e=g.getRange();e=Ext.draw.Draw.snapEndsByDateAndStep(new Date(e.min),new Date(e.max),Ext.isNumber(d)?[Date.MILLI,d]:d);if(g.minimum){e.from=g.minimum}if(g.maximum){e.to=g.maximum}e.step=(e.to-e.from)/e.steps;return e}else{return g.callParent(arguments)}}});Ext.define("Ext.chart.series.Series",{mixins:{observable:"Ext.util.Observable",labels:"Ext.chart.Label",highlights:"Ext.chart.Highlight",tips:"Ext.chart.Tip",callouts:"Ext.chart.Callout"},type:null,title:null,showInLegend:true,renderer:function(i,h,k,j,g){return k},shadowAttributes:null,triggerAfterDraw:false,constructor:function(d){var c=this;if(d){Ext.apply(c,d)}c.shadowGroups=[];c.mixins.labels.constructor.call(c,d);c.mixins.highlights.constructor.call(c,d);c.mixins.tips.constructor.call(c,d);c.mixins.callouts.constructor.call(c,d);c.addEvents({scope:c,itemmouseover:true,itemmouseout:true,itemmousedown:true,itemmouseup:true,mouseleave:true,afterdraw:true,titlechange:true});c.mixins.observable.constructor.call(c,d);c.on({scope:c,itemmouseover:c.onItemMouseOver,itemmouseout:c.onItemMouseOut,mouseleave:c.onMouseLeave})},eachRecord:function(g,d){var e=this.chart;(e.substore||e.store).each(g,d)},getRecordCount:function(){var c=this.chart,d=c.substore||c.store;return d?d.getCount():0},isExcluded:function(d){var c=this.__excludes;return !!(c&&c[d])},setBBox:function(k){var p=this,r=p.chart,j=r.chartBBox,n=k?0:r.maxGutter[0],q=k?0:r.maxGutter[1],m,l;m={x:j.x,y:j.y,width:j.width,height:j.height};p.clipBox=m;l={x:(m.x+n)-(r.zoom.x*r.zoom.width),y:(m.y+q)-(r.zoom.y*r.zoom.height),width:(m.width-(n*2))*r.zoom.width,height:(m.height-(q*2))*r.zoom.height};p.bbox=l},onAnimate:function(d,e){var g=this;d.stopAnimation();if(g.triggerAfterDraw){return d.animate(Ext.applyIf(e,g.chart.animate))}else{g.triggerAfterDraw=true;return d.animate(Ext.apply(Ext.applyIf(e,g.chart.animate),{listeners:{afteranimate:function(){g.triggerAfterDraw=false;g.fireEvent("afterrender")}}}))}},getGutters:function(){return[0,0]},onItemMouseOver:function(c){var d=this;if(c.series===d){if(d.highlight){d.highlightItem(c)}if(d.tooltip){d.showTip(c)}}},onItemMouseOut:function(c){var d=this;if(c.series===d){d.unHighlightItem();if(d.tooltip){d.hideTip(c)}}},onMouseLeave:function(){var b=this;b.unHighlightItem();if(b.tooltip){b.hideTip()}},getItemForPoint:function(k,l){if(!this.items||!this.items.length||this.seriesIsHidden){return null}var n=this,i=n.items,m=n.bbox,p,r,q;
if(!Ext.draw.Draw.withinBox(k,l,m)){return null}for(r=0,q=i.length;r<q;r++){if(i[r]&&this.isItemInPoint(k,l,i[r],r)){return i[r]}}return null},isItemInPoint:function(g,h,i,e){return false},hideAll:function(){var l=this,n=l.items,i,p,q,r,t,j,s;l.seriesIsHidden=true;l._prevShowMarkers=l.showMarkers;l.showMarkers=false;l.hideLabels(0);for(q=0,p=n.length;q<p;q++){i=n[q];j=i.sprite;if(j){j.setAttributes({hidden:true},true)}if(j&&j.shadows){s=j.shadows;for(r=0,t=s.length;r<t;++r){s[r].setAttributes({hidden:true},true)}}}},showAll:function(){var d=this,c=d.chart.animate;d.chart.animate=false;d.seriesIsHidden=false;d.showMarkers=d._prevShowMarkers;d.drawSeries();d.chart.animate=c},getLegendColor:function(g){var e=this,h,i;if(e.seriesStyle){h=e.seriesStyle.fill;i=e.seriesStyle.stroke;if(h&&h!="none"){return h}return i}return"#000"},visibleInLegend:function(d){var c=this.__excludes;if(c){return !c[d]}return !this.seriesIsHidden},setTitle:function(g,h){var i=this,e=i.title;if(Ext.isString(g)){h=g;g=0}if(Ext.isArray(e)){e[g]=h}else{i.title=h}i.fireEvent("titlechange",h,g)}});Ext.define("Ext.chart.series.Cartesian",{extend:"Ext.chart.series.Series",alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var d=this,g=[],e=d.combinations;Ext.each([].concat(d.yField),function(b,c){var a=d.title;g.push((Ext.isArray(a)?a[c]:a)||b)});if(e){Ext.each(e,function(b){var c=g[b[0]],a=g[b[1]];g[b[1]]=c+" & "+a;g.splice(b[0],1)})}return g},eachYValue:function(e,g,d){Ext.each(this.getYValueAccessors(),function(b,a){g.call(d,b(e),a)})},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(j,k){var l=this,m=l.getYValueAccessors(),h=m[j],i=m[k];m[k]=function(a){return h(a)+i(a)};m.splice(j,1);l.callParent([j,k])},clearCombinations:function(){delete this.yValueAccessors;this.callParent()},getYValueAccessors:function(){var c=this,d=c.yValueAccessors;if(!d){d=c.yValueAccessors=[];Ext.each([].concat(c.yField),function(a){d.push(function(b){return b.get(a)})})}return d},getMinMaxXValues:function(){var h=this,e,g,i=h.xField;if(h.getRecordCount()>0){e=Infinity;g=-e;h.eachRecord(function(b){var a=b.get(i);if(a>g){g=a}if(a<e){e=a}})}else{e=g=0}return[e,g]},getMinMaxYValues:function(){var l=this,n=l.stacked,p,r,q,j;function m(a,b){if(!l.isExcluded(b)){if(a<0){j+=a}else{q+=a}}}function k(a,b){if(!l.isExcluded(b)){if(a>r){r=a}if(a<p){p=a}}}if(l.getRecordCount()>0){p=Infinity;r=-p;l.eachRecord(function(a){if(n){q=0;j=0;l.eachYValue(a,m);if(q>r){r=q}if(j<p){p=j}}else{l.eachYValue(a,k)}})}else{p=r=0}return[p,r]},getAxesForXAndYFields:function(){var k=this,i=k.chart.axes,g=[].concat(k.axis),j,h;if(Ext.Array.indexOf(g,"top")>-1){j="top"}else{if(Ext.Array.indexOf(g,"bottom")>-1){j="bottom"}else{if(i.get("top")){j="top"}else{if(i.get("bottom")){j="bottom"}}}}if(Ext.Array.indexOf(g,"left")>-1){h="left"}else{if(Ext.Array.indexOf(g,"right")>-1){h="right"}else{if(i.get("left")){h="left"}else{if(i.get("right")){h="right"}}}}return{xAxis:j,yAxis:h}}});Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.Cartesian",alias:"series.area",requires:["Ext.chart.axis.Axis","Ext.draw.Color","Ext.fx.Anim"],type:"area",stacked:true,style:{},constructor:function(k){this.callParent(arguments);var i=this,h=i.chart.surface,j,g;Ext.apply(i,k,{__excludes:[],highlightCfg:{lineWidth:3,stroke:"#55c",opacity:0.8,color:"#f00"}});if(i.highlight){i.highlightSprite=h.add({type:"path",path:["M",0,0],zIndex:1000,opacity:0.3,lineWidth:5,hidden:true,stroke:"#444"})}i.group=h.getGroup(i.seriesId)},shrink:function(y,j,i){var s=y.length,q=Math.floor(s/i),t,u,w=0,r=this.areas.length,z=[],v=[],x=[];for(u=0;u<r;++u){z[u]=0}for(t=0;t<s;++t){w+=y[t];for(u=0;u<r;++u){z[u]+=j[t][u]}if(t%q==0){v.push(w/q);for(u=0;u<r;++u){z[u]/=q}x.push(z);w=0;for(u=0,z=[];u<r;++u){z[u]=0}}}return{x:v,y:x}},getBounds:function(){var F=this,R=F.chart,V=R.getChartStore(),W=[].concat(F.yField),D=W.length,P=[],Y=[],E=Infinity,H=E,J=E,I=-E,K=-E,Z=Math,G=Z.min,M=Z.max,ab,O,aa,Q,N,C,T,U,X,S,L;F.setBBox();ab=F.bbox;if(F.axis){axis=R.axes.get(F.axis);
if(axis){out=axis.calcEnds();J=out.from||axis.prevMin;K=M(out.to||axis.prevMax,0)}}if(F.yField&&!Ext.isNumber(J)){axis=Ext.create("Ext.chart.axis.Axis",{chart:R,fields:[].concat(F.yField)});out=axis.calcEnds();J=out.from||axis.prevMin;K=M(out.to||axis.prevMax,0)}if(!Ext.isNumber(J)){J=0}if(!Ext.isNumber(K)){K=0}V.each(function(b,a){Q=b.get(F.xField);N=[];if(typeof Q!="number"){Q=a}P.push(Q);T=0;for(C=0;C<D;C++){L=b.get(W[C]);if(typeof L=="number"){J=G(J,L);N.push(L);T+=L}}H=G(H,Q);I=M(I,Q);K=M(K,T);Y.push(N)},F);O=ab.width/((I-H)||1);aa=ab.height/((K-J)||1);U=P.length;if((U>ab.width)&&F.areas){X=F.shrink(P,Y,ab.width);P=X.x;Y=X.y}return{bbox:ab,minX:H,minY:J,xValues:P,yValues:Y,xScale:O,yScale:aa,areasLen:D}},getPaths:function(){var x=this,I=x.chart,P=I.getChartStore(),O=true,N=x.getBounds(),R=N.bbox,H=x.items=[],y=[],Q,F=[],C,L,K,M,E,B,J,i,D,A,G;L=N.xValues.length;for(C=0;C<L;C++){E=N.xValues[C];B=N.yValues[C];K=R.x+(E-N.minX)*N.xScale;J=0;for(i=0;i<N.areasLen;i++){if(x.__excludes[i]){continue}if(!y[i]){y[i]=[]}A=B[i];J+=A;M=R.y+R.height-(J-N.minY)*N.yScale;if(!F[i]){F[i]=["M",K,M];y[i].push(["L",K,M])}else{F[i].push("L",K,M);y[i].push(["L",K,M])}if(!H[i]){H[i]={pointsUp:[],pointsDown:[],series:x}}H[i].pointsUp.push([K,M])}}for(i=0;i<N.areasLen;i++){if(x.__excludes[i]){continue}G=F[i];if(i==0||O){O=false;G.push("L",K,R.y+R.height,"L",R.x,R.y+R.height,"Z")}else{Q=y[D];Q.reverse();G.push("L",K,Q[0][2]);for(C=0;C<L;C++){G.push(Q[C][0],Q[C][1],Q[C][2]);H[i].pointsDown[L-C-1]=[Q[C][1],Q[C][2]]}G.push("L",R.x,G[2],"Z")}D=i}return{paths:F,areasLen:N.areasLen}},drawSeries:function(){var x=this,y=x.chart,w=y.getChartStore(),B=y.surface,C=y.animate,u=x.group,D=Ext.apply(x.seriesStyle,x.style),t=x.colorArrayStyle,q=t&&t.length||0,A,z,r,s,v;x.unHighlightItem();x.cleanHighlights();if(!w||!w.getCount()){return}r=x.getPaths();if(!x.areas){x.areas=[]}for(A=0;A<r.areasLen;A++){if(x.__excludes[A]){continue}if(!x.areas[A]){x.items[A].sprite=x.areas[A]=B.add(Ext.apply({},{type:"path",group:u,path:r.paths[A],stroke:D.stroke||t[A%q],fill:t[A%q]},D||{}))}z=x.areas[A];s=r.paths[A];if(C){v=x.renderer(z,false,{path:s,fill:t[A%q],stroke:D.stroke||t[A%q]},A,w);x.animation=x.onAnimate(z,{to:v})}else{v=x.renderer(z,false,{path:s,hidden:false,fill:t[A%q],stroke:D.stroke||t[A%q]},A,w);x.areas[A].setAttributes(v,true)}}x.renderLabels();x.renderCallouts()},onAnimate:function(c,d){c.show();return this.callParent(arguments)},onCreateLabel:function(q,i,r,p){var n=this,m=n.labelsGroup,t=n.label,l=n.bbox,s=Ext.apply(t,n.seriesLabelStyle);return n.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:m,x:i.point[0],y:l.y+l.height/2},s||{}))},onPlaceLabel:function(I,F,x,A,B,L,J){var i=this,E=i.chart,y=E.resizing,w=i.label,z=w.renderer,M=w.field,N=i.bbox,G=x.point[0],H=x.point[1],K,C,D;I.setAttributes({text:z(F.get(M[J])),hidden:true},true);K=I.getBBox();C=K.width/2;D=K.height/2;G=G-C<N.x?N.x+C:G;G=(G+C>N.x+N.width)?(G-(G+C-N.x-N.width)):G;H=H-D<N.y?N.y+D:H;H=(H+D>N.y+N.height)?(H-(H+D-N.y-N.height)):H;if(i.chart.animate&&!i.chart.resizing){I.show(true);i.onAnimate(I,{to:{x:G,y:H}})}else{I.setAttributes({x:G,y:H},true);if(y){i.animation.on("afteranimate",function(){I.show(true)})}else{I.show(true)}}},onPlaceCallout:function(ai,ab,P,S,V,ap,ak){var i=this,Z=i.chart,Y=Z.surface,R=Z.resizing,p=i.callouts,X=i.items,T=(S==0)?false:X[S-1].point,ag=(S==X.length-1)?false:X[S+1].point,aq=P.point,af,an,a,x,ae,ad,ar=ai.label.getBBox(),Q=30,aa=10,ac=3,am,ao,al,y,U,W=i.clipRect,ah,aj;if(!T){T=aq}if(!ag){ag=aq}x=(ag[1]-T[1])/(ag[0]-T[0]);ae=(aq[1]-T[1])/(aq[0]-T[0]);ad=(ag[1]-aq[1])/(ag[0]-aq[0]);an=Math.sqrt(1+x*x);af=[1/an,x/an];a=[-af[1],af[0]];if(ae>0&&ad<0&&a[1]<0||ae<0&&ad>0&&a[1]>0){a[0]*=-1;a[1]*=-1}else{if(Math.abs(ae)<Math.abs(ad)&&a[0]<0||Math.abs(ae)>Math.abs(ad)&&a[0]>0){a[0]*=-1;a[1]*=-1}}ah=aq[0]+a[0]*Q;aj=aq[1]+a[1]*Q;am=ah+(a[0]>0?0:-(ar.width+2*ac));ao=aj-ar.height/2-ac;al=ar.width+2*ac;y=ar.height+2*ac;if(am<W[0]||(am+al)>(W[0]+W[2])){a[0]*=-1}if(ao<W[1]||(ao+y)>(W[1]+W[3])){a[1]*=-1}ah=aq[0]+a[0]*Q;aj=aq[1]+a[1]*Q;am=ah+(a[0]>0?0:-(ar.width+2*ac));
ao=aj-ar.height/2-ac;al=ar.width+2*ac;y=ar.height+2*ac;ai.lines.setAttributes({path:["M",aq[0],aq[1],"L",ah,aj,"Z"]},true);ai.box.setAttributes({x:am,y:ao,width:al,height:y},true);ai.label.setAttributes({x:ah+(a[0]>0?ac:-(ar.width+ac)),y:aj},true);for(U in ai){ai[U].show(true)}},isItemInPoint:function(s,t,q,x){var u=this,y=q.pointsUp,w=q.pointsDown,i=Math.abs,v=Infinity,z,p,r;for(z=0,p=y.length;z<p;z++){r=[y[z][0],y[z][1]];if(v>i(s-r[0])){v=i(s-r[0])}else{r=y[z-1];if(t>=r[1]&&(!w.length||t<=(w[z-1][1]))){q.storeIndex=z-1;q.storeField=u.yField[x];q.storeItem=u.chart.store.getAt(z-1);q._points=w.length?[r,w[z-1]]:[r];return true}else{break}}}return false},highlightSeries:function(){var e,g,d;if(this._index!==undefined){e=this.areas[this._index];if(e.__highlightAnim){e.__highlightAnim.paused=true}e.__highlighted=true;e.__prevOpacity=e.__prevOpacity||e.attr.opacity||1;e.__prevFill=e.__prevFill||e.attr.fill;e.__prevLineWidth=e.__prevLineWidth||e.attr.lineWidth;d=Ext.draw.Color.fromString(e.__prevFill);g={lineWidth:(e.__prevLineWidth||0)+2};if(d){g.fill=d.getLighter(0.2).toString()}else{g.opacity=Math.max(e.__prevOpacity-0.3,0)}if(this.chart.animate){e.__highlightAnim=Ext.create("Ext.fx.Anim",Ext.apply({target:e,to:g},this.chart.animate))}else{e.setAttributes(g,true)}}},unHighlightSeries:function(){var b;if(this._index!==undefined){b=this.areas[this._index];if(b.__highlightAnim){b.__highlightAnim.paused=true}if(b.__highlighted){b.__highlighted=false;b.__highlightAnim=Ext.create("Ext.fx.Anim",{target:b,to:{fill:b.__prevFill,opacity:b.__prevOpacity,lineWidth:b.__prevLineWidth}})}}},highlightItem:function(i){var e=this,g,h;if(!i){this.highlightSeries();return}g=i._points;h=g.length==2?["M",g[0][0],g[0][1],"L",g[1][0],g[1][1]]:["M",g[0][0],g[0][1],"L",g[0][0],e.bbox.y+e.bbox.height];e.highlightSprite.setAttributes({path:h,hidden:false},true)},unHighlightItem:function(b){if(!b){this.unHighlightSeries()}if(this.highlightSprite){this.highlightSprite.hide(true)}},hideAll:function(){if(!isNaN(this._index)){this.__excludes[this._index]=true;this.areas[this._index].hide(true);this.drawSeries()}},showAll:function(){if(!isNaN(this._index)){this.__excludes[this._index]=false;this.areas[this._index].show(true);this.drawSeries()}},getLegendColor:function(d){var c=this;return c.colorArrayStyle[d%c.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.Cartesian",alias:"series.area",requires:["Ext.chart.axis.Axis","Ext.draw.Color","Ext.fx.Anim"],type:"area",stacked:true,style:{},constructor:function(k){this.callParent(arguments);var i=this,h=i.chart.surface,j,g;Ext.apply(i,k,{__excludes:[],highlightCfg:{lineWidth:3,stroke:"#55c",opacity:0.8,color:"#f00"}});if(i.highlight){i.highlightSprite=h.add({type:"path",path:["M",0,0],zIndex:1000,opacity:0.3,lineWidth:5,hidden:true,stroke:"#444"})}i.group=h.getGroup(i.seriesId)},shrink:function(y,j,i){var s=y.length,q=Math.floor(s/i),t,u,w=0,r=this.areas.length,z=[],v=[],x=[];for(u=0;u<r;++u){z[u]=0}for(t=0;t<s;++t){w+=y[t];for(u=0;u<r;++u){z[u]+=j[t][u]}if(t%q==0){v.push(w/q);for(u=0;u<r;++u){z[u]/=q}x.push(z);w=0;for(u=0,z=[];u<r;++u){z[u]=0}}}return{x:v,y:x}},getBounds:function(){var F=this,R=F.chart,V=R.getChartStore(),W=[].concat(F.yField),D=W.length,P=[],Y=[],E=Infinity,H=E,J=E,I=-E,K=-E,Z=Math,G=Z.min,M=Z.max,ab,O,aa,Q,N,C,T,U,X,S,L;F.setBBox();ab=F.bbox;if(F.axis){axis=R.axes.get(F.axis);if(axis){out=axis.calcEnds();J=out.from||axis.prevMin;K=M(out.to||axis.prevMax,0)}}if(F.yField&&!Ext.isNumber(J)){axis=Ext.create("Ext.chart.axis.Axis",{chart:R,fields:[].concat(F.yField)});out=axis.calcEnds();J=out.from||axis.prevMin;K=M(out.to||axis.prevMax,0)}if(!Ext.isNumber(J)){J=0}if(!Ext.isNumber(K)){K=0}V.each(function(b,a){Q=b.get(F.xField);N=[];if(typeof Q!="number"){Q=a}P.push(Q);T=0;for(C=0;C<D;C++){L=b.get(W[C]);if(typeof L=="number"){J=G(J,L);N.push(L);T+=L}}H=G(H,Q);I=M(I,Q);K=M(K,T);Y.push(N)},F);O=ab.width/((I-H)||1);aa=ab.height/((K-J)||1);U=P.length;if((U>ab.width)&&F.areas){X=F.shrink(P,Y,ab.width);P=X.x;Y=X.y}return{bbox:ab,minX:H,minY:J,xValues:P,yValues:Y,xScale:O,yScale:aa,areasLen:D}
},getPaths:function(){var x=this,I=x.chart,P=I.getChartStore(),O=true,N=x.getBounds(),R=N.bbox,H=x.items=[],y=[],Q,F=[],C,L,K,M,E,B,J,i,D,A,G;L=N.xValues.length;for(C=0;C<L;C++){E=N.xValues[C];B=N.yValues[C];K=R.x+(E-N.minX)*N.xScale;J=0;for(i=0;i<N.areasLen;i++){if(x.__excludes[i]){continue}if(!y[i]){y[i]=[]}A=B[i];J+=A;M=R.y+R.height-(J-N.minY)*N.yScale;if(!F[i]){F[i]=["M",K,M];y[i].push(["L",K,M])}else{F[i].push("L",K,M);y[i].push(["L",K,M])}if(!H[i]){H[i]={pointsUp:[],pointsDown:[],series:x}}H[i].pointsUp.push([K,M])}}for(i=0;i<N.areasLen;i++){if(x.__excludes[i]){continue}G=F[i];if(i==0||O){O=false;G.push("L",K,R.y+R.height,"L",R.x,R.y+R.height,"Z")}else{Q=y[D];Q.reverse();G.push("L",K,Q[0][2]);for(C=0;C<L;C++){G.push(Q[C][0],Q[C][1],Q[C][2]);H[i].pointsDown[L-C-1]=[Q[C][1],Q[C][2]]}G.push("L",R.x,G[2],"Z")}D=i}return{paths:F,areasLen:N.areasLen}},drawSeries:function(){var x=this,y=x.chart,w=y.getChartStore(),B=y.surface,C=y.animate,u=x.group,D=Ext.apply(x.seriesStyle,x.style),t=x.colorArrayStyle,q=t&&t.length||0,A,z,r,s,v;x.unHighlightItem();x.cleanHighlights();if(!w||!w.getCount()){return}r=x.getPaths();if(!x.areas){x.areas=[]}for(A=0;A<r.areasLen;A++){if(x.__excludes[A]){continue}if(!x.areas[A]){x.items[A].sprite=x.areas[A]=B.add(Ext.apply({},{type:"path",group:u,path:r.paths[A],stroke:D.stroke||t[A%q],fill:t[A%q]},D||{}))}z=x.areas[A];s=r.paths[A];if(C){v=x.renderer(z,false,{path:s,fill:t[A%q],stroke:D.stroke||t[A%q]},A,w);x.animation=x.onAnimate(z,{to:v})}else{v=x.renderer(z,false,{path:s,hidden:false,fill:t[A%q],stroke:D.stroke||t[A%q]},A,w);x.areas[A].setAttributes(v,true)}}x.renderLabels();x.renderCallouts()},onAnimate:function(c,d){c.show();return this.callParent(arguments)},onCreateLabel:function(q,i,r,p){var n=this,m=n.labelsGroup,t=n.label,l=n.bbox,s=Ext.apply(t,n.seriesLabelStyle);return n.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:m,x:i.point[0],y:l.y+l.height/2},s||{}))},onPlaceLabel:function(I,F,x,A,B,L,J){var i=this,E=i.chart,y=E.resizing,w=i.label,z=w.renderer,M=w.field,N=i.bbox,G=x.point[0],H=x.point[1],K,C,D;I.setAttributes({text:z(F.get(M[J])),hidden:true},true);K=I.getBBox();C=K.width/2;D=K.height/2;G=G-C<N.x?N.x+C:G;G=(G+C>N.x+N.width)?(G-(G+C-N.x-N.width)):G;H=H-D<N.y?N.y+D:H;H=(H+D>N.y+N.height)?(H-(H+D-N.y-N.height)):H;if(i.chart.animate&&!i.chart.resizing){I.show(true);i.onAnimate(I,{to:{x:G,y:H}})}else{I.setAttributes({x:G,y:H},true);if(y){i.animation.on("afteranimate",function(){I.show(true)})}else{I.show(true)}}},onPlaceCallout:function(ai,ab,P,S,V,ap,ak){var i=this,Z=i.chart,Y=Z.surface,R=Z.resizing,p=i.callouts,X=i.items,T=(S==0)?false:X[S-1].point,ag=(S==X.length-1)?false:X[S+1].point,aq=P.point,af,an,a,x,ae,ad,ar=ai.label.getBBox(),Q=30,aa=10,ac=3,am,ao,al,y,U,W=i.clipRect,ah,aj;if(!T){T=aq}if(!ag){ag=aq}x=(ag[1]-T[1])/(ag[0]-T[0]);ae=(aq[1]-T[1])/(aq[0]-T[0]);ad=(ag[1]-aq[1])/(ag[0]-aq[0]);an=Math.sqrt(1+x*x);af=[1/an,x/an];a=[-af[1],af[0]];if(ae>0&&ad<0&&a[1]<0||ae<0&&ad>0&&a[1]>0){a[0]*=-1;a[1]*=-1}else{if(Math.abs(ae)<Math.abs(ad)&&a[0]<0||Math.abs(ae)>Math.abs(ad)&&a[0]>0){a[0]*=-1;a[1]*=-1}}ah=aq[0]+a[0]*Q;aj=aq[1]+a[1]*Q;am=ah+(a[0]>0?0:-(ar.width+2*ac));ao=aj-ar.height/2-ac;al=ar.width+2*ac;y=ar.height+2*ac;if(am<W[0]||(am+al)>(W[0]+W[2])){a[0]*=-1}if(ao<W[1]||(ao+y)>(W[1]+W[3])){a[1]*=-1}ah=aq[0]+a[0]*Q;aj=aq[1]+a[1]*Q;am=ah+(a[0]>0?0:-(ar.width+2*ac));ao=aj-ar.height/2-ac;al=ar.width+2*ac;y=ar.height+2*ac;ai.lines.setAttributes({path:["M",aq[0],aq[1],"L",ah,aj,"Z"]},true);ai.box.setAttributes({x:am,y:ao,width:al,height:y},true);ai.label.setAttributes({x:ah+(a[0]>0?ac:-(ar.width+ac)),y:aj},true);for(U in ai){ai[U].show(true)}},isItemInPoint:function(s,t,q,x){var u=this,y=q.pointsUp,w=q.pointsDown,i=Math.abs,v=Infinity,z,p,r;for(z=0,p=y.length;z<p;z++){r=[y[z][0],y[z][1]];if(v>i(s-r[0])){v=i(s-r[0])}else{r=y[z-1];if(t>=r[1]&&(!w.length||t<=(w[z-1][1]))){q.storeIndex=z-1;q.storeField=u.yField[x];q.storeItem=u.chart.store.getAt(z-1);q._points=w.length?[r,w[z-1]]:[r];return true}else{break}}}return false},highlightSeries:function(){var e,g,d;if(this._index!==undefined){e=this.areas[this._index];
if(e.__highlightAnim){e.__highlightAnim.paused=true}e.__highlighted=true;e.__prevOpacity=e.__prevOpacity||e.attr.opacity||1;e.__prevFill=e.__prevFill||e.attr.fill;e.__prevLineWidth=e.__prevLineWidth||e.attr.lineWidth;d=Ext.draw.Color.fromString(e.__prevFill);g={lineWidth:(e.__prevLineWidth||0)+2};if(d){g.fill=d.getLighter(0.2).toString()}else{g.opacity=Math.max(e.__prevOpacity-0.3,0)}if(this.chart.animate){e.__highlightAnim=Ext.create("Ext.fx.Anim",Ext.apply({target:e,to:g},this.chart.animate))}else{e.setAttributes(g,true)}}},unHighlightSeries:function(){var b;if(this._index!==undefined){b=this.areas[this._index];if(b.__highlightAnim){b.__highlightAnim.paused=true}if(b.__highlighted){b.__highlighted=false;b.__highlightAnim=Ext.create("Ext.fx.Anim",{target:b,to:{fill:b.__prevFill,opacity:b.__prevOpacity,lineWidth:b.__prevLineWidth}})}}},highlightItem:function(i){var e=this,g,h;if(!i){this.highlightSeries();return}g=i._points;h=g.length==2?["M",g[0][0],g[0][1],"L",g[1][0],g[1][1]]:["M",g[0][0],g[0][1],"L",g[0][0],e.bbox.y+e.bbox.height];e.highlightSprite.setAttributes({path:h,hidden:false},true)},unHighlightItem:function(b){if(!b){this.unHighlightSeries()}if(this.highlightSprite){this.highlightSprite.hide(true)}},hideAll:function(){if(!isNaN(this._index)){this.__excludes[this._index]=true;this.areas[this._index].hide(true);this.drawSeries()}},showAll:function(){if(!isNaN(this._index)){this.__excludes[this._index]=false;this.areas[this._index].show(true);this.drawSeries()}},getLegendColor:function(d){var c=this;return c.colorArrayStyle[d%c.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Bar",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],requires:["Ext.chart.axis.Axis","Ext.fx.Anim"],type:"bar",alias:"series.bar",column:false,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(m){this.callParent(arguments);var k=this,i=k.chart.surface,j=k.chart.shadow,l,h;Ext.apply(k,m,{highlightCfg:{lineWidth:3,stroke:"#55c",opacity:0.8,color:"#f00"},shadowAttributes:[{"stroke-width":6,"stroke-opacity":0.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":0.1,stroke:"rgb(150, 150, 150)",translate:{x:0.9,y:0.9}},{"stroke-width":2,"stroke-opacity":0.15,stroke:"rgb(100, 100, 100)",translate:{x:0.6,y:0.6}}]});k.group=i.getGroup(k.seriesId+"-bars");if(j){for(l=0,h=k.shadowAttributes.length;l<h;l++){k.shadowGroups.push(i.getGroup(k.seriesId+"-shadows"+l))}}},getBarGirth:function(){var j=this,h=j.chart.getChartStore(),g=j.column,k=h.getCount(),i=j.gutter/100;return(j.chart.chartBBox[g?"width":"height"]-j[g?"xPadding":"yPadding"]*2)/(k*(i+1)-i)},getGutters:function(){var d=this,e=d.column,g=Math.ceil(d[e?"xPadding":"yPadding"]+d.getBarGirth()/2);return d.column?[g,0]:[0,g]},getBounds:function(){var Q=this,P=Q.chart,X=P.getChartStore(),N=[].concat(Q.yField),ad=N.length,W=ad,Y=Q.groupGutter/100,aa=Q.column,T=Q.xPadding,ae=Q.yPadding,F=Q.stacked,R=Q.getBarGirth(),Z=Math,L=Z.max,H=Z.abs,S,af,j,G,ab,J,O,U,M,V,K,I,ac;Q.setBBox(true);af=Q.bbox;if(Q.__excludes){for(K=0,M=Q.__excludes.length;K<M;K++){if(Q.__excludes[K]){W--}}}if(Q.axis){ab=P.axes.get(Q.axis);if(ab){J=ab.calcEnds();j=J.from;G=J.to}}if(Q.yField&&!Ext.isNumber(j)){ab=Ext.create("Ext.chart.axis.Axis",{chart:P,fields:[].concat(Q.yField)});J=ab.calcEnds();j=J.from;G=J.to}if(!Ext.isNumber(j)){j=0}if(!Ext.isNumber(G)){G=0}O=(aa?af.height-ae*2:af.width-T*2)/(G-j);S=R/((F?1:W)*(Y+1)-Y);U=(aa)?af.y+af.height-ae:af.x+T;if(F){M=[[],[]];X.each(function(a,b){M[0][b]=M[0][b]||0;M[1][b]=M[1][b]||0;for(K=0;K<ad;K++){if(Q.__excludes&&Q.__excludes[K]){continue}V=a.get(N[K]);M[+(V>0)][b]+=H(V)}});M[+(G>0)].push(H(G));M[+(j>0)].push(H(j));ac=L.apply(Z,M[0]);I=L.apply(Z,M[1]);O=(aa?af.height-ae*2:af.width-T*2)/(I+ac);U=U+ac*O*(aa?-1:1)}else{if(j/G<0){U=U-j*O*(aa?-1:1)}}return{bars:N,bbox:af,barsLen:ad,groupBarsLen:W,barWidth:R,groupBarWidth:S,scale:O,zero:U,xPadding:T,yPadding:ae,signed:j/G<0,minY:j,maxY:G}},getPaths:function(){var an=this,S=an.chart,aF=S.getChartStore(),ae=an.bounds=an.getBounds(),aj=an.items=[],ay=an.gutter/100,aE=an.groupGutter/100,U=S.animate,Z=an.column,al=an.group,ax=S.shadow,W=an.shadowGroups,X=an.shadowAttributes,at=W.length,ak=ae.bbox,aw=an.xPadding,ar=an.yPadding,V=an.stacked,am=ae.barsLen,Y=an.colorArrayStyle,aA=Y&&Y.length||0,ah=Math,av=ah.max,ac=ah.min,ao=ah.abs,T,j,aC,ab,ag,aG,az,ap,aq,au,aB,aD,af,ai,aa,ad;
aF.each(function(b,c,a){aG=ae.zero;az=ae.zero;ab=0;ag=0;ap=false;for(T=0,aB=0;T<am;T++){if(an.__excludes&&an.__excludes[T]){continue}j=b.get(ae.bars[T]);aC=Math.round((j-av(ae.minY,0))*ae.scale);aq={fill:Y[(am>1?T:0)%aA]};if(Z){Ext.apply(aq,{height:aC,width:av(ae.groupBarWidth,0),x:(ak.x+aw+c*ae.barWidth*(1+ay)+aB*ae.groupBarWidth*(1+aE)*!V),y:aG-aC})}else{aa=(a-1)-c;Ext.apply(aq,{height:av(ae.groupBarWidth,0),width:aC+(aG==ae.zero),x:aG+(aG!=ae.zero),y:(ak.y+ar+aa*ae.barWidth*(1+ay)+aB*ae.groupBarWidth*(1+aE)*!V+1)})}if(aC<0){if(Z){aq.y=az;aq.height=ao(aC)}else{aq.x=az+aC;aq.width=ao(aC)}}if(V){if(aC<0){az+=aC*(Z?-1:1)}else{aG+=aC*(Z?-1:1)}ab+=ao(aC);if(aC<0){ag+=ao(aC)}}aq.x=Math.floor(aq.x)+1;ad=Math.floor(aq.y);if(!Ext.isIE9&&aq.y>ad){ad--}aq.y=ad;aq.width=Math.floor(aq.width);aq.height=Math.floor(aq.height);aj.push({series:an,storeItem:b,value:[b.get(an.xField),j],attr:aq,point:Z?[aq.x+aq.width/2,j>=0?aq.y:aq.y+aq.height]:[j>=0?aq.x+aq.width:aq.x,aq.y+aq.height/2]});if(U&&S.resizing){au=Z?{x:aq.x,y:ae.zero,width:aq.width,height:0}:{x:ae.zero,y:aq.y,width:0,height:aq.height};if(ax&&(V&&!ap||!V)){ap=true;for(aD=0;aD<at;aD++){af=W[aD].getAt(V?c:(c*am+T));if(af){af.setAttributes(au,true)}}}ai=al.getAt(c*am+T);if(ai){ai.setAttributes(au,true)}}aB++}if(V&&aj.length){aj[c*aB].totalDim=ab;aj[c*aB].totalNegDim=ag}},an)},renderShadows:function(E,D,i,P){var L=this,K=L.chart,G=K.surface,S=K.animate,j=L.stacked,X=L.shadowGroups,C=L.shadowAttributes,M=X.length,R=K.getChartStore(),U=L.column,H=L.items,W=[],O=P.zero,T,I,Q,J,N,F,V;if((j&&(E%P.groupBarsLen===0))||!j){F=E/P.groupBarsLen;for(T=0;T<M;T++){I=Ext.apply({},C[T]);Q=X[T].getAt(j?F:E);Ext.copyTo(I,D,"x,y,width,height");if(!Q){Q=G.add(Ext.apply({type:"rect",group:X[T]},Ext.apply({},i,I)))}if(j){J=H[E].totalDim;N=H[E].totalNegDim;if(U){I.y=O-N;I.height=J}else{I.x=O-N;I.width=J}}if(S){if(!j){V=L.renderer(Q,R.getAt(F),I,E,R);L.onAnimate(Q,{to:V})}else{V=L.renderer(Q,R.getAt(F),Ext.apply(I,{hidden:true}),E,R);Q.setAttributes(V,true)}}else{V=L.renderer(Q,R.getAt(F),Ext.apply(I,{hidden:false}),E,R);Q.setAttributes(V,true)}W.push(Q)}}return W},drawSeries:function(){var K=this,J=K.chart,S=J.getChartStore(),F=J.surface,U=J.animate,N=K.stacked,Y=K.column,aa=J.shadow,ab=K.shadowGroups,M=ab.length,Q=K.group,W=K.seriesStyle,I,O,i,j,L,H,Z,X,V,R,T,P,G,E;if(!S||!S.getCount()){return}delete W.fill;T=Ext.apply(W,this.style);K.unHighlightItem();K.cleanHighlights();K.getPaths();R=K.bounds;I=K.items;L=Y?{y:R.zero,height:0}:{x:R.zero,width:0};O=I.length;for(i=0;i<O;i++){H=Q.getAt(i);P=I[i].attr;if(aa){I[i].shadows=K.renderShadows(i,P,L,R)}if(!H){G=Ext.apply({},L,P);G=Ext.apply(G,T||{});H=F.add(Ext.apply({},{type:"rect",group:Q},G))}if(U){Z=K.renderer(H,S.getAt(i),P,i,S);H._to=Z;E=K.onAnimate(H,{to:Ext.apply(Z,T)});if(aa&&N&&(i%R.barsLen===0)){j=i/R.barsLen;for(X=0;X<M;X++){E.on("afteranimate",function(){this.show(true)},ab[X].getAt(j))}}}else{Z=K.renderer(H,S.getAt(i),Ext.apply(P,{hidden:false}),i,S);H.setAttributes(Ext.apply(Z,T),true)}I[i].sprite=H}O=Q.getCount();for(j=i;j<O;j++){Q.getAt(j).hide(true)}if(aa){for(X=0;X<M;X++){V=ab[X];O=V.getCount();for(j=i;j<O;j++){V.getAt(j).hide(true)}}}K.renderLabels()},onCreateLabel:function(r,i,s,q){var p=this,v=p.chart.surface,m=p.labelsGroup,u=p.label,t=Ext.apply({},u,p.seriesLabelStyle||{}),n;return v.add(Ext.apply({type:"text",group:m},t||{}))},onPlaceLabel:function(U,j,ag,R,aj,T,S,ad){var am=this,al=am.bounds,at=al.groupBarWidth,V=am.column,y=am.chart,ae=y.chartBBox,aa=y.resizing,ak=ag.value[0],i=ag.value[1],an=ag.attr,ab=am.label,Q=ab.orientation=="vertical",ap=[].concat(ab.field),af=ab.renderer,ah=af(j.get(ap[ad])),aq=am.getLabelSize(ah),aw=aq.width,au=aq.height,av=al.zero,ao="outside",ai="insideStart",x="insideEnd",W=10,Y=6,ar=al.signed,X,Z,ac;U.setAttributes({text:ah});U.isOutside=false;if(V){if(aj==ao){if(au+Y+an.height>(i>=0?av-ae.y:ae.y+ae.height-av)){aj=x}}else{if(au+Y>an.height){aj=ao;U.isOutside=true}}X=an.x+at/2;Z=aj==ai?(av+((au/2+3)*(i>=0?-1:1))):(i>=0?(an.y+((au/2+3)*(aj==ao?-1:1))):(an.y+an.height+((au/2+3)*(aj===ao?1:-1))))}else{if(aj==ao){if(aw+W+an.width>(i>=0?ae.x+ae.width-av:av-ae.x)){aj=x
}}else{if(aw+W>an.width){aj=ao;U.isOutside=true}}X=aj==ai?(av+((aw/2+5)*(i>=0?1:-1))):(i>=0?(an.x+an.width+((aw/2+5)*(aj===ao?1:-1))):(an.x+((aw/2+5)*(aj===ao?-1:1))));Z=an.y+at/2}ac={x:X,y:Z};if(Q){ac.rotate={x:X,y:Z,degrees:270}}if(T&&aa){if(V){X=an.x+an.width/2;Z=av}else{X=av;Z=an.y+an.height/2}U.setAttributes({x:X,y:Z},true);if(Q){U.setAttributes({rotate:{x:X,y:Z,degrees:270}},true)}}if(T){am.onAnimate(U,{to:ac})}else{U.setAttributes(Ext.apply(ac,{hidden:false}),true)}},getLabelSize:function(n){var h=this.testerLabel,t=this.label,q=Ext.apply({},t,this.seriesLabelStyle||{}),s=t.orientation==="vertical",l,m,p,r;if(!h){h=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},q))}h.setAttributes({text:n},true);l=h.getBBox();m=l.width;p=l.height;return{width:s?p:m,height:s?m:p}},onAnimate:function(c,d){c.show();return this.callParent(arguments)},isItemInPoint:function(g,h,e){var i=e.sprite.getBBox();return i.x<=g&&i.y<=h&&(i.x+i.width)>=g&&(i.y+i.height)>=h},hideAll:function(){var b=this.chart.axes;if(!isNaN(this._index)){if(!this.__excludes){this.__excludes=[]}this.__excludes[this._index]=true;this.drawSeries();b.each(function(a){a.drawAxis()})}},showAll:function(){var b=this.chart.axes;if(!isNaN(this._index)){if(!this.__excludes){this.__excludes=[]}this.__excludes[this._index]=false;this.drawSeries();b.each(function(a){a.drawAxis()})}},getLegendColor:function(e){var g=this,d=g.colorArrayStyle.length;if(g.style&&g.style.fill){return g.style.fill}else{return g.colorArrayStyle[e%d]}},highlightItem:function(b){this.callParent(arguments);this.renderLabels()},unHighlightItem:function(){this.callParent(arguments);this.renderLabels()},cleanHighlights:function(){this.callParent(arguments);this.renderLabels()}});Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:"Ext.chart.series.Bar",type:"column",alias:"series.column",column:true,xPadding:10,yPadding:0});Ext.define("Ext.chart.series.Gauge",{extend:"Ext.chart.series.Series",type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:false,needle:false,donut:false,showInLegend:false,style:{},constructor:function(s){this.callParent(arguments);var m=this,n=m.chart,t=n.surface,l=n.store,i=n.shadow,q,r,p;Ext.apply(m,s,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:0.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:0.6,y:1}}]});m.group=t.getGroup(m.seriesId);if(i){for(q=0,r=m.shadowAttributes.length;q<r;q++){m.shadowGroups.push(t.getGroup(m.seriesId+"-shadows"+q))}}t.customAttributes.segment=function(a){return m.getSegment(a)}},initialize:function(){var c=this,d=c.chart.getChartStore();c.yField=[];if(c.label.field){d.each(function(a){c.yField.push(a.get(c.label.field))})}},getSegment:function(aa){var J=this,K=J.rad,Y=Math.cos,ab=Math.sin,P=Math.abs,S=J.centerX,U=J.centerY,r=0,x=0,y=0,H=0,V=0,W=0,X=0,Z=0,O=0.01,Q=aa.endRho-aa.startRho,I=aa.startAngle,M=aa.endAngle,T=(I+M)/2*K,R=aa.margin||0,F=P(M-I)>180,G=Math.min(I,M)*K,L=Math.max(I,M)*K,N=false;S+=R*Y(T);U+=R*ab(T);r=S+aa.startRho*Y(G);V=U+aa.startRho*ab(G);x=S+aa.endRho*Y(G);W=U+aa.endRho*ab(G);y=S+aa.startRho*Y(L);X=U+aa.startRho*ab(L);H=S+aa.endRho*Y(L);Z=U+aa.endRho*ab(L);if(P(r-y)<=O&&P(V-X)<=O){N=true}if(N){return{path:[["M",r,V],["L",x,W],["A",aa.endRho,aa.endRho,0,+F,1,H,Z],["Z"]]}}else{return{path:[["M",r,V],["L",x,W],["A",aa.endRho,aa.endRho,0,+F,1,H,Z],["L",y,X],["A",aa.startRho,aa.startRho,0,+F,0,r,V],["Z"]]}}},calcMiddle:function(r){var w=this,v=w.rad,s=r.slice,t=w.centerX,u=w.centerY,x=s.startAngle,B=s.endAngle,y=Math.max(("rho" in s)?s.rho:w.radius,w.label.minMargin),z=+w.donut,E=Math.min(x,B)*v,F=Math.max(x,B)*v,C=-(E+(F-E)/2),A=t+(r.endRho+r.startRho)/2*Math.cos(C),D=u-(r.endRho+r.startRho)/2*Math.sin(C);r.middle={x:A,y:D}},drawSeries:function(){var ay=this,j=ay.chart,aP=j.getChartStore(),au=ay.group,ab=ay.chart.animate,aq=ay.chart.axes.get(0),ap=aq&&aq.minimum||ay.minimum||0,al=aq&&aq.maximum||ay.maximum||0,aG=ay.angleField||ay.field||ay.xField,ah=j.surface,am=j.chartBBox,aK=ay.rad,aO=+ay.donut,i={},at=[],aH=ay.seriesStyle,aQ=ay.seriesLabelStyle,aL=ay.colorArrayStyle,av=aL&&aL.length||0,aj=j.maxGutter[0],ak=j.maxGutter[1],aJ=Math.cos,aC=Math.sin,aB,aM,aN,az,aD,ar,af,ao,an,ai,Z,aa,aI,p,ax,aF,ad,ac,aE,aw,aA,ae,ag;
Ext.apply(aH,ay.style||{});ay.setBBox();aw=ay.bbox;if(ay.colorSet){aL=ay.colorSet;av=aL.length}if(!aP||!aP.getCount()){return}aM=ay.centerX=am.x+(am.width/2);aN=ay.centerY=am.y+am.height;ay.radius=Math.min(aM-am.x,aN-am.y);ay.slices=aD=[];ay.items=at=[];if(!ay.value){ai=aP.getAt(0);ay.value=ai.get(aG)}af=ay.value;if(ay.needle){ae={series:ay,value:af,startAngle:-180,endAngle:0,rho:ay.radius};aA=-180*(1-(af-ap)/(al-ap));aD.push(ae)}else{aA=-180*(1-(af-ap)/(al-ap));ae={series:ay,value:af,startAngle:-180,endAngle:aA,rho:ay.radius};ag={series:ay,value:ay.maximum-af,startAngle:aA,endAngle:0,rho:ay.radius};aD.push(ae,ag)}for(Z=0,an=aD.length;Z<an;Z++){az=aD[Z];ar=au.getAt(Z);aB=Ext.apply({segment:{startAngle:az.startAngle,endAngle:az.endAngle,margin:0,rho:az.rho,startRho:az.rho*+aO/100,endRho:az.rho}},Ext.apply(aH,aL&&{fill:aL[Z%av]}||{}));ao=Ext.apply({},aB.segment,{slice:az,series:ay,storeItem:ai,index:Z});at[Z]=ao;if(!ar){aE=Ext.apply({type:"path",group:au},Ext.apply(aH,aL&&{fill:aL[Z%av]}||{}));ar=ah.add(Ext.apply(aE,aB))}az.sprite=az.sprite||[];ao.sprite=ar;az.sprite.push(ar);if(ab){aB=ay.renderer(ar,ai,aB,Z,aP);ar._to=aB;ay.onAnimate(ar,{to:aB})}else{aB=ay.renderer(ar,ai,Ext.apply(aB,{hidden:false}),Z,aP);ar.setAttributes(aB,true)}}if(ay.needle){aA=aA*Math.PI/180;if(!ay.needleSprite){ay.needleSprite=ay.chart.surface.add({type:"path",path:["M",aM+(ay.radius*+aO/100)*aJ(aA),aN+-Math.abs((ay.radius*+aO/100)*aC(aA)),"L",aM+ay.radius*aJ(aA),aN+-Math.abs(ay.radius*aC(aA))],"stroke-width":4,stroke:"#222"})}else{if(ab){ay.onAnimate(ay.needleSprite,{to:{path:["M",aM+(ay.radius*+aO/100)*aJ(aA),aN+-Math.abs((ay.radius*+aO/100)*aC(aA)),"L",aM+ay.radius*aJ(aA),aN+-Math.abs(ay.radius*aC(aA))]}})}else{ay.needleSprite.setAttributes({type:"path",path:["M",aM+(ay.radius*+aO/100)*aJ(aA),aN+-Math.abs((ay.radius*+aO/100)*aC(aA)),"L",aM+ay.radius*aJ(aA),aN+-Math.abs(ay.radius*aC(aA))]})}}ay.needleSprite.setAttributes({hidden:false},true)}delete ay.value},setValue:function(b){this.value=b;this.drawSeries()},onCreateLabel:function(i,e,g,h){},onPlaceLabel:function(p,l,m,n,k,j,i){},onPlaceCallout:function(){},onAnimate:function(c,d){c.show();return this.callParent(arguments)},isItemInPoint:function(g,h,i,e){return false},showAll:function(){if(!isNaN(this._index)){this.__excludes[this._index]=false;this.drawSeries()}},getLegendColor:function(d){var c=this;return c.colorArrayStyle[d%c.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Line",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.draw.Draw","Ext.fx.Anim"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:true,markerConfig:{},style:{},smooth:false,defaultSmoothness:3,fill:false,constructor:function(m){this.callParent(arguments);var k=this,i=k.chart.surface,j=k.chart.shadow,l,h;Ext.apply(k,m,{highlightCfg:{"stroke-width":3},shadowAttributes:[{"stroke-width":6,"stroke-opacity":0.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":0.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":0.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]});k.group=i.getGroup(k.seriesId);if(k.showMarkers){k.markerGroup=i.getGroup(k.seriesId+"-markers")}if(j){for(l=0,h=k.shadowAttributes.length;l<h;l++){k.shadowGroups.push(i.getGroup(k.seriesId+"-shadows"+l))}}},shrink:function(u,m,i){var p=u.length,n=Math.floor(p/i),q=1,s=0,v=0,r=[u[0]],t=[m[0]];for(;q<p;++q){s+=u[q]||0;v+=m[q]||0;if(q%n==0){r.push(s/n);t.push(v/n);s=0;v=0}}return{x:r,y:t}},drawSeries:function(){var bw=this,bi=bw.chart,aZ=bi.axes,bs=bi.getChartStore(),aW=bs.getCount(),j=bw.chart.surface,bu={},a0=bw.group,a7=bw.showMarkers,bK=bw.markerGroup,bh=bi.shadow,bj=bw.shadowGroups,aU=bw.shadowAttributes,a3=bw.smooth,aF=bj.length,bm=["M"],aY=["M"],aQ=["M"],aS=["M"],a8=bi.markerIndex,by=[].concat(bw.axis),bz,bg=[],bA={},bG=[],i={},a9=false,a1=[],bL=bw.markerStyle,bH=bw.style,x=bw.colorArrayStyle,a2=x&&x.length||0,a6=Ext.isNumber,be=bw.seriesIdx,aN=bw.getAxesForXAndYFields(),aK=aN.xAxis,bM=aN.yAxis,bE,aM,bF,bD,bn,aR,bC,ba,bb,aO,aP,y,aE,aV,a4,a5,bk,aJ,bd,bf,bJ,aI,aG,bl,aT,bI,bB,bp,bo,bq,br,aH,bc,bt,bv,aX,aL,bx;
if(bw.fireEvent("beforedraw",bw)===false){return}if(!aW||bw.seriesIsHidden){bx=this.items;if(bx){for(a4=0,bk=bx.length;a4<bk;++a4){if(bx[a4].sprite){bx[a4].sprite.hide(true)}}}return}bt=Ext.apply(bL||{},bw.markerConfig);aX=bt.type;delete bt.type;bv=bH;if(!bv["stroke-width"]){bv["stroke-width"]=0.5}if(a8&&bK&&bK.getCount()){for(a4=0;a4<a8;a4++){bf=bK.getAt(a4);bK.remove(bf);bK.add(bf);bJ=bK.getAt(bK.getCount()-2);bf.setAttributes({x:0,y:0,translate:{x:bJ.attr.translation.x,y:bJ.attr.translation.y}},true)}}bw.unHighlightItem();bw.cleanHighlights();bw.setBBox();bu=bw.bbox;bw.clipRect=[bu.x,bu.y,bu.width,bu.height];for(a4=0,bk=by.length;a4<bk;a4++){aJ=aZ.get(by[a4]);if(aJ){bd=aJ.calcEnds();if(aJ.position=="top"||aJ.position=="bottom"){bp=bd.from;bo=bd.to}else{bq=bd.from;br=bd.to}}}if(bw.xField&&!a6(bp)&&(aK=="bottom"||aK=="top")&&!aZ.get(aK)){aJ=Ext.create("Ext.chart.axis.Axis",{chart:bi,fields:[].concat(bw.xField)}).calcEnds();bp=aJ.from;bo=aJ.to}if(bw.yField&&!a6(bq)&&(bM=="right"||bM=="left")&&!aZ.get(bM)){aJ=Ext.create("Ext.chart.axis.Axis",{chart:bi,fields:[].concat(bw.yField)}).calcEnds();bq=aJ.from;br=aJ.to}if(isNaN(bp)){bp=0;bI=bu.width/((aW-1)||1)}else{bI=bu.width/((bo-bp)||(aW-1)||1)}if(isNaN(bq)){bq=0;bB=bu.height/((aW-1)||1)}else{bB=bu.height/((br-bq)||(aW-1)||1)}bw.eachRecord(function(b,a){aG=b.get(bw.xField);if(typeof aG=="string"||typeof aG=="object"&&!Ext.isDate(aG)||aK&&aZ.get(aK)&&aZ.get(aK).type=="Category"){if(aG in bA){aG=bA[aG]}else{aG=bA[aG]=a}}bl=b.get(bw.yField);if(typeof bl=="undefined"||(typeof bl=="string"&&!bl)){return}if(typeof bl=="string"||typeof bl=="object"&&!Ext.isDate(bl)||bM&&aZ.get(bM)&&aZ.get(bM).type=="Category"){bl=a}a1.push(a);bg.push(aG);bG.push(bl)});bk=bg.length;if(bk>bu.width){aT=bw.shrink(bg,bG,bu.width);bg=aT.x;bG=aT.y}bw.items=[];aL=0;bk=bg.length;for(a4=0;a4<bk;a4++){aG=bg[a4];bl=bG[a4];if(bl===false){if(aY.length==1){aY=[]}a9=true;bw.items.push(false);continue}else{ba=(bu.x+(aG-bp)*bI).toFixed(2);bb=((bu.y+bu.height)-(bl-bq)*bB).toFixed(2);if(a9){a9=false;aY.push("M")}aY=aY.concat([ba,bb])}if((typeof aE=="undefined")&&(typeof bb!="undefined")){aE=bb;y=ba}if(!bw.line||bi.resizing){bm=bm.concat([ba,bu.y+bu.height/2])}if(bi.animate&&bi.resizing&&bw.line){bw.line.setAttributes({path:bm},true);if(bw.fillPath){bw.fillPath.setAttributes({path:bm,opacity:0.2},true)}if(bw.line.shadows){bE=bw.line.shadows;for(a5=0,aF=bE.length;a5<aF;a5++){aM=bE[a5];aM.setAttributes({path:bm},true)}}}if(a7){bf=bK.getAt(aL++);if(!bf){bf=Ext.chart.Shape[aX](j,Ext.apply({group:[a0,bK],x:0,y:0,translate:{x:+(aO||ba),y:aP||(bu.y+bu.height/2)},value:'"'+aG+", "+bl+'"',zIndex:4000},bt));bf._to={translate:{x:+ba,y:+bb}}}else{bf.setAttributes({value:'"'+aG+", "+bl+'"',x:0,y:0,hidden:false},true);bf._to={translate:{x:+ba,y:+bb}}}}bw.items.push({series:bw,value:[aG,bl],point:[ba,bb],sprite:bf,storeItem:bs.getAt(a1[a4])});aO=ba;aP=bb}if(aY.length<=1){return}if(bw.smooth){aS=Ext.draw.Draw.smooth(aY,a6(a3)?a3:bw.defaultSmoothness)}aQ=a3?aS:aY;if(bi.markerIndex&&bw.previousPath){bD=bw.previousPath;if(!a3){Ext.Array.erase(bD,1,2)}}else{bD=aY}if(!bw.line){bw.line=j.add(Ext.apply({type:"path",group:a0,path:bm,stroke:bv.stroke||bv.fill},bv||{}));if(bh){bw.line.setAttributes(Ext.apply({},bw.shadowOptions),true)}bw.line.setAttributes({fill:"none",zIndex:3000});if(!bv.stroke&&a2){bw.line.setAttributes({stroke:x[be%a2]},true)}if(bh){bE=bw.line.shadows=[];for(bF=0;bF<aF;bF++){bz=aU[bF];bz=Ext.apply({},bz,{path:bm});aM=j.add(Ext.apply({},{type:"path",group:bj[bF]},bz));bE.push(aM)}}}if(bw.fill){aR=aQ.concat([["L",ba,bu.y+bu.height],["L",y,bu.y+bu.height],["L",y,aE]]);if(!bw.fillPath){bw.fillPath=j.add({group:a0,type:"path",opacity:bv.opacity||0.3,fill:bv.fill||x[be%a2],path:bm})}}aV=a7&&bK.getCount();if(bi.animate){bn=bw.fill;aH=bw.line;bC=bw.renderer(aH,false,{path:aQ},a4,bs);Ext.apply(bC,bv||{},{stroke:bv.stroke||bv.fill});delete bC.fill;aH.show(true);if(bi.markerIndex&&bw.previousPath){bw.animation=bc=bw.onAnimate(aH,{to:bC,from:{path:bD}})}else{bw.animation=bc=bw.onAnimate(aH,{to:bC})}if(bh){bE=aH.shadows;for(a5=0;a5<aF;a5++){bE[a5].show(true);
if(bi.markerIndex&&bw.previousPath){bw.onAnimate(bE[a5],{to:{path:aQ},from:{path:bD}})}else{bw.onAnimate(bE[a5],{to:{path:aQ}})}}}if(bn){bw.fillPath.show(true);bw.onAnimate(bw.fillPath,{to:Ext.apply({},{path:aR,fill:bv.fill||x[be%a2],"stroke-width":0},bv||{})})}if(a7){aL=0;for(a4=0;a4<bk;a4++){if(bw.items[a4]){aI=bK.getAt(aL++);if(aI){bC=bw.renderer(aI,bs.getAt(a4),aI._to,a4,bs);bw.onAnimate(aI,{to:Ext.apply(bC,bt||{})});aI.show(true)}}}for(;aL<aV;aL++){aI=bK.getAt(aL);aI.hide(true)}}}else{bC=bw.renderer(bw.line,false,{path:aQ,hidden:false},a4,bs);Ext.apply(bC,bv||{},{stroke:bv.stroke||bv.fill});delete bC.fill;bw.line.setAttributes(bC,true);if(bh){bE=bw.line.shadows;for(a5=0;a5<aF;a5++){bE[a5].setAttributes({path:aQ,hidden:false},true)}}if(bw.fill){bw.fillPath.setAttributes({path:aR,hidden:false},true)}if(a7){aL=0;for(a4=0;a4<bk;a4++){if(bw.items[a4]){aI=bK.getAt(aL++);if(aI){bC=bw.renderer(aI,bs.getAt(a4),aI._to,a4,bs);aI.setAttributes(Ext.apply(bt||{},bC||{}),true);aI.show(true)}}}for(;aL<aV;aL++){aI=bK.getAt(aL);aI.hide(true)}}}if(bi.markerIndex){if(bw.smooth){Ext.Array.erase(aY,1,2)}else{Ext.Array.splice(aY,1,0,aY[1],aY[2])}bw.previousPath=aY}bw.renderLabels();bw.renderCallouts();bw.fireEvent("draw",bw)},onCreateLabel:function(q,i,r,p){var n=this,m=n.labelsGroup,t=n.label,l=n.bbox,s=Ext.apply(t,n.seriesLabelStyle);return n.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:m,x:i.point[0],y:l.y+l.height/2},s||{}))},onPlaceLabel:function(I,F,x,A,B,K){var i=this,E=i.chart,y=E.resizing,w=i.label,z=w.renderer,M=w.field,N=i.bbox,G=x.point[0],H=x.point[1],L=x.sprite.attr.radius,J,C,D;I.setAttributes({text:z(F.get(M)),hidden:true},true);if(B=="rotate"){I.setAttributes({"text-anchor":"start",rotation:{x:G,y:H,degrees:-45}},true);J=I.getBBox();C=J.width;D=J.height;G=G<N.x?N.x:G;G=(G+C>N.x+N.width)?(G-(G+C-N.x-N.width)):G;H=(H-D<N.y)?N.y+D:H}else{if(B=="under"||B=="over"){J=x.sprite.getBBox();J.width=J.width||(L*2);J.height=J.height||(L*2);H=H+(B=="over"?-J.height:J.height);J=I.getBBox();C=J.width/2;D=J.height/2;G=G-C<N.x?N.x+C:G;G=(G+C>N.x+N.width)?(G-(G+C-N.x-N.width)):G;H=H-D<N.y?N.y+D:H;H=(H+D>N.y+N.height)?(H-(H+D-N.y-N.height)):H}}if(i.chart.animate&&!i.chart.resizing){I.show(true);i.onAnimate(I,{to:{x:G,y:H}})}else{I.setAttributes({x:G,y:H},true);if(y&&i.animation){i.animation.on("afteranimate",function(){I.show(true)})}else{I.show(true)}}},highlightItem:function(){var b=this;b.callParent(arguments);if(b.line&&!b.highlighted){if(!("__strokeWidth" in b.line)){b.line.__strokeWidth=b.line.attr["stroke-width"]||0}if(b.line.__anim){b.line.__anim.paused=true}b.line.__anim=Ext.create("Ext.fx.Anim",{target:b.line,to:{"stroke-width":b.line.__strokeWidth+3}});b.highlighted=true}},unHighlightItem:function(){var b=this;b.callParent(arguments);if(b.line&&b.highlighted){b.line.__anim=Ext.create("Ext.fx.Anim",{target:b.line,to:{"stroke-width":b.line.__strokeWidth}});b.highlighted=false}},onPlaceCallout:function(ai,ab,P,S,V,ap,ak){if(!V){return}var i=this,Z=i.chart,Y=Z.surface,R=Z.resizing,p=i.callouts,X=i.items,T=S==0?false:X[S-1].point,ag=(S==X.length-1)?false:X[S+1].point,aq=[+P.point[0],+P.point[1]],af,an,a,x,ae,ad,Q=p.offsetFromViz||30,aa=p.offsetToSide||10,ac=p.offsetBox||3,am,ao,al,y,U,W=i.clipRect,ar={width:p.styles.width||10,height:p.styles.height||10},ah,aj;if(!T){T=aq}if(!ag){ag=aq}x=(ag[1]-T[1])/(ag[0]-T[0]);ae=(aq[1]-T[1])/(aq[0]-T[0]);ad=(ag[1]-aq[1])/(ag[0]-aq[0]);an=Math.sqrt(1+x*x);af=[1/an,x/an];a=[-af[1],af[0]];if(ae>0&&ad<0&&a[1]<0||ae<0&&ad>0&&a[1]>0){a[0]*=-1;a[1]*=-1}else{if(Math.abs(ae)<Math.abs(ad)&&a[0]<0||Math.abs(ae)>Math.abs(ad)&&a[0]>0){a[0]*=-1;a[1]*=-1}}ah=aq[0]+a[0]*Q;aj=aq[1]+a[1]*Q;am=ah+(a[0]>0?0:-(ar.width+2*ac));ao=aj-ar.height/2-ac;al=ar.width+2*ac;y=ar.height+2*ac;if(am<W[0]||(am+al)>(W[0]+W[2])){a[0]*=-1}if(ao<W[1]||(ao+y)>(W[1]+W[3])){a[1]*=-1}ah=aq[0]+a[0]*Q;aj=aq[1]+a[1]*Q;am=ah+(a[0]>0?0:-(ar.width+2*ac));ao=aj-ar.height/2-ac;al=ar.width+2*ac;y=ar.height+2*ac;if(Z.animate){i.onAnimate(ai.lines,{to:{path:["M",aq[0],aq[1],"L",ah,aj,"Z"]}});if(ai.panel){ai.panel.setPosition(am,ao,true)
}}else{ai.lines.setAttributes({path:["M",aq[0],aq[1],"L",ah,aj,"Z"]},true);if(ai.panel){ai.panel.setPosition(am,ao)}}for(U in ai){ai[U].show(true)}},isItemInPoint:function(U,W,M,L){var J=this,Q=J.items,H=J.selectionTolerance,T=null,P,Z,N,x,V,i,aa,F,ab,S,K,X,Y,O,y,I,G=Math.sqrt,R=Math.abs;Z=Q[L];P=L&&Q[L-1];if(L>=V){P=Q[V-1]}N=P&&P.point;x=Z&&Z.point;i=P?N[0]:x[0]-H;aa=P?N[1]:x[1];F=Z?x[0]:N[0]+H;ab=Z?x[1]:N[1];X=G((U-i)*(U-i)+(W-aa)*(W-aa));Y=G((U-F)*(U-F)+(W-ab)*(W-ab));O=Math.min(X,Y);if(O<=H){return O==X?P:Z}return false},toggleAll:function(i){var k=this,h,l,j,m;if(!i){Ext.chart.series.Cartesian.prototype.hideAll.call(k)}else{Ext.chart.series.Cartesian.prototype.showAll.call(k)}if(k.line){k.line.setAttributes({hidden:!i},true);if(k.line.shadows){for(h=0,m=k.line.shadows,l=m.length;h<l;h++){j=m[h];j.setAttributes({hidden:!i},true)}}}if(k.fillPath){k.fillPath.setAttributes({hidden:!i},true)}},hideAll:function(){this.toggleAll(false)},showAll:function(){this.toggleAll(true)}});Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:"Ext.chart.series.Series",type:"pie",alias:"series.pie",rad:Math.PI/180,highlightDuration:150,angleField:false,lengthField:false,donut:false,showInLegend:false,style:{},constructor:function(s){this.callParent(arguments);var m=this,n=m.chart,t=n.surface,l=n.store,i=n.shadow,q,r,p;Ext.applyIf(m,{highlightCfg:{segment:{margin:20}}});Ext.apply(m,s,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:0.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:0.6,y:1}}]});m.group=t.getGroup(m.seriesId);if(i){for(q=0,r=m.shadowAttributes.length;q<r;q++){m.shadowGroups.push(t.getGroup(m.seriesId+"-shadows"+q))}}t.customAttributes.segment=function(a){return m.getSegment(a)};m.__excludes=m.__excludes||[]},initialize:function(){var c=this,d=c.chart.getChartStore();c.yField=[];if(c.label.field){d.each(function(a){c.yField.push(a.get(c.label.field))})}},getSegment:function(ao){var y=this,N=y.rad,ak=Math.cos,ar=Math.sin,ac=y.centerX,af=y.centerY,U=0,W=0,Y=0,ab=0,ah=0,ai=0,aj=0,am=0,M=0,ap=0,Q=0,aq=0,P=0.01,ae=ao.startAngle,S=ao.endAngle,ad=(ae+S)/2*N,X=ao.margin||0,x=Math.min(ae,S)*N,O=Math.max(ae,S)*N,T=ak(x),al=ar(x),V=ak(O),an=ar(O),ag=ak(ad),R=ar(ad),aa=0,Z=0.7071067811865476;if(O-x<P){return{path:""}}if(X!==0){ac+=X*ag;af+=X*R}W=ac+ao.endRho*T;ai=af+ao.endRho*al;ab=ac+ao.endRho*V;am=af+ao.endRho*an;if(Math.abs(W-ab)+Math.abs(ai-am)<P){ag=Z;R=-Z;aa=1}Q=ac+ao.endRho*ag;aq=af+ao.endRho*R;if(ao.startRho!==0){U=ac+ao.startRho*T;ah=af+ao.startRho*al;Y=ac+ao.startRho*V;aj=af+ao.startRho*an;M=ac+ao.startRho*ag;ap=af+ao.startRho*R;return{path:[["M",W,ai],["A",ao.endRho,ao.endRho,0,0,1,Q,aq],["L",Q,aq],["A",ao.endRho,ao.endRho,0,aa,1,ab,am],["L",ab,am],["L",Y,aj],["A",ao.startRho,ao.startRho,0,aa,0,M,ap],["L",M,ap],["A",ao.startRho,ao.startRho,0,0,0,U,ah],["L",U,ah],["Z"]]}}else{return{path:[["M",ac,af],["L",W,ai],["A",ao.endRho,ao.endRho,0,0,1,Q,aq],["L",Q,aq],["A",ao.endRho,ao.endRho,0,aa,1,ab,am],["L",ab,am],["L",ac,af],["Z"]]}}},calcMiddle:function(p){var u=this,t=u.rad,q=p.slice,r=u.centerX,s=u.centerY,v=q.startAngle,y=q.endAngle,w=+u.donut,z=-(v+y)*t/2,B=(p.endRho+p.startRho)/2,x=r+B*Math.cos(z),A=s-B*Math.sin(z);p.middle={x:x,y:A}},drawSeries:function(){var a6=this,bp=a6.chart.getChartStore(),aU=a6.group,aV=a6.chart.animate,be=a6.angleField||a6.field||a6.xField,aO=[].concat(a6.lengthField),aY=0,p=a6.colorSet,aL=a6.chart,au=aL.surface,aA=aL.chartBBox,bh=aL.shadow,a1=a6.shadowGroups,a4=a6.shadowAttributes,aE=a1.length,bk=a6.rad,at=aO.length,aM=0,bn=+a6.donut,aI=[],aG={},aK,aS=[],bj=false,a0=0,j=0,bi=9,aC=true,a2=0,bf=a6.seriesStyle,bq=a6.seriesLabelStyle,bl=a6.colorArrayStyle,aW=bl&&bl.length||0,aw=aL.maxGutter[0],ax=aL.maxGutter[1],aD=Math.abs,a9,aZ,aN,aJ,ay,aF,bm,bo,a8,bc=0,a7,ba,aQ,ar,aH,az,aB,av,aR,aT,bg,aP,a3,bd,i,a5,bb,aX;Ext.apply(bf,a6.style||{});a6.setBBox();aX=a6.bbox;if(a6.colorSet){bl=a6.colorSet;
aW=bl.length}if(!bp||!bp.getCount()){return}a6.unHighlightItem();a6.cleanHighlights();bm=a6.centerX=aA.x+(aA.width/2);bo=a6.centerY=aA.y+(aA.height/2);a6.radius=Math.min(bm-aA.x,bo-aA.y);a6.slices=ba=[];a6.items=aS=[];bp.each(function(a,b){if(this.__excludes&&this.__excludes[b]){return}a0+=+a.get(be);if(aO[0]){for(aT=0,aY=0;aT<at;aT++){aY+=+a.get(aO[aT])}aI[b]=aY;j=Math.max(j,aY)}},this);a0=a0||1;bp.each(function(a,b){if(this.__excludes&&this.__excludes[b]){ar=0}else{ar=a.get(be);if(bc==0){bc=1}}if(bc==1){bc=2;a6.firstAngle=a2=360*ar/a0/2;for(aT=0;aT<b;aT++){ba[aT].startAngle=ba[aT].endAngle=a6.firstAngle}}aP=a2-360*ar/a0;a7={series:a6,value:ar,startAngle:a2,endAngle:aP,storeItem:a};if(aO[0]){az=aI[b];a7.rho=a6.radius*(az/j)}else{a7.rho=a6.radius}ba[b]=a7;a2=aP},a6);if(bh){for(aR=0,aB=ba.length;aR<aB;aR++){a7=ba[aR];a7.shadowAttrs=[];for(aT=0,aM=0,aJ=[];aT<at;aT++){aQ=aU.getAt(aR*at+aT);a8=aO[aT]?bp.getAt(aR).get(aO[aT])/aI[aR]*a7.rho:a7.rho;a9={segment:{startAngle:a7.startAngle,endAngle:a7.endAngle,margin:0,rho:a7.rho,startRho:aM+(a8*bn/100),endRho:aM+a8},hidden:!a7.value&&(a7.startAngle%360)==(a7.endAngle%360)};for(aF=0,aJ=[];aF<aE;aF++){aN=a4[aF];ay=a1[aF].getAt(aR);if(!ay){ay=aL.surface.add(Ext.apply({},{type:"path",group:a1[aF],strokeLinejoin:"round"},a9,aN))}if(aV){aN=a6.renderer(ay,bp.getAt(aR),Ext.apply({},a9,aN),aR,bp);a6.onAnimate(ay,{to:aN})}else{aN=a6.renderer(ay,bp.getAt(aR),aN,aR,bp);ay.setAttributes(aN,true)}aJ.push(ay)}a7.shadowAttrs[aT]=aJ}}}for(aR=0,aB=ba.length;aR<aB;aR++){a7=ba[aR];for(aT=0,aM=0;aT<at;aT++){aQ=aU.getAt(aR*at+aT);a8=aO[aT]?bp.getAt(aR).get(aO[aT])/aI[aR]*a7.rho:a7.rho;a9=Ext.apply({segment:{startAngle:a7.startAngle,endAngle:a7.endAngle,margin:0,rho:a7.rho,startRho:aM+(a8*bn/100),endRho:aM+a8},hidden:(!a7.value&&(a7.startAngle%360)==(a7.endAngle%360))},Ext.apply(bf,bl&&{fill:bl[(at>1?aT:aR)%aW]}||{}));aH=Ext.apply({},a9.segment,{slice:a7,series:a6,storeItem:a7.storeItem,index:aR});a6.calcMiddle(aH);if(bh){aH.shadows=a7.shadowAttrs[aT]}aS[aR]=aH;if(!aQ){bb=Ext.apply({type:"path",group:aU,middle:aH.middle},Ext.apply(bf,bl&&{fill:bl[(at>1?aT:aR)%aW]}||{}));aQ=au.add(Ext.apply(bb,a9))}a7.sprite=a7.sprite||[];aH.sprite=aQ;a7.sprite.push(aQ);a7.point=[aH.middle.x,aH.middle.y];if(aV){a9=a6.renderer(aQ,bp.getAt(aR),a9,aR,bp);aQ._to=a9;aQ._animating=true;a6.onAnimate(aQ,{to:a9,listeners:{afteranimate:{fn:function(){this._animating=false},scope:aQ}}})}else{a9=a6.renderer(aQ,bp.getAt(aR),Ext.apply(a9,{hidden:false}),aR,bp);aQ.setAttributes(a9,true)}aM+=a8}}aB=aU.getCount();for(aR=0;aR<aB;aR++){if(!ba[(aR/at)>>0]&&aU.getAt(aR)){aU.getAt(aR).hide(true)}}if(bh){aE=a1.length;for(aF=0;aF<aB;aF++){if(!ba[(aF/at)>>0]){for(aT=0;aT<aE;aT++){if(a1[aT].getAt(aF)){a1[aT].getAt(aF).hide(true)}}}}}a6.renderLabels();a6.renderCallouts()},onCreateLabel:function(s,n,t,r){var q=this,p=q.labelsGroup,x=q.label,u=q.centerX,v=q.centerY,i=n.middle,w=Ext.apply(q.seriesLabelStyle||{},x||{});return q.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:p,x:i.x,y:i.y},w))},onPlaceLabel:function(R,L,N,E,F,V,U){var I=this,J=I.chart,i=J.resizing,K=I.label,y=K.renderer,X=[].concat(K.field),P=I.centerX,Q=I.centerY,H=N.middle,Y={x:H.x,y:H.y},M=H.x-P,O=H.y-Q,G={},W=1,S=Math.atan2(O,M||1),x=S*180/Math.PI,T;if(this.__excludes&&this.__excludes[E]){Y.hidden=true}function Z(a){if(a<0){a+=360}return a%360}R.setAttributes({text:y(L.get(X[U]))},true);switch(F){case"outside":W=Math.sqrt(M*M+O*O)*2;Y.x=W*Math.cos(S)+P;Y.y=W*Math.sin(S)+Q;break;case"rotate":x=Z(x);x=(x>90&&x<270)?x+180:x;T=R.attr.rotation.degrees;if(T!=null&&Math.abs(T-x)>180){if(x>T){x-=360}else{x+=360}x=x%360}else{x=Z(x)}Y.rotate={degrees:x,x:Y.x,y:Y.y};break;default:break}Y.translate={x:0,y:0};if(V&&!i&&(F!="rotate"||T!=null)){I.onAnimate(R,{to:Y})}else{R.setAttributes(Y,true)}R._from=G},onPlaceCallout:function(Q,M,L,p,x,W,V){var I=this,K=I.chart,i=K.resizing,J=I.callouts,S=I.centerX,T=I.centerY,G=L.middle,Y={x:G.x,y:G.y},O=G.x-S,R=G.y-T,X=1,P,U=Math.atan2(R,O||1),Z=Q.label.getBBox(),N=20,y=10,F=10,H;X=L.endRho+N;P=(L.endRho+L.startRho)/2+(L.endRho-L.startRho)/3;
Y.x=X*Math.cos(U)+S;Y.y=X*Math.sin(U)+T;O=P*Math.cos(U);R=P*Math.sin(U);if(K.animate){I.onAnimate(Q.lines,{to:{path:["M",O+S,R+T,"L",Y.x,Y.y,"Z","M",Y.x,Y.y,"l",O>0?y:-y,0,"z"]}});I.onAnimate(Q.box,{to:{x:Y.x+(O>0?y:-(y+Z.width+2*F)),y:Y.y+(R>0?(-Z.height-F/2):(-Z.height-F/2)),width:Z.width+2*F,height:Z.height+2*F}});I.onAnimate(Q.label,{to:{x:Y.x+(O>0?(y+F):-(y+Z.width+F)),y:Y.y+(R>0?-Z.height/4:-Z.height/4)}})}else{Q.lines.setAttributes({path:["M",O+S,R+T,"L",Y.x,Y.y,"Z","M",Y.x,Y.y,"l",O>0?y:-y,0,"z"]},true);Q.box.setAttributes({x:Y.x+(O>0?y:-(y+Z.width+2*F)),y:Y.y+(R>0?(-Z.height-F/2):(-Z.height-F/2)),width:Z.width+2*F,height:Z.height+2*F},true);Q.label.setAttributes({x:Y.x+(O>0?(y+F):-(y+Z.width+F)),y:Y.y+(R>0?-Z.height/4:-Z.height/4)},true)}for(H in Q){Q[H].show(true)}},onAnimate:function(c,d){c.show();return this.callParent(arguments)},isItemInPoint:function(u,w,s,z){var x=this,A=x.centerX,B=x.centerY,i=Math.abs,r=i(u-A),t=i(w-B),y=s.startAngle,D=s.endAngle,v=Math.sqrt(r*r+t*t),C=Math.atan2(w-B,u-A)/x.rad;if(C>x.firstAngle){C-=360}return(C<=y&&C>D&&v>=s.startRho&&v<=s.endRho)},hideAll:function(){var m,i,k,l,n,j,p;if(!isNaN(this._index)){this.__excludes=this.__excludes||[];this.__excludes[this._index]=true;p=this.slices[this._index].sprite;for(n=0,j=p.length;n<j;n++){p[n].setAttributes({hidden:true},true)}if(this.slices[this._index].shadowAttrs){for(m=0,l=this.slices[this._index].shadowAttrs,i=l.length;m<i;m++){k=l[m];for(n=0,j=k.length;n<j;n++){k[n].setAttributes({hidden:true},true)}}}this.drawSeries()}},showAll:function(){if(!isNaN(this._index)){this.__excludes[this._index]=false;this.drawSeries()}},highlightItem:function(A){var x=this,y=x.rad;A=A||this.items[this._index];this.unHighlightItem();if(!A||A.sprite&&A.sprite._animating){return}x.callParent([A]);if(!x.highlight){return}if("segment" in x.highlightCfg){var i=x.highlightCfg.segment,M=x.chart.animate,D,B,P,L,H,O,F,N;if(x.labelsGroup){var K=x.labelsGroup,C=x.label.display,J=K.getAt(A.index),r=(A.startAngle+A.endAngle)/2*y,E=i.margin||0,G=E*Math.cos(r),I=E*Math.sin(r);if(Math.abs(G)<1e-10){G=0}if(Math.abs(I)<1e-10){I=0}if(M){J.stopAnimation();J.animate({to:{translate:{x:G,y:I}},duration:x.highlightDuration})}else{J.setAttributes({translate:{x:G,y:I}},true)}}if(x.chart.shadow&&A.shadows){B=0;P=A.shadows;H=P.length;for(;B<H;B++){L=P[B];O={};F=A.sprite._from.segment;for(N in F){if(!(N in i)){O[N]=F[N]}}D={segment:Ext.applyIf(O,x.highlightCfg.segment)};if(M){L.stopAnimation();L.animate({to:D,duration:x.highlightDuration})}else{L.setAttributes(D,true)}}}}},unHighlightItem:function(){var j=this;if(!j.highlight){return}if(("segment" in j.highlightCfg)&&j.items){var H=j.items,L=j.chart.animate,M=!!j.chart.shadow,I=j.labelsGroup,A=H.length,B=0,C=0,D=j.label.display,i,G,N,P,p,F,O,K,z,J,E;for(;B<A;B++){z=H[B];if(!z){continue}F=z.sprite;if(F&&F._highlighted){if(I){J=I.getAt(z.index);E=Ext.apply({translate:{x:0,y:0}},D=="rotate"?{rotate:{x:J.attr.x,y:J.attr.y,degrees:J.attr.rotation.degrees}}:{});if(L){J.stopAnimation();J.animate({to:E,duration:j.highlightDuration})}else{J.setAttributes(E,true)}}if(M){O=z.shadows;i=O.length;for(;C<i;C++){N={};P=z.sprite._to.segment;p=z.sprite._from.segment;Ext.apply(N,p);for(G in P){if(!(G in p)){N[G]=P[G]}}K=O[C];if(L){K.stopAnimation();K.animate({to:{segment:N},duration:j.highlightDuration})}else{K.setAttributes({segment:N},true)}}}}}}j.callParent(arguments)},getLegendColor:function(d){var c=this;return(c.colorSet&&c.colorSet[d%c.colorSet.length])||c.colorArrayStyle[d%c.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Radar",{extend:"Ext.chart.series.Series",requires:["Ext.chart.Shape","Ext.fx.Anim"],type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:false,style:{},constructor:function(k){this.callParent(arguments);var i=this,h=i.chart.surface,j,g;i.group=h.getGroup(i.seriesId);if(i.showMarkers){i.markerGroup=h.getGroup(i.seriesId+"-markers")}},drawSeries:function(){var i=this,af=i.chart.getChartStore(),ac=i.group,Y,y=i.chart,ag=y.animate,an=i.field||i.yField,U=y.surface,S=y.chartBBox,aj,X,aa,ae,ai,x=0,W=[],O=Math.max,al=Math.cos,ap=Math.sin,Z=Math.PI*2,R=af.getCount(),l,ab,T,V,am,Q,ao,ah=i.seriesStyle,N=i.seriesLabelStyle,ad=y.resizing||!i.radar,ak=y.axes&&y.axes.get(0),P=!(ak&&ak.maximum);
i.setBBox();x=P?0:(ak.maximum||0);Ext.apply(ah,i.style||{});if(!af||!af.getCount()){return}i.unHighlightItem();i.cleanHighlights();X=i.centerX=S.x+(S.width/2);aa=i.centerY=S.y+(S.height/2);i.radius=ai=Math.min(S.width,S.height)/2;i.items=ae=[];if(P){y.series.each(function(a){W.push(a.yField)});af.each(function(b,a){for(a=0,ao=W.length;a<ao;a++){x=O(+b.get(W[a]),x)}})}x=x||1;l=[];ab=[];af.each(function(b,a){am=ai*b.get(an)/x;T=am*al(a/R*Z);V=am*ap(a/R*Z);if(a==0){ab.push("M",T+X,V+aa);l.push("M",0.01*T+X,0.01*V+aa)}else{ab.push("L",T+X,V+aa);l.push("L",0.01*T+X,0.01*V+aa)}ae.push({sprite:false,point:[X+T,aa+V],series:i})});ab.push("Z");if(!i.radar){i.radar=U.add(Ext.apply({type:"path",group:ac,path:l},ah||{}))}if(y.resizing){i.radar.setAttributes({path:l},true)}if(y.animate){i.onAnimate(i.radar,{to:Ext.apply({path:ab},ah||{})})}else{i.radar.setAttributes(Ext.apply({path:ab},ah||{}),true)}if(i.showMarkers){i.drawMarkers()}i.renderLabels();i.renderCallouts()},drawMarkers:function(){var t=this,v=t.chart,D=v.surface,C=Ext.apply({},t.markerStyle||{}),w=Ext.apply(C,t.markerConfig),u=t.items,s=w.type,i=t.markerGroup,z=t.centerX,A=t.centerY,l,x,B,y;delete w.type;for(x=0,B=u.length;x<B;x++){l=u[x];y=i.getAt(x);if(!y){y=Ext.chart.Shape[s](D,Ext.apply({group:i,x:0,y:0,translate:{x:z,y:A}},w))}else{y.show()}if(v.resizing){y.setAttributes({x:0,y:0,translate:{x:z,y:A}},true)}y._to={translate:{x:l.point[0],y:l.point[1]}};if(v.animate){t.onAnimate(y,{to:y._to})}else{y.setAttributes(Ext.apply(y._to,w||{}),true)}}},isItemInPoint:function(m,j,k){var h,l=10,i=Math.abs;h=k.point;return(i(h[0]-m)<=l&&i(h[1]-j)<=l)},onCreateLabel:function(s,i,t,r){var q=this,n=q.labelsGroup,x=q.label,u=q.centerX,v=q.centerY,p=i.point,w=Ext.apply(q.seriesLabelStyle||{},x);return q.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:n,x:u,y:v},x||{}))},onPlaceLabel:function(i,B,I,C,z,G){var x=this,y=x.chart,A=y.resizing,F=x.label,J=F.renderer,u=F.field,D=x.centerX,E=x.centerY,H={x:I.point[0],y:I.point[1]},v=H.x-D,w=H.y-E;i.setAttributes({text:J(B.get(u)),hidden:true},true);if(A){i.setAttributes({x:D,y:E},true)}if(G){i.show(true);x.onAnimate(i,{to:H})}else{i.setAttributes(H,true);i.show(true)}},toggleAll:function(i){var k=this,h,l,j,m;if(!i){Ext.chart.series.Radar.superclass.hideAll.call(k)}else{Ext.chart.series.Radar.superclass.showAll.call(k)}if(k.radar){k.radar.setAttributes({hidden:!i},true);if(k.radar.shadows){for(h=0,m=k.radar.shadows,l=m.length;h<l;h++){j=m[h];j.setAttributes({hidden:!i},true)}}}},hideAll:function(){this.toggleAll(false);this.hideMarkers(0)},showAll:function(){this.toggleAll(true)},hideMarkers:function(g){var h=this,i=h.markerGroup&&h.markerGroup.getCount()||0,e=g||0;for(;e<i;e++){h.markerGroup.getAt(e).hide(true)}}});Ext.define("Ext.chart.series.Scatter",{extend:"Ext.chart.series.Cartesian",requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.fx.Anim"],type:"scatter",alias:"series.scatter",constructor:function(m){this.callParent(arguments);var k=this,j=k.chart.shadow,i=k.chart.surface,l,h;Ext.apply(k,m,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":0.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":0.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":0.15,stroke:"rgb(0, 0, 0)"}]});k.group=i.getGroup(k.seriesId);if(j){for(l=0,h=k.shadowAttributes.length;l<h;l++){k.shadowGroups.push(i.getGroup(k.seriesId+"-shadows"+l))}}},getBounds:function(){var v=this,w=v.chart,t=w.getChartStore(),y=[].concat(v.axis),i,s,D,x,A,B,E,F,z,C,u;v.setBBox();i=v.bbox;for(z=0,x=y.length;z<x;z++){C=w.axes.get(y[z]);if(C){u=C.calcEnds();if(C.position=="top"||C.position=="bottom"){A=u.from;E=u.to}else{B=u.from;F=u.to}}}if(v.xField&&!Ext.isNumber(A)){C=Ext.create("Ext.chart.axis.Axis",{chart:w,fields:[].concat(v.xField)}).calcEnds();A=C.from;E=C.to}if(v.yField&&!Ext.isNumber(B)){C=Ext.create("Ext.chart.axis.Axis",{chart:w,fields:[].concat(v.yField)}).calcEnds();B=C.from;F=C.to}if(isNaN(A)){A=0;E=t.getCount()-1;s=i.width/(t.getCount()-1)}else{s=i.width/(E-A)}if(isNaN(B)){B=0;F=t.getCount()-1;D=i.height/(t.getCount()-1)
}else{D=i.height/(F-B)}return{bbox:i,minX:A,minY:B,xScale:s,yScale:D}},getPaths:function(){var z=this,I=z.chart,Q=I.shadow,O=I.getChartStore(),L=z.group,N=z.bounds=z.getBounds(),R=z.bbox,x=N.xScale,P=N.yScale,B=N.minX,C=N.minY,y=R.x,A=R.y,M=R.height,H=z.items=[],F=[],J,K,E,D,G;O.each(function(a,b){E=a.get(z.xField);D=a.get(z.yField);if(typeof D=="undefined"||(typeof D=="string"&&!D)){return}if(typeof E=="string"||typeof E=="object"&&!Ext.isDate(E)){E=b}if(typeof D=="string"||typeof D=="object"&&!Ext.isDate(D)){D=b}J=y+(E-B)*x;K=A+M-(D-C)*P;F.push({x:J,y:K});z.items.push({series:z,value:[E,D],point:[J,K],storeItem:a});if(I.animate&&I.resizing){G=L.getAt(b);if(G){z.resetPoint(G);if(Q){z.resetShadow(G)}}}});return F},resetPoint:function(d){var c=this.bbox;d.setAttributes({translate:{x:(c.x+c.width)/2,y:(c.y+c.height)/2}},true)},resetShadow:function(r){var n=this,p=r.shadows,l=n.shadowAttributes,q=n.shadowGroups.length,m=n.bbox,i,k;for(i=0;i<q;i++){k=Ext.apply({},l[i]);if(k.translate){k.translate.x+=(m.x+m.width)/2;k.translate.y+=(m.y+m.height)/2}else{k.translate={x:(m.x+m.width)/2,y:(m.y+m.height)/2}}p[i].setAttributes(k,true)}},createPoint:function(i,m){var l=this,h=l.chart,k=l.group,j=l.bbox;return Ext.chart.Shape[m](h.surface,Ext.apply({},{x:0,y:0,group:k,translate:{x:(j.x+j.width)/2,y:(j.y+j.height)/2}},i))},createShadow:function(q,w,t){var u=this,v=u.chart,s=u.shadowGroups,y=u.shadowAttributes,B=s.length,i=u.bbox,z,r,A,x;q.shadows=A=[];for(z=0;z<B;z++){x=Ext.apply({},y[z]);if(x.translate){x.translate.x+=(i.x+i.width)/2;x.translate.y+=(i.y+i.height)/2}else{Ext.apply(x,{translate:{x:(i.x+i.width)/2,y:(i.y+i.height)/2}})}Ext.apply(x,w);r=Ext.chart.Shape[t](v.surface,Ext.apply({},{x:0,y:0,group:s[z]},x));A.push(r)}},drawSeries:function(){var i=this,E=i.chart,H=E.getChartStore(),G=i.group,L=E.shadow,N=i.shadowGroups,z=i.shadowAttributes,y=N.length,D,C,B,F,A,w,J,I,M,K,x;w=Ext.apply(i.markerStyle,i.markerConfig);I=w.type;delete w.type;if(!H||!H.getCount()){return}i.unHighlightItem();i.cleanHighlights();C=i.getPaths();F=C.length;for(A=0;A<F;A++){B=C[A];D=G.getAt(A);Ext.apply(B,w);if(!D){D=i.createPoint(B,I);if(L){i.createShadow(D,w,I)}}M=D.shadows;if(E.animate){K=i.renderer(D,H.getAt(A),{translate:B},A,H);D._to=K;i.onAnimate(D,{to:K});for(J=0;J<y;J++){x=Ext.apply({},z[J]);K=i.renderer(M[J],H.getAt(A),Ext.apply({},{hidden:false,translate:{x:B.x+(x.translate?x.translate.x:0),y:B.y+(x.translate?x.translate.y:0)}},x),A,H);i.onAnimate(M[J],{to:K})}}else{K=i.renderer(D,H.getAt(A),{translate:B},A,H);D._to=K;D.setAttributes(K,true);for(J=0;J<y;J++){x=Ext.apply({},z[J]);K=i.renderer(M[J],H.getAt(A),Ext.apply({},{hidden:false,translate:{x:B.x+(x.translate?x.translate.x:0),y:B.y+(x.translate?x.translate.y:0)}},x),A,H);M[J].setAttributes(K,true)}}i.items[A].sprite=D}F=G.getCount();for(A=C.length;A<F;A++){G.getAt(A).hide(true)}i.renderLabels();i.renderCallouts()},onCreateLabel:function(q,i,r,p){var n=this,m=n.labelsGroup,t=n.label,s=Ext.apply({},t,n.seriesLabelStyle),l=n.bbox;return n.chart.surface.add(Ext.apply({type:"text",group:m,x:i.point[0],y:l.y+l.height/2},s))},onPlaceLabel:function(K,H,y,B,C,M){var i=this,G=i.chart,z=G.resizing,x=i.label,A=x.renderer,O=x.field,P=i.bbox,I=y.point[0],J=y.point[1],N=y.sprite.attr.radius,L,E,F,D;K.setAttributes({text:A(H.get(O)),hidden:true},true);if(C=="rotate"){K.setAttributes({"text-anchor":"start",rotation:{x:I,y:J,degrees:-45}},true);L=K.getBBox();E=L.width;F=L.height;I=I<P.x?P.x:I;I=(I+E>P.x+P.width)?(I-(I+E-P.x-P.width)):I;J=(J-F<P.y)?P.y+F:J}else{if(C=="under"||C=="over"){L=y.sprite.getBBox();L.width=L.width||(N*2);L.height=L.height||(N*2);J=J+(C=="over"?-L.height:L.height);L=K.getBBox();E=L.width/2;F=L.height/2;I=I-E<P.x?P.x+E:I;I=(I+E>P.x+P.width)?(I-(I+E-P.x-P.width)):I;J=J-F<P.y?P.y+F:J;J=(J+F>P.y+P.height)?(J-(J+F-P.y-P.height)):J}}if(!G.animate){K.setAttributes({x:I,y:J},true);K.show(true)}else{if(z){D=y.sprite.getActiveAnimation();if(D){D.on("afteranimate",function(){K.setAttributes({x:I,y:J},true);K.show(true)})}else{K.show(true)}}else{i.onAnimate(K,{to:{x:I,y:J}})}}},onPlaceCallout:function(V,T,O,R,i,ab,X){var I=this,S=I.chart,y=S.surface,P=S.resizing,K=I.callouts,Q=I.items,ac=O.point,x,ad=V.label.getBBox(),M=30,H=10,J=3,Z,aa,Y,L,N,p=I.bbox,U,W;
x=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)];U=ac[0]+x[0]*M;W=ac[1]+x[1]*M;Z=U+(x[0]>0?0:-(ad.width+2*J));aa=W-ad.height/2-J;Y=ad.width+2*J;L=ad.height+2*J;if(Z<p[0]||(Z+Y)>(p[0]+p[2])){x[0]*=-1}if(aa<p[1]||(aa+L)>(p[1]+p[3])){x[1]*=-1}U=ac[0]+x[0]*M;W=ac[1]+x[1]*M;Z=U+(x[0]>0?0:-(ad.width+2*J));aa=W-ad.height/2-J;Y=ad.width+2*J;L=ad.height+2*J;if(S.animate){I.onAnimate(V.lines,{to:{path:["M",ac[0],ac[1],"L",U,W,"Z"]}},true);I.onAnimate(V.box,{to:{x:Z,y:aa,width:Y,height:L}},true);I.onAnimate(V.label,{to:{x:U+(x[0]>0?J:-(ad.width+J)),y:W}},true)}else{V.lines.setAttributes({path:["M",ac[0],ac[1],"L",U,W,"Z"]},true);V.box.setAttributes({x:Z,y:aa,width:Y,height:L},true);V.label.setAttributes({x:U+(x[0]>0?J:-(ad.width+J)),y:W},true)}for(N in V){V[N].show(true)}},onAnimate:function(c,d){c.show();return this.callParent(arguments)},isItemInPoint:function(p,k,m){var i,n=10,j=Math.abs;function l(c){var a=j(c[0]-p),b=j(c[1]-k);return Math.sqrt(a*a+b*b)}i=m.point;return(i[0]-n<=p&&i[0]+n>=p&&i[1]-n<=k&&i[1]+n>=k)}});Ext.define("Ext.chart.theme.Base",{requires:["Ext.chart.theme.Theme"],constructor:function(b){Ext.chart.theme.call(this,b,{background:false,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",fill:"#000",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#a61120",type:"plus"}]})}},function(){var r=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],l=["Green","Sky","Red","Purple","Blue","Yellow"],m=0,n=0,i=r.length,j=Ext.chart.theme,q=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],p=q.length;for(;m<i;m++){j[l[m]]=(function(a){return Ext.extend(j.Base,{constructor:function(b){j.Base.prototype.constructor.call(this,Ext.apply({baseColor:a},b))}})})(r[m])}for(m=0;m<p;m++){j["Category"+(m+1)]=(function(a){return Ext.extend(j.Base,{constructor:function(b){j.Base.prototype.constructor.call(this,Ext.apply({colors:a},b))}})})(q[m])}});Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",uses:["Ext.data.reader.Array"],constructor:function(b){b=b||{};Ext.applyIf(b,{proxy:{type:"memory",reader:"array"}});this.callParent([b])},loadData:function(i,h){if(this.expandData===true){var j=[],g=0,k=i.length;for(;g<k;g++){j[j.length]=[i[g]]}i=j}this.callParent([i,h])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.util.Observable"},autoStart:false,current:-1,total:0,isRunning:false,isComplete:false,hasException:false,pauseOnException:true,constructor:function(d){var c=this;c.addEvents("complete","exception","operationcomplete");c.mixins.observable.constructor.call(c,d);c.operations=[]},add:function(b){this.total++;b.setBatch(this);this.operations.push(b)},start:function(){this.hasException=false;
this.isRunning=true;this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.isRunning=false},runOperation:function(j){var i=this,k=i.operations,g=k[j],h;if(g===undefined){i.isRunning=false;i.isComplete=true;i.fireEvent("complete",i,k[k.length-1])}else{i.current=j;h=function(b){var a=b.hasException();if(a){i.hasException=true;i.fireEvent("exception",i,b)}else{i.fireEvent("operationcomplete",i,b)}if(a&&i.pauseOnException){i.pause()}else{b.setCompleted();i.runNextOperation()}};g.setStarted();i.proxy[g.action](g,h,i)}}});Ext.define("Ext.data.BelongsToAssociation",{extend:"Ext.data.Association",alias:"association.belongsto",constructor:function(m){this.callParent(arguments);var k=this,i=k.ownerModel.prototype,j=k.associatedName,l=k.getterName||"get"+j,h=k.setterName||"set"+j;Ext.applyIf(k,{name:j,foreignKey:j.toLowerCase()+"_id",instanceName:j+"BelongsToInstance",associationKey:j.toLowerCase()});i[l]=k.createGetter();i[h]=k.createSetter()},createSetter:function(){var k=this,j=k.ownerModel,i=k.associatedModel,g=k.foreignKey,h=k.primaryKey;return function(a,c,b){this.set(g,a);if(typeof c=="function"){c={callback:c,scope:b||this}}if(Ext.isObject(c)){return this.save(c)}}},createGetter:function(){var n=this,l=n.ownerModel,m=n.associatedName,k=n.associatedModel,p=n.foreignKey,i=n.primaryKey,j=n.instanceName;return function(b,a){b=b||{};var c=this,g=c.get(p),e,d;if(c[j]===undefined){e=Ext.ModelManager.create({},m);e.set(i,g);if(typeof b=="function"){b={callback:b,scope:a||c}}k.load(g,b);c[j]=k;return k}else{e=c[j];d=[e];a=a||c;Ext.callback(b,a,d);Ext.callback(b.success,a,d);Ext.callback(b.failure,a,d);Ext.callback(b.callback,a,d);return e}}},read:function(d,e,g){d[this.instanceName]=e.read([g]).records[0]}});Ext.define("Ext.data.BufferStore",{extend:"Ext.data.Store",alias:"store.buffer",sortOnLoad:false,filterOnLoad:false,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}});Ext.define("Ext.direct.Manager",{singleton:true,mixins:{observable:"Ext.util.Observable"},requires:["Ext.util.MixedCollection"],statics:{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"}},constructor:function(){var b=this;b.addEvents("event","exception");b.transactions=Ext.create("Ext.util.MixedCollection");b.providers=Ext.create("Ext.util.MixedCollection");b.mixins.observable.constructor.call(b)},addProvider:function(i){var j=this,g=arguments,k=0,h;if(g.length>1){for(h=g.length;k<h;++k){j.addProvider(g[k])}return}if(!i.isProvider){i=Ext.create("direct."+i.type+"provider",i)}j.providers.add(i);i.on("data",j.onProviderData,j);if(!i.isConnected()){i.connect()}return i},getProvider:function(b){return b.isProvider?b:this.providers.get(b)},removeProvider:function(g){var d=this,e=d.providers;g=g.isProvider?g:e.get(g);if(g){g.un("data",d.onProviderData,d);e.remove(g);return g}return null},addTransaction:function(b){this.transactions.add(b);return b},removeTransaction:function(b){b=this.getTransaction(b);this.transactions.remove(b);return b},getTransaction:function(b){return b.isTransaction?b:this.transactions.get(b)},onProviderData:function(i,j){var k=this,g=0,h;if(Ext.isArray(j)){for(h=j.length;g<h;++g){k.onProviderData(i,j[g])}return}if(j.name&&j.name!="event"&&j.name!="exception"){k.fireEvent(j.name,j)}else{if(j.status===false){k.fireEvent("exception",j)}}k.fireEvent("event",j,i)}},function(){Ext.Direct=Ext.direct.Manager});Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],paramOrder:undefined,paramsAsHash:true,directFn:undefined,paramOrderRe:/[\s,|]/,constructor:function(d){var c=this;Ext.apply(c,d);if(Ext.isString(c.paramOrder)){c.paramOrder=c.paramOrder.split(c.paramOrderRe)}c.callParent(arguments)},doRequest:function(y,q,i){var s=this,A=s.getWriter(),x=s.buildRequest(y,q,i),r=s.api[x.action]||s.directFn,u=[],z=x.params,t=s.paramOrder,B,w=0,v;if(y.allowWrite()){x=A.write(x)}if(y.action=="read"){B=r.directCfg.method;
if(B.ordered){if(B.len>0){if(t){for(v=t.length;w<v;++w){u.push(z[t[w]])}}else{if(s.paramsAsHash){u.push(z)}}}}else{u.push(z)}}else{u.push(x.jsonData)}Ext.apply(x,{args:u,directFn:r});u.push(s.createRequestCallback(x,y,q,i),s);r.apply(window,u)},applyEncoding:function(b){return b},createRequestCallback:function(j,h,i,g){var k=this;return function(a,b){k.processResponse(b.status,h,j,b,i,g)}},extractResponseData:function(b){return Ext.isDefined(b.result)?b.result:b.data},setException:function(c,d){c.setException(d.message)},buildUrl:function(){return""}});Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(d){d=Ext.apply({},d);if(!d.proxy){var c={type:"direct",reader:{type:"json"}};Ext.copyTo(c,d,"paramOrder,paramsAsHash,directFn,api,simpleSortMode");Ext.copyTo(c.reader,d,"totalProperty,root,idProperty");d.proxy=c}this.callParent([d])}});Ext.define("Ext.util.Inflector",{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^person$/),"people"],[(/^man$/),"men"],[(/^(child)$/),"$1ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/people$/i),"person"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(c,d){this.singulars.unshift([c,d])},plural:function(c,d){this.plurals.unshift([c,d])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(b){return Ext.Array.indexOf(this.uncountable,b)!=-1},pluralize:function(j){if(this.isTransnumeral(j)){return j}var k=this.plurals,l=k.length,i,m,h;for(h=0;h<l;h++){i=k[h];m=i[0];if(m==j||(m.test&&m.test(j))){return j.replace(m,i[1])}}return j},singularize:function(j){if(this.isTransnumeral(j)){return j}var k=this.singulars,l=k.length,i,m,h;for(h=0;h<l;h++){i=k[h];m=i[0];if(m==j||(m.test&&m.test(j))){return j.replace(m,i[1])}}return j},classify:function(b){return Ext.String.capitalize(this.singularize(b))},ordinalize:function(h){var e=parseInt(h,10),i=e%10,g=e%100;if(11<=g&&g<=13){return h+"th"}else{switch(i){case 1:return h+"st";case 2:return h+"nd";case 3:return h+"rd";default:return h+"th"}}}},function(){var c={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},d;for(d in c){this.plural(d,c[d]);this.singular(c[d],d)}});Ext.define("Ext.data.HasManyAssociation",{extend:"Ext.data.Association",requires:["Ext.util.Inflector"],alias:"association.hasmany",constructor:function(i){var h=this,g,e;h.callParent(arguments);h.name=h.name||Ext.util.Inflector.pluralize(h.associatedName.toLowerCase());
g=h.ownerModel.prototype;e=h.name;Ext.applyIf(h,{storeName:e+"Store",foreignKey:h.ownerName.toLowerCase()+"_id"});g[e]=h.createStore()},createStore:function(){var m=this,l=m.associatedModel,r=m.storeName,q=m.foreignKey,k=m.primaryKey,n=m.filterProperty,j=m.autoLoad,p=m.storeConfig||{};return function(){var a=this,c,b,d={};if(a[r]===undefined){if(n){b={property:n,value:a.get(n),exactMatch:true}}else{b={property:q,value:a.get(k),exactMatch:true}}d[q]=a.get(k);c=Ext.apply({},p,{model:l,filters:[b],remoteFilter:false,modelDefaults:d});a[r]=Ext.create("Ext.data.Store",c);if(j){a[r].load()}}return a[r]}},read:function(k,h,i){var j=k[this.name](),g;j.add(h.read(i).records);g=this.associatedModel.prototype.associations.findBy(function(a){return a.type==="belongsTo"&&a.associatedName===k.$className});if(g){j.data.each(function(a){a[g.instanceName]=k})}}});Ext.define("Ext.data.JsonP",{singleton:true,statics:{requestCount:0,requests:{}},timeout:30000,disableCaching:true,disableCachingParam:"_dc",callbackKey:"callback",request:function(p){p=Ext.apply({},p);var t=this,y=Ext.isDefined(p.disableCaching)?p.disableCaching:t.disableCaching,v=p.disableCachingParam||t.disableCachingParam,z=++t.statics().requestCount,r=p.callbackName||"callback"+z,u=p.callbackKey||t.callbackKey,q=Ext.isDefined(p.timeout)?p.timeout:t.timeout,x=Ext.apply({},p.params),A=p.url,B=Ext.isSandboxed?Ext.getUniqueGlobalNamespace():"Ext",w,s;x[u]=B+".data.JsonP."+r;if(y){x[v]=new Date().getTime()}s=t.createScript(A,x);t.statics().requests[z]=w={url:A,params:x,script:s,id:z,scope:p.scope,success:p.success,failure:p.failure,callback:p.callback,callbackName:r};if(q>0){w.timeout=setTimeout(Ext.bind(t.handleTimeout,t,[w]),q)}t.setupErrorHandling(w);t[r]=Ext.bind(t.handleResponse,t,[w],true);Ext.getHead().appendChild(s);return w},abort:function(d){var g=this.statics().requests,e;if(d){if(!d.id){d=g[d]}this.abort(d)}else{for(e in g){if(g.hasOwnProperty(e)){this.abort(g[e])}}}},setupErrorHandling:function(b){b.script.onerror=Ext.bind(this.handleError,this,[b])},handleAbort:function(b){b.errorType="abort";this.handleResponse(null,b)},handleError:function(b){b.errorType="error";this.handleResponse(null,b)},cleanupErrorHandling:function(b){b.script.onerror=null},handleTimeout:function(b){b.errorType="timeout";this.handleResponse(null,b)},handleResponse:function(e,d){var g=true;if(d.timeout){clearTimeout(d.timeout)}delete this[d.callbackName];delete this.statics()[d.id];this.cleanupErrorHandling(d);Ext.fly(d.script).remove();if(d.errorType){g=false;Ext.callback(d.failure,d.scope,[d.errorType])}else{Ext.callback(d.success,d.scope,[e])}Ext.callback(d.callback,d.scope,[g,e,d.errorType])},createScript:function(d,g){var e=document.createElement("script");e.setAttribute("src",Ext.urlAppend(d,Ext.Object.toQueryString(g)));e.setAttribute("async",true);e.setAttribute("type","text/javascript");return e}});Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",constructor:function(b){this.callParent(Ext.apply(b,{reader:Ext.create("Ext.data.reader.Json",b),proxy:Ext.create("Ext.data.proxy.JsonP",b)}))}});Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.Field"],statics:{decorate:function(r){if(!r.isNode){var l=Ext.ModelManager,p=r.modelName,m=l.getModel(p),i=m.prototype.idProperty,n=[],s,t,q;m.override(this.getPrototypeBody());n=this.applyFields(m,[{name:i,type:"string",defaultValue:null},{name:"parentId",type:"string",defaultValue:null},{name:"index",type:"int",defaultValue:null},{name:"depth",type:"int",defaultValue:0},{name:"expanded",type:"bool",defaultValue:false,persist:false},{name:"expandable",type:"bool",defaultValue:true,persist:false},{name:"checked",type:"auto",defaultValue:null},{name:"leaf",type:"bool",defaultValue:false,persist:false},{name:"cls",type:"string",defaultValue:null,persist:false},{name:"iconCls",type:"string",defaultValue:null,persist:false},{name:"icon",type:"string",defaultValue:null,persist:false},{name:"root",type:"boolean",defaultValue:false,persist:false},{name:"isLast",type:"boolean",defaultValue:false,persist:false},{name:"isFirst",type:"boolean",defaultValue:false,persist:false},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false},{name:"loaded",type:"boolean",defaultValue:false,persist:false},{name:"loading",type:"boolean",defaultValue:false,persist:false},{name:"href",type:"string",defaultValue:null,persist:false},{name:"hrefTarget",type:"string",defaultValue:null,persist:false},{name:"qtip",type:"string",defaultValue:null,persist:false},{name:"qtitle",type:"string",defaultValue:null,persist:false}]);
q=n.length;for(s=0;s<q;++s){t=n[s];if(r.get(t.name)===undefined){r.data[t.name]=t.defaultValue}}}Ext.applyIf(r,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]});r.commit(true);r.enableBubble(["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort"]);return r},applyFields:function(n,m){var t=n.prototype,r=t.fields,i=r.keys,p=m.length,u,s,v,q=[];for(s=0;s<p;s++){u=m[s];if(!Ext.Array.contains(i,u.name)){u=Ext.create("data.field",u);q.push(u);r.add(u)}}return q},getPrototypeBody:function(){return{isNode:true,createNode:function(b){if(Ext.isObject(b)&&!b.isModel){b=Ext.ModelManager.create(b,this.modelName)}return Ext.data.NodeInterface.decorate(b)},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(b){this.firstChild=b},setLastChild:function(b){this.lastChild=b},updateInfo:function(p){var n=this,w=n.isRoot(),r=n.parentNode,v=(!r?true:r.firstChild==n),s=(!r?true:r.lastChild==n),t=0,i=n,x=n.childNodes,q=x.length,u=0;while(i.parentNode){++t;i=i.parentNode}n.beginEdit();n.set({isFirst:v,isLast:s,depth:t,index:r?r.indexOf(n):0,parentId:r?r.getId():null});n.endEdit(p);if(p){n.commit()}for(u=0;u<q;u++){x[u].updateInfo(p)}},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var b=this;if(b.get("expandable")){return !(b.isLeaf()||(b.isLoaded()&&!b.hasChildNodes()))}return false},appendChild:function(s,i,l){var n=this,r,p,q,m,t;if(Ext.isArray(s)){for(r=0,p=s.length;r<p;r++){n.appendChild(s[r])}}else{s=n.createNode(s);if(i!==true&&n.fireEvent("beforeappend",n,s)===false){return false}q=n.childNodes.length;m=s.parentNode;if(m){if(i!==true&&s.fireEvent("beforemove",s,m,n,q)===false){return false}m.removeChild(s,null,false,true)}q=n.childNodes.length;if(q===0){n.setFirstChild(s)}n.childNodes.push(s);s.parentNode=n;s.nextSibling=null;n.setLastChild(s);t=n.childNodes[q-1];if(t){s.previousSibling=t;t.nextSibling=s;t.updateInfo(l)}else{s.previousSibling=null}s.updateInfo(l);if(!n.isLoaded()){n.set("loaded",true)}else{if(n.childNodes.length===1){n.set("loaded",n.isLoaded())}}if(i!==true){n.fireEvent("append",n,s,q);if(m){s.fireEvent("move",s,m,n,q)}}return s}},getBubbleTarget:function(){return this.parentNode},removeChild:function(k,h,m,j){var l=this,i=l.indexOf(k);if(i==-1||(m!==true&&l.fireEvent("beforeremove",l,k)===false)){return false}Ext.Array.erase(l.childNodes,i,1);if(l.firstChild==k){l.setFirstChild(k.nextSibling)}if(l.lastChild==k){l.setLastChild(k.previousSibling)}if(k.previousSibling){k.previousSibling.nextSibling=k.nextSibling;k.previousSibling.updateInfo(j)}if(k.nextSibling){k.nextSibling.previousSibling=k.previousSibling;k.nextSibling.updateInfo(j)}if(m!==true){l.fireEvent("remove",l,k)}if(!l.childNodes.length){l.set("loaded",l.isLoaded())}if(h){k.destroy(true)}else{k.clear()}return k},copy:function(l,m){var j=this,h=j.callOverridden(arguments),i=j.childNodes?j.childNodes.length:0,k;if(m){for(k=0;k<i;k++){h.appendChild(j.childNodes[k].copy(true))}}return h},clear:function(d){var c=this;c.parentNode=c.previousSibling=c.nextSibling=null;if(d){c.firstChild=c.lastChild=null}},destroy:function(e){var g=this,d=g.destroyOptions;if(e===true){g.clear(true);Ext.each(g.childNodes,function(a){a.destroy(true)});g.childNodes=null;delete g.destroyOptions;g.callOverridden([d])}else{g.destroyOptions=e;g.remove(true)}},insertBefore:function(n,k,q){var p=this,j=p.indexOf(k),r=n.parentNode,m=j,l;if(!k){return p.appendChild(n)}if(n==k){return false}n=p.createNode(n);if(q!==true&&p.fireEvent("beforeinsert",p,n,k)===false){return false}if(r==p&&p.indexOf(n)<j){m--}if(r){if(q!==true&&n.fireEvent("beforemove",n,r,p,j,k)===false){return false}r.removeChild(n)}if(m===0){p.setFirstChild(n)}Ext.Array.splice(p.childNodes,m,0,n);n.parentNode=p;n.nextSibling=k;k.previousSibling=n;l=p.childNodes[m-1];if(l){n.previousSibling=l;l.nextSibling=n;l.updateInfo()}else{n.previousSibling=null
}n.updateInfo();if(!p.isLoaded()){p.set("loaded",true)}else{if(p.childNodes.length===1){p.set("loaded",p.isLoaded())}}if(q!==true){p.fireEvent("insert",p,n,k);if(r){n.fireEvent("move",n,r,p,m,k)}}return n},insertChild:function(e,g){var d=this.childNodes[e];if(d){return this.insertBefore(g,d)}else{return this.appendChild(g)}},remove:function(d,g){var e=this.parentNode;if(e){e.removeChild(this,d,g,true)}return this},removeAll:function(g,e){var h=this.childNodes,i;while((i=h[0])){this.removeChild(i,g,e)}return this},getChildAt:function(b){return this.childNodes[b]},replaceChild:function(g,h,i){var e=h?h.nextSibling:null;this.removeChild(h,i);this.insertBefore(g,e,i);return h},indexOf:function(b){return Ext.Array.indexOf(this.childNodes,b)},getPath:function(h,i){h=h||this.idProperty;i=i||"/";var e=[this.get(h)],g=this.parentNode;while(g){e.unshift(g.get(h));g=g.parentNode}return i+e.join(i)},getDepth:function(){return this.get("depth")},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break}h=h.parentNode}},cascade:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.")}return this.cascadeBy.apply(this,arguments)},cascadeBy:function(l,m,i){if(l.apply(m||this,i||[this])!==false){var j=this.childNodes,k=j.length,h;for(h=0;h<k;h++){j[h].cascadeBy(l,m,i)}}},eachChild:function(l,m,i){var j=this.childNodes,k=j.length,h;for(h=0;h<k;h++){if(l.apply(m||this,i||[j[h]])===false){break}}},findChild:function(d,g,e){return this.findChildBy(function(){return this.get(d)==g},null,e)},findChildBy:function(m,n,i){var p=this.childNodes,k=p.length,q=0,l,r;for(;q<k;q++){l=p[q];if(m.call(n||l,l)===true){return l}else{if(i){r=l.findChildBy(m,n,i);if(r!==null){return r}}}}return null},contains:function(b){return b.isAncestor(this)},isAncestor:function(d){var c=this.parentNode;while(c){if(c==d){return true}c=c.parentNode}return false},sort:function(l,i,j){var n=this.childNodes,m=n.length,p,k;if(m>0){Ext.Array.sort(n,l);for(p=0;p<m;p++){k=n[p];k.previousSibling=n[p-1];k.nextSibling=n[p+1];if(p===0){this.setFirstChild(k);k.updateInfo()}if(p==m-1){this.setLastChild(k);k.updateInfo()}if(i&&!k.isLeaf()){k.sort(l,true,true)}}if(j!==true){this.fireEvent("sort",this,n)}}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return !this.parentNode},isVisible:function(){var b=this.parentNode;while(b){if(!b.isExpanded()){return false}b=b.parentNode}return true},expand:function(g,h,e){var i=this;if(!i.isLeaf()){if(i.isLoading()){i.on("expand",function(){i.expand(g,h,e)},i,{single:true})}else{if(!i.isExpanded()){i.fireEvent("beforeexpand",i,function(){i.set("expanded",true);i.fireEvent("expand",i,i.childNodes,false);if(g){i.expandChildren(true,h,e)}else{Ext.callback(h,e||i,[i.childNodes])}},i)}else{if(g){i.expandChildren(true,h,e)}else{Ext.callback(h,e||i,[i.childNodes])}}}}else{Ext.callback(h,e||i)}},expandChildren:function(q,l,i){var m=this,p=0,t=m.childNodes,n=t.length,r,s=0;for(;p<n;++p){r=t[p];if(!r.isLeaf()&&!r.isExpanded()){s++;t[p].expand(q,function(){s--;if(l&&!s){Ext.callback(l,i||m,[m.childNodes])}})}}if(!s&&l){Ext.callback(l,i||m,[m.childNodes])}},collapse:function(g,h,e){var i=this;if(!i.isLeaf()){if(!i.collapsing&&i.isExpanded()){i.fireEvent("beforecollapse",i,function(){i.set("expanded",false);i.fireEvent("collapse",i,i.childNodes,false);if(g){i.collapseChildren(true,h,e)}else{Ext.callback(h,e||i,[i.childNodes])}},i)}else{if(g){i.collapseChildren(true,h,e)}}}else{Ext.callback(h,e||i,[i.childNodes])}},collapseChildren:function(q,l,i){var m=this,p=0,s=m.childNodes,n=s.length,r,t=0;for(;p<n;++p){r=s[p];if(!r.isLeaf()&&r.isExpanded()){t++;s[p].collapse(q,function(){t--;if(l&&!t){Ext.callback(l,i||m,[m.childNodes])}})}}if(!t&&l){Ext.callback(l,i||m,[m.childNodes])}}}}}});Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],node:null,recursive:false,rootVisible:false,constructor:function(e){var g=this,d;
e=e||{};Ext.apply(g,e);e.proxy={type:"proxy"};g.callParent([e]);g.addEvents("expand","collapse","beforeexpand","beforecollapse");d=g.node;if(d){g.node=null;g.setNode(d)}},setNode:function(c){var d=this;if(d.node&&d.node!=c){d.mun(d.node,{expand:d.onNodeExpand,collapse:d.onNodeCollapse,append:d.onNodeAppend,insert:d.onNodeInsert,remove:d.onNodeRemove,sort:d.onNodeSort,scope:d});d.node=null}if(c){Ext.data.NodeInterface.decorate(c);d.removeAll();if(d.rootVisible){d.add(c)}d.mon(c,{expand:d.onNodeExpand,collapse:d.onNodeCollapse,append:d.onNodeAppend,insert:d.onNodeInsert,remove:d.onNodeRemove,sort:d.onNodeSort,scope:d});d.node=c;if(c.isExpanded()&&c.isLoaded()){d.onNodeExpand(c,c.childNodes,true)}}},onNodeSort:function(d,g){var e=this;if((e.indexOf(d)!==-1||(d===e.node&&!e.rootVisible)&&d.isExpanded())){e.onNodeCollapse(d,g,true);e.onNodeExpand(d,g,true)}},onNodeExpand:function(n,q,r){var l=this,k=l.indexOf(n)+1,m=q?q.length:0,p,i;if(!l.recursive&&n!==l.node){return}if(!l.isVisible(n)){return}if(!r&&l.fireEvent("beforeexpand",n,q,k)===false){return}if(m){l.insert(k,q);for(p=0;p<m;p++){i=q[p];if(i.isExpanded()){if(i.isLoaded()){l.onNodeExpand(i,i.childNodes,true)}else{i.set("expanded",false);i.expand()}}}}if(!r){l.fireEvent("expand",n,q)}},onNodeCollapse:function(n,r,i){var l=this,m=r.length,p=l.indexOf(n)+1,q,k;if(!l.recursive&&n!==l.node){return}if(!i&&l.fireEvent("beforecollapse",n,r,p)===false){return}for(q=0;q<m;q++){k=r[q];l.remove(k);if(k.isExpanded()){l.onNodeCollapse(k,k.childNodes,true)}}if(!i){l.fireEvent("collapse",n,r,p)}},onNodeAppend:function(l,j,h){var k=this,i,m;if(k.isVisible(j)){if(h===0){i=l}else{m=j.previousSibling;while(m.isExpanded()&&m.lastChild){m=m.lastChild}i=m}k.insert(k.indexOf(i)+1,j);if(!j.isLeaf()&&j.isExpanded()){if(j.isLoaded()){k.onNodeExpand(j,j.childNodes,true)}else{j.set("expanded",false);j.expand()}}}},onNodeInsert:function(k,i,h){var j=this,g=this.indexOf(h);if(g!=-1&&j.isVisible(i)){j.insert(g,i);if(!i.isLeaf()&&i.isExpanded()){if(i.isLoaded()){j.onNodeExpand(i,i.childNodes,true)}else{i.set("expanded",false);i.expand()}}}},onNodeRemove:function(e,h,g){var i=this;if(i.indexOf(h)!=-1){if(!h.isLeaf()&&h.isExpanded()){i.onNodeCollapse(h,h.childNodes,true)}i.remove(h)}},isVisible:function(c){var d=c.parentNode;while(d){if(d===this.node&&!this.rootVisible&&d.isExpanded()){return true}if(this.indexOf(d)===-1||!d.isExpanded()){return false}d=d.parentNode}return true}});Ext.define("Ext.data.Request",{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(b){Ext.apply(this,b)}});Ext.define("Ext.data.SequentialIdGenerator",{extend:"Ext.data.IdGenerator",alias:"idgen.sequential",constructor:function(){var b=this;b.callParent(arguments);b.parts=[b.prefix,""]},prefix:"",seed:1,generate:function(){var d=this,c=d.parts;c[1]=d.seed++;return c.join("")}});Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:"Ext.util.Observable"},root:null,constructor:function(d){var c=this;c.mixins.observable.constructor.call(c);if(d){c.setRootNode(d)}},getRootNode:function(){return this.root},setRootNode:function(c){var d=this;d.root=c;Ext.data.NodeInterface.decorate(c);if(d.fireEvent("beforeappend",null,c)!==false){c.set("root",true);c.updateInfo();d.relayEvents(c,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","rootchange"]);c.on({scope:d,insert:d.onNodeInsert,append:d.onNodeAppend,remove:d.onNodeRemove});d.nodeHash={};d.registerNode(c);d.fireEvent("append",null,c);d.fireEvent("rootchange",c)}return c},flatten:function(){var e=[],g=this.nodeHash,d;for(d in g){if(g.hasOwnProperty(d)){e.push(g[d])}}return e},onNodeInsert:function(d,c){this.registerNode(c,true)},onNodeAppend:function(d,c){this.registerNode(c,true)},onNodeRemove:function(d,c){this.unregisterNode(c,true)},getNodeById:function(b){return this.nodeHash[b]},registerNode:function(c,d){this.nodeHash[c.getId()||c.internalId]=c;if(d===true){c.eachChild(function(a){this.registerNode(a,true)},this)}},unregisterNode:function(c,d){delete this.nodeHash[c.getId()||c.internalId];
if(d===true){c.eachChild(function(a){this.unregisterNode(a,true)},this)}},sort:function(c,d){this.getRootNode().sort(c,d)},filter:function(c,d){this.getRootNode().filter(c,d)}});Ext.define("Ext.data.TreeStore",{extend:"Ext.data.AbstractStore",alias:"store.tree",requires:["Ext.data.Tree","Ext.data.NodeInterface","Ext.data.NodeStore"],clearOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootProperty:"children",folderSort:false,constructor:function(i){var h=this,e,g;i=Ext.apply({},i);g=i.fields||h.fields;if(!g){i.fields=[{name:"text",type:"string"}]}h.callParent([i]);h.tree=Ext.create("Ext.data.Tree");h.relayEvents(h.tree,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","rootchange"]);h.tree.on({scope:h,remove:h.onNodeRemove,beforeexpand:h.onBeforeNodeExpand,beforecollapse:h.onBeforeNodeCollapse,append:h.onNodeAdded,insert:h.onNodeAdded});h.onBeforeSort();e=h.root;if(e){delete h.root;h.setRootNode(e)}h.addEvents("sort");if(Ext.isDefined(h.nodeParameter)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead.")}h.nodeParam=h.nodeParameter;delete h.nodeParameter}},setProxy:function(g){var e,d;if(g instanceof Ext.data.proxy.Proxy){d=Ext.isEmpty(g.getReader().root)}else{if(Ext.isString(g)){d=true}else{e=g.reader;d=!(e&&!Ext.isEmpty(e.root))}}g=this.callParent(arguments);if(d){e=g.getReader();e.root=this.defaultRootProperty;e.buildExtractors(true)}},onBeforeSort:function(){if(this.folderSort){this.sort({property:"leaf",direction:"ASC"},"prepend",false)}},onBeforeNodeExpand:function(d,g,e){if(d.isLoaded()){Ext.callback(g,e||d,[d.childNodes])}else{if(d.isLoading()){this.on("load",function(){Ext.callback(g,e||d,[d.childNodes])},this,{single:true})}else{this.read({node:d,callback:function(){Ext.callback(g,e||d,[d.childNodes])}})}}},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onBeforeNodeCollapse:function(d,g,e){g.call(e||d,d.childNodes)},onNodeRemove:function(e,d){var g=this.removed;if(!d.isReplace&&Ext.Array.indexOf(g,d)==-1){g.push(d)}},onNodeAdded:function(n,m){var p=this.getProxy(),j=p.getReader(),l=m.raw||m.data,k,i;Ext.Array.remove(this.removed,m);if(!m.isLeaf()&&!m.isLoaded()){k=j.getRoot(l);if(k){this.fillNode(m,j.extractData(k));delete l[j.root]}}},setRootNode:function(d){var c=this;d=d||{};if(!d.isNode){Ext.applyIf(d,{id:c.defaultRootId,text:"Root",allowDrag:false});d=Ext.ModelManager.create(d,c.model)}Ext.data.NodeInterface.decorate(d);c.getProxy().getReader().buildExtractors(true);c.tree.setRootNode(d);if(!d.isLoaded()&&(c.autoLoad===true||d.isExpanded())){c.load({node:d})}return d},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(b){return this.tree.getNodeById(b)},load:function(e){e=e||{};e.params=e.params||{};var h=this,i=e.node||h.tree.getRootNode(),g;if(!i){i=h.setRootNode({expanded:true})}if(h.clearOnLoad){i.removeAll(true)}Ext.applyIf(e,{node:i});e.params[h.nodeParam]=i?i.getId():"root";if(i){i.set("loading",true)}return h.callParent([e])},fillNode:function(j,h){var k=this,l=h?h.length:0,m=0,i;if(l&&k.sortOnLoad&&!k.remoteSort&&k.sorters&&k.sorters.items){i=Ext.create("Ext.util.MixedCollection");i.addAll(h);i.sort(k.sorters.items);h=i.items}j.set("loaded",true);for(;m<l;m++){j.appendChild(h[m],undefined,true)}return h},onProxyLoad:function(g){var j=this,i=g.wasSuccessful(),h=g.getRecords(),k=g.node;j.loading=false;k.set("loading",false);if(i){h=j.fillNode(k,h)}j.fireEvent("read",j,g.node,h,i);j.fireEvent("load",j,g.node,h,i);Ext.callback(g.callback,g.scope||j,[h,g,i])},onCreateRecords:function(t,s,i){if(i){var r=0,v=t.length,m=s.records,p,q,u,n;for(;r<v;++r){q=t[r];u=m[r];if(u){p=u.parentNode;if(p){u.isReplace=true;p.replaceChild(q,u);delete u.isReplace}q.phantom=false}}}},onUpdateRecords:function(t,s,i){if(i){var m=this,q=0,v=t.length,r=m.data,u,n,p;for(;q<v;++q){p=t[q];
u=m.tree.getNodeById(p.getId());n=u.parentNode;if(n){u.isReplace=true;n.replaceChild(p,u);u.isReplace=false}}}},onDestroyRecords:function(d,e,g){if(g){this.removed=[]}},removeAll:function(){this.getRootNode().destroy(true);this.fireEvent("clear",this)},doSort:function(d){var c=this;if(c.remoteSort){c.load()}else{c.tree.sort(d,true);c.fireEvent("datachanged",c)}c.fireEvent("sort",c)}});Ext.define("Ext.data.UuidGenerator",function(){var k=Math.pow(2,14),l=Math.pow(2,16),m=Math.pow(2,28),p=Math.pow(2,32);function j(a,b){var c=a.toString(16);if(c.length>b){c=c.substring(c.length-b)}else{if(c.length<b){c=Ext.String.leftPad(c,b,"0")}}return c}function n(a,b){var c=Math.random()*(b-a+1);return Math.floor(c)+a}function i(a){if(typeof(a)=="number"){var b=Math.floor(a/p);return{lo:Math.floor(a-b*p),hi:b}}return a}return{extend:"Ext.data.IdGenerator",alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){var a=this;a.callParent(arguments);a.parts=[];a.init()},generate:function(){var b=this,a=b.parts,c=b.timestamp;a[0]=j(c.lo,8);a[1]=j(c.hi&65535,4);a[2]=j(((c.hi>>>16)&4095)|(b.version<<12),4);a[3]=j(128|((b.clockSeq>>>8)&63),2)+j(b.clockSeq&255,2);a[4]=j(b.salt.hi,4)+j(b.salt.lo,8);if(b.version==4){b.init()}else{++c.lo;if(c.lo>=p){c.lo=0;++c.hi}}return a.join("-").toLowerCase()},getRecId:function(a){return a.getId()},init:function(){var b=this,c,a;if(b.version==4){b.clockSeq=n(0,k-1);c=b.salt||(b.salt={});a=b.timestamp||(b.timestamp={});c.lo=n(0,p-1);c.hi=n(0,l-1);a.lo=n(0,p-1);a.hi=n(0,m-1)}else{b.salt=i(b.salt);b.timestamp=i(b.timestamp);b.salt.hi|=256}},reconfigure:function(a){Ext.apply(this,a);this.init()}}}());Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alternateClassName:"Ext.data.XmlStore",alias:"store.xml",constructor:function(b){b=b||{};b=b||{};Ext.applyIf(b,{proxy:{type:"ajax",reader:"xml",writer:"xml"}});this.callParent([b])}});Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",clear:function(){}});Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:true,constructor:function(){this.addEvents("exception");this.callParent(arguments)},doRequest:function(j,k,i){var n=this,m=n.getWriter(),p=n.buildRequest(j),l=p.params;if(j.allowWrite()){p=m.write(p)}Ext.apply(p,{callbackKey:n.callbackKey,timeout:n.timeout,scope:n,disableCaching:false,callback:n.createRequestCallback(p,j,k,i)});if(n.autoAppendParams){p.params={}}p.jsonp=Ext.data.JsonP.request(p);p.params=l;j.setStarted();n.lastRequest=p;return p},createRequestCallback:function(j,h,i,g){var k=this;return function(a,c,b){delete k.lastRequest;k.processResponse(a,h,j,c,i,g)}},setException:function(c,d){c.setException(c.request.jsonp.errorType)},buildUrl:function(m){var n=this,i=n.callParent(arguments),l=Ext.apply({},m.params),p=l.filters,k,q,r;delete l.filters;if(n.autoAppendParams){i=Ext.urlAppend(i,Ext.Object.toQueryString(l))}if(p&&p.length){for(r=0;r<p.length;r++){q=p[r];if(q.value){i=Ext.urlAppend(i,q.property+"="+q.value)}}}k=m.records;if(Ext.isArray(k)&&k.length>0){i=Ext.urlAppend(i,Ext.String.format("{0}={1}",n.recordParam,n.encodeRecords(k)))}return i},destroy:function(){this.abort();this.callParent()},abort:function(){var b=this.lastRequest;if(b){Ext.data.JsonP.abort(b.jsonp)}},encodeRecords:function(e){var h="",i=0,g=e.length;for(;i<g;i++){h+=Ext.Object.toQueryString(e[i].data)}return h}});Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",id:undefined,constructor:function(b){this.callParent(arguments);this.cache={};this.id=this.id||(this.store?this.store.storeId:undefined);this.initialize()},create:function(p,l,i){var q=p.records,r=q.length,t=this.getIds(),s,m,n;p.setStarted();for(n=0;n<r;n++){m=q[n];if(m.phantom){m.phantom=false;s=this.getNextId()}else{s=m.getId()}this.setRecord(m,s);t.push(s)}this.setIds(t);p.setCompleted();
p.setSuccessful();if(typeof l=="function"){l.call(i||this,p)}},read:function(p,l,i){var q=[],t=this.getIds(),r=t.length,n,s,m;if(p.id){m=this.getRecord(p.id);if(m){q.push(m);p.setSuccessful()}}else{for(n=0;n<r;n++){q.push(this.getRecord(t[n]))}p.setSuccessful()}p.setCompleted();p.resultSet=Ext.create("Ext.data.ResultSet",{records:q,total:q.length,loaded:true});if(typeof l=="function"){l.call(i||this,p)}},update:function(p,l,i){var q=p.records,r=q.length,t=this.getIds(),m,s,n;p.setStarted();for(n=0;n<r;n++){m=q[n];this.setRecord(m);s=m.getId();if(s!==undefined&&Ext.Array.indexOf(t,s)==-1){t.push(s)}}this.setIds(t);p.setCompleted();p.setSuccessful();if(typeof l=="function"){l.call(i||this,p)}},destroy:function(i,l,p){var k=i.records,n=k.length,q=this.getIds(),m=[].concat(q),r;for(r=0;r<n;r++){Ext.Array.remove(m,k[r].getId());this.removeRecord(k[r],false)}this.setIds(m);i.setCompleted();i.setSuccessful();if(typeof l=="function"){l.call(p||this,i)}},getRecord:function(t){if(this.cache[t]===undefined){var v=Ext.decode(this.getStorageObject().getItem(this.getRecordKey(t))),q={},r=this.model,m=r.prototype.fields.items,s=m.length,p,i,u,n;for(p=0;p<s;p++){i=m[p];u=i.name;if(typeof i.decode=="function"){q[u]=i.decode(v[u])}else{q[u]=v[u]}}n=new r(q,t);n.phantom=false;this.cache[t]=n}return this.cache[t]},setRecord:function(t,z){if(z){t.setId(z)}else{z=t.getId()}var r=this,B=t.data,v={},u=r.model,s=u.prototype.fields.items,y=s.length,w=0,q,A,x,i;for(;w<y;w++){q=s[w];A=q.name;if(typeof q.encode=="function"){v[A]=q.encode(B[A],t)}else{v[A]=B[A]}}x=r.getStorageObject();i=r.getRecordKey(z);r.cache[z]=t;x.removeItem(i);x.setItem(i,Ext.encode(v))},removeRecord:function(h,i){var e=this,g;if(h.isModel){h=h.getId()}if(i!==false){g=e.getIds();Ext.Array.remove(g,h);e.setIds(g)}e.getStorageObject().removeItem(e.getRecordKey(h))},getRecordKey:function(b){if(b.isModel){b=b.getId()}return Ext.String.format("{0}-{1}",this.id,b)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getIds:function(){var d=(this.getStorageObject().getItem(this.id)||"").split(","),g=d.length,e;if(g==1&&d[0]===""){d=[]}else{for(e=0;e<g;e++){d[e]=parseInt(d[e],10)}}return d},setIds:function(e){var d=this.getStorageObject(),g=e.join(",");d.removeItem(this.id);if(!Ext.isEmpty(g)){d.setItem(this.id,g)}},getNextId:function(){var j=this.getStorageObject(),h=this.getRecordCounterKey(),k=j.getItem(h),g,i;if(k===null){g=this.getIds();k=g[g.length-1]||0}i=parseInt(k,10)+1;j.setItem(h,i);return i},initialize:function(){var b=this.getStorageObject();b.setItem(this.id,b.getItem(this.id)||"")},clear:function(){var h=this.getStorageObject(),i=this.getIds(),g=i.length,e;for(e=0;e<g;e++){this.removeRecord(i[e])}h.removeItem(this.getRecordCounterKey());h.removeItem(this.id)},getStorageObject:function(){}});Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}});Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(b){this.callParent([b]);this.setReader(this.reader)},read:function(m,j,l){var k=this,h=k.getReader(),i=h.read(k.data);Ext.apply(m,{resultSet:i});m.setCompleted();m.setSuccessful();Ext.callback(j,l||k,[m])},clear:Ext.emptyFn});Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",appendId:true,batchActions:false,buildUrl:function(n){var p=this,r=n.operation,j=r.records||[],k=j[0],m=p.format,q=p.getUrl(n),l=k?k.getId():r.id;if(p.appendId&&l){if(!q.match(/\/$/)){q+="/"}q+=l}if(m){if(!q.match(/\.$/)){q+="."}q+=m}n.url=q;return p.callParent(arguments)}},function(){Ext.apply(this.prototype,{actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}})});Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage
}});Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",buildExtractors:function(){this.callParent(arguments);var h=this.model.prototype.fields.items,g=0,k=h.length,i=[],j;for(;g<k;g++){j=h[g].mapping;i.push(function(a){return function(b){return b[a]}}(j!==null?j:g))}this.extractorFunctions=i}});Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(c){var d=this;if(Ext.isEmpty(c)){return Ext.emptyFn}if(Ext.isFunction(c)){return c}return function(a){return d.getNodeValue(Ext.DomQuery.selectNode(c,a))}},getNodeValue:function(b){if(b&&b.firstChild){return b.firstChild.nodeValue}return undefined},getResponseData:function(d){var c=d.responseXML;return c},getData:function(b){return b.documentElement||b},getRoot:function(d){var g=d.nodeName,e=this.root;if(!e||(g&&g==e)){return d}else{if(Ext.DomQuery.isXml(d)){return Ext.DomQuery.selectNode(e,d)}}},extractData:function(d){var c=this.record;if(c!=d.nodeName){d=Ext.DomQuery.select(c,d)}else{d=[d]}return this.callParent([d])},getAssociatedDataRoot:function(c,d){return Ext.DomQuery.select(d,c)[0]},readRecords:function(b){if(Ext.isArray(b)){b=b[0]}this.xmlData=b;return this.callParent([b])}});Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(x,w){var r=this,u=[],v=0,s=w.length,q=r.documentRoot,t=r.record,i=w.length!==1,n,p;u.push(r.header||"");if(!q&&i){q=r.defaultDocumentRoot}if(q){u.push("<",q,">")}for(;v<s;++v){n=w[v];u.push("<",t,">");for(p in n){if(n.hasOwnProperty(p)){u.push("<",p,">",n[p],"</",p,">")}}u.push("</",t,">")}if(q){u.push("</",q,">")}x.xmlData=u.join("");return x}});Ext.define("Ext.direct.Event",{alias:"direct.event",requires:["Ext.direct.Manager"],status:true,constructor:function(b){Ext.apply(this,b)},getData:function(){return this.data}});Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){return this.transaction||Ext.direct.Manager.getTransaction(this.tid)}});Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:false});Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:"Ext.util.Observable"},constructor:function(d){var c=this;Ext.apply(c,d);c.addEvents("connect","disconnect","data","exception");c.mixins.observable.constructor.call(c,d)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent"],parseResponse:function(b){if(!Ext.isEmpty(b.responseText)){if(Ext.isObject(b.responseText)){return b.responseText}return Ext.decode(b.responseText)}return null},createEvents:function(e){var l=null,n=[],m,p=0,i;try{l=this.parseResponse(e)}catch(k){m=Ext.create("Ext.direct.ExceptionEvent",{data:k,xhr:e,code:Ext.direct.Manager.self.exceptions.PARSE,message:"Error parsing json response: \n\n "+l});return[m]}if(Ext.isArray(l)){for(i=l.length;p<i;++p){n.push(this.createEvent(l[p]))}}else{n.push(this.createEvent(l))}return n},createEvent:function(b){return Ext.create("direct."+b.type,b)}});Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",uses:["Ext.direct.ExceptionEvent"],requires:["Ext.Ajax","Ext.util.DelayedTask"],interval:3000,constructor:function(b){this.callParent(arguments);this.addEvents("beforepoll","poll")},isConnected:function(){return !!this.pollTask},connect:function(){var c=this,d=c.url;if(d&&!c.pollTask){c.pollTask=Ext.TaskManager.start({run:function(){if(c.fireEvent("beforepoll",c)!==false){if(Ext.isFunction(d)){d(c.baseParams)}else{Ext.Ajax.request({url:d,callback:c.onData,scope:c,params:c.baseParams})}}},interval:c.interval,scope:c});c.fireEvent("connect",c)}else{if(!d){}}},disconnect:function(){var b=this;
if(b.pollTask){Ext.TaskManager.stop(b.pollTask);delete b.pollTask;b.fireEvent("disconnect",b)}},onData:function(m,k,i){var l=this,n=0,j,p;if(k){p=l.createEvents(i);for(j=p.length;n<j;++n){l.fireEvent("data",l,p[n])}}else{l.fireEvent("data",l,Ext.create("Ext.direct.ExceptionEvent",{data:null,code:Ext.direct.Manager.self.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}))}}});Ext.define("Ext.direct.RemotingMethod",{constructor:function(e){var i=this,h=Ext.isDefined(e.params)?e.params:e.len,g;i.name=e.name;i.formHandler=e.formHandler;if(Ext.isNumber(h)){i.len=h;i.ordered=true}else{i.params=[];Ext.each(h,function(a){g=Ext.isObject(a)?a.name:a;i.params.push(g)})}},getCallData:function(r){var p=this,n=null,k=p.len,m=p.params,l,q,j;if(p.ordered){l=r[k];q=r[k+1];if(k!==0){n=r.slice(0,k)}}else{n=Ext.apply({},r[0]);l=r[1];q=r[2];for(j in n){if(n.hasOwnProperty(j)){if(!Ext.Array.contains(m,j)){delete n[j]}}}}return{data:n,callback:l,scope:q}}});Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(d){var c=this;Ext.apply(c,d);c.id=++c.self.TRANSACTION_ID;c.retryCount=0},send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++;this.send()},getProvider:function(){return this.provider}});Ext.define("Ext.direct.RemotingProvider",{alias:"direct.remotingprovider",extend:"Ext.direct.JsonProvider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod"],enableBuffer:10,maxRetries:1,timeout:undefined,constructor:function(d){var c=this;c.callParent(arguments);c.addEvents("beforecall","call");c.namespace=(Ext.isString(c.namespace))?Ext.ns(c.namespace):c.namespace||window;c.transactions=Ext.create("Ext.util.MixedCollection");c.callBuffer=[]},initAPI:function(){var m=this.actions,p=this.namespace,n,i,r,q,k,l;for(n in m){i=p[n];if(!i){i=p[n]={}}r=m[n];for(q=0,k=r.length;q<k;++q){l=Ext.create("Ext.direct.RemotingMethod",r[q]);i[l.name]=this.createHandler(n,l)}}},createHandler:function(i,h){var e=this,g;if(!h.formHandler){g=function(){e.configureRequest(i,h,Array.prototype.slice.call(arguments,0))}}else{g=function(b,a,c){e.configureFormRequest(i,h,b,a,c)}}g.directCfg={action:i,method:h};return g},isConnected:function(){return !!this.connected},connect:function(){var b=this;if(b.url){b.initAPI();b.connected=true;b.fireEvent("connect",b)}else{if(!b.url){}}},disconnect:function(){var b=this;if(b.connected){b.connected=false;b.fireEvent("disconnect",b)}},runCallback:function(j,g){var k=g.status?"success":"failure",i,h;if(j&&j.callback){i=j.callback;h=Ext.isDefined(g.result)?g.result:g.data;if(Ext.isFunction(i)){i(h,g)}else{Ext.callback(i[k],i.scope,[h,g]);Ext.callback(i.callback,i.scope,[h,g])}}},onData:function(i,n,t){var q=this,s=0,r,m,v,u,p;if(n){m=q.createEvents(t);for(r=m.length;s<r;++s){v=m[s];u=q.getTransaction(v);q.fireEvent("data",q,v);if(u){q.runCallback(u,v,true);Ext.direct.Manager.removeTransaction(u)}}}else{p=[].concat(i.transaction);for(r=p.length;s<r;++s){u=q.getTransaction(p[s]);if(u&&u.retryCount<q.maxRetries){u.retry()}else{v=Ext.create("Ext.direct.ExceptionEvent",{data:null,transaction:u,code:Ext.direct.Manager.self.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:t});q.fireEvent("data",q,v);if(u){q.runCallback(u,v,false);Ext.direct.Manager.removeTransaction(u)}}}}},getTransaction:function(b){return b&&b.tid?Ext.direct.Manager.getTransaction(b.tid):null},configureRequest:function(q,t,n){var m=this,r=t.getCallData(n),p=r.data,l=r.callback,k=r.scope,s;s=Ext.create("Ext.direct.Transaction",{provider:m,args:n,action:q,method:t.name,data:p,callback:k&&Ext.isFunction(l)?Ext.Function.bind(l,k):l});if(m.fireEvent("beforecall",m,s,t)!==false){Ext.direct.Manager.addTransaction(s);m.queueTransaction(s);m.fireEvent("call",m,s,t)}},getCallData:function(b){return{action:b.action,method:b.method,data:b.data,type:"rpc",tid:b.id}},sendRequest:function(m){var n=this,p={url:n.url,callback:n.onData,scope:n,transaction:m,timeout:n.timeout},i,q=n.enableUrlEncode,r=0,k,l;
if(Ext.isArray(m)){i=[];for(k=m.length;r<k;++r){i.push(n.getCallData(m[r]))}}else{i=n.getCallData(m)}if(q){l={};l[Ext.isString(q)?q:"data"]=Ext.encode(i);p.params=l}else{p.jsonData=i}Ext.Ajax.request(p)},queueTransaction:function(g){var d=this,e=d.enableBuffer;if(g.form){d.sendFormRequest(g);return}d.callBuffer.push(g);if(e){if(!d.callTask){d.callTask=Ext.create("Ext.util.DelayedTask",d.combineAndSend,d)}d.callTask.delay(Ext.isNumber(e)?e:10)}else{d.combineAndSend()}},combineAndSend:function(){var c=this.callBuffer,d=c.length;if(d>0){this.sendRequest(d==1?c[0]:c);this.callBuffer=[]}},configureFormRequest:function(p,t,s,l,k){var m=this,r=Ext.create("Ext.direct.Transaction",{provider:m,action:p,method:t.name,args:[s,l,k],callback:k&&Ext.isFunction(l)?Ext.Function.bind(l,k):l,isForm:true}),n,q;if(m.fireEvent("beforecall",m,r,t)!==false){Ext.direct.Manager.addTransaction(r);n=String(s.getAttribute("enctype")).toLowerCase()=="multipart/form-data";q={extTID:r.id,extAction:p,extMethod:t.name,extType:"rpc",extUpload:String(n)};Ext.apply(r,{form:Ext.getDom(s),isUpload:n,params:l&&Ext.isObject(l.params)?Ext.apply(q,l.params):q});m.fireEvent("call",m,r,t);m.sendFormRequest(r)}},sendFormRequest:function(b){Ext.Ajax.request({url:this.url,params:b.params,callback:this.onData,scope:this,form:b.form,isUpload:b.isUpload,transaction:b})}});Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(e,m,a,b,c,d){if(e!=null){this.matrix=[[e,a,c],[m,b,d],[0,0,1]]}else{this.matrix=[[1,0,0],[0,1,0],[0,0,1]]}},add:function(A,b,e,v,x,y){var d=this,z=[[],[],[]],B=[[A,e,x],[b,v,y],[0,0,1]],a,c,u,w;for(a=0;a<3;a++){for(c=0;c<3;c++){w=0;for(u=0;u<3;u++){w+=d.matrix[a][u]*B[u][c]}z[a][c]=w}}d.matrix=z},prepend:function(A,b,e,v,x,y){var d=this,z=[[],[],[]],B=[[A,e,x],[b,v,y],[0,0,1]],a,c,u,w;for(a=0;a<3;a++){for(c=0;c<3;c++){w=0;for(u=0;u<3;u++){w+=B[a][u]*d.matrix[u][c]}z[a][c]=w}}d.matrix=z},invert:function(){var d=this.matrix,e=d[0][0],p=d[1][0],r=d[0][1],a=d[1][1],b=d[0][2],c=d[1][2],q=e*a-p*r;return new Ext.draw.Matrix(a/q,-p/q,-r/q,e/q,(r*c-a*b)/q,(p*b-e*c)/q)},clone:function(){var e=this.matrix,n=e[0][0],p=e[1][0],a=e[0][1],b=e[1][1],c=e[0][2],d=e[1][2];return new Ext.draw.Matrix(n,p,a,b,c,d)},translate:function(d,c){this.prepend(1,0,0,1,d,c)},scale:function(g,i,h,j){var k=this;if(i==null){i=g}k.add(1,0,0,1,h,j);k.add(g,0,0,i,0,0);k.add(1,0,0,1,-h,-j)},rotate:function(m,a,i){m=Ext.draw.Draw.rad(m);var k=this,j=+Math.cos(m).toFixed(9),l=+Math.sin(m).toFixed(9);k.add(j,l,-l,j,a,i);k.add(1,0,0,1,-a,-i)},x:function(e,g){var d=this.matrix;return e*d[0][0]+g*d[0][1]+d[0][2]},y:function(e,g){var d=this.matrix;return e*d[1][0]+g*d[1][1]+d[1][2]},get:function(c,d){return +this.matrix[c][d].toFixed(4)},toString:function(){var b=this;return[b.get(0,0),b.get(0,1),b.get(1,0),b.get(1,1),0,0].join()},toSvg:function(){var b=this;return"matrix("+[b.get(0,0),b.get(1,0),b.get(0,1),b.get(1,1),b.get(0,2),b.get(1,2)].join()+")"},toFilter:function(){var b=this;return"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand',FilterType=bilinear,M11="+b.get(0,0)+", M12="+b.get(0,1)+", M21="+b.get(1,0)+", M22="+b.get(1,1)+", Dx="+b.get(0,2)+", Dy="+b.get(1,2)+")"},offset:function(){var b=this.matrix;return[(b[0][2]||0).toFixed(4),(b[1][2]||0).toFixed(4)]},split:function(){function j(a){return a[0]*a[0]+a[1]*a[1]}function g(b){var a=Math.sqrt(j(b));b[0]/=a;b[1]/=a}var h=this.matrix,k={translateX:h[0][2],translateY:h[1][2]},i;i=[[h[0][0],h[0][1]],[h[1][0],h[1][1]]];k.scaleX=Math.sqrt(j(i[0]));g(i[0]);k.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1];i[1]=[i[1][0]-i[0][0]*k.shear,i[1][1]-i[0][1]*k.shear];k.scaleY=Math.sqrt(j(i[1]));g(i[1]);k.shear/=k.scaleY;k.rotate=Math.asin(-i[0][1]);k.isSimple=!+k.shear.toFixed(9)&&(k.scaleX.toFixed(9)==k.scaleY.toFixed(9)||!k.rotate);return k}});Ext.define("Ext.draw.SpriteDD",{extend:"Ext.dd.DragSource",constructor:function(e,g){var h=this,i=e.el;h.sprite=e;h.el=i;h.dragData={el:i,sprite:e};h.callParent([i,g]);h.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(b){return this.el
},getRegion:function(){var v=this,y=v.el,r,z,A,e,l,C,B,t,x,D,b;b=v.sprite;D=b.getBBox();try{r=Ext.Element.getXY(y)}catch(w){}if(!r){return null}z=r[0];A=z+D.width;e=r[1];l=e+D.height;return Ext.create("Ext.util.Region",e,A,l,z)},startDrag:function(e,h){var i=this,g=i.sprite.attr;i.prev=i.sprite.surface.transformToViewBox(e,h)},onDrag:function(k){var l=k.getXY(),m=this,n=m.sprite,j=n.attr,p,e;l=m.sprite.surface.transformToViewBox(l[0],l[1]);p=l[0]-m.prev[0];e=l[1]-m.prev[1];n.setAttributes({translate:{x:j.translation.x+p,y:j.translation.y+e}},true);m.prev=l},setDragElPos:function(){return false}});Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate"},requires:["Ext.draw.SpriteDD"],dirty:false,dirtyHidden:false,dirtyTransform:false,dirtyPath:true,dirtyFont:true,zIndexDirty:true,isSprite:true,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(d){var c=this;d=d||{};c.id=Ext.id(null,"ext-sprite-");c.transformations=[];Ext.copyTo(this,d,"surface,group,type,draggable");c.bbox={};c.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}};delete d.surface;delete d.group;delete d.type;delete d.draggable;c.setAttributes(d);c.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click");c.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var b=this;b.draggable=true;if(!b.el){b.surface.createSpriteElement(b)}b.dd=Ext.create("Ext.draw.SpriteDD",b,Ext.isBoolean(b.draggable)?null:b.draggable);b.on("beforedestroy",b.dd.destroy,b.dd)},setAttributes:function(D,A){var v=this,E=v.fontProperties,x=E.length,G=v.pathProperties,H=G.length,w=!!v.surface,L=w&&v.surface.customAttributes||{},K=v.attr,C,z,F,J,y,B,i,I;D=Ext.apply({},D);for(C in L){if(D.hasOwnProperty(C)&&typeof L[C]=="function"){Ext.apply(D,L[C].apply(v,[].concat(D[C])))}}if(!!D.hidden!==!!K.hidden){v.dirtyHidden=true}for(z=0;z<H;z++){C=G[z];if(C in D&&D[C]!==K[C]){v.dirtyPath=true;break}}if("zIndex" in D){v.zIndexDirty=true}for(z=0;z<x;z++){C=E[z];if(C in D&&D[C]!==K[C]){v.dirtyFont=true;break}}F=D.translate;J=K.translation;if(F){if((F.x&&F.x!==J.x)||(F.y&&F.y!==J.y)){Ext.apply(J,F);v.dirtyTransform=true}delete D.translate}y=D.rotate;B=K.rotation;if(y){if((y.x&&y.x!==B.x)||(y.y&&y.y!==B.y)||(y.degrees&&y.degrees!==B.degrees)){Ext.apply(B,y);v.dirtyTransform=true}delete D.rotate}i=D.scale;I=K.scaling;if(i){if((i.x&&i.x!==I.x)||(i.y&&i.y!==I.y)||(i.cx&&i.cx!==I.cx)||(i.cy&&i.cy!==I.cy)){Ext.apply(I,i);v.dirtyTransform=true}delete D.scale}Ext.apply(K,D);v.dirty=true;if(A===true&&w){v.redraw()}return this},getBBox:function(){return this.surface.getBBox(this)},setText:function(b){return this.surface.setText(this,b)},hide:function(b){this.setAttributes({hidden:true},b);return this},show:function(b){this.setAttributes({hidden:false},b);return this},remove:function(){if(this.surface){this.surface.remove(this);return true}return false},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var b=this;if(b.fireEvent("beforedestroy",b)!==false){b.remove();b.surface.onDestroy(b);b.clearListeners();b.fireEvent("destroy")}},redraw:function(){this.surface.renderItem(this);return this},setStyle:function(){this.el.setStyle.apply(this.el,arguments);return this},addCls:function(b){this.surface.addCls(this,b);return this},removeCls:function(b){this.surface.removeCls(this,b);return this}});Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(h,g){var i=this.domRef.createElementNS("http://www.w3.org/2000/svg",h),e;
if(g){for(e in g){i.setAttribute(e,String(g[e]))}}return i},createSpriteElement:function(d){var c=this.createSvgElement(d.type);c.id=d.id;if(c.style){c.style.webkitTapHighlightColor="rgba(0,0,0,0)"}d.el=Ext.get(c);this.applyZIndex(d);d.matrix=Ext.create("Ext.draw.Matrix");d.bbox={plain:0,transform:0};d.fireEvent("render",d);return c},getBBox:function(e,d){var g=this["getPath"+e.type](e);if(d){e.bbox.plain=e.bbox.plain||Ext.draw.Draw.pathDimensions(g);return e.bbox.plain}e.bbox.transform=e.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(g,e.matrix));return e.bbox.transform},getBBoxText:function(m){var i={},p,e,t,r,n,s;if(m&&m.el){s=m.el.dom;try{i=s.getBBox();return i}catch(q){}i={x:i.x,y:Infinity,width:0,height:0};n=s.getNumberOfChars();for(r=0;r<n;r++){p=s.getExtentOfChar(r);i.y=Math.min(p.y,i.y);e=p.y+p.height-i.y;i.height=Math.max(i.height,e);t=p.x+p.width-i.x;i.width=Math.max(i.width,t)}return i}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(b){this.addCls(b,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(b){this.removeCls(b,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(q){var m=this,k=Ext.create("Ext.draw.Matrix"),n=q.transformations,l=n.length,r=0,i,p;for(;r<l;r++){i=n[r];p=i.type;if(p=="translate"){k.translate(i.x,i.y)}else{if(p=="rotate"){k.rotate(i.degrees,i.x,i.y)}else{if(p=="scale"){k.scale(i.x,i.y,i.centerX,i.centerY)}}}}q.matrix=k;q.el.set({transform:k.toSvg()})},setSize:function(g,i){var h=this,e=h.el;g=+g||h.width;i=+i||h.height;h.width=g;h.height=i;e.setSize(g,i);e.set({width:g,height:i});h.callParent([g,i])},getRegion:function(){var i=this.el.getXY(),k=this.bgRect.getXY(),g=Math.max,h=g(i[0],k[0]),j=g(i[1],k[1]);return{left:h,top:j,right:h+this.width,bottom:j+this.height}},onRemove:function(b){if(b.el){b.el.remove();delete b.el}this.callParent(arguments)},setViewBox:function(e,h,i,g){if(isFinite(e)&&isFinite(h)&&isFinite(i)&&isFinite(g)){this.callParent(arguments);this.el.dom.setAttribute("viewBox",[e,h,i,g].join(" "))}},render:function(r){var n=this;if(!n.el){var p=n.width||10,j=n.height||10,q=n.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:p,height:j}),k=n.getDefs(),m=n.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),l;if(Ext.isSafari3){l=n.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})}q.appendChild(k);if(Ext.isSafari3){q.appendChild(l)}q.appendChild(m);r.appendChild(q);n.el=Ext.get(q);n.bgRect=Ext.get(m);if(Ext.isSafari3){n.webkitRect=Ext.get(l);n.webkitRect.hide()}n.el.on({scope:n,mouseup:n.onMouseUp,mousedown:n.onMouseDown,mouseover:n.onMouseOver,mouseout:n.onMouseOut,mousemove:n.onMouseMove,mouseenter:n.onMouseEnter,mouseleave:n.onMouseLeave,click:n.onClick})}n.renderAll()},onMouseEnter:function(b){if(this.el.parent().getRegion().contains(b.getPoint())){this.fireEvent("mouseenter",b)}},onMouseLeave:function(b){if(!this.el.parent().getRegion().contains(b.getPoint())){this.fireEvent("mouseleave",b)}},processEvent:function(e,i){var j=i.getTarget(),h=this.surface,k;this.fireEvent(e,i);if(j.nodeName=="tspan"&&j.parentNode){j=j.parentNode}k=this.items.get(j.id);if(k){k.fireEvent(e,k,i)}},tuneText:function(q,p){var x=q.el.dom,w=[],i,r,n,u,t,v,s;if(p.hasOwnProperty("text")){w=this.setText(q,p.text)}if(w.length){i=this.getBBoxText(q).height;for(u=0,t=w.length;u<t;u++){s=(Ext.isFF3_0||Ext.isFF3_5)?2:4;w[u].setAttribute("dy",u?i*1.2:i/s)}q.dirty=true}},setText:function(q,w){var t=this,z=q.el.dom,r=z.getAttribute("x"),y=[],i,s,p,v,u,x;while(z.firstChild){z.removeChild(z.firstChild)}x=String(w).split("\n");for(v=0,u=x.length;v<u;v++){p=x[v];if(p){s=t.createSvgElement("tspan");s.appendChild(document.createTextNode(Ext.htmlDecode(p)));s.setAttribute("x",r);z.appendChild(s);y[v]=s}}return y},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(b){if(!this.el){return}if(!b.el){this.createSpriteElement(b)
}if(b.zIndexDirty){this.applyZIndex(b)}if(b.dirty){this.applyAttrs(b);this.applyTransformations(b)}},redraw:function(b){b.dirty=b.zIndexDirty=true;this.renderItem(b)},applyAttrs:function(J){var x=this,F=J.el,i=J.group,A=J.attr,I=x.parsers,C=x.gradientsMap||{},z=Ext.isSafari&&!Ext.isStrict,D,B,y,u,E,v,G,H,w;if(i){D=[].concat(i);y=D.length;for(B=0;B<y;B++){i=D[B];x.getGroup(i).add(J)}delete J.group}u=x.scrubAttrs(J)||{};J.bbox.plain=0;J.bbox.transform=0;if(J.type=="circle"||J.type=="ellipse"){u.cx=u.cx||u.x;u.cy=u.cy||u.y}else{if(J.type=="rect"){u.rx=u.ry=u.r}else{if(J.type=="path"&&u.d){u.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(u.d))}}}J.dirtyPath=false;if(u["clip-rect"]){x.setClip(J,u);delete u["clip-rect"]}if(J.type=="text"&&u.font&&J.dirtyFont){F.set({style:"font: "+u.font});J.dirtyFont=false}if(J.type=="image"){F.dom.setAttributeNS(x.xlink,"href",u.src)}Ext.applyIf(u,x.minDefaults[J.type]);if(J.dirtyHidden){(A.hidden)?x.hidePrim(J):x.showPrim(J);J.dirtyHidden=false}for(v in u){if(u.hasOwnProperty(v)&&u[v]!=null){if(z&&("color|stroke|fill".indexOf(v)>-1)&&(u[v] in C)){u[v]=C[u[v]]}if(v in I){F.dom.setAttribute(v,I[v](u[v],J,x))}else{F.dom.setAttribute(v,u[v])}}}if(J.type=="text"){x.tuneText(J,u)}G=A.style;if(G){F.setStyle(G)}J.dirty=false;if(Ext.isSafari3){x.webkitRect.show();setTimeout(function(){x.webkitRect.hide()})}},setClip:function(h,j){var k=this,l=j["clip-rect"],i,m;if(l){if(h.clip){h.clip.parentNode.parentNode.removeChild(h.clip.parentNode)}i=k.createSvgElement("clipPath");m=k.createSvgElement("rect");i.id=Ext.id(null,"ext-clip-");m.setAttribute("x",l.x);m.setAttribute("y",l.y);m.setAttribute("width",l.width);m.setAttribute("height",l.height);i.appendChild(m);k.getDefs().appendChild(i);h.el.dom.setAttribute("clip-path","url(#"+i.id+")");h.clip=m}},applyZIndex:function(l){var j=this,h=j.items,i=h.indexOf(l),k=l.el,m;if(j.el.dom.childNodes[i+2]!==k.dom){if(i>0){do{m=h.getAt(--i).el}while(!m&&i>0)}k.insertAfter(m||j.bgRect)}l.zIndexDirty=false},createItem:function(d){var c=Ext.create("Ext.draw.Sprite",d);c.surface=this;return c},addGradient:function(p){p=Ext.draw.Draw.parseGradient(p);var r=this,s=p.stops.length,v=p.vector,i=Ext.isSafari&&!Ext.isStrict,n,q,m,t,u;u=r.gradientsMap||{};if(!i){if(p.type=="linear"){n=r.createSvgElement("linearGradient");n.setAttribute("x1",v[0]);n.setAttribute("y1",v[1]);n.setAttribute("x2",v[2]);n.setAttribute("y2",v[3])}else{n=r.createSvgElement("radialGradient");n.setAttribute("cx",p.centerX);n.setAttribute("cy",p.centerY);n.setAttribute("r",p.radius);if(Ext.isNumber(p.focalX)&&Ext.isNumber(p.focalY)){n.setAttribute("fx",p.focalX);n.setAttribute("fy",p.focalY)}}n.id=p.id;r.getDefs().appendChild(n);for(t=0;t<s;t++){q=p.stops[t];m=r.createSvgElement("stop");m.setAttribute("offset",q.offset+"%");m.setAttribute("stop-color",q.color);m.setAttribute("stop-opacity",q.opacity);n.appendChild(m)}}else{u["url(#"+p.id+")"]=p.stops[0].color}r.gradientsMap=u},hasCls:function(d,c){return c&&(" "+(d.el.dom.getAttribute("class")||"")+" ").indexOf(" "+c+" ")!=-1},addCls:function(p,m){var n=p.el,q,k,r,i=[],l=n.getAttribute("class")||"";if(!Ext.isArray(m)){if(typeof m=="string"&&!this.hasCls(p,m)){n.set({"class":l+" "+m})}}else{for(q=0,k=m.length;q<k;q++){r=m[q];if(typeof r=="string"&&(" "+l+" ").indexOf(" "+r+" ")==-1){i.push(r)}}if(i.length){n.set({"class":" "+i.join(" ")})}}},removeCls:function(m,q){var p=this,u=m.el,s=u.getAttribute("class")||"",t,n,r,i,v;if(!Ext.isArray(q)){q=[q]}if(s){v=s.replace(p.trimRe," ").split(p.spacesRe);for(t=0,r=q.length;t<r;t++){i=q[t];if(typeof i=="string"){i=i.replace(p.trimRe,"");n=Ext.Array.indexOf(v,i);if(n!=-1){Ext.Array.erase(v,n,1)}}}u.set({"class":v.join(" ")})}},destroy:function(){var b=this;b.callParent();if(b.el){b.el.remove()}delete b.el}});Ext.define("Ext.draw.engine.Vml",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/ig,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1000,coordorigin:"0 0",orderSpritesByZIndex:false,path2vml:function(F){var j=this,E=j.NonVmlPathRe,C=j.map,z=j.valRe,G=j.zoom,A=j.bitesRe,y=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),p,i,B,D,w,H,x,r;
if(String(F).match(E)){y=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw)}else{if(!String(F).match(j.partialPathRe)){p=String(F).replace(A,function(e,a,c){var b=[],d=a.toLowerCase()=="m",g=C[a];c.replace(z,function(h){if(d&&b[length]==2){g+=b+C[a=="m"?"l":"L"];b=[]}b.push(Math.round(h*G))});return g+b});return p}}i=y(F);p=[];for(w=0,H=i.length;w<H;w++){B=i[w];D=i[w][0].toLowerCase();if(D=="z"){D="x"}for(x=1,r=B.length;x<r;x++){D+=Math.round(B[x]*j.zoom)+(x!=r-1?",":"")}p.push(D)}return p.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(b){this.fireEvent("mouseenter",b)},onMouseLeave:function(b){this.fireEvent("mouseleave",b)},processEvent:function(e,i){var j=i.getTarget(),h=this.surface,k;this.fireEvent(e,i);k=this.items.get(j.id);if(k){k.fireEvent(e,k,i)}},createSpriteElement:function(r){var t=this,u=r.attr,s=r.type,p=t.zoom,w=r.vml||(r.vml={}),n=Math.round,v=t.createNode("shape"),m,q,x;v.coordsize=p+" "+p;v.coordorigin=u.coordorigin||"0 0";Ext.get(v).addCls(t.spriteCls);if(s=="text"){w.path=m=t.createNode("path");m.textpathok=true;w.textpath=x=t.createNode("textpath");x.on=true;v.appendChild(x);v.appendChild(m)}v.id=r.id;r.el=Ext.get(v);t.el.appendChild(v);if(s!=="image"){q=t.createNode("skew");q.on=true;v.appendChild(q);r.skew=q}r.matrix=Ext.create("Ext.draw.Matrix");r.bbox={plain:null,transform:null};r.fireEvent("render",r);return r.el},getBBox:function(e,d){var g=this["getPath"+e.type](e);if(d){e.bbox.plain=e.bbox.plain||Ext.draw.Draw.pathDimensions(g);return e.bbox.plain}e.bbox.transform=e.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(g,e.matrix));return e.bbox.transform},getBBoxText:function(c){var d=c.vml;return{x:d.X+(d.bbx||0)-d.W/2,y:d.Y-d.H/2,width:d.W,height:d.H}},applyAttrs:function(E){var y=this,M=E.vml,H=E.group,O=E.attr,N=E.el,C=N.dom,B,i,z,D,G,A,F,x,P;if(H){z=[].concat(H);G=z.length;for(D=0;D<G;D++){H=z[D];y.getGroup(H).add(E)}delete E.group}A=y.scrubAttrs(E)||{};if(E.zIndexDirty){y.setZIndex(E)}Ext.applyIf(A,y.minDefaults[E.type]);if(C.href){C.href=A.href}if(C.title){C.title=A.title}if(C.target){C.target=A.target}if(C.cursor){C.cursor=A.cursor}if(E.dirtyHidden){(A.hidden)?y.hidePrim(E):y.showPrim(E);E.dirtyHidden=false}if(E.dirtyPath){if(E.type=="circle"||E.type=="ellipse"){var K=A.x,L=A.y,I=A.rx||A.r||0,J=A.ry||A.r||0;C.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((K-I)*y.zoom),Math.round((L-J)*y.zoom),Math.round((K+I)*y.zoom),Math.round((L+J)*y.zoom),Math.round(K*y.zoom));E.dirtyPath=false}else{if(E.type!=="text"){E.attr.path=A.path=y.setPaths(E,A)||A.path;C.path=y.path2vml(A.path);E.dirtyPath=false}}}if("clip-rect" in A){y.setClip(E,A)}if(E.type=="text"){y.setTextAttributes(E,A)}if(E.type=="image"||A.opacity||A["fill-opacity"]||A.fill){y.setFill(E,A)}if(A.stroke||A["stroke-opacity"]||A.fill){y.setStroke(E,A)}B=O.style;if(B){N.setStyle(B)}E.dirty=false},setZIndex:function(b){if(b.el){if(b.attr.zIndex!=undefined){b.el.setStyle("zIndex",b.attr.zIndex)}b.zIndexDirty=false}},setPaths:function(d,g){var e=d.attr;d.bbox.plain=null;d.bbox.transform=null;if(d.type=="circle"){e.rx=e.ry=g.r;return Ext.draw.Draw.ellipsePath(d)}else{if(d.type=="ellipse"){e.rx=g.rx;e.ry=g.ry;return Ext.draw.Draw.ellipsePath(d)
}else{if(d.type=="rect"||d.type=="image"){e.rx=e.ry=g.r;return Ext.draw.Draw.rectPath(d)}else{if(d.type=="path"&&e.path){return Ext.draw.Draw.pathToAbsolute(e.path)}}}}return false},setFill:function(n,u){var r=this,w=n.el,t=w.dom,p=t.getElementsByTagName("fill")[0],s,q,x,m,v;if(p){t.removeChild(p)}else{p=r.createNode("fill")}if(Ext.isArray(u.fill)){u.fill=u.fill[0]}if(n.type=="image"){p.on=true;p.src=u.src;p.type="tile";p.rotate=true}else{if(u.fill=="none"){p.on=false}else{if(typeof u.opacity=="number"){p.opacity=u.opacity}if(typeof u["fill-opacity"]=="number"){p.opacity=u["fill-opacity"]}p.on=true;if(typeof u.fill=="string"){x=u.fill.match(r.fillUrlRe);if(x){x=x[1];if(x.charAt(0)=="#"){q=r.gradientsColl.getByKey(x.substring(1))}if(q){m=u.rotation;v=-(q.angle+270+(m?m.degrees:0))%360;if(v===0){v=180}p.angle=v;p.type="gradient";p.method="sigma";p.colors=q.colors}else{p.src=x;p.type="tile";p.rotate=true}}else{p.color=Ext.draw.Color.toHex(u.fill)||u.fill;p.src="";p.type="solid"}}}}t.appendChild(p)},setStroke:function(j,m){var p=this,q=j.el.dom,l=j.strokeEl,n=false,r,k;if(!l){l=j.strokeEl=p.createNode("stroke");n=true}if(Ext.isArray(m.stroke)){m.stroke=m.stroke[0]}if(!m.stroke||m.stroke=="none"||m.stroke==0||m["stroke-width"]==0){l.on=false}else{l.on=true;if(m.stroke&&!m.stroke.match(p.fillUrlRe)){l.color=Ext.draw.Color.toHex(m.stroke)}l.joinstyle=m["stroke-linejoin"];l.endcap=m["stroke-linecap"]||"round";l.miterlimit=m["stroke-miterlimit"]||8;r=parseFloat(m["stroke-width"]||1)*0.75;k=m["stroke-opacity"]||1;if(Ext.isNumber(r)&&r<1){l.weight=1;l.opacity=k*r}else{l.weight=r;l.opacity=k}}if(n){q.appendChild(l)}},setClip:function(h,j){var k=this,m=h.el,i=h.clipEl,l=String(j["clip-rect"]).split(k.separatorRe);if(!i){i=h.clipEl=k.el.insertFirst(Ext.getDoc().dom.createElement("div"));i.addCls(Ext.baseCSSPrefix+"vml-sprite")}if(l.length==4){l[2]=+l[2]+(+l[0]);l[3]=+l[3]+(+l[1]);i.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",l[0],l[1],l[2],l[3]));i.setSize(k.el.width,k.el.height)}else{i.setStyle("clip","")}},setTextAttributes:function(q,v){var r=this,x=q.vml,t=x.textpath.style,s=r.span.style,p=r.zoom,n=Math.round,m={fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},w,u;if(q.dirtyFont){if(v.font){t.font=s.font=v.font}if(v["font-family"]){t.fontFamily='"'+v["font-family"].split(",")[0].replace(r.fontFamilyRe,"")+'"';s.fontFamily=v["font-family"]}for(w in m){u=v[m[w]];if(u){t[w]=s[w]=u}}r.setText(q,v.text);if(x.textpath.string){r.span.innerHTML=String(x.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")}x.W=r.span.offsetWidth;x.H=r.span.offsetHeight+2;if(v["text-anchor"]=="middle"){t["v-text-align"]="center"}else{if(v["text-anchor"]=="end"){t["v-text-align"]="right";x.bbx=-Math.round(x.W/2)}else{t["v-text-align"]="left";x.bbx=Math.round(x.W/2)}}}x.X=v.x;x.Y=v.y;x.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(x.X*p),Math.round(x.Y*p),Math.round(x.X*p)+1);q.bbox.plain=null;q.bbox.transform=null;q.dirtyFont=false},setText:function(d,c){d.vml.textpath.string=Ext.htmlDecode(c)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(b){b.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(b){b.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(d,e){var g=this;d=d||g.width;e=e||g.height;g.width=d;g.height=e;if(g.el){if(d!=undefined){g.el.setWidth(d)}if(e!=undefined){g.el.setHeight(e)}g.applyViewBox();g.callParent(arguments)}},setViewBox:function(e,h,i,g){this.callParent(arguments);this.viewBox={x:e,y:h,width:i,height:g};this.applyViewBox()},applyViewBox:function(){var u=this,m=u.viewBox,x=u.width,r=u.height,s,t,p,w,q,v,n;if(m&&(x||r)){s=m.x;t=m.y;p=m.width;w=m.height;q=r/w;v=x/p;if(p*q<x){s-=(x-p*q)/2/q}if(w*v<r){t-=(r-w*v)/2/v}n=1/Math.max(p/x,w/r);u.viewBoxShift={dx:-s,dy:-t,scale:n};u.items.each(function(a){u.transform(a)})}},onAdd:function(b){this.callParent(arguments);if(this.el){this.renderItem(b)}},onRemove:function(b){if(b.el){b.el.remove();delete b.el}this.callParent(arguments)},createNode:(function(){try{var c=Ext.getDoc().dom;
if(!c.namespaces.rvml){c.namespaces.add("rvml","urn:schemas-microsoft-com:vml")}return function(a){return c.createElement("<rvml:"+a+' class="rvml">')}}catch(d){return function(a){return c.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}})(),render:function(g){var i=this,h=Ext.getDoc().dom;if(!i.el){var e=h.createElement("div");i.el=Ext.get(e);i.el.addCls(i.baseVmlCls);i.span=h.createElement("span");Ext.get(i.span).addCls(i.measureSpanCls);e.appendChild(i.span);i.el.setSize(i.width||10,i.height||10);g.appendChild(e);i.el.on({scope:i,mouseup:i.onMouseUp,mousedown:i.onMouseDown,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousemove:i.onMouseMove,mouseenter:i.onMouseEnter,mouseleave:i.onMouseLeave,click:i.onClick})}i.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(b){b.dirty=true;this.renderItem(b)},renderItem:function(b){if(!this.el){return}if(!b.el){this.createSpriteElement(b)}if(b.dirty){this.applyAttrs(b);if(b.dirtyTransform){this.applyTransformations(b)}}},rotationCompensation:function(h,i,g){var e=Ext.create("Ext.draw.Matrix");e.rotate(-h,0.5,0.5);return{x:e.x(i,g),y:e.y(i,g)}},extractTransform:function(i){var m=this,l=Ext.create("Ext.draw.Matrix"),p,r,t,q,n=0,s=m.viewBoxShift;for(r=i.transformations,t=r.length;n<t;n++){q=r[n];switch(q.type){case"translate":l.translate(q.x,q.y);break;case"rotate":l.rotate(q.degrees,q.x,q.y);break;case"scale":l.scale(q.x||q.scale,q.y||q.scale,q.centerX,q.centerY);break}}if(s){l.add(1,0,0,1,s.dx,s.dy);l.prepend(s.scale,0,0,s.scale,0,0)}return i.matrix=l},setSimpleCoords:function(v,x,y,s,t,D){var z=this,w=v.matrix,E=v.el.dom,H=E.style,F=1,C="",u=E.getElementsByTagName("fill")[0],A=z.zoom/x,B=z.zoom/y,G;if(!x||!y){return}E.coordsize=Math.abs(A)+" "+Math.abs(B);H.rotation=D*(x*y<0?-1:1);if(D){G=z.rotationCompensation(D,s,t);s=G.x;t=G.y}if(x<0){C+="x"}if(y<0){C+=" y";F=-1}H.flip=C;E.coordorigin=(s*-A)+" "+(t*-B);if(u){E.removeChild(u);G=z.rotationCompensation(D,w.x(v.x,v.y),w.y(v.x,v.y));u.position=G.x*F+" "+G.y*F;u.size=v.width*Math.abs(x)+" "+v.height*Math.abs(y);E.appendChild(u)}},transform:function(w){var z=this,F=w.el,c=w.skew,D=F.dom,C=D.style,x=z.extractTransform(w).clone(),y,t=z.zoom,u=D.getElementsByTagName("fill")[0],G=!String(w.fill).indexOf("url("),E,A;if(w.type!="image"&&c&&!G){c.matrix=x.toString();E=x.offset();if(E[0]>32767){E[0]=32767}else{if(E[0]<-32768){E[0]=-32768}}if(E[1]>32767){E[1]=32767}else{if(E[1]<-32768){E[1]=-32768}}c.offset=E}else{if(c){c.matrix="1 0 0 1";c.offset="0 0"}y=x.split();if(y.isSimple){C.filter="";z.setSimpleCoords(w,y.scaleX,y.scaleY,y.translateX,y.translateY,y.rotate/Math.PI*180)}else{C.filter=x.toFilter();var B=z.getBBox(w),H=B.x-w.x,v=B.y-w.y;D.coordorigin=(H*-t)+" "+(v*-t);if(u){D.removeChild(u);u.position=H+" "+v;u.size=w.width*w.scale.x+" "+w.height*1.1;D.appendChild(u)}}}},createItem:function(b){return Ext.create("Ext.draw.Sprite",b)},getRegion:function(){return this.el.getRegion()},addCls:function(d,c){if(d&&d.el){d.el.addCls(c)}},removeCls:function(d,c){if(d&&d.el){d.el.removeCls(c)}},addGradient:function(h){var g=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),e=[],i=Ext.create("Ext.util.MixedCollection");i.addAll(h.stops);i.sortByKey("ASC",function(a,b){a=parseInt(a,10);b=parseInt(b,10);return a>b?1:(a<b?-1:0)});i.eachKey(function(a,b){e.push(a+"% "+b.color)});g.add(h.id,{colors:e.join(","),angle:h.angle})},destroy:function(){var b=this;b.callParent(arguments);if(b.el){b.el.remove()}delete b.el}});Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(r,x){var i={attrs:[],duration:[],easing:[]},s=r.length,w,j,u,t,z,A,v,y,B;for(v=0;v<s;v++){j=r[v];z=j.duration;t=j.easing;j=j.attrs;for(u in j){if(Ext.Array.indexOf(i.attrs,u)==-1){i.attrs.push(u.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));i.duration.push(z+"ms");i.easing.push(t)}}}w=i.attrs.join(",");z=i.duration.join(",");t=i.easing.join(", ");for(v=0;v<s;v++){j=r[v].attrs;for(u in j){B=j[u].length;for(y=0;y<B;y++){A=j[u][y];A[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",x?"":w);
A[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",x?"":z);A[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",x?"":t);A[0].setStyle(u,A[1]);if(x){A=A[0].dom.offsetWidth}else{A[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},A[0],{single:true})}}}}}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});Ext.define("Ext.layout.container.AbstractFit",{extend:"Ext.layout.container.Container",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit"});Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.AbstractFit",alias:"layout.fit",alternateClassName:"Ext.layout.FitLayout",requires:["Ext.layout.container.Box"],defaultMargins:{top:0,right:0,bottom:0,left:0},onLayout:function(){var i=this,g,e,h;i.callParent();if(i.owner.items.length){e=i.owner.items.get(0);h=e.margins||i.defaultMargins;g=i.getLayoutTargetSize();g.width-=h.width;g.height-=h.height;i.setItemBox(e,g);if(h.left||h.top){e.setPosition(h.left,h.top)}}},getTargetBox:function(){return this.getLayoutTargetSize()},setItemBox:function(g,d){var e=this;if(g&&d.height>0){if(!e.owner.isFixedWidth()){d.width=undefined}if(!e.owner.isFixedHeight()){d.height=undefined}e.setItemSize(g,d.width,d.height)}},configureItem:function(b){b.layoutManagedHeight=0;b.layoutManagedWidth=0;this.callParent(arguments)}},function(){this.prototype.renderItem=Ext.layout.container.Box.prototype.renderItem});Ext.define("Ext.layout.container.AbstractCard",{extend:"Ext.layout.container.Fit",type:"card",sizeAllCards:false,hideInactive:true,deferredRender:false,beforeLayout:function(){var b=this;b.getActiveItem();if(b.activeItem&&b.deferredRender){b.renderItems([b.activeItem],b.getRenderTarget());return true}else{return this.callParent(arguments)}},renderChildren:function(){if(!this.deferredRender){this.getActiveItem();this.callParent()}},onLayout:function(){var l=this,k=l.activeItem,i=l.getVisibleItems(),m=i.length,j=l.getTargetBox(),p,n;for(p=0;p<m;p++){n=i[p];l.setItemBox(n,j)}if(!l.firstActivated&&k){if(k.fireEvent("beforeactivate",k)!==false){k.fireEvent("activate",k)}l.firstActivated=true}},isValidParent:function(i,h,g){var e=i.el?i.el.dom:Ext.getDom(i);return(e&&e.parentNode===(h.dom||h))||false},getActiveItem:function(){var b=this;if(!b.activeItem&&b.owner){b.activeItem=b.parseActiveItem(b.owner.activeItem)}if(b.activeItem&&b.owner.items.indexOf(b.activeItem)!=-1){return b.activeItem}return null},parseActiveItem:function(b){if(b&&b.isComponent){return b}else{if(typeof b=="number"||b===undefined){return this.getLayoutItems()[b||0]}else{return this.owner.getComponent(b)}}},configureItem:function(c,d){this.callParent([c,d]);if(this.hideInactive&&this.activeItem!==c){c.hide()}else{c.show()}},onRemove:function(b){if(b===this.activeItem){this.activeItem=null;if(this.owner.items.getCount()===0){this.firstActivated=false}}},getAnimation:function(d,e){var g=(d||{}).cardSwitchAnimation;if(g===false){return false}return g||e.cardSwitchAnimation},getNext:function(){var g=arguments[0];var e=this.getLayoutItems(),d=Ext.Array.indexOf(e,this.activeItem);return e[d+1]||(g?e[0]:false)},next:function(){var c=arguments[0],d=arguments[1];return this.setActiveItem(this.getNext(d),c)},getPrev:function(){var g=arguments[0];var e=this.getLayoutItems(),d=Ext.Array.indexOf(e,this.activeItem);return e[d-1]||(g?e[e.length-1]:false)},prev:function(){var c=arguments[0],d=arguments[1];return this.setActiveItem(this.getPrev(d),c)}});Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],allowDeselect:false,selected:null,pruneRemoved:true,constructor:function(d){var c=this;d=d||{};Ext.apply(c,d);c.addEvents("selectionchange");
c.modes={SINGLE:true,SIMPLE:true,MULTI:true};c.setSelectionMode(d.mode||c.mode);c.selected=Ext.create("Ext.util.MixedCollection");c.callParent(arguments)},bind:function(e,d){var g=this;if(!d&&g.store){if(e!==g.store&&g.store.autoDestroy){g.store.destroyStore()}else{g.store.un("add",g.onStoreAdd,g);g.store.un("clear",g.onStoreClear,g);g.store.un("remove",g.onStoreRemove,g);g.store.un("update",g.onStoreUpdate,g)}}if(e){e=Ext.data.StoreManager.lookup(e);e.on({add:g.onStoreAdd,clear:g.onStoreClear,remove:g.onStoreRemove,update:g.onStoreUpdate,scope:g})}g.store=e;if(e&&!d){g.refresh()}},selectAll:function(h){var k=this,l=k.store.getRange(),m=0,i=l.length,j=k.getSelection().length;k.bulkChange=true;for(;m<i;m++){k.doSelect(l[m],true,h)}delete k.bulkChange;k.maybeFireSelectionChange(k.getSelection().length!==j)},deselectAll:function(h){var k=this,l=k.getSelection(),m=0,i=l.length,j=k.getSelection().length;k.bulkChange=true;for(;m<i;m++){k.doDeselect(l[m],h)}delete k.bulkChange;k.maybeFireSelectionChange(k.getSelection().length!==j)},selectWithEvent:function(g,h,i){var e=this;switch(e.selectionMode){case"MULTI":if(h.ctrlKey&&e.isSelected(g)){e.doDeselect(g,false)}else{if(h.shiftKey&&e.lastFocused){e.selectRange(e.lastFocused,g,h.ctrlKey)}else{if(h.ctrlKey){e.doSelect(g,true,false)}else{if(e.isSelected(g)&&!h.shiftKey&&!h.ctrlKey&&e.selected.getCount()>1){e.doSelect(g,i,false)}else{e.doSelect(g,false)}}}}break;case"SIMPLE":if(e.isSelected(g)){e.doDeselect(g)}else{e.doSelect(g,true)}break;case"SINGLE":if(e.allowDeselect&&e.isSelected(g)){e.doDeselect(g)}else{e.doSelect(g,false)}break}},selectRange:function(n,t,i,v){var q=this,p=q.store,u=0,r,s,x,w=[];if(q.isLocked()){return}if(!i){q.deselectAll(true)}if(!Ext.isNumber(n)){n=p.indexOf(n)}if(!Ext.isNumber(t)){t=p.indexOf(t)}if(n>t){s=t;t=n;n=s}for(r=n;r<=t;r++){if(q.isSelected(p.getAt(r))){u++}}if(!v){x=-1}else{x=(v=="up")?n:t}for(r=n;r<=t;r++){if(u==(t-n+1)){if(r!=x){q.doDeselect(r,true)}}else{w.push(p.getAt(r))}}q.doMultiSelect(w,true)},select:function(d,g,e){if(Ext.isDefined(d)){this.doSelect(d,g,e)}},deselect:function(c,d){this.doDeselect(c,d)},doSelect:function(k,i,g){var j=this,h;if(j.locked){return}if(typeof k==="number"){k=[j.store.getAt(k)]}if(j.selectionMode=="SINGLE"&&k){h=k.length?k[0]:k;j.doSingleSelect(h,g)}else{j.doMultiSelect(k,i,g)}},doMultiSelect:function(v,i,m){var p=this,u=p.selected,n=false,s=0,q,r;if(p.locked){return}v=!Ext.isArray(v)?[v]:v;q=v.length;if(!i&&u.getCount()>0){if(p.doDeselect(p.getSelection(),m)===false){return}}function t(){u.add(r);n=true}for(;s<q;s++){r=v[s];if(i&&p.isSelected(r)){continue}p.lastSelected=r;p.onSelectChange(r,true,m,t)}p.setLastFocused(r,m);p.maybeFireSelectionChange(n&&!m)},doDeselect:function(v,m){var n=this,u=n.selected,s=0,p,r,i=0,q=0;if(n.locked){return false}if(typeof v==="number"){v=[n.store.getAt(v)]}else{if(!Ext.isArray(v)){v=[v]}}function t(){++q;u.remove(r)}p=v.length;for(;s<p;s++){r=v[s];if(n.isSelected(r)){if(n.lastSelected==r){n.lastSelected=u.last()}++i;n.onSelectChange(r,false,m,t)}}n.maybeFireSelectionChange(q>0&&!m);return q===i},doSingleSelect:function(i,h){var l=this,j=false,m=l.selected;if(l.locked){return}if(l.isSelected(i)){return}function k(){l.bulkChange=true;if(m.getCount()>0&&l.doDeselect(l.lastSelected,h)===false){delete l.bulkChange;return false}delete l.bulkChange;m.add(i);l.lastSelected=i;j=true}l.onSelectChange(i,true,h,k);if(j){if(!h){l.setLastFocused(i)}l.maybeFireSelectionChange(!h)}},setLastFocused:function(i,e){var h=this,g=h.lastFocused;h.lastFocused=i;h.onLastFocusChanged(g,i,e)},isFocused:function(b){return b===this.getLastFocused()},maybeFireSelectionChange:function(d){var c=this;if(d&&!c.bulkChange){c.fireEvent("selectionchange",c,c.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(b){b=b?b.toUpperCase():"SINGLE";this.selectionMode=this.modes[b]?b:"SINGLE"},isLocked:function(){return this.locked
},setLocked:function(b){this.locked=!!b},isSelected:function(b){b=Ext.isNumber(b)?this.store.getAt(b):b;return this.selected.indexOf(b)!==-1},hasSelection:function(){return this.selected.getCount()>0},refresh:function(){var m=this,i=[],n=m.getSelection(),k=n.length,p,l,q=0,r=this.getLastFocused();for(;q<k;q++){p=n[q];if(!this.pruneRemoved||m.store.indexOf(p)!==-1){i.push(p)}}if(m.selected.getCount()!=i.length){l=true}m.clearSelections();if(m.store.indexOf(r)!==-1){this.setLastFocused(r,true)}if(i.length){m.doSelect(i,false,true)}m.maybeFireSelectionChange(l)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:function(){},onStoreClear:function(){if(this.selected.getCount>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(e,g){var h=this,i=h.selected;if(h.locked||!h.pruneRemoved){return}if(i.remove(g)){if(h.lastSelected==g){h.lastSelected=null}if(h.getLastFocused()==g){h.setLastFocused(null)}h.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},destroy:function(){},onStoreUpdate:function(){},onSelectChange:function(e,g,d){},onLastFocusChanged:function(c,d){},onEditorKey:function(c,d){},bindComponent:function(b){}});Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:true,enableKeyNav:true,constructor:function(b){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(e){var d=this,g={refresh:d.refresh,scope:d};d.view=e;d.bind(e.getStore());e.on(e.triggerEvent,d.onItemClick,d);e.on(e.triggerCtEvent,d.onContainerClick,d);e.on(g);if(d.enableKeyNav){d.initKeyNav(e)}},onItemClick:function(e,h,j,k,i){this.selectWithEvent(h,i)},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},initKeyNav:function(d){var c=this;if(!d.rendered){d.on("render",Ext.Function.bind(c.initKeyNav,c,[d],0),c,{single:true});return}d.el.set({tabIndex:-1});c.keyNav=Ext.create("Ext.util.KeyNav",d.el,{down:Ext.pass(c.onNavKey,[1],c),right:Ext.pass(c.onNavKey,[1],c),left:Ext.pass(c.onNavKey,[-1],c),up:Ext.pass(c.onNavKey,[-1],c),scope:c})},onNavKey:function(j){j=j||1;var k=this,h=k.view,l=k.getSelection()[0],m=k.view.store.getCount(),i;if(l){i=h.indexOf(h.getNode(l))+j}else{i=0}if(i<0){i=m-1}else{if(i>=m){i=0}}k.select(i)},onSelectChange:function(i,m,n,k){var l=this,j=l.view,p=m?"select":"deselect";if((n||l.fireEvent("before"+p,l,i))!==false&&k()!==false){if(m){j.onItemSelect(i)}else{j.onItemDeselect(i)}if(!n){l.fireEvent(p,l,i)}}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(d){var c=this;c.path="/";c.expires=new Date(new Date().getTime()+(1000*60*60*24*7));c.domain=null;c.secure=false;c.callParent(arguments);c.state=c.readCookies()},set:function(e,g){var d=this;if(typeof g=="undefined"||g===null){d.clear(e);return}d.setCookie(e,g);d.callParent(arguments)},clear:function(b){this.clearCookie(b);this.callParent(arguments)},readCookies:function(){var q={},l=document.cookie+";",r=/\s?(.*?)=(.*?);/g,m=this.prefix,k=m.length,n,c,p;while((n=r.exec(l))!=null){c=n[1];p=n[2];if(c&&c.substring(0,k)==m){q[c.substr(k)]=this.decodeValue(p)}}return q},setCookie:function(e,g){var d=this;document.cookie=d.prefix+e+"="+d.encodeValue(g)+((d.expires==null)?"":("; expires="+d.expires.toGMTString()))+((d.path==null)?"":("; path="+d.path))+((d.domain==null)?"":("; domain="+d.domain))+((d.secure==true)?"; secure":"")},clearCookie:function(d){var c=this;document.cookie=c.prefix+d+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((c.path==null)?"":("; path="+c.path))+((c.domain==null)?"":("; domain="+c.domain))+((c.secure==true)?"; secure":"")}});Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",alias:"state.localstorage",constructor:function(){var b=this;b.callParent(arguments);b.store=b.getStorageObject();b.state=b.readLocalStorage()},readLocalStorage:function(){var p=this.store,m=0,j=p.length,k=this.prefix,i=k.length,l={},n;
for(;m<j;++m){n=p.key(m);if(n.substring(0,i)==k){l[n.substr(i)]=this.decodeValue(p.getItem(n))}}return l},set:function(e,g){var d=this;d.clear(e);if(typeof g=="undefined"||g===null){return}d.store.setItem(d.prefix+e,d.encodeValue(g));d.callParent(arguments)},clear:function(b){this.store.removeItem(this.prefix+b);this.callParent(arguments)},getStorageObject:function(){try{var d="localStorage" in window&&window.localStorage!==null;if(d){return window.localStorage}}catch(c){return false}}});Ext.define("Ext.util.Point",{extend:"Ext.util.Region",statics:{fromEvent:function(b){b=(b.changedTouches&&b.changedTouches.length>0)?b.changedTouches[0]:b;return new this(b.pageX,b.pageY)}},constructor:function(d,c){this.callParent([c,d,c,d])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(b){return(this.x==b.x&&this.y==b.y)},isWithin:function(c,d){if(!Ext.isObject(d)){d={x:d,y:d}}return(this.x<=c.x+d.x&&this.x>=c.x-d.x&&this.y<=c.y+d.y&&this.y>=c.y-d.y)},roundedEquals:function(b){return(Math.round(this.x)==Math.round(b.x)&&Math.round(this.y)==Math.round(b.y))}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:{floating:"Ext.util.Floating"},uses:["Ext.data.StoreManager"],msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",useMsg:true,disabled:false,baseCls:Ext.baseCSSPrefix+"mask-msg",renderTpl:'<div style="position:relative" class="{msgCls}"></div>',modal:true,floating:{shadow:"frame"},focusOnToFront:false,constructor:function(d,e){var g=this;if(d.isComponent){g.ownerCt=d;g.bindComponent(d)}else{g.ownerCt=new Ext.Component({el:Ext.get(d),rendered:true,componentLayoutCounter:1});g.container=d}g.callParent([e]);if(g.store){g.bindStore(g.store,true)}g.renderData={msgCls:g.msgCls};g.renderSelectors={msgEl:"div"}},bindComponent:function(b){this.mon(b,{resize:this.onComponentResize,scope:this})},afterRender:function(){this.callParent(arguments);this.container=this.floatParent.getContentTarget()},onComponentResize:function(){var b=this;if(b.rendered&&b.isVisible()){b.toFront();b.center()}},bindStore:function(e,d){var g=this;if(!d&&g.store){g.mun(g.store,{scope:g,beforeload:g.onBeforeLoad,load:g.onLoad,exception:g.onLoad});if(!e){g.store=null}}if(e){e=Ext.data.StoreManager.lookup(e);g.mon(e,{scope:g,beforeload:g.onBeforeLoad,load:g.onLoad,exception:g.onLoad})}g.store=e;if(e&&e.isLoading()){g.onBeforeLoad()}},onDisable:function(){this.callParent(arguments);if(this.loading){this.onLoad()}},onBeforeLoad:function(){var g=this,e=g.ownerCt||g.floatParent,d;if(!this.disabled){if(e.componentLayoutCounter){Ext.Component.prototype.show.call(g)}else{d=e.afterComponentLayout;e.afterComponentLayout=function(){e.afterComponentLayout=d;d.apply(e,arguments);if(g.loading){Ext.Component.prototype.show.call(g)}}}}},onHide:function(){var b=this;b.callParent(arguments);b.showOnParentShow=true},onShow:function(){var c=this,d=c.msgEl;c.callParent(arguments);c.loading=true;if(c.useMsg){d.show().update(c.msg)}else{d.parent().hide()}},afterShow:function(){this.callParent(arguments);this.center()},onLoad:function(){this.loading=false;Ext.Component.prototype.hide.call(this)}});Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",alternateClassName:"Ext.view.AbstractView",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.DomQuery","Ext.selection.DataViewModel"],inheritableStatics:{getRecord:function(b){return this.getBoundView(b).getRecord(b)},getBoundView:function(b){return Ext.getCmp(b.boundView)}},deferInitialRefresh:true,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,last:false,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var i=this,g=Ext.isDefined,h=i.itemTpl,e={};if(h){if(Ext.isArray(h)){h=h.join("")}else{if(Ext.isObject(h)){e=Ext.apply(e,h.initialConfig);h=h.html}}if(!i.itemSelector){i.itemSelector="."+i.itemCls
}h=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',i.itemCls,h);i.tpl=Ext.create("Ext.XTemplate",h,e)}i.callParent();if(Ext.isString(i.tpl)||Ext.isArray(i.tpl)){i.tpl=Ext.create("Ext.XTemplate",i.tpl)}i.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove");i.addCmpEvents();i.store=Ext.data.StoreManager.lookup(i.store||"ext-empty-store");i.all=new Ext.CompositeElementLite()},onRender:function(){var g=this,d=g.loadMask,e={msg:g.loadingText,msgCls:g.loadingCls,useMsg:g.loadingUseMsg};g.callParent(arguments);if(d){if(Ext.isObject(d)){e=Ext.apply(e,d)}g.loadMask=Ext.create("Ext.LoadMask",g,e);g.loadMask.on({scope:g,beforeshow:g.onMaskBeforeShow,hide:g.onMaskHide})}},onMaskBeforeShow:function(){var b=this.loadingHeight;this.getSelectionModel().deselectAll();if(b){this.setCalculatedSize(undefined,b)}},onMaskHide:function(){var b=this;if(!b.destroying&&b.loadingHeight){b.setHeight(b.height)}},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var d=this,c="SINGLE";if(!d.selModel){d.selModel={}}if(d.simpleSelect){c="SIMPLE"}else{if(d.multiSelect){c="MULTI"}}Ext.applyIf(d.selModel,{allowDeselect:d.allowDeselect,mode:c});if(!d.selModel.events){d.selModel=Ext.create("Ext.selection.DataViewModel",d.selModel)}if(!d.selModel.hasRelaySetup){d.relayEvents(d.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect"]);d.selModel.hasRelaySetup=true}if(d.disableSelection){d.selModel.locked=true}return d.selModel},refresh:function(){var g=this,d,e;if(!g.rendered||g.isDestroyed){return}g.fireEvent("beforerefresh",g);d=g.getTargetEl();e=g.store.getRange();d.update("");if(e.length<1){if(!g.deferEmptyText||g.hasSkippedEmptyText){d.update(g.emptyText)}g.all.clear()}else{g.tpl.overwrite(d,g.collectData(e,0));g.all.fill(Ext.query(g.getItemSelector(),d.dom));g.updateIndexes(0)}g.selModel.refresh();g.hasSkippedEmptyText=true;g.fireEvent("refresh",g);if(!g.viewReady){g.viewReady=true;g.fireEvent("viewready",g)}},prepareData:function(g,d,e){if(e){Ext.apply(g,e.getAssociatedData())}return g},collectData:function(m,j){var k=[],l=0,i=m.length,h;for(;l<i;l++){h=m[l];k[k.length]=this.prepareData(h[h.persistenceProperty],j+l,h)}return k},bufferRender:function(e,d){var g=document.createElement("div");this.tpl.overwrite(g,this.collectData(e,d));return Ext.query(this.getItemSelector(),g)},onUpdate:function(i,h){var j=this,g=j.store.indexOf(h),k;if(g>-1){k=j.bufferRender([h],g)[0];if(j.getNode(h)){j.all.replaceElement(g,k,true);j.updateIndexes(g,g);j.selModel.refresh();j.fireEvent("itemupdate",h,g,k)}}},onAdd:function(i,g,k){var j=this,h;if(j.all.getCount()===0){j.refresh();return}h=j.bufferRender(g,k);j.doAdd(h,g,k);j.selModel.refresh();j.updateIndexes(k);j.fireEvent("itemadd",g,k,h)},doAdd:function(e,g,i){var h=this.all;if(i<h.getCount()){h.item(i).insertSibling(e,"before",true)}else{h.last().insertSibling(e,"after",true)}Ext.Array.insert(h.elements,i,e)},onRemove:function(h,g,e){var i=this;i.doRemove(g,e);i.updateIndexes(e);if(i.store.getCount()===0){i.refresh()}i.fireEvent("itemremove",g,e)},doRemove:function(d,c){this.all.removeElement(c,true)},refreshNode:function(b){this.onUpdate(this.store,this.store.getAt(b))},updateIndexes:function(i,j){var k=this.all.elements,h=this.store.getRange(),g;i=i||0;j=j||((j===0)?0:(k.length-1));for(g=i;g<=j;g++){k[g].viewIndex=g;k[g].viewRecordId=h[g].internalId;if(!k[g].boundView){k[g].boundView=this.id}}},getStore:function(){return this.store},bindStore:function(g,e){var h=this,i;if(!e&&h.store){if(g!==h.store&&h.store.autoDestroy){h.store.destroyStore()}else{h.mun(h.store,{scope:h,datachanged:h.onDataChanged,add:h.onAdd,remove:h.onRemove,update:h.onUpdate,clear:h.refresh})}if(!g){if(h.loadMask&&h.loadMask.bindStore){h.loadMask.bindStore(null)}h.store=null}}if(g){g=Ext.data.StoreManager.lookup(g);h.mon(g,{scope:h,datachanged:h.onDataChanged,add:h.onAdd,remove:h.onRemove,update:h.onUpdate,clear:h.refresh});if(h.loadMask&&h.loadMask.bindStore){if(Ext.Array.contains(g.alias,"store.node")){i=this.ownerCt.store
}else{i=g}h.loadMask.bindStore(i)}}h.viewReady=false;h.store=g;h.getSelectionModel().bind(g);if(g){if(e&&h.deferInitialRefresh){Ext.Function.defer(function(){if(!h.isDestroyed){h.refresh(true)}},1)}else{h.refresh(true)}}},onDataChanged:function(){if(this.blockRefresh!==true){this.refresh.apply(this,arguments)}},findItemByChild:function(b){return Ext.fly(b).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(b){return b.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var e=[],g=this.selModel.getSelection(),h=g.length,i=0;for(;i<h;i++){e.push(this.getNode(g[i]))}return e},getRecords:function(k){var g=[],j=0,h=k.length,i=this.store.data;for(;j<h;j++){g[g.length]=i.getByKey(k[j].viewRecordId)}return g},getRecord:function(b){return this.store.data.getByKey(Ext.getDom(b).viewRecordId)},isSelected:function(c){var d=this.getRecord(c);return this.selModel.isSelected(d)},select:function(d,g,e){this.selModel.select(d,g,e)},deselect:function(c,d){this.selModel.deselect(c,d)},getNode:function(b){if(!this.rendered){return null}if(Ext.isString(b)){return document.getElementById(b)}if(Ext.isNumber(b)){return this.all.elements[b]}if(b instanceof Ext.data.Model){return this.getNodeByRecord(b)}return b},getNodeByRecord:function(g){var i=this.all.elements,h=i.length,e=0;for(;e<h;e++){if(i[e].viewRecordId===g.internalId){return i[e]}}return null},getNodes:function(i,h){var j=this.all.elements,g=[],k;i=i||0;h=!Ext.isDefined(h)?Math.max(j.length-1,0):h;if(i<=h){for(k=i;k<=h&&j[k];k++){g.push(j[k])}}else{for(k=i;k>=h&&j[k];k--){g.push(j[k])}}return g},indexOf:function(b){b=this.getNode(b);if(Ext.isNumber(b.viewIndex)){return b.viewIndex}return this.all.indexOf(b)},onDestroy:function(){var b=this;b.all.clear();b.callParent();b.bindStore(null);b.selModel.destroy()},onItemSelect:function(d){var c=this.getNode(d);if(c){Ext.fly(c).addCls(this.selectedItemCls)}},onItemDeselect:function(d){var c=this.getNode(d);if(c){Ext.fly(c).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(g,e,h){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var i=this.getSelectionModel();return i.select.apply(i,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var b=this.getSelectionModel();return b.deselectAll()}})})});Ext.define("Ext.Action",{constructor:function(b){this.initialConfig=b;this.itemId=b.itemId=(b.itemId||b.id||Ext.id());this.items=[]},isAction:true,setText:function(b){this.initialConfig.text=b;this.callEach("setText",[b])},getText:function(){return this.initialConfig.text},setIconCls:function(b){this.initialConfig.iconCls=b;this.callEach("setIconCls",[b])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(b){this.initialConfig.disabled=b;this.callEach("setDisabled",[b])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(b){this.initialConfig.hidden=b;this.callEach("setVisible",[!b])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(c,d){this.initialConfig.handler=c;this.initialConfig.scope=d;
this.callEach("setHandler",[c,d])},each:function(c,d){Ext.each(this.items,c,d)},callEach:function(i,k){var g=this.items,j=0,h=g.length;for(;j<h;j++){g[j][i].apply(g[j],k)}},addComponent:function(b){this.items.push(b);b.on("destroy",this.removeComponent,this)},removeComponent:function(b){Ext.Array.remove(this.items,b)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}});Ext.define("Ext.layout.component.Editor",{alias:["layout.editor"],extend:"Ext.layout.component.Component",onLayout:function(j,k){var i=this,g=i.owner,h=g.autoSize;if(h===true){h={width:"field",height:"field"}}if(h){j=i.getDimension(g,h.width,"Width",j);k=i.getDimension(g,h.height,"Height",k)}i.setTargetSize(j,k);g.field.setSize(j,k)},getDimension:function(h,g,k,i){var j="get"+k;switch(g){case"boundEl":return h.boundEl[j]();case"field":return h.field[j]();default:return i}}});Ext.define("Ext.Editor",{extend:"Ext.Component",alias:"widget.editor",requires:["Ext.layout.component.Editor"],componentLayout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,hidden:true,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var d=this,c=d.field=Ext.ComponentManager.create(d.field,"textfield");Ext.apply(c,{inEditor:true,msgTarget:c.msgTarget=="title"?"title":"qtip"});d.mon(c,{scope:d,blur:{fn:d.onBlur,delay:1},specialkey:d.onSpecialKey});if(c.grow){d.mon(c,"autosize",d.onAutoSize,d,{delay:1})}d.floating={constrain:d.constrain};d.callParent(arguments);d.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onAutoSize:function(){this.doComponentLayout()},onRender:function(g,h){var k=this,i=k.field,j=i.inputEl;k.callParent(arguments);i.render(k.el);if(j){j.dom.name="";if(k.swallowKeys){j.swallowEvent(["keypress","keydown"])}}},onSpecialKey:function(j,k){var l=this,h=k.getKey(),i=l.completeOnEnter&&h==k.ENTER,m=l.cancelOnEsc&&h==k.ESC;if(i||m){k.stopEvent();Ext.defer(function(){if(i){l.completeEdit()}else{l.cancelEdit()}if(j.triggerBlur){j.triggerBlur()}},10)}this.fireEvent("specialkey",this,j,k)},startEdit:function(g,i){var e=this,h=e.field;e.completeEdit();e.boundEl=Ext.get(g);i=Ext.isDefined(i)?i:e.boundEl.dom.innerHTML;if(!e.rendered){e.render(e.parentEl||document.body)}if(e.fireEvent("beforestartedit",e,e.boundEl,i)!==false){e.startValue=i;e.show();h.reset();h.setValue(i);e.realign(true);h.focus(false,10);if(h.autoSize){h.autoSize()}e.editing=true}},realign:function(d){var c=this;if(d===true){c.doComponentLayout()}c.alignTo(c.boundEl,c.alignment,c.offsets)},completeEdit:function(g){var e=this,h=e.field,i;if(!e.editing){return}if(h.assertValue){h.assertValue()}i=e.getValue();if(!h.isValid()){if(e.revertInvalid!==false){e.cancelEdit(g)}return}if(String(i)===String(e.startValue)&&e.ignoreNoChange){e.hideEdit(g);return}if(e.fireEvent("beforecomplete",e,i,e.startValue)!==false){i=e.getValue();if(e.updateEl&&e.boundEl){e.boundEl.update(i)}e.hideEdit(g);e.fireEvent("complete",e,i,e.startValue)}},onShow:function(){var b=this;b.callParent(arguments);if(b.hideEl!==false){b.boundEl.hide()}b.fireEvent("startedit",b.boundEl,b.startValue)},cancelEdit:function(g){var i=this,e=i.startValue,h;if(i.editing){h=i.getValue();i.setValue(e);i.hideEdit(g);i.fireEvent("canceledit",i,h,e)}},hideEdit:function(b){if(b!==true){this.editing=false;this.hide()}},onBlur:function(){var b=this;if(b.allowBlur===true&&b.editing&&b.selectSameEditor!==true){b.completeEdit()}},onHide:function(){var d=this,c=d.field;if(d.editing){d.completeEdit();return}c.blur();if(c.collapse){c.collapse()}if(d.hideEl!==false){d.boundEl.show()}d.callParent(arguments)},setValue:function(b){this.field.setValue(b)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var b=this;Ext.destroy(b.field);delete b.field;delete b.parentEl;delete b.boundEl;b.callParent(arguments)}});Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],src:"",getElConfig:function(){return{tag:"img",src:this.src}
},initRenderTpl:Ext.emptyFn,setSrc:function(g){var d=this,e=d.el;d.src=g;if(e){e.dom.src=g}}});Ext.define("Ext.Layer",{uses:["Ext.Shadow"],statics:{shims:[]},extend:"Ext.Element",constructor:function(i,j){i=i||{};var p=this,n=Ext.DomHelper,l=i.parentEl,m=l?Ext.getDom(l):document.body,k=i.hideMode;if(j){p.dom=Ext.getDom(j)}if(!p.dom){p.dom=n.append(m,i.dh||{tag:"div",cls:Ext.baseCSSPrefix+"layer"})}else{p.addCls(Ext.baseCSSPrefix+"layer");if(!p.dom.parentNode){m.appendChild(p.dom)}}if(i.cls){p.addCls(i.cls)}p.constrain=i.constrain!==false;if(k){p.setVisibilityMode(Ext.Element[k.toUpperCase()]);if(p.visibilityMode==Ext.Element.ASCLASS){p.visibilityCls=i.visibilityCls}}else{if(i.useDisplay){p.setVisibilityMode(Ext.Element.DISPLAY)}else{p.setVisibilityMode(Ext.Element.VISIBILITY)}}if(i.id){p.id=p.dom.id=i.id}else{p.id=Ext.id(p.dom)}p.position("absolute");if(i.shadow){p.shadowOffset=i.shadowOffset||4;p.shadow=Ext.create("Ext.Shadow",{offset:p.shadowOffset,mode:i.shadow});p.disableShadow()}else{p.shadowOffset=0}p.useShim=i.shim!==false&&Ext.useShims;if(i.hidden===true){p.hide()}else{p.show()}},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var d=this,g,e;if(!d.useShim){return null}if(!d.shim){g=d.self.shims.shift();if(!g){g=d.createShim();g.enableDisplayMode("block");g.hide()}e=d.dom.parentNode;if(g.dom.parentNode!=e){e.insertBefore(g.dom,d.dom)}d.shim=g}return d.shim},hideShim:function(){var b=this;if(b.shim){b.shim.setDisplayed(false);b.self.shims.push(b.shim);delete b.shim}},disableShadow:function(){var b=this;if(b.shadow&&!b.shadowDisabled){b.shadowDisabled=true;b.shadow.hide();b.lastShadowOffset=b.shadowOffset;b.shadowOffset=0}},enableShadow:function(d){var c=this;if(c.shadow&&c.shadowDisabled){c.shadowDisabled=false;c.shadowOffset=c.lastShadowOffset;delete c.lastShadowOffset;if(d){c.sync(true)}}},sync:function(y){var s=this,l=s.shadow,t,v,z;if(!s.updating&&s.isVisible()&&(l||s.useShim)){var w=s.getShim(),x=s.getLeft(true),h=s.getTop(true),q=s.dom.offsetWidth,u=s.dom.offsetHeight,r;if(l&&!s.shadowDisabled){if(y&&!l.isVisible()){l.show(s)}else{l.realign(x,h,q,u)}if(w){r=w.getStyle("z-index");if(r>s.zindex){s.shim.setStyle("z-index",s.zindex-2)}w.show();if(l.isVisible()){t=l.el.getXY();v=w.dom.style;z=l.el.getSize();if(Ext.supports.CSS3BoxShadow){z.height+=6;z.width+=4;t[0]-=2;t[1]-=4}v.left=(t[0])+"px";v.top=(t[1])+"px";v.width=(z.width)+"px";v.height=(z.height)+"px"}else{w.setSize(q,u);w.setLeftTop(x,h)}}}else{if(w){r=w.getStyle("z-index");if(r>s.zindex){s.shim.setStyle("z-index",s.zindex-2)}w.show();w.setSize(q,u);w.setLeftTop(x,h)}}}return s},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var q=Ext.Element.getViewWidth(),u=Ext.Element.getViewHeight(),h=Ext.getDoc().getScroll(),m=this.getXY(),p=m[0],r=m[1],v=this.shadowOffset,n=this.dom.offsetWidth+v,t=this.dom.offsetHeight+v,s=false;if((p+n)>q+h.left){p=q-n-v;s=true}if((r+t)>u+h.top){r=u-t-v;s=true}if(p<h.left){p=h.left;s=true}if(r<h.top){r=h.top;s=true}if(s){Ext.Layer.superclass.setXY.call(this,[p,r]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(m,i,n,k,l){var p=this,j;j=function(){if(m){p.sync(true)}if(k){k()}};if(!m){p.hideUnders(true)}p.callParent([m,i,n,k,l]);if(!i){j()}return p},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(b){this.callParent(arguments);return this.sync()},setTop:function(b){this.callParent(arguments);return this.sync()},setLeftTop:function(c,d){this.callParent(arguments);return this.sync()},setXY:function(l,i,m,j,k){var h=this;j=h.createCB(j);h.fixDisplay();h.beforeAction();h.callParent([l,i,m,j,k]);if(!i){j()}return h},createCB:function(g){var e=this,d=e.shadow&&e.shadow.isVisible();
return function(){e.constrainXY();e.sync(d);if(g){g()}}},setX:function(h,g,k,i,j){this.setXY([h,this.getY()],g,k,i,j);return this},setY:function(i,h,g,j,k){this.setXY([this.getX(),i],h,g,j,k);return this},setSize:function(j,p,h,m,k,l){var n=this;k=n.createCB(k);n.beforeAction();n.callParent([j,p,h,m,k,l]);if(!h){k()}return n},setWidth:function(i,h,l,j,k){var m=this;j=m.createCB(j);m.beforeAction();m.callParent([i,h,l,j,k]);if(!h){j()}return m},setHeight:function(h,i,l,j,k){var m=this;j=m.createCB(j);m.beforeAction();m.callParent([h,i,l,j,k]);if(!i){j()}return m},setBounds:function(m,n,t,k,s,r,l,q){var p=this;l=p.createCB(l);p.beforeAction();if(!s){Ext.Layer.superclass.setXY.call(p,[m,n]);Ext.Layer.superclass.setSize.call(p,t,k);l()}else{p.callParent([m,n,t,k,s,r,l,q])}return p},setZIndex:function(d){var c=this;c.zindex=d;if(c.getShim()){c.shim.setStyle("z-index",d++)}if(c.shadow){c.shadow.setZIndex(d++)}return c.setStyle("z-index",d)},setOpacity:function(b){if(this.shadow){this.shadow.setOpacity(b)}return this.callParent(arguments)}});Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Component",type:"progressbar",onLayout:function(j,g){var i=this,h=i.owner,k=h.textEl;i.setElementSize(h.el,j,g);k.setWidth(h.el.getWidth(true));i.callParent([j,g]);h.updateProgress(h.value)}});Ext.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:Ext.baseCSSPrefix+"progress",config:{animate:false,text:""},waitTimer:null,renderTpl:['<div class="{baseCls}-text {baseCls}-text-back">',"<div>&#160;</div>","</div>",'<div id="{id}-bar" class="{baseCls}-bar">','<div class="{baseCls}-text">',"<div>&#160;</div>","</div>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent();this.addChildEls("bar");this.addEvents("update")},afterRender:function(){var b=this;b.textEl=b.textEl?Ext.get(b.textEl):b.el.select("."+b.baseCls+"-text");b.callParent(arguments);if(b.value){b.updateProgress(b.value,b.text)}else{b.updateText(b.text)}},updateProgress:function(j,i,h){var k=this,g;k.value=j||0;if(i){k.updateText(i)}if(k.rendered&&!k.isDestroyed){if(k.isVisible(true)){g=Math.floor(k.value*k.el.getWidth(true));if(Ext.isForcedBorderBox){g+=k.bar.getBorderWidth("lr")}if(h===true||(h!==false&&k.animate)){k.bar.stopAnimation();k.bar.animate(Ext.apply({to:{width:g+"px"}},k.animate))}else{k.bar.setWidth(g)}}else{k.doComponentLayout()}}k.fireEvent("update",k,k.value,i);return k},updateText:function(c){var d=this;d.text=c;if(d.rendered){d.textEl.update(d.text)}return d},applyText:function(b){this.updateText(b)},wait:function(c){var d=this;if(!d.waitTimer){scope=d;c=c||{};d.updateText(c.text);d.waitTimer=Ext.TaskManager.start({run:function(b){var a=c.increment||10;b-=1;d.updateProgress(((((b+a)%a)+1)*(100/a))*0.01,null,c.animate)},interval:c.interval||1000,duration:c.duration,onStop:function(){if(c.fn){c.fn.apply(c.scope||d)}d.reset()},scope:scope})}return d},isWaiting:function(){return this.waitTimer!==null},reset:function(d){var c=this;c.updateProgress(0);c.clearTimer();if(d===true){c.hide()}return c},clearTimer:function(){var b=this;if(b.waitTimer){b.waitTimer.onStop=null;Ext.TaskManager.stop(b.waitTimer);b.waitTimer=null}},onDestroy:function(){var b=this;b.clearTimer();if(b.rendered){if(b.textEl.isComposite){b.textEl.clear()}Ext.destroyMembers(b,"textEl","progressBar")}b.callParent()}});Ext.define("Ext.ShadowPool",{singleton:true,requires:["Ext.DomHelper"],markup:function(){if(Ext.supports.CSS3BoxShadow){return'<div class="'+Ext.baseCSSPrefix+'css-shadow" role="presentation"></div>'}else{if(Ext.isIE){return'<div class="'+Ext.baseCSSPrefix+'ie-shadow" role="presentation"></div>'}else{return'<div class="'+Ext.baseCSSPrefix+'frame-shadow" role="presentation"><div class="xst" role="presentation"><div class="xstl" role="presentation"></div><div class="xstc" role="presentation"></div><div class="xstr" role="presentation"></div></div><div class="xsc" role="presentation"><div class="xsml" role="presentation"></div><div class="xsmc" role="presentation"></div><div class="xsmr" role="presentation"></div></div><div class="xsb" role="presentation"><div class="xsbl" role="presentation"></div><div class="xsbc" role="presentation"></div><div class="xsbr" role="presentation"></div></div></div>'
}}}(),shadows:[],pull:function(){var b=this.shadows.shift();if(!b){b=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));b.autoBoxAdjust=false}return b},push:function(b){this.shadows.push(b)},reset:function(){Ext.Array.each(this.shadows,function(b){b.remove()});this.shadows=[]}});Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],constructor:function(g){var k=this,j={h:0},i,h;Ext.apply(k,g);if(!Ext.isString(k.mode)){k.mode=k.defaultMode}i=k.offset;h=Math.floor(i/2);k.opacity=50;switch(k.mode.toLowerCase()){case"drop":if(Ext.supports.CSS3BoxShadow){j.w=j.h=-i;j.l=j.t=i}else{j.w=0;j.l=j.t=i;j.t-=1;if(Ext.isIE){j.l-=i+h;j.t-=i+h;j.w-=h;j.h-=h;j.t+=1}}break;case"sides":if(Ext.supports.CSS3BoxShadow){j.h-=i;j.t=i;j.l=j.w=0}else{j.w=(i*2);j.l=-i;j.t=i-1;if(Ext.isIE){j.l-=(i-h);j.t-=i+h;j.l+=1;j.w-=(i-h)*2;j.w-=h+1;j.h-=1}}break;case"frame":if(Ext.supports.CSS3BoxShadow){j.l=j.w=j.t=0}else{j.w=j.h=(i*2);j.l=j.t=-i;j.t+=1;j.h-=2;if(Ext.isIE){j.l-=(i-h);j.t-=(i-h);j.l+=1;j.w-=(i+h+1);j.h-=(i+h);j.h+=1}break}}k.adjusts=j},offset:4,defaultMode:"drop",show:function(g){var d=this,e;g=Ext.get(g);if(!d.el){d.el=Ext.ShadowPool.pull();if(d.el.dom.nextSibling!=g.dom){d.el.insertBefore(g)}}e=(parseInt(g.getStyle("z-index"),10)-1)||0;d.el.setStyle("z-index",d.zIndex||e);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){d.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+d.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(d.offset)+")"}d.realign(g.getLeft(true),g.getTop(true),g.dom.offsetWidth,g.dom.offsetHeight);d.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(A,d,s,w){if(!this.el){return}var B=this.adjusts,u=this.el.dom,t=u.style,z,x,r,y,v,l;t.left=(A+B.l)+"px";t.top=(d+B.t)+"px";z=Math.max(s+B.w,0);x=Math.max(w+B.h,0);v=z+"px";l=x+"px";if(t.width!=v||t.height!=l){t.width=v;t.height=l;if(Ext.supports.CSS3BoxShadow){t.boxShadow="0 0 "+this.offset+"px 0 #888"}else{if(!Ext.isIE){r=u.childNodes;y=Math.max(0,(z-12))+"px";r[0].childNodes[1].style.width=y;r[1].childNodes[1].style.width=y;r[2].childNodes[1].style.width=y;r[1].style.height=Math.max(0,(x-12))+"px"}}}},hide:function(){var b=this;if(b.el){b.el.dom.style.display="none";Ext.ShadowPool.push(b.el);delete b.el}},setZIndex:function(b){this.zIndex=b;if(this.el){this.el.setStyle("z-index",b)}},setOpacity:function(b){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){b=Math.floor(b*100/2)/100}this.opacity=b;this.el.setOpacity(b)}}});Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",arrowCls:"split",split:true,initComponent:function(){this.callParent();this.addEvents("arrowclick")},setArrowHandler:function(c,d){this.arrowHandler=c;this.scope=d},onClick:function(g,e){var d=this;g.preventDefault();if(!d.disabled){if(d.overMenuTrigger){d.maybeShowMenu();d.fireEvent("arrowclick",d,g);if(d.arrowHandler){d.arrowHandler.call(d.scope||d,d,g)}}else{d.doToggle();d.fireHandler()}}}});Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(d){var e=this,g="";if(d&&e.showText===true){if(e.prependText){g+=e.prependText}g+=d.text;return g}return e.text},setActiveItem:function(g,e){var d=this;if(!Ext.isObject(g)){g=d.menu.getComponent(g)}if(g){if(!d.rendered){d.text=d.getButtonText(g);d.iconCls=g.iconCls}else{d.setText(d.getButtonText(g));d.setIconCls(g.iconCls)}d.activeItem=g;if(!g.checked){g.setChecked(true,false)}if(d.forceIcon){d.setIconCls(d.forceIcon)}if(!e){d.fireEvent("change",d,g)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){var g=this,d=0,e;g.addEvents("change");if(g.changeHandler){g.on("change",g.changeHandler,g.scope||g);delete g.changeHandler}e=(g.menu.items||[]).concat(g.items||[]);g.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},g.menu);Ext.each(e,function(a,b){a=Ext.applyIf({group:g.id,itemIndex:b,checkHandler:g.checkHandler,scope:g,checked:a.checked||false},a);g.menu.items.push(a);if(a.checked){d=b
}});g.itemCount=g.menu.items.length;g.callParent(arguments);g.on("click",g.toggleSelected,g);g.setActiveItem(d,g);if(g.width&&g.showText){g.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")}},checkHandler:function(d,c){if(c){this.setActiveItem(d)}},toggleSelected:function(){var g=this,e=g.menu,d;d=g.activeItem.next(":not([disabled])")||e.items.getAt(0);d.setChecked(true)}});Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:true,frameHeader:false,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){var d=this,c=d.columns;d.noTitleCls=d.baseCls+"-notitle";if(c){d.layout=Ext.apply({},{columns:c},d.layout)}if(!d.title){d.addCls(d.noTitleCls)}d.callParent(arguments)},afterLayout:function(){var c=this;c.callParent(arguments);if(c.layout.table&&(Ext.isIEQuirks||Ext.isIE6)&&!c.width){var d=c.getTargetEl();d.setWidth(c.layout.table.offsetWidth+d.getPadding("lr"))}if(Ext.isIE7){c.el.repaint()}},afterRender:function(){var b=this;if(b.header){delete b.header.items.items[0].flex;b.suspendLayout=true;b.header.insert(1,{xtype:"component",ui:b.ui,flex:1});b.header.insert(0,{xtype:"component",ui:b.ui,flex:1});b.suspendLayout=false}b.callParent(arguments)},onBeforeAdd:function(b){if(b.is("button")){b.ui=b.ui+"-toolbar"}this.callParent(arguments)},applyDefaults:function(c){if(!Ext.isString(c)){c=this.callParent(arguments);var d=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,d);Ext.apply(c,d)}else{Ext.applyIf(c,d)}}return c}});Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",alias:"widget.viewport",requires:["Ext.EventManager"],alternateClassName:"Ext.Viewport",isViewport:true,ariaRole:"application",initComponent:function(){var g=this,e=Ext.fly(document.body.parentNode),d;g.callParent(arguments);e.addCls(Ext.baseCSSPrefix+"viewport");if(g.autoScroll){e.setStyle("overflow","auto")}g.el=d=Ext.getBody();d.setHeight=Ext.emptyFn;d.setWidth=Ext.emptyFn;d.setSize=Ext.emptyFn;d.dom.scroll="no";g.allowDomMove=false;Ext.EventManager.onWindowResize(g.fireResize,g);g.renderTo=g.el;g.width=Ext.Element.getViewportWidth();g.height=Ext.Element.getViewportHeight()},fireResize:function(d,c){this.setSize(d,c)}});Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(g,e,d){if(g){this.initTarget(g,e,d)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(b){Ext.apply(this,b);this.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");this.dragRegion=Ext.create("Ext.util.Region",0,0,0,0);if(this.el){this.initEl(this.el)}this.mixins.observable.constructor.call(this);if(this.disabled){this.disable()}},initEl:function(b){this.el=Ext.get(b);this.handle=Ext.get(this.delegate);this.delegate=this.handle?undefined:this.delegate;if(!this.handle){this.handle=this.el}this.mon(this.handle,{mousedown:this.onMouseDown,delegate:this.delegate,scope:this});if(this.trackOver||this.overCls){this.mon(this.handle,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,delegate:this.delegate,scope:this})
}},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){this.clearListeners();delete this.el},onMouseOver:function(g,d){var e=this;if(!e.disabled){if(Ext.EventManager.contains(g)||e.delegate){e.mouseIsOut=false;if(e.overCls){e.el.addCls(e.overCls)}e.fireEvent("mouseover",e,g,e.delegate?g.getTarget(e.delegate,d):e.handle)}}},onMouseOut:function(b){if(this.mouseIsDown){this.mouseIsOut=true}else{if(this.overCls){this.el.removeCls(this.overCls)}this.fireEvent("mouseout",this,b)}},onMouseDown:function(c,d){if(this.disabled||c.dragTracked){return}this.dragTarget=this.delegate?d:this.handle.dom;this.startXY=this.lastXY=c.getXY();this.startRegion=Ext.fly(this.dragTarget).getRegion();if(this.fireEvent("mousedown",this,c)===false||this.fireEvent("beforedragstart",this,c)===false||this.onBeforeStart(c)===false){return}this.mouseIsDown=true;c.dragTracked=true;if(this.preventDefault!==false){c.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=Ext.defer(this.triggerStart,this.autoStart===true?1000:this.autoStart,this,[c])}},onMouseMove:function(h,i){if(this.active&&Ext.isIE&&!h.browserEvent.button){h.preventDefault();this.onMouseUp(h);return}h.preventDefault();var e=h.getXY(),g=this.startXY;this.lastXY=e;if(!this.active){if(Math.max(Math.abs(g[0]-e[0]),Math.abs(g[1]-e[1]))>this.tolerance){this.triggerStart(h)}else{return}}if(this.fireEvent("mousemove",this,h)===false){this.onMouseUp(h)}else{this.onDrag(h);this.fireEvent("drag",this,h)}},onMouseUp:function(b){this.mouseIsDown=false;if(this.mouseIsOut){this.mouseIsOut=false;this.onMouseOut(b)}b.preventDefault();this.fireEvent("mouseup",this,b);this.endDrag(b)},endDrag:function(g){var d=Ext.getDoc(),e=this.active;d.un("mousemove",this.onMouseMove,this);d.un("mouseup",this.onMouseUp,this);d.un("selectstart",this.stopSelect,this);this.clearStart();this.active=false;if(e){this.onEnd(g);this.fireEvent("dragend",this,g)}delete this._constrainRegion;delete Ext.EventObject.dragTracked},triggerStart:function(b){this.clearStart();this.active=true;this.onStart(b);this.fireEvent("dragstart",this,b)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(b){b.stopEvent();return false},onBeforeStart:function(b){},onStart:function(b){},onDrag:function(b){},onEnd:function(b){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region){return this.constrainTo}if(!this._constrainRegion){this._constrainRegion=Ext.fly(this.constrainTo).getViewRegion()}}else{if(!this._constrainRegion){this._constrainRegion=this.getDragCt().getViewRegion()}}return this._constrainRegion},getXY:function(b){return b?this.constrainModes[b](this,this.lastXY):this.lastXY},getOffset:function(g){var d=this.getXY(g),e=this.startXY;return[d[0]-e[0],d[1]-e[1]]},constrainModes:{point:function(e,h){var i=e.dragRegion,g=e.getConstrainRegion();if(!g){return h}i.x=i.left=i[0]=i.right=h[0];i.y=i.top=i[1]=i.bottom=h[1];i.constrainTo(g);return[i.left,i.top]},dragTarget:function(m,j){var h=m.startXY,k=m.startRegion.copy(),i=m.getConstrainRegion(),l;if(!i){return j}k.translateBy(j[0]-h[0],j[1]-h[1]);if(k.right>i.right){j[0]+=l=(i.right-k.right);k.left+=l}if(k.left<i.left){j[0]+=(i.left-k.left)}if(k.bottom>i.bottom){j[1]+=l=(i.bottom-k.bottom);k.top+=l}if(k.top<i.top){j[1]+=(i.top-k.top)}return j}}});Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(c,d){this.callParent([c,d]);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}},getDragData:function(b){return Ext.dd.Registry.getHandleFromEvent(b)},onInitDrag:function(d,c){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(d,c);return true},afterRepair:function(){var b=this;if(Ext.enableFx){Ext.fly(b.dragData.ddel).highlight(b.repairHighlightColor)}b.dragging=false},getRepairXY:function(b){return Ext.Element.fly(this.dragData.ddel).getXY()
},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.define("Ext.dd.ScrollManager",{singleton:true,requires:["Ext.dd.DragDropManager"],constructor:function(){var b=Ext.dd.DragDropManager;b.fireEvents=Ext.Function.createSequence(b.fireEvents,this.onFire,this);b.stopDrag=Ext.Function.createSequence(b.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=b;this.els={};this.dragEl=null;this.proc={}},onStop:function(d){var c=Ext.dd.ScrollManager;c.dragEl=null;c.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){if(this.ddmInstance.dragCurrent){var g=this.proc,e=g.el,i=g.el.ddScrollConfig,h=i?i.increment:this.increment;if(!this.animate){if(e.scroll(g.dir,h)){this.triggerRefresh()}}else{e.scroll(g.dir,h,true,this.animDuration,this.triggerRefresh)}}},clearProc:function(){var b=this.proc;if(b.id){clearInterval(b.id)}b.id=0;b.el=null;b.dir=""},startProc:function(e,g){this.clearProc();this.proc.el=e;this.proc.dir=g;var h=e.ddScrollConfig?e.ddScrollConfig.ddGroup:undefined,i=(e.ddScrollConfig&&e.ddScrollConfig.frequency)?e.ddScrollConfig.frequency:this.frequency;if(h===undefined||this.ddmInstance.dragCurrent.ddGroup==h){this.proc.id=setInterval(this.doScroll,i)}},onFire:function(r,n){if(n||!this.ddmInstance.dragCurrent){return}if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var e=r.getXY(),c=r.getPoint(),q=this.proc,s=this.els;for(var u in s){var t=s[u],v=t._region;var p=t.ddScrollConfig?t.ddScrollConfig:this;if(v&&v.contains(c)&&t.isScrollable()){if(v.bottom-c.y<=p.vthresh){if(q.el!=t){this.startProc(t,"down")}return}else{if(v.right-c.x<=p.hthresh){if(q.el!=t){this.startProc(t,"left")}return}else{if(c.y-v.top<=p.vthresh){if(q.el!=t){this.startProc(t,"up")}return}else{if(c.x-v.left<=p.hthresh){if(q.el!=t){this.startProc(t,"right")}return}}}}}}this.clearProc()},register:function(g){if(Ext.isArray(g)){for(var d=0,e=g.length;d<e;d++){this.register(g[d])}}else{g=Ext.get(g);this.els[g.id]=g}},unregister:function(g){if(Ext.isArray(g)){for(var d=0,e=g.length;d<e;d++){this.unregister(g[d])}}else{g=Ext.get(g);delete this.els[g.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var d=this.els,c;for(c in d){if(typeof d[c]=="object"){d[c]._region=d[c].getRegion()}}}});Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(e,g,d){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(e,g,d){return this.dropAllowed},notifyOut:function(e,g,d){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(e,g,d){return false},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(d,e){if(typeof d=="string"){return d}var g=d.id;if(!g&&e!==false){g="extdd-"+(++this.autoIdSeed);d.id=g}return g},register:function(j,i){i=i||{};if(typeof j=="string"){j=document.getElementById(j)}i.ddel=j;this.elements[this.getId(j)]=i;if(i.isHandle!==false){this.handles[i.ddel.id]=i}if(i.handles){var k=i.handles;for(var g=0,h=k.length;g<h;g++){this.handles[this.getId(k[g])]=i}}},unregister:function(l){var j=this.getId(l,false);var k=this.elements[j];if(k){delete this.elements[j];if(k.handles){var m=k.handles;for(var h=0,i=m.length;h<i;h++){delete this.handles[this.getId(m[h],false)]}}}},getHandle:function(b){if(typeof b!="string"){b=b.id
}return this.handles[b]},getHandleFromEvent:function(c){var d=c.getTarget();return d?this.handles[d.id]:null},getTarget:function(b){if(typeof b!="string"){b=b.id}return this.elements[b]},getTargetFromEvent:function(c){var d=c.getTarget();return d?this.elements[d.id]||this.handles[d.id]:null}});Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(b){return Ext.dd.Registry.getTargetFromEvent(b)},onNodeEnter:function(h,g,i,e){},onNodeOver:function(h,g,i,e){return this.dropAllowed},onNodeOut:function(h,g,i,e){},onNodeDrop:function(h,g,i,e){return false},onContainerOver:function(e,g,d){return this.dropNotAllowed},onContainerDrop:function(e,g,d){return false},notifyEnter:function(e,g,d){return this.dropNotAllowed},notifyOver:function(g,i,e){var h=this.getTargetFromEvent(i);if(!h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null}return this.onContainerOver(g,i,e)}if(this.lastOverNode!=h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e)}this.onNodeEnter(h,g,i,e);this.lastOverNode=h}return this.onNodeOver(h,g,i,e)},notifyOut:function(e,g,d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,g,d);this.lastOverNode=null}},notifyDrop:function(g,i,e){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null}var h=this.getTargetFromEvent(i);return h?this.onNodeDrop(h,g,i,e):this.onContainerDrop(g,i,e)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:false,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent();this.addEvents("success","failure")},onRender:function(){var k=this,i,j,g,h=k.getSwfId();k.renderData.swfId=h;k.callParent(arguments);i=Ext.apply({allowScriptAccess:"always",bgcolor:k.backgroundColor,wmode:k.wmode},k.flashParams);j=Ext.apply({allowedDomain:document.location.hostname},k.flashVars);new swfobject.embedSWF(k.url,h,k.swfWidth,k.swfHeight,k.flashVersion,k.expressInstall?k.statics.EXPRESS_INSTALL_URL:g,j,i,k.flashAttributes,Ext.bind(k.swfCallback,k))},swfCallback:function(c){var d=this;if(c.success){d.swf=Ext.get(c.ref);d.onSuccess();d.fireEvent("success",d)}else{d.onFailure();d.fireEvent("failure",d)}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var c=this,d=c.swf;if(d){swfobject.removeSWF(c.getSwfId());Ext.destroy(d);delete c.swf}c.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}});Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(d){if(d){Ext.apply(this,d)}var c=d.params;if(Ext.isString(c)){this.params=Ext.Object.fromQueryString(c)}},run:Ext.emptyFn,onFailure:function(b){this.response=b;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(b){this.response=b;if(!b.responseText&&!b.responseXML){return true}return(this.result=this.handleResponse(b))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var g=this,e,d=g.form;return{success:g.onSuccess,failure:g.onFailure,scope:g,timeout:(this.timeout*1000)||(d.timeout*1000),upload:d.fileUpload?g.onSuccess:e}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}});Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var b=this.form;if(this.clientValidation===false||b.isValid()){this.doSubmit()
}else{this.failureType=Ext.form.action.Action.CLIENT_INVALID;b.afterAction(this,false)}},doSubmit:function(){var c,d=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers});if(this.form.hasUpload()){c=d.form=this.buildForm();d.isUpload=true}else{d.params=this.getParams()}Ext.Ajax.request(d);if(c){Ext.removeNode(c)}},getParams:function(){var g=false,d=this.callParent(),e=this.form.getValues(g,g,this.submitEmptyText!==g);return Ext.apply({},e,d)},buildForm:function(){var p=[],n,m,i=this.form,k=this.getParams(),j=[];i.getFields().each(function(a){if(a.isFileUpload()){j.push(a)}});function l(b,a){p.push({tag:"input",type:"hidden",name:b,value:Ext.String.htmlEncode(a)})}Ext.iterate(k,function(b,a){if(Ext.isArray(a)){Ext.each(a,function(c){l(b,c)})}else{l(b,a)}});n={tag:"form",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:p};if(j.length){n.encoding=n.enctype="multipart/form-data"}m=Ext.DomHelper.append(Ext.getBody(),n);Ext.Array.each(j,function(a){if(a.rendered){m.appendChild(a.extractFileInput())}});return m},onSuccess:function(e){var i=this.form,h=true,g=this.processResponse(e);if(g!==true&&!g.success){if(g.errors){i.markInvalid(g.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;h=false}i.afterAction(this,h)},handleResponse:function(q){var m=this.form,p=m.errorReader,r,l,n,k,i;if(p){r=p.read(q);i=r.records;l=[];if(i){for(n=0,k=i.length;n<k;n++){l[n]=i[n].data}}if(l.length<1){l=null}return{success:r.success,errors:l}}return Ext.decode(q.responseText)}});Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(d,c){this.comp=d;this.initialConstrainTo=c.constrainTo;this.callParent([c])},onStart:function(g){var d=this,e=d.comp;this.startPosition=e.getPosition();if(e.ghost&&!e.liveDrag){d.proxy=e.ghost();d.dragTarget=d.proxy.header.el}if(d.constrain||d.constrainDelegate){d.constrainTo=d.calculateConstrainRegion()}},calculateConstrainRegion:function(){var m=this,i=m.comp,j=m.initialConstrainTo,l,k,c=i.el.shadow?i.el.shadow.offset:0;if(!(j instanceof Ext.util.Region)){j=Ext.fly(j).getViewRegion()}if(c){j.adjust(0,-c,-c,c)}if(!m.constrainDelegate){l=Ext.fly(m.dragTarget).getRegion();k=m.proxy?m.proxy.el.getRegion():i.el.getRegion();j.adjust(l.top-k.top,l.right-k.right,l.bottom-k.bottom,l.left-k.left)}return j},onDrag:function(i){var e=this,g=(e.proxy&&!e.comp.liveDrag)?e.proxy:e.comp,h=e.getOffset(e.constrain||e.constrainDelegate?"dragTarget":null);g.setPosition(e.startPosition[0]+h[0],e.startPosition[1]+h[1])},onEnd:function(b){if(this.proxy&&!this.comp.liveDrag){this.comp.unghost()}}});Ext.define("Ext.form.Labelable",{requires:["Ext.XTemplate"],labelableRenderTpl:['<tpl if="!hideLabel && !(!fieldLabel && hideEmptyLabel)">','<label id="{id}-labelEl"<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>','<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"</label>","</tpl>",'<div class="{baseBodyCls} {fieldBodyCls}" id="{id}-bodyEl" role="presentation">{subTplMarkup}</div>','<div id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>','<div class="{clearCls}" role="presentation"><!-- --></div>',{compiled:true,disableFormats:true}],activeErrorsTpl:['<tpl if="errors && errors.length">','<ul><tpl for="errors"><li<tpl if="xindex == xcount"> class="last"</tpl>>{.}</li></tpl></ul>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",initLabelable:function(){this.addCls(this.formItemCls);this.addEvents("errorchange")},getFieldLabel:function(){return this.fieldLabel||""},getLabelableRenderData:function(){var k=this,h=k.labelAlign,j=k.labelCls,l=k.labelClsExtra,m=k.labelPad,i;
if(h==="top"){i="margin-bottom:"+m+"px;"}else{i="margin-right:"+m+"px;";if(Ext.isBorderBox){i+="width:"+k.labelWidth+"px;"}}return Ext.copyTo({inputId:k.getInputId(),fieldLabel:k.getFieldLabel(),labelCls:l?j+" "+l:j,labelStyle:i+(k.labelStyle||""),subTplMarkup:k.getSubTplMarkup()},k,"hideLabel,hideEmptyLabel,fieldBodyCls,baseBodyCls,errorMsgCls,clearCls,labelSeparator",true)},onLabelableRender:function(){this.addChildEls("labelEl","bodyEl","errorEl")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(b){this.activeError=b;this.activeErrors=[b];this.renderActiveError()},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(b){this.activeErrors=b;this.activeError=this.getTpl("activeErrorsTpl").apply({errors:b});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var g=this,d=g.getActiveError(),e=!!d;if(d!==g.lastActiveError){g.fireEvent("errorchange",g,d);g.lastActiveError=d}if(g.rendered&&!g.isDestroyed&&!g.preventMark){g.el[e?"addCls":"removeCls"](g.invalidCls);g.getActionEl().dom.setAttribute("aria-invalid",e);g.errorEl.dom.innerHTML=d}},setFieldDefaults:function(c){var d=this;Ext.iterate(c,function(b,a){if(!d.hasOwnProperty(b)){d[b]=a}})},getBodyNaturalWidth:function(){return this.bodyEl.getWidth()}});Ext.define("Ext.form.field.Field",{isFormField:true,disabled:false,submitValue:true,validateOnChange:true,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange");this.initValue()},initValue:function(){var b=this;b.originalValue=b.lastValue=b.value;b.suspendCheckChange++;b.setValue(b.value);b.suspendCheckChange--},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(c){var d=this;d.value=c;d.checkChange();return d},isEqual:function(c,d){return String(c)===String(d)},isEqualAsString:function(c,d){return String(Ext.value(c,""))===String(Ext.value(d,""))},getSubmitData:function(){var d=this,c=null;if(!d.disabled&&d.submitValue&&!d.isFileUpload()){c={};c[d.getName()]=""+d.getValue()}return c},getModelData:function(){var d=this,c=null;if(!d.disabled&&!d.isFileUpload()){c={};c[d.getName()]=d.getValue()}return c},reset:function(){var b=this;b.setValue(b.originalValue);b.clearInvalid();delete b.wasValid},resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var g=this,d=g.getValue(),e=g.lastValue;if(!g.isEqual(d,e)&&!g.isDestroyed){g.lastValue=d;g.fireEvent("change",g,d,e);g.onChange(d,e)}}},onChange:function(c,d){if(this.validateOnChange){this.validate()}this.checkDirty()},isDirty:function(){var b=this;return !b.disabled&&!b.isEqual(b.getValue(),b.originalValue)},checkDirty:function(){var d=this,c=d.isDirty();if(c!==d.wasDirty){d.fireEvent("dirtychange",d,c);d.onDirtyChange(c);d.wasDirty=c}},onDirtyChange:Ext.emptyFn,getErrors:function(b){return[]},isValid:function(){var b=this;return b.disabled||Ext.isEmpty(b.getErrors())},validate:function(){var d=this,c=d.isValid();if(c!==d.wasValid){d.wasValid=c;d.fireEvent("validitychange",d,c)}return c},batchChanges:function(d){try{this.suspendCheckChange++;d()}catch(c){throw c}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.layout.component.field.Field",{alias:["layout.field"],extend:"Ext.layout.component.Component",uses:["Ext.tip.QuickTip","Ext.util.TextMetrics"],type:"field",beforeLayout:function(d,e){var g=this;return g.callParent(arguments)||(!g.owner.preventMark&&g.activeError!==g.owner.getActiveError())},onLayout:function(B,q){var w=this,A=w.owner,x=w.getLabelStrategy(),r=w.getErrorStrategy(),t=Ext.isDefined,p=Ext.isNumber,u,v,s,z,y;u=w.lastComponentSize||{};if(!t(B)){B=u.width;if(B<0){B=y
}}if(!t(q)){q=u.height;if(q<0){q=y}}v=!p(B);s=!p(q);z={autoWidth:v,autoHeight:s,width:v?A.getBodyNaturalWidth():B,height:q,setOuterWidth:false,insets:{top:0,right:0,bottom:0,left:0}};x.prepare(A,z);r.prepare(A,z);x.adjustHorizInsets(A,z);r.adjustHorizInsets(A,z);x.layoutHoriz(A,z);r.layoutHoriz(A,z);x.adjustVertInsets(A,z);r.adjustVertInsets(A,z);x.layoutVert(A,z);r.layoutVert(A,z);if(v&&s){w.setElementSize(A.el,(z.setOuterWidth?z.width:y),z.height)}else{w.setTargetSize((!v||z.setOuterWidth?z.width:y),z.height)}w.sizeBody(z);w.activeError=A.getActiveError()},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},sizeBody:function(l){var m=this,r=m.owner,q=l.insets,j=l.width,p=l.height,n=Ext.isNumber(j)?j-q.left-q.right:j,k=Ext.isNumber(p)?p-q.top-q.bottom:p;m.setElementSize(r.bodyEl,n,k);m.sizeBodyContents(n,k)},sizeBodyContents:Ext.emptyFn,getLabelStrategy:function(){var d=this,g=d.labelStrategies,e=d.owner.labelAlign;return g[e]||g.base},getErrorStrategy:function(){var i=this,g=i.owner,h=i.errorStrategies,e=g.msgTarget;return !g.preventMark&&Ext.isString(e)?(h[e]||h.elementId):h.none},labelStrategies:(function(){var e=Ext.applyIf,g=Ext.emptyFn,i={prepare:function(d,a){var c=d.labelCls+"-"+d.labelAlign,b=d.labelEl;if(b&&!b.hasCls(c)){b.addCls(c)}},adjustHorizInsets:g,adjustVertInsets:g,layoutHoriz:g,layoutVert:g},h=e({prepare:function(b,a){i.prepare(b,a);if(a.autoWidth){a.width+=(!b.labelEl?0:b.labelWidth+b.labelPad)}a.setOuterWidth=true},adjustHorizInsets:function(b,a){if(b.labelEl){a.insets.left+=b.labelWidth+b.labelPad}},layoutHoriz:function(c,a){var b=c.labelEl;if(b&&!c.isLabelSized&&!Ext.isBorderBox){b.setWidth(c.labelWidth);c.isLabelSized=true}}},i);return{base:i,top:e({adjustVertInsets:function(c,a){var b=c.labelEl;if(b){a.insets.top+=Ext.util.TextMetrics.measure(b,c.fieldLabel,a.width).height+b.getFrameWidth("tb")+c.labelPad}}},i),left:h,right:h}})(),errorStrategies:(function(){function l(b,c){var a=b.getStyle("display")!=="none";if(c!==a){b.setDisplayed(c)}}function j(b,c,a){if(b.getStyle(c)!==a){b.setStyle(c,a)}}function m(c){var b=Ext.layout.component.field.Field.tip,a;if(b&&b.isVisible()){a=b.activeTarget;if(a&&a.el===c.getActionEl().dom){b.toFront(true)}}}var h=Ext.applyIf,i=Ext.emptyFn,k={prepare:function(a){l(a.errorEl,false)},adjustHorizInsets:i,adjustVertInsets:i,layoutHoriz:i,layoutVert:i,onFocus:i};return{none:k,side:h({prepare:function(b){var a=b.errorEl;a.addCls(Ext.baseCSSPrefix+"form-invalid-icon");Ext.layout.component.field.Field.initTip();a.dom.setAttribute("data-errorqtip",b.getActiveError()||"");l(a,b.hasActiveError())},adjustHorizInsets:function(b,a){if(b.autoFitErrors&&b.hasActiveError()){a.insets.right+=b.errorEl.getWidth()}},layoutHoriz:function(b,a){if(b.hasActiveError()){j(b.errorEl,"left",a.width-a.insets.right+"px")}},layoutVert:function(b,a){if(b.hasActiveError()){j(b.errorEl,"top",a.insets.top+"px")}},onFocus:m},k),under:h({prepare:function(c){var a=c.errorEl,b=Ext.baseCSSPrefix+"form-invalid-under";if(!a.hasCls(b)){a.addCls(b)}l(a,c.hasActiveError())},adjustVertInsets:function(b,a){if(b.autoFitErrors){a.insets.bottom+=b.errorEl.getHeight()}},layoutHoriz:function(d,b){var a=d.errorEl,c=b.insets;j(a,"width",b.width-c.right-c.left+"px");j(a,"marginLeft",c.left+"px")}},k),qtip:h({prepare:function(a){l(a.errorEl,false);Ext.layout.component.field.Field.initTip();a.getActionEl().dom.setAttribute("data-errorqtip",a.getActiveError()||"")},onFocus:m},k),title:h({prepare:function(a){l(a.errorEl,false);a.el.dom.title=a.getActiveError()||""}},k),elementId:h({prepare:function(b){l(b.errorEl,false);var a=Ext.fly(b.msgTarget);if(a){a.dom.innerHTML=b.getActiveError()||"";a.setDisplayed(b.hasActiveError())}}},k)}})(),statics:{initTip:function(){var b=this.tip;if(!b){b=this.tip=Ext.create("Ext.tip.QuickTip",{baseCls:Ext.baseCSSPrefix+"form-invalid-tip",renderTo:Ext.getBody()});b.tagConfig=Ext.apply({},{attribute:"errorqtip"},b.tagConfig)}},destroyTip:function(){var b=this.tip;if(b){b.destroy();delete this.tip}}}});Ext.define("Ext.form.field.VTypes",(function(){var i=/^[a-zA-Z_]+$/,h=/^[a-zA-Z0-9_]+$/,e=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,g=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;
return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(a){return e.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(a){return g.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(a){return i.test(a)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return h.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}})());Ext.define("Ext.layout.component.field.Text",{extend:"Ext.layout.component.field.Field",alias:"layout.textfield",requires:["Ext.util.TextMetrics"],type:"textfield",beforeLayout:function(l,h){var k=this,i=k.owner,m=this.lastValue,j=i.getRawValue();this.lastValue=j;return k.callParent(arguments)||(i.grow&&j!==m)},sizeBodyContents:function(g,e){var d=this.adjustForGrow(g,e);this.setElementSize(this.owner.inputEl,d[0],d[1])},adjustForGrow:function(p,r){var n=this,j=n.owner,l,m,q,k=[p,r];if(j.grow){l=j.inputEl;m=(l.dom.value||(j.hasFocus?"":j.emptyText)||"")+j.growAppend;q=l.getTextWidth(m)+l.getBorderWidth("lr")+l.getPadding("lr");k[0]=Ext.Number.constrain(q,j.growMin,Math.max(j.growMin,Math.min(j.growMax,Ext.isNumber(p)?p:Infinity)))}return k}});Ext.define("Ext.layout.component.field.TextArea",{extend:"Ext.layout.component.field.Text",alias:"layout.textareafield",type:"textareafield",adjustForGrow:function(x,n){var t=this,w=t.owner,q,r,s,u,v,p,m=[x,n];if(w.grow){q=w.inputEl;u=q.getWidth(true);v=q.getHeight();r=q.dom.value||"&#160;";r+=w.growAppend;r=r.replace(/\n/g,"<br>");p=Ext.util.TextMetrics.measure(q,r,u).height+q.getBorderWidth("tb")+q.getPadding("tb");s=w.growMax;if(Ext.isNumber(n)){s=Math.min(s,n)}m[1]=Ext.Number.constrain(p,w.growMin,s)}return m}});Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,onLayout:function(){this.callParent(arguments);var x=this,D=x.getLayoutTargetSize(),N=x.owner,i=x.getTarget(),w=D.width,F=D.height,C=i.getStyle("overflow"),E=x.getVisibleItems(N),z=E.length,J=[],H,B,G,I,L,K,A,M,y;if(w<20&&F<20){return}if(!x.clearEl){x.clearEl=i.createChild({cls:Ext.baseCSSPrefix+"clear",role:"presentation"})}if(!Ext.supports.RightMargin){y=Ext.Element.getRightMarginFixCleaner(i);i.addCls(Ext.baseCSSPrefix+"inline-children")}for(A=0;A<z;A++){G=E[A];M=G.el;I=G.anchorSpec;if(I){if(I.right){L=x.adjustWidthAnchor(I.right(w)-M.getMargin("lr"),G)}else{L=undefined}if(I.bottom){K=x.adjustHeightAnchor(I.bottom(F)-M.getMargin("tb"),G)}else{K=undefined}J.push({component:G,anchor:true,width:L||undefined,height:K||undefined})}else{J.push({component:G,anchor:false})}}if(!Ext.supports.RightMargin){i.removeCls(Ext.baseCSSPrefix+"inline-children");y()}for(A=0;A<z;A++){H=J[A];x.setItemSize(H.component,H.width,H.height)}if(C&&C!="hidden"&&!x.adjustmentPass){B=x.getLayoutTargetSize();if(B.width!=D.width||B.height!=D.height){x.adjustmentPass=true;x.onLayout()}}delete x.adjustmentPass},parseAnchor:function(k,h,a){if(k&&k!="none"){var j;if(this.parseAnchorRE.test(k)){var i=a-h;return function(b){return b-i}}else{if(k.indexOf("%")!=-1){j=parseFloat(k.replace("%",""))*0.01;return function(b){return Math.floor(b*j)}}else{k=parseInt(k,10);if(!isNaN(k)){return function(b){return b+k}}}}}return null},adjustWidthAnchor:function(c,d){return c},adjustHeightAnchor:function(c,d){return c},configureItem:function(n){var p=this,k=p.owner,q=n.anchor,j,l,r,m;if(!n.anchor&&n.items&&!Ext.isNumber(n.width)&&!(Ext.isIE6&&Ext.isStrict)){n.anchor=q=p.defaultAnchor}if(k.anchorSize){if(typeof k.anchorSize=="number"){r=k.anchorSize}else{r=k.anchorSize.width;m=k.anchorSize.height}}else{r=k.initialConfig.width;m=k.initialConfig.height}if(q){j=q.split(" ");n.anchorSpec=l={right:p.parseAnchor(j[0],n.initialConfig.width,r),bottom:p.parseAnchor(j[1],n.initialConfig.height,m)};if(l.right){n.layoutManagedWidth=1}else{n.layoutManagedWidth=2
}if(l.bottom){n.layoutManagedHeight=1}else{n.layoutManagedHeight=2}}else{n.layoutManagedWidth=2;n.layoutManagedHeight=2}this.callParent(arguments)}});Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(d){var e=this.processResponse(d),g=this.form;if(e===true||!e.success||!e.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;g.afterAction(this,false);return}g.clearInvalid();g.setValues(e.data);g.afterAction(this,true)},handleResponse:function(i){var g=this.form.reader,e,h;if(g){e=g.read(i);h=e.records&&e.records[0]?e.records[0].data:null;return{success:e.success,data:h}}return Ext.decode(i.responseText)}});Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"visibility",floating:true,ariaRole:"alertdialog",itemCls:"x-window-item",overlapHeader:true,ignoreHeaderBorderManagement:true,initComponent:function(){var b=this;b.callParent();b.addEvents("resize","maximize","minimize","restore");if(b.plain){b.addClsWithUI("plain")}if(b.modal){b.ariaRole="dialog"}},initStateEvents:function(){var b=this.stateEvents;Ext.each(["maximize","restore","resize","dragend"],function(a){if(Ext.Array.indexOf(b,a)){b.push(a)}});this.callParent()},getState:function(){var d=this,g=d.callParent()||{},e=!!d.maximized;g.maximized=e;Ext.apply(g,{size:e?d.restoreSize:d.getSize(),pos:e?d.restorePos:d.getPosition()});return g},applyState:function(c){var d=this;if(c){d.maximized=c.maximized;if(d.maximized){d.hasSavedRestore=true;d.restoreSize=c.size;d.restorePos=c.pos}else{Ext.apply(d,{width:c.size.width,height:c.size.height,x:c.pos[0],y:c.pos[1]})}}},onMouseDown:function(c){var d;if(this.floating){if(Ext.fly(c.getTarget()).focusable()){d=true}this.toFront(d)}},onRender:function(d,e){var g=this;g.callParent(arguments);g.focusEl=g.el;if(g.maximizable){g.header.on({dblclick:{fn:g.toggleMaximize,element:"el",scope:g}})}},afterRender:function(){var e=this,d=e.hidden,g;e.hidden=false;e.callParent();e.hidden=d;e.proxy=e.getProxy();e.mon(e.el,"mousedown",e.onMouseDown,e);e.el.set({tabIndex:-1});if(e.maximized){e.maximized=false;e.maximize()}if(e.closable){g=e.getKeyMap();g.on(27,e.onEsc,e);g.disable()}if(!d){e.syncMonitorWindowResize();e.doConstrain()}},initDraggable:function(){var c=this,d;if(!c.header){c.updateHeader(true)}if(c.header){d=Ext.applyIf({el:c.el,delegate:"#"+c.header.id},c.draggable);if(c.constrain||c.constrainHeader){d.constrain=c.constrain;d.constrainDelegate=c.constrainHeader;d.constrainTo=c.constrainTo||c.container}c.dd=Ext.create("Ext.util.ComponentDragger",this,d);c.relayEvents(c.dd,["dragstart","drag","dragend"])}},onEsc:function(d,c){c.stopEvent();this[this.closeAction]()},beforeDestroy:function(){var b=this;if(b.rendered){delete this.animateTarget;b.hide();Ext.destroy(b.keyMap)}b.callParent()},addTools:function(){var b=this;b.callParent();if(b.minimizable){b.addTool({type:"minimize",handler:Ext.Function.bind(b.minimize,b,[])})}if(b.maximizable){b.addTool({type:"maximize",handler:Ext.Function.bind(b.maximize,b,[])});b.addTool({type:"restore",handler:Ext.Function.bind(b.restore,b,[]),hidden:true})}},getFocusEl:function(){var l=this,j=l.focusEl,k=l.defaultButton||l.defaultFocus,h=typeof db,m,i;if(Ext.isDefined(k)){if(Ext.isNumber(k)){j=l.query("button")[k]}else{if(Ext.isString(k)){j=l.down("#"+k)}else{j=k}}}return j||l.focusEl},beforeShow:function(){this.callParent();if(this.expandOnShow){this.expand(false)}},afterShow:function(g){var d=this,e=g||d.animateTarget;
d.callParent(arguments);if(d.maximized){d.fitContainer()}d.syncMonitorWindowResize();if(!e){d.doConstrain()}if(d.keyMap){d.keyMap.enable()}},doClose:function(){var b=this;if(b.hidden){b.fireEvent("close",b);if(b.closeAction=="destroy"){this.destroy()}}else{b.hide(b.animateTarget,b.doClose,b)}},afterHide:function(){var b=this;b.syncMonitorWindowResize();if(b.keyMap){b.keyMap.disable()}b.callParent(arguments)},onWindowResize:function(){if(this.maximized){this.fitContainer()}this.doConstrain()},minimize:function(){this.fireEvent("minimize",this);return this},afterCollapse:function(){var b=this;if(b.maximizable){b.tools.maximize.hide();b.tools.restore.hide()}if(b.resizer){b.resizer.disable()}b.callParent(arguments)},afterExpand:function(){var b=this;if(b.maximized){b.tools.restore.show()}else{if(b.maximizable){b.tools.maximize.show()}}if(b.resizer){b.resizer.enable()}b.callParent(arguments)},maximize:function(){var b=this;if(!b.maximized){b.expand(false);if(!b.hasSavedRestore){b.restoreSize=b.getSize();b.restorePos=b.getPosition(true)}if(b.maximizable){b.tools.maximize.hide();b.tools.restore.show()}b.maximized=true;b.el.disableShadow();if(b.dd){b.dd.disable()}if(b.collapseTool){b.collapseTool.hide()}b.el.addCls(Ext.baseCSSPrefix+"window-maximized");b.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");b.syncMonitorWindowResize();b.setPosition(0,0);b.fitContainer();b.fireEvent("maximize",b)}return b},restore:function(){var d=this,c=d.tools;if(d.maximized){delete d.hasSavedRestore;d.removeCls(Ext.baseCSSPrefix+"window-maximized");if(c.restore){c.restore.hide()}if(c.maximize){c.maximize.show()}if(d.collapseTool){d.collapseTool.show()}d.setPosition(d.restorePos);d.setSize(d.restoreSize);delete d.restorePos;delete d.restoreSize;d.maximized=false;d.el.enableShadow(true);if(d.dd){d.dd.enable()}d.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");d.syncMonitorWindowResize();d.doConstrain();d.fireEvent("restore",d)}return d},syncMonitorWindowResize:function(){var e=this,i=e._monitoringResize,h=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,g=e.hidden||e.destroying||e.isDestroyed;if(h&&!g){if(!i){Ext.EventManager.onWindowResize(e.onWindowResize,e);e._monitoringResize=true}}else{if(i){Ext.EventManager.removeResizeListener(e.onWindowResize,e);e._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}});Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate","Ext.layout.component.field.Field"],fieldSubTpl:['<input id="{id}" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" autocomplete="off" />',{compiled:true,disableFormats:true}],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:Ext.baseCSSPrefix+"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:false,initComponent:function(){var b=this;b.callParent();b.subTplData=b.subTplData||{};b.addEvents("focus","blur","specialkey");b.initLabelable();b.initField();if(!b.name){b.name=b.getInputId()}},getInputId:function(){return this.inputId||(this.inputId=Ext.id())},getSubTplData:function(){var g=this,d=g.inputType,e=g.getInputId();return Ext.applyIf(g.subTplData,{id:e,cmpId:g.id,name:g.name||e,type:d,size:g.size||20,cls:g.cls,fieldCls:g.fieldCls,tabIdx:g.tabIndex,typeCls:Ext.baseCSSPrefix+"form-"+(d==="password"?"text":d)})},afterRender:function(){this.callParent();if(this.inputEl){this.inputEl.selectable()
}},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var b=this;if(!b.hasOwnProperty("renderTpl")){b.renderTpl=b.getTpl("labelableRenderTpl")}return b.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var d=this,g=d.inputEl;if(g){g.applyStyles(e)}d.fieldStyle=e},onRender:function(){var c=this,d=c.fieldStyle;c.onLabelableRender();c.addChildEls({name:"inputEl",id:c.getInputId()});c.callParent(arguments);c.setRawValue(c.rawValue);if(c.readOnly){c.setReadOnly(true)}if(c.disabled){c.disable()}if(d){c.setFieldStyle(d)}c.renderActiveError()},initAria:function(){var b=this;b.callParent();b.getActionEl().dom.setAttribute("aria-describedby",Ext.id(b.errorEl))},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},extractFileInput:function(){var d=this,e=d.isFileUpload()?d.inputEl.dom:null,g;if(e){g=e.cloneNode(true);e.parentNode.replaceChild(g,e);d.inputEl=Ext.get(g)}return e},getSubmitData:function(){var e=this,d=null,g;if(!e.disabled&&e.submitValue&&!e.isFileUpload()){g=e.getSubmitValue();if(g!==null){d={};d[e.getName()]=g}}return d},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var c=this,d=(c.inputEl?c.inputEl.getValue():Ext.value(c.rawValue,""));c.rawValue=d;return d},setRawValue:function(c){var d=this;c=Ext.value(c,"");d.rawValue=c;if(d.inputEl){d.inputEl.dom.value=c}return c},valueToRaw:function(b){return""+Ext.value(b,"")},rawToValue:function(b){return b},processRawValue:function(b){return b},getValue:function(){var d=this,c=d.rawToValue(d.processRawValue(d.getRawValue()));d.value=c;return c},setValue:function(c){var d=this;d.setRawValue(d.valueToRaw(c));return d.mixins.field.setValue.call(d,c)},onDisable:function(){var d=this,c=d.inputEl;d.callParent();if(c){c.dom.disabled=true}},onEnable:function(){var d=this,c=d.inputEl;d.callParent();if(c){c.dom.disabled=false}},setReadOnly:function(g){var e=this,d=e.inputEl;if(d){d.dom.readOnly=g;d.dom.setAttribute("aria-readonly",g)}e[g?"addCls":"removeCls"](e.readOnlyCls);e.readOnly=g},fireKey:function(b){if(b.isSpecialKey()){this.fireEvent("specialkey",this,Ext.create("Ext.EventObjectImpl",b))}},initEvents:function(){var e=this,i=e.inputEl,g,h;if(i){e.mon(i,Ext.EventManager.getKeyEvent(),e.fireKey,e);e.mon(i,"focus",e.onFocus,e);e.mon(i,"blur",e.onBlur,e,e.inEditor?{buffer:10}:null);g=Ext.create("Ext.util.DelayedTask",e.checkChange,e);e.onChangeEvent=h=function(){g.delay(e.checkChangeBuffer)};Ext.each(e.checkChangeEvents,function(a){if(a==="propertychange"){e.usesPropertychange=true}e.mon(i,a,h)},e)}e.callParent()},doComponentLayout:function(){var k=this,j=k.inputEl,h=k.usesPropertychange,g="propertychange",i=k.onChangeEvent;if(h){k.mun(j,g,i)}k.callParent(arguments);if(h){k.mon(j,g,i)}},preFocus:Ext.emptyFn,onFocus:function(){var d=this,e=d.focusCls,g=d.inputEl;d.preFocus();if(e&&g){g.addCls(e)}if(!d.hasFocus){d.hasFocus=true;d.componentLayout.onFocus();d.fireEvent("focus",d)}},beforeBlur:Ext.emptyFn,onBlur:function(){var d=this,e=d.focusCls,g=d.inputEl;if(d.destroying){return}d.beforeBlur();if(e&&g){g.removeCls(e)}if(d.validateOnBlur){d.validate()}d.hasFocus=false;d.fireEvent("blur",d);d.postBlur()},postBlur:Ext.emptyFn,onDirtyChange:function(b){this[b?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var b=this;return b.disabled||b.validateValue(b.processRawValue(b.getRawValue()))},validateValue:function(e){var g=this,h=g.getErrors(e),i=Ext.isEmpty(h);if(!g.preventMark){if(i){g.clearInvalid()}else{g.markInvalid(h)}}return i},markInvalid:function(g){var d=this,e=d.getActiveError();d.setActiveErrors(Ext.Array.from(g));if(e!==d.getActiveError()){d.doComponentLayout()}},clearInvalid:function(){var c=this,d=c.hasActiveError();c.unsetActiveError();if(d){c.doComponentLayout()}},renderActiveError:function(){var c=this,d=c.hasActiveError();if(c.inputEl){c.inputEl[d?"addCls":"removeCls"](c.invalidCls+"-field")}c.mixins.labelable.renderActiveError.call(c)
},getActionEl:function(){return this.inputEl||this.el}});Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.layout.component.field.Text"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",ariaRole:"textbox",componentLayout:"textfield",initComponent:function(){this.callParent();this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){var c=this,d=c.inputEl;c.callParent();if(c.selectOnFocus||c.emptyText){c.mon(d,"mousedown",c.onMouseDown,c)}if(c.maskRe||(c.vtype&&c.disableKeyFilter!==true&&(c.maskRe=Ext.form.field.VTypes[c.vtype+"Mask"]))){c.mon(d,"keypress",c.filterKeys,c)}if(c.enableKeyEvents){c.mon(d,{scope:c,keyup:c.onKeyUp,keydown:c.onKeyDown,keypress:c.onKeyPress})}},isEqual:function(c,d){return this.isEqualAsString(c,d)},onChange:function(){this.callParent();this.autoSize()},afterRender:function(){var b=this;if(b.enforceMaxLength){b.inputEl.dom.maxLength=b.maxLength}b.applyEmptyText();b.autoSize();b.callParent()},onMouseDown:function(c){var d=this;if(!d.hasFocus){d.mon(d.inputEl,"mouseup",Ext.emptyFn,d,{single:true,preventDefault:true})}},processRawValue:function(e){var g=this,h=g.stripCharsRe,i;if(h){i=e.replace(h,"");if(i!==e){g.setRawValue(i);e=i}}return e},onDisable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(b){this.fireEvent("keydown",this,b)},onKeyUp:function(b){this.fireEvent("keyup",this,b)},onKeyPress:function(b){this.fireEvent("keypress",this,b)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var d=this,e=d.emptyText,g;if(d.rendered&&e){g=d.getRawValue().length<1&&!d.hasFocus;if(Ext.supports.Placeholder){d.inputEl.dom.placeholder=e}else{if(g){d.setRawValue(e)}}if(g){d.inputEl.addCls(d.emptyCls)}d.autoSize()}},preFocus:function(){var e=this,i=e.inputEl,g=e.emptyText,h;if(g&&!Ext.supports.Placeholder&&i.dom.value===g){e.setRawValue("");h=true;i.removeCls(e.emptyCls)}else{if(Ext.supports.Placeholder){e.inputEl.removeCls(e.emptyCls)}}if(e.selectOnFocus||h){i.dom.select()}},onFocus:function(){var b=this;b.callParent(arguments);if(b.emptyText){b.autoSize()}},postBlur:function(){this.applyEmptyText()},filterKeys:function(g){if(g.ctrlKey&&!g.altKey){return}var d=g.getKey(),e=String.fromCharCode(g.getCharCode());if(Ext.isGecko&&(g.isNavKeyPress()||d===g.BACKSPACE||(d===g.DELETE&&g.button===-1))){return}if(!Ext.isGecko&&g.isSpecialKey()&&!e){return}if(!this.maskRe.test(e)){g.stopEvent()}},getRawValue:function(){var c=this,d=c.callParent();if(d===c.emptyText){d=""}return d},setValue:function(d){var e=this,g=e.inputEl;if(g&&e.emptyText&&!Ext.isEmpty(d)){g.removeCls(e.emptyCls)}e.callParent(arguments);e.applyEmptyText();return e},getErrors:function(m){var s=this,n=s.callParent(arguments),x=s.validator,u=s.emptyText,v=s.allowBlank,t=s.vtype,r=Ext.form.field.VTypes,q=s.regex,p=Ext.String.format,w;m=m||s.processRawValue(s.getRawValue());if(Ext.isFunction(x)){w=x.call(s,m);if(w!==true){n.push(w)}}if(m.length<1||m===u){if(!v){n.push(s.blankText)}return n}if(m.length<s.minLength){n.push(p(s.minLengthText,s.minLength))}if(m.length>s.maxLength){n.push(p(s.maxLengthText,s.maxLength))}if(t){if(!r[t](m,s)){n.push(s.vtypeText||r[t+"Text"])}}if(q&&!q.test(m)){n.push(s.regexText||s.invalidText)}return n},selectText:function(l,k){var m=this,r=m.getRawValue(),q=true,n=m.inputEl.dom,p,j;if(r.length>0){l=l===p?0:l;k=k===p?r.length:k;if(n.setSelectionRange){n.setSelectionRange(l,k)}else{if(n.createTextRange){j=n.createTextRange();j.moveStart("character",l);j.moveEnd("character",k-r.length);j.select()}}q=Ext.isGecko||Ext.isOpera}if(q){m.focus()}},autoSize:function(){var c=this,d;
if(c.grow&&c.rendered){c.doComponentLayout();d=c.inputEl.getWidth();if(d!==c.lastInputWidth){c.fireEvent("autosize",d);c.lastInputWidth=d}}},initAria:function(){this.callParent();this.getActionEl().dom.setAttribute("aria-required",this.allowBlank===false)},getBodyNaturalWidth:function(){return Math.round(this.size*6.5)+20}});Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.layout.component.field.TextArea"],fieldSubTpl:['<textarea id="{id}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="rows">rows="{rows}" </tpl>','<tpl if="cols">cols="{cols}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" ','autocomplete="off">',"</textarea>",{compiled:true,disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:false,preventScrollbars:false,componentLayout:"textareafield",onRender:function(d,e){var g=this;Ext.applyIf(g.subTplData,{cols:g.cols,rows:g.rows});g.callParent(arguments)},afterRender:function(){var b=this;b.callParent(arguments);if(b.grow){if(b.preventScrollbars){b.inputEl.setStyle("overflow","hidden")}b.inputEl.setHeight(b.growMin)}},fireKey:function(b){if(b.isSpecialKey()&&(this.enterIsSpecial||(b.getKey()!==b.ENTER||b.hasModifier()))){this.fireEvent("specialkey",this,b)}},autoSize:function(){var c=this,d;if(c.grow&&c.rendered){c.doComponentLayout();d=c.inputEl.getHeight();if(d!==c.lastInputHeight){c.fireEvent("autosize",d);c.lastInputHeight=d}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute("aria-multiline",true)},getBodyNaturalWidth:function(){return Math.round(this.cols*6.5)+20}});Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",hideMode:"offsets",closeAction:"hide",resizable:false,title:"&#160;",width:600,height:500,minWidth:250,maxWidth:600,minHeight:110,maxHeight:500,constrain:true,cls:Ext.baseCSSPrefix+"message-box",layout:{type:"anchor"},defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,makeButton:function(d){var c=this.buttonIds[d];return Ext.create("Ext.button.Button",{handler:this.btnCallback,itemId:c,scope:this,text:this.buttonText[c],minWidth:75})},btnCallback:function(g){var e=this,i,h;if(e.cfg.prompt||e.cfg.multiline){if(e.cfg.multiline){h=e.textArea}else{h=e.textField}i=h.getValue();h.reset()}g.blur();e.hide();e.userCallback(g.itemId,i,e.cfg)},hide:function(){var b=this;b.dd.endDrag();b.progressBar.reset();b.removeCls(b.cfg.cls);b.callParent()},initComponent:function(){var g=this,d,e;g.title="&#160;";g.topContainer=Ext.create("Ext.container.Container",{anchor:"100%",style:{padding:"10px",overflow:"hidden"},items:[g.iconComponent=Ext.create("Ext.Component",{cls:"ext-mb-icon",width:50,height:g.iconHeight,style:{"float":"left"}}),g.promptContainer=Ext.create("Ext.container.Container",{layout:{type:"anchor"},items:[g.msg=Ext.create("Ext.Component",{autoEl:{tag:"span"},cls:"ext-mb-text"}),g.textField=Ext.create("Ext.form.field.Text",{anchor:"100%",enableKeyEvents:true,listeners:{keydown:g.onPromptKey,scope:g}}),g.textArea=Ext.create("Ext.form.field.TextArea",{anchor:"100%",height:75})]})]});g.progressBar=Ext.create("Ext.ProgressBar",{anchor:"-10",style:"margin-left:10px"});g.items=[g.topContainer,g.progressBar];g.msgButtons=[];for(d=0;d<4;d++){e=g.makeButton(d);g.msgButtons[e.itemId]=e;g.msgButtons.push(e)}g.bottomTb=Ext.create("Ext.toolbar.Toolbar",{ui:"footer",dock:"bottom",layout:{pack:"center"},items:[g.msgButtons[0],g.msgButtons[1],g.msgButtons[2],g.msgButtons[3]]});
g.dockedItems=[g.bottomTb];g.callParent()},onPromptKey:function(g,i){var e=this,h;if(i.keyCode===Ext.EventObject.RETURN||i.keyCode===10){if(e.msgButtons.ok.isVisible()){h=true;e.msgButtons.ok.handler.call(e,e.msgButtons.ok)}else{if(e.msgButtons.yes.isVisible()){e.msgButtons.yes.handler.call(e,e.msgButtons.yes);h=true}}if(h){e.textField.blur()}}},reconfigure:function(i){var l=this,m=i.buttons||0,j=true,k=l.maxWidth,h;i=i||{};l.cfg=i;if(i.width){k=i.width}delete l.defaultFocus;l.animateTarget=i.animateTarget||undefined;l.modal=i.modal!==false;if(i.title){l.setTitle(i.title||"&#160;")}if(!l.rendered){l.width=k;l.render(Ext.getBody())}else{l.setSize(k,l.maxHeight)}l.setPosition(-10000,-10000);l.closable=i.closable&&!i.wait;l.header.child("[type=close]").setVisible(i.closable!==false);if(!i.title&&!l.closable){l.header.hide()}else{l.header.show()}l.liveDrag=!i.proxyDrag;l.userCallback=Ext.Function.bind(i.callback||i.fn||Ext.emptyFn,i.scope||Ext.global);l.setIcon(i.icon);if(i.msg){l.msg.update(i.msg);l.msg.show()}else{l.msg.hide()}if(i.prompt||i.multiline){l.multiline=i.multiline;if(i.multiline){l.textArea.setValue(i.value);l.textArea.setHeight(i.defaultTextHeight||l.defaultTextHeight);l.textArea.show();l.textField.hide();l.defaultFocus=l.textArea}else{l.textField.setValue(i.value);l.textArea.hide();l.textField.show();l.defaultFocus=l.textField}}else{l.textArea.hide();l.textField.hide()}if(i.progress||i.wait){l.progressBar.show();l.updateProgress(0,i.progressText);if(i.wait===true){l.progressBar.wait(i.waitConfig)}}else{l.progressBar.hide()}for(h=0;h<4;h++){if(m&Math.pow(2,h)){if(!l.defaultFocus){l.defaultFocus=l.msgButtons[h]}l.msgButtons[h].show();j=false}else{l.msgButtons[h].hide()}}if(j){l.bottomTb.hide()}else{l.bottomTb.show()}},show:function(d){var c=this;c.reconfigure(d);c.addCls(d.cls);if(d.animateTarget){c.doAutoSize(true);c.callParent()}else{c.callParent();c.doAutoSize(true)}return c},afterShow:function(){if(this.animateTarget){this.center()}this.callParent(arguments)},doAutoSize:function(h){var k=this,l=k.iconComponent,j=k.iconHeight;if(!Ext.isDefined(k.frameWidth)){k.frameWidth=k.el.getWidth()-k.body.getWidth()}l.setHeight(j);k.minWidth=k.cfg.minWidth||Ext.getClass(this).prototype.minWidth;k.topContainer.doLayout();if(Ext.isIE6||Ext.isIEQuirks){k.textField.setCalculatedSize(9);k.textArea.setCalculatedSize(9)}var m=k.cfg.width||k.msg.getWidth()+l.getWidth()+25,i=(k.header.rendered?k.header.getHeight():0)+Math.max(k.promptContainer.getHeight(),l.getHeight())+k.progressBar.getHeight()+(k.bottomTb.rendered?k.bottomTb.getHeight():0)+20;l.setHeight(Math.max(j,k.msg.getHeight()));k.setSize(m+k.frameWidth,i+k.frameWidth);if(h){k.center()}return k},updateText:function(b){this.msg.update(b);return this.doAutoSize(true)},setIcon:function(d){var c=this;c.iconComponent.removeCls(c.iconCls);if(d){c.iconComponent.show();c.iconComponent.addCls(Ext.baseCSSPrefix+"dlg-icon");c.iconComponent.addCls(c.iconCls=d)}else{c.iconComponent.removeCls(Ext.baseCSSPrefix+"dlg-icon");c.iconComponent.hide()}return c},updateProgress:function(d,e,g){this.progressBar.updateProgress(d,e);if(g){this.updateText(g)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(g,h,i,e){if(Ext.isString(g)){g={title:g,icon:"ext-mb-question",msg:h,buttons:this.YESNO,callback:i,scope:e}}return this.show(g)},prompt:function(h,j,l,m,i,k){if(Ext.isString(h)){h={prompt:true,title:h,minWidth:this.minPromptWidth,msg:j,buttons:this.OKCANCEL,callback:l,scope:m,multiline:i,value:k}}return this.show(h)},wait:function(e,g,d){if(Ext.isString(e)){e={title:g,msg:e,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:d}}return this.show(e)},alert:function(g,h,i,e){if(Ext.isString(g)){g={title:g,msg:h,buttons:this.OK,fn:i,scope:e,minWidth:this.minWidth}}return this.show(g)},progress:function(e,g,d){if(Ext.isString(e)){e={title:e,msg:g,progress:true,progressText:d}}return this.show(e)}},function(){Ext.MessageBox=Ext.Msg=new this()});Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.window.MessageBox","Ext.data.Errors","Ext.util.DelayedTask"],constructor:function(g,e){var i=this,h=i.onItemAddOrRemove;
i.owner=g;i.mon(g,{add:h,remove:h,scope:i});Ext.apply(i,e);if(Ext.isString(i.paramOrder)){i.paramOrder=i.paramOrder.split(/[\s,|]/)}i.checkValidityTask=Ext.create("Ext.util.DelayedTask",i.checkValidity,i);i.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange");i.callParent()},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){this.clearListeners();this.checkValidityTask.cancel()},onItemAddOrRemove:function(m,j){var l=this,k=!!j.ownerCt,h=j.isContainer;function i(a){l[k?"mon":"mun"](a,{validitychange:l.checkValidity,dirtychange:l.checkDirty,scope:l,buffer:100});delete l._fields}if(j.isFormField){i(j)}else{if(h){if(j.isDestroyed){delete l._fields}else{Ext.Array.forEach(j.query("[isFormField]"),i)}}}delete this._boundItems;if(l.initialized){l.checkValidityTask.delay(10)}},getFields:function(){var b=this._fields;if(!b){b=this._fields=Ext.create("Ext.util.MixedCollection");b.addAll(this.owner.query("[isFormField]"))}return b},getBoundItems:function(){var b=this._boundItems;if(!b||b.getCount()===0){b=this._boundItems=Ext.create("Ext.util.MixedCollection");b.addAll(this.owner.query("[formBind]"))}return b},hasInvalidField:function(){return !!this.getFields().findBy(function(g){var e=g.preventMark,d;g.preventMark=true;d=g.isValid();g.preventMark=e;return !d})},isValid:function(){var d=this,c;d.batchLayouts(function(){c=d.getFields().filterBy(function(a){return !a.validate()})});return c.length<1},checkValidity:function(){var c=this,d=!c.hasInvalidField();if(d!==c.wasValid){c.onValidityChange(d);c.fireEvent("validitychange",c,d);c.wasValid=d}},onValidityChange:function(c){var d=this.getBoundItems();if(d){d.each(function(a){if(a.disabled===c){a.setDisabled(!c)}})}},isDirty:function(){return !!this.getFields().findBy(function(b){return b.isDirty()})},checkDirty:function(){var b=this.isDirty();if(b!==this.wasDirty){this.fireEvent("dirtychange",this,b);this.wasDirty=b}},hasUpload:function(){return !!this.getFields().findBy(function(b){return b.isFileUpload()})},doAction:function(c,d){if(Ext.isString(c)){c=Ext.ClassManager.instantiateByAlias("formaction."+c,Ext.apply({},d,{form:this}))}if(this.fireEvent("beforeaction",this,c)!==false){this.beforeAction(c);Ext.defer(c.run,100,c)}return this},submit:function(b){return this.doAction(this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit",b)},load:function(b){return this.doAction(this.api?"directload":"load",b)},updateRecord:function(g){var h=g.fields,k=this.getFieldValues(),j,i={};h.each(function(a){j=a.name;if(j in k){i[j]=k[j]}});g.beginEdit();g.set(i);g.endEdit();return this},loadRecord:function(b){this._record=b;return this.setValues(b.data)},getRecord:function(){return this._record},beforeAction:function(i){var g=i.waitMsg,e=Ext.baseCSSPrefix+"mask-loading",h;this.getFields().each(function(a){if(a.isFormField&&a.syncValue){a.syncValue()}});if(g){h=this.waitMsgTarget;if(h===true){this.owner.el.mask(g,e)}else{if(h){h=this.waitMsgTarget=Ext.get(h);h.mask(g,e)}else{Ext.MessageBox.wait(g,i.waitTitle||this.waitTitle)}}}},afterAction:function(e,h){if(e.waitMsg){var g=Ext.MessageBox,i=this.waitMsgTarget;if(i===true){this.owner.el.unmask()}else{if(i){i.unmask()}else{g.updateProgress(1);g.hide()}}}if(h){if(e.reset){this.reset()}Ext.callback(e.success,e.scope||e,[this,e]);this.fireEvent("actioncomplete",this,e)}else{Ext.callback(e.failure,e.scope||e,[this,e]);this.fireEvent("actionfailed",this,e)}},findField:function(b){return this.getFields().findBy(function(a){return a.id===b||a.getName()===b})},markInvalid:function(g){var e=this;function d(c,a){var b=e.findField(c);if(b){b.markInvalid(a)}}if(Ext.isArray(g)){Ext.each(g,function(a){d(a.id,a.msg)})}else{if(g instanceof Ext.data.Errors){g.each(function(a){d(a.field,a.message)})}else{Ext.iterate(g,d)}}return this},setValues:function(e){var d=this;function g(c,a){var b=d.findField(c);if(b){b.setValue(a);if(d.trackResetOnLoad){b.resetOriginalValue()
}}}if(Ext.isArray(e)){Ext.each(e,function(a){g(a.id,a.value)})}else{Ext.iterate(e,g)}return this},getValues:function(i,g,j,h){var k={};this.getFields().each(function(a){if(!g||a.isDirty()){var b=a[h?"getModelData":"getSubmitData"](j);if(Ext.isObject(b)){Ext.iterate(b,function(e,d){if(j&&d===""){d=a.emptyText||""}if(e in k){var c=k[e],m=Ext.isArray;if(!m(c)){c=k[e]=[c]}if(m(d)){k[e]=c.concat(d)}else{c.push(d)}}else{k[e]=d}})}}});if(i){k=Ext.Object.toQueryString(k)}return k},getFieldValues:function(b){return this.getValues(false,b,false,true)},clearInvalid:function(){var b=this;b.batchLayouts(function(){b.getFields().each(function(a){a.clearInvalid()})});return b},reset:function(){var b=this;b.batchLayouts(function(){b.getFields().each(function(a){a.reset()})});return b},applyToFields:function(b){this.getFields().each(function(a){Ext.apply(a,b)});return this},applyIfToFields:function(b){this.getFields().each(function(a){Ext.applyIf(a,b)});return this},batchLayouts:function(d){var g=this,e=new Ext.util.HashMap();g.getFields().each(function(a){var b=a.ownerCt;if(!e.contains(b)){e.add(b);b.oldSuspendLayout=b.suspendLayout;b.suspendLayout=true}});d();e.each(function(a,b){b.suspendLayout=b.oldSuspendLayout;delete b.oldSuspendLayout});g.owner.doComponentLayout()}});Ext.define("Ext.form.FieldAncestor",{initFieldAncestor:function(){var d=this,c=d.onFieldAncestorSubtreeChange;d.addEvents("fieldvaliditychange","fielderrorchange");d.on("add",c,d);d.on("remove",c,d);d.initFieldDefaults()},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},onFieldAncestorSubtreeChange:function(g,i){var k=this,j=!!i.ownerCt;function h(c){var b=c.isFieldLabelable,a=c.isFormField;if(b||a){if(b){k["onLabelable"+(j?"Added":"Removed")](c)}if(a){k["onField"+(j?"Added":"Removed")](c)}}else{if(c.isContainer){Ext.Array.forEach(c.getRefItems(),h)}}}h(i)},onLabelableAdded:function(d){var c=this;c.mon(d,"errorchange",c.handleFieldErrorChange,c,{buffer:10});d.setFieldDefaults(c.fieldDefaults)},onFieldAdded:function(c){var d=this;d.mon(c,"validitychange",d.handleFieldValidityChange,d)},onLabelableRemoved:function(d){var c=this;c.mun(d,"errorchange",c.handleFieldErrorChange,c)},onFieldRemoved:function(c){var d=this;d.mun(c,"validitychange",d.handleFieldValidityChange,d)},handleFieldValidityChange:function(g,d){var e=this;e.fireEvent("fieldvaliditychange",e,g,d);e.onFieldValidityChange()},handleFieldErrorChange:function(d,e){var g=this;g.fireEvent("fielderrorchange",g,d,e);g.onFieldErrorChange()},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn});Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],onLayout:function(){var s=this.getColCount(),r=this.getShadowCt(),t=this.owner,n=t.items,l=r.items,m=n.length,i=0,q,p;l.each(function(a){a.items.clear()});while(l.length>s){r.remove(l.last())}while(l.length<s){r.add({xtype:"container",cls:t.groupCls,flex:1})}if(t.vertical){p=Math.ceil(m/s);for(q=0;q<m;q++){if(q>0&&q%p===0){i++}l.getAt(i).items.add(n.getAt(q))}}else{for(q=0;q<m;q++){i=q%s;l.getAt(i).items.add(n.getAt(q))}}if(!r.rendered){r.render(this.getRenderTarget())}else{l.each(function(b){var a=b.getLayout();a.renderItems(a.getLayoutItems(),a.getRenderTarget())})}r.doComponentLayout()},renderItems:Ext.emptyFn,getShadowCt:function(){var l=this,q=l.shadowCt,t,m,i,r,n,s,p;if(!q){t=l.owner;r=t.columns;n=Ext.isArray(r);s=l.getColCount();m=[];for(p=0;p<s;p++){i={xtype:"container",cls:t.groupCls};if(n){if(r[p]<1){i.flex=r[p]}else{i.width=r[p]}}else{i.flex=1}m.push(i)}q=l.shadowCt=Ext.createWidget("container",{layout:"hbox",items:m,ownerCt:t})}return q},getColCount:function(){var d=this.owner,c=d.columns;return Ext.isArray(c)?c.length:(Ext.isNumber(c)?c:d.items.length)}});Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.fieldcontainer",componentLayout:"field",combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,initComponent:function(){var c=this,d=c.onSubCmpAddOrRemove;
c.initLabelable();c.initFieldAncestor();c.callParent()},onLabelableAdded:function(d){var c=this;c.mixins.fieldAncestor.onLabelableAdded.call(this,d);c.updateLabel()},onLabelableRemoved:function(d){var c=this;c.mixins.fieldAncestor.onLabelableRemoved.call(this,d);c.updateLabel()},onRender:function(){var b=this;b.onLabelableRender();b.callParent(arguments)},initRenderTpl:function(){var b=this;if(!b.hasOwnProperty("renderTpl")){b.renderTpl=b.getTpl("labelableRenderTpl")}return b.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getFieldLabel:function(){var b=this.fieldLabel||"";if(!b&&this.combineLabels){b=Ext.Array.map(this.query("[isFieldLabelable]"),function(a){return a.getFieldLabel()}).join(this.labelConnector)}return b},updateLabel:function(){var c=this,d=c.labelEl;if(d){d.update(c.getFieldLabel())}},onFieldErrorChange:function(k,h){if(this.combineErrors){var l=this,j=l.getActiveError(),m=Ext.Array.filter(l.query("[isFormField]"),function(a){return a.hasActiveError()}),i=l.getCombinedErrors(m);if(i){l.setActiveErrors(i)}else{l.unsetActiveError()}if(j!==l.getActiveError()){l.doComponentLayout()}}},getCombinedErrors:function(e){var d=Ext.Array.forEach,g=[];d(e,function(a){d(a.getActiveErrors(),function(b){var c=a.getFieldLabel();g.push((c?c+": ":"")+b)})});return g},getTargetEl:function(){return this.bodyEl||this.callParent()}});Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.checkboxgroup",requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Base"],columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",fieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",initComponent:function(){var b=this;b.callParent();b.initField()},initValue:function(){var c=this,d=c.value;c.originalValue=c.lastValue=d||c.getValue();if(d){c.setValue(d)}},onFieldAdded:function(c){var d=this;if(c.isCheckbox){d.mon(c,"change",d.checkChange,d)}d.callParent(arguments)},onFieldRemoved:function(c){var d=this;if(c.isCheckbox){d.mun(c,"change",d.checkChange,d)}d.callParent(arguments)},isEqual:function(d,e){var g=Ext.Object.toQueryString;return g(d)===g(e)},getErrors:function(){var b=[];if(!this.allowBlank&&Ext.isEmpty(this.getChecked())){b.push(this.blankText)}return b},getBoxes:function(){return this.query("[isCheckbox]")},eachBox:function(c,d){Ext.Array.forEach(this.getBoxes(),c,d||this)},getChecked:function(){return Ext.Array.filter(this.getBoxes(),function(b){return b.getValue()})},isDirty:function(){return Ext.Array.some(this.getBoxes(),function(b){return b.isDirty()})},setReadOnly:function(b){this.eachBox(function(a){a.setReadOnly(b)});this.readOnly=b},reset:function(){var g=this,d=g.hasActiveError(),e=g.preventMark;g.preventMark=true;g.batchChanges(function(){g.eachBox(function(a){a.reset()})});g.preventMark=e;g.unsetActiveError();if(d){g.doComponentLayout()}},resetOriginalValue:function(){Ext.defer(function(){this.callParent()},1,this)},setValue:function(c){var d=this;d.batchChanges(function(){d.eachBox(function(g){var b=g.getName(),a=false;if(c&&b in c){if(Ext.isArray(c[b])){a=Ext.Array.contains(c[b],g.inputValue)}else{a=c[b]}}g.setValue(a)})});return d},getValue:function(){var b={};this.eachBox(function(i){var h=i.getName(),a=i.inputValue,g;if(i.getValue()){if(h in b){g=b[h];if(!Ext.isArray(g)){g=b[h]=[g]}g.push(a)}else{b[h]=a}}});return b},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var g=this,h=g.getErrors(),i=Ext.isEmpty(h),e=!g.hasActiveError();if(i){g.unsetActiveError()}else{g.setActiveError(h)}if(i!==e){g.fireEvent("validitychange",g,i);g.doComponentLayout()}return i}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid"])});Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(b){return this.filterBy(function(a){return a.name==b})
},getWithValue:function(d,c){return this.filterBy(function(a){return a.name==d&&a.inputValue==c})},getChecked:function(b){return this.filterBy(function(a){return a.name==b&&a.checked})}});Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],collapsed:false,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",ariaRole:"",renderTpl:['<div id="{id}-body" class="{baseCls}-body"></div>'],maskOnDisable:false,getElConfig:function(){return{tag:"fieldset",id:this.id}},initComponent:function(){var c=this,d=c.baseCls;c.callParent();c.initLegend();c.addChildEls("body");if(c.collapsed){c.addCls(d+"-collapsed");c.collapse()}},onRender:function(c,d){this.callParent(arguments);this.initLegend()},initLegend:function(){var g=this,e,d=g.legend;if(!d&&(g.title||g.checkboxToggle||g.collapsible)){e=[];if(g.checkboxToggle){e.push(g.createCheckboxCmp())}else{if(g.collapsible){e.push(g.createToggleCmp())}}e.push(g.createTitleCmp());d=g.legend=Ext.create("Ext.container.Container",{baseCls:g.baseCls+"-header",ariaRole:"",ownerCt:this,getElConfig:function(){var a={tag:"legend",cls:this.baseCls};if(!Ext.isGecko3){a.children=[{cls:Ext.baseCSSPrefix+"clear"}]}return a},items:e})}if(d&&!d.rendered&&g.rendered){g.legend.render(g.el,g.body)}},createTitleCmp:function(){var b=this;b.titleCmp=Ext.create("Ext.Component",{html:b.title,getElConfig:function(){return{tag:Ext.isGecko3?"span":"div",cls:b.titleCmp.cls,id:b.titleCmp.id}},cls:b.baseCls+"-header-text"});return b.titleCmp},createCheckboxCmp:function(){var d=this,c="-checkbox";d.checkboxCmp=Ext.create("Ext.form.field.Checkbox",{getElConfig:function(){return{tag:Ext.isGecko3?"span":"div",id:d.checkboxCmp.id,cls:d.checkboxCmp.cls}},name:d.checkboxName||d.id+c,cls:d.baseCls+"-header"+c,checked:!d.collapsed,listeners:{change:d.onCheckChange,scope:d}});return d.checkboxCmp},createToggleCmp:function(){var b=this;b.toggleCmp=Ext.create("Ext.panel.Tool",{getElConfig:function(){return{tag:Ext.isGecko3?"span":"div",id:b.toggleCmp.id,cls:b.toggleCmp.cls}},type:"toggle",handler:b.toggle,scope:b});return b.toggleCmp},setTitle:function(c){var d=this;d.title=c;d.initLegend();d.titleCmp.update(c);return d},getTargetEl:function(){return this.body||this.frameBody||this.el},getContentTarget:function(){return this.body},getRefItems:function(e){var g=this.callParent(arguments),d=this.legend;if(d){g.unshift(d);if(e){g.unshift.apply(g,d.getRefItems(true))}}return g},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(e){var d=this,g=d.checkboxCmp;e=!!e;if(g){g.setValue(e)}if(e){d.removeCls(d.baseCls+"-collapsed")}else{d.addCls(d.baseCls+"-collapsed")}d.collapsed=!e;if(e){d.getComponentLayout().childrenChanged=true}d.doComponentLayout();return d},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(c,d){this.setExpanded(d)},beforeDestroy:function(){var b=this.legend;if(b){b.destroy()}this.callParent()}});Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],maskOnDisable:false,getElConfig:function(){var b=this;return{tag:"label",id:b.id,htmlFor:b.forId||"",html:b.text?Ext.util.Format.htmlEncode(b.text):(b.html||"")}},setText:function(g,d){var e=this;d=d!==false;if(d){e.text=g;delete e.html}else{e.html=g;delete e.text}if(e.rendered){e.el.dom.innerHTML=d!==false?Ext.util.Format.htmlEncode(g):g}return this}});Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",ariaRole:"form",initComponent:function(){var b=this;if(b.frame){b.border=false}b.initFieldAncestor();b.callParent();b.relayEvents(b.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(b.pollForChanges){b.startPolling(b.pollInterval||500)
}},initItems:function(){var b=this;b.form=b.createForm();b.callParent();b.form.initialize()},createForm:function(){return Ext.create("Ext.form.Basic",this,Ext.applyIf({listeners:{}},this.initialConfig))},getForm:function(){return this.form},loadRecord:function(b){return this.getForm().loadRecord(b)},getRecord:function(){return this.getForm().getRecord()},getValues:function(){return this.getForm().getValues()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(b){this.form.load(b)},submit:function(b){this.form.submit(b)},disable:function(b){this.callParent(arguments);this.form.getFields().each(function(a){a.disable()})},enable:function(b){this.callParent(arguments);this.form.getFields().each(function(a){a.enable()})},startPolling:function(c){this.stopPolling();var d=Ext.create("Ext.util.TaskRunner",c);d.start({interval:0,run:this.checkChange,scope:this});this.pollTask=d},stopPolling:function(){var b=this.pollTask;if(b){b.stopAll();delete this.pollTask}},checkChange:function(){this.form.getFields().each(function(b){b.checkChange()})}});Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",alias:"widget.radiogroup",allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(){return this.query("[isRadio]")},setValue:function(c){var d=this;if(Ext.isObject(c)){Ext.Object.each(c,function(g,a){var b=Ext.form.RadioManager.getWithValue(g,a);b.each(function(e){e.setValue(true)})})}return d}});Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(b){return this.filterBy(function(a){return a.name==b})},getWithValue:function(d,c){return this.filterBy(function(a){return a.name==d&&a.inputValue==c})},getChecked:function(b){return this.findBy(function(a){return a.name==b&&a.checked})}});Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){this.form.api.load.apply(window,this.getArgs())},getArgs:function(){var l=this,p=[],m=l.form,i=m.paramOrder,k=l.getParams(),n,j;if(i){for(n=0,j=i.length;n<j;n++){p.push(k[i[n]])}}else{if(m.paramsAsHash){p.push(k)}}p.push(l.onSuccess,l);return p},processResponse:function(b){return(this.result=b)},onSuccess:function(d,c){if(c.type==Ext.direct.Manager.self.exceptions.SERVER){d={}}this.callParent([d])}});Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var d=this,g=Ext.Function.bind(d.onSuccess,d),e=d.buildForm();d.form.api.submit(e,g,d);Ext.removeNode(e)},processResponse:function(b){return(this.result=b)},onSuccess:function(d,c){if(c.type===Ext.direct.Manager.self.exceptions.SERVER){d={}}this.callParent([d])}});Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var b=this.buildForm();b.submit();Ext.removeNode(b)}});Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">",'<label id="{cmpId}-boxLabelEl" class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">{boxLabel}</label>',"</tpl>",'<input type="button" id="{id}" ','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">",'<label id="{cmpId}-boxLabelEl" class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">{boxLabel}</label>',"</tpl>",{disableFormats:true,compiled:true}],isCheckbox:true,focusCls:Ext.baseCSSPrefix+"form-cb-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",ariaRole:"checkbox",onRe:/^on$/i,initComponent:function(){this.callParent(arguments);
this.getManager().add(this)},initValue:function(){var c=this,d=!!c.checked;c.originalValue=c.lastValue=d;c.setValue(d)},onRender:function(d,e){var g=this;g.addChildEls("boxLabelEl");Ext.applyIf(g.subTplData,{boxLabel:g.boxLabel,boxLabelCls:g.boxLabelCls,boxLabelAlign:g.boxLabelAlign});g.callParent(arguments)},initEvents:function(){var b=this;b.callParent();b.mon(b.inputEl,"click",b.onBoxClick,b)},onBoxClick:function(c){var d=this;if(!d.disabled&&!d.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var d=this.uncheckedValue,c=Ext.isDefined(d)?d:null;return this.checked?this.inputValue:c},setRawValue:function(j){var k=this,i=k.inputEl,h=k.inputValue,g=(j===true||j==="true"||j==="1"||j===1||(((Ext.isString(j)||Ext.isNumber(j))&&h)?j==h:k.onRe.test(j)));if(i){i.dom.setAttribute("aria-checked",g);k[g?"addCls":"removeCls"](k.checkedCls)}k.checked=k.rawValue=g;return g},setValue:function(c){var d=this;if(Ext.isArray(c)){d.getManager().getByName(d.name).each(function(a){a.setValue(Ext.Array.contains(c,a.inputValue))})}else{d.callParent(arguments)}return d},valueToRaw:function(b){return b},onChange:function(e,g){var h=this,i=h.handler;if(i){i.call(h.scope||h,h,e)}h.callParent(arguments)},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var d=this,c=d.inputEl;d.callParent();if(c){c.dom.disabled=d.readOnly}},setReadOnly:function(g){var e=this,d=e.inputEl;if(d){d.dom.disabled=g||e.disabled}e.readOnly=g},getBodyNaturalWidth:function(){var h=this,e=h.bodyEl,g="white-space",i;e.setStyle(g,"nowrap");i=e.getWidth();e.setStyle(g,"");return i}});Ext.define("Ext.layout.component.field.Trigger",{alias:["layout.triggerfield"],extend:"Ext.layout.component.field.Field",type:"triggerfield",sizeBodyContents:function(n,i){var m=this,j=m.owner,k=j.inputEl,p=j.triggerWrap,l=j.getTriggerWidth();if(j.hideTrigger||j.readOnly||l>0){m.setElementSize(k,Ext.isNumber(n)?n-l:n);p.setWidth(l)}}});Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect")},afterRender:function(){var c=this,d;c.callParent();d={scope:c,freezeEvent:true,click:c.handleEvent,mousedown:c.handleEvent,mouseup:c.handleEvent,dblclick:c.handleEvent,contextmenu:c.handleEvent,mouseover:c.handleEvent,mouseout:c.handleEvent,keydown:c.handleEvent};c.mon(c.getTargetEl(),d);if(c.store){c.bindStore(c.store,true)}},handleEvent:function(b){if(this.processUIEvent(b)!==false){this.processSpecialEvent(b)}},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,stillOverItem:function(d,e){var g;if(e&&typeof(e.offsetParent)==="object"){g=(d.type=="mouseout")?d.getRelatedTarget():d.getTarget();return Ext.fly(e).contains(g)}return false},processUIEvent:function(n){var m=this,e=n.getTarget(m.getItemSelector(),m.getTargetEl()),t=this.statics().EventMap,p,r,l=n.type,q=m.mouseOverItem,s;if(!e){if(l=="mouseover"&&m.stillOverItem(n,q)){e=q}if(l=="keydown"){r=m.getSelectionModel().getLastSelected();
if(r){e=m.getNode(r)}}}if(e){p=m.indexOf(e);if(!r){r=m.getRecord(e)}if(m.processItemEvent(r,e,p,n)===false){return false}s=m.isNewItemEvent(e,n);if(s===false){return false}if((m["onBeforeItem"+t[s]](r,e,p,n)===false)||(m.fireEvent("beforeitem"+s,m,r,e,p,n)===false)||(m["onItem"+t[s]](r,e,p,n)===false)){return false}m.fireEvent("item"+s,m,r,e,p,n)}else{if((m.processContainerEvent(n)===false)||(m["onBeforeContainer"+t[l]](n)===false)||(m.fireEvent("beforecontainer"+l,m,n)===false)||(m["onContainer"+t[l]](n)===false)){return false}m.fireEvent("container"+l,m,n)}return true},isNewItemEvent:function(j,i){var k=this,h=k.mouseOverItem,e=i.type;switch(e){case"mouseover":if(j===h){return false}k.mouseOverItem=j;return"mouseenter";case"mouseout":if(k.stillOverItem(i,h)){return false}k.mouseOverItem=null;return"mouseleave"}return e},onItemMouseEnter:function(g,i,e,h){if(this.trackOver){this.highlightItem(i)}},onItemMouseLeave:function(g,i,e,h){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,highlightItem:function(c){var d=this;d.clearHighlight();d.highlightedItem=c;Ext.fly(c).addCls(d.overItemCls)},clearHighlight:function(){var c=this,d=c.highlightedItem;if(d){Ext.fly(d).removeCls(c.overItemCls);delete c.highlightedItem}},refresh:function(){var b=this;b.clearHighlight();b.callParent(arguments);if(!b.isFixedHeight()){b.doComponentLayout()}}});Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Component",alias:"layout.boundlist",type:"component",beforeLayout:function(){return this.callParent(arguments)||this.owner.refreshed>0},onLayout:function(H,u){var z=this,G=z.owner,B=G.floating,F=G.el,J=F.getXY(),t=Ext.isNumber,I,w,v,x,C,y,D,A,E;if(B){F.setXY([-9999,-9999])}z.setTargetSize(H,u);if(!t(H)){I=G.minWidth;w=G.maxWidth;if(t(I)||t(w)){C=F.getWidth();if(C<I){D=I}else{if(C>w){D=w}}if(D){z.setTargetSize(D)}}}if(!t(u)){v=G.minHeight;x=G.maxHeight;if(t(v)||t(x)){y=F.getHeight();if(y<v){A=v}else{if(y>x){A=x}}if(A){z.setTargetSize(E,A)}}}if(B){F.setXY(J)}},afterLayout:function(){var c=this,d=c.owner.pagingToolbar;c.callParent();if(d){d.doComponentLayout()}},setTargetSize:function(l,h){var j=this,i=j.owner,m=null,k;if(Ext.isNumber(h)){m=h-i.el.getFrameWidth("tb");k=i.pagingToolbar;if(k){m-=k.getHeight()}}j.setElementSize(i.listEl,null,m);j.callParent(arguments)}});Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",onRender:function(){Ext.apply(this.renderData,{text:this.text});this.callParent(arguments)},setText:function(b){if(this.rendered){this.el.update(b);this.ownerCt.doLayout()}else{this.text=b}}});Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.DomHelper","Ext.util.ClickRepeater","Ext.layout.component.field.Trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],fieldSubTpl:['<input id="{id}" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" autocomplete="off" />','<div id="{cmpId}-triggerWrap" class="{triggerWrapCls}" role="presentation">',"{triggerEl}",'<div class="{clearCls}" role="presentation"></div>',"</div>",{compiled:true,disableFormats:true}],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",hideTrigger:false,editable:true,readOnly:false,repeatTriggerClick:false,autoSize:Ext.emptyFn,monitorTab:true,mimicing:false,triggerIndexRe:/trigger-index-(\d+)/,componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus";
this.callParent(arguments)},onRender:function(q,k){var p=this,l,n=p.triggerBaseCls,m=p.triggerWrapCls,i=[],r;if(!p.trigger1Cls){p.trigger1Cls=p.triggerCls}for(r=0;(l=p["trigger"+(r+1)+"Cls"])||r<1;r++){i.push({cls:[Ext.baseCSSPrefix+"trigger-index-"+r,n,l].join(" "),role:"button"})}i[r-1].cls+=" "+n+"-last";p.addChildEls("triggerWrap");Ext.applyIf(p.subTplData,{triggerWrapCls:m,triggerEl:Ext.DomHelper.markup(i),clearCls:p.clearCls});p.callParent(arguments);p.triggerEl=Ext.select("."+n,true,p.triggerWrap.dom);p.doc=Ext.getDoc();p.initTrigger()},onEnable:function(){this.callParent();this.triggerWrap.unmask()},onDisable:function(){this.callParent();this.triggerWrap.mask()},afterRender:function(){this.callParent();this.updateEditState();this.triggerEl.unselectable()},updateEditState:function(){var m=this,k=m.inputEl,i=m.triggerWrap,l=Ext.baseCSSPrefix+"trigger-noedit",h,j;if(m.rendered){if(m.readOnly){k.addCls(l);j=true;h=false}else{if(m.editable){k.removeCls(l);j=false}else{k.addCls(l);j=true}h=!m.hideTrigger}i.setDisplayed(h);k.dom.readOnly=j;m.doComponentLayout()}},getTriggerWidth:function(){var g=this,d=g.triggerWrap,e=0;if(d&&!g.hideTrigger&&!g.readOnly){g.triggerEl.each(function(a){e+=a.getWidth()});e+=g.triggerWrap.getFrameWidth("lr")}return e},setHideTrigger:function(b){if(b!=this.hideTrigger){this.hideTrigger=b;this.updateEditState()}},setEditable:function(b){if(b!=this.editable){this.editable=b;this.updateEditState()}},setReadOnly:function(b){if(b!=this.readOnly){this.readOnly=b;this.updateEditState()}},initTrigger:function(){var g=this,e=g.triggerWrap,d=g.triggerEl;if(g.repeatTriggerClick){g.triggerRepeater=Ext.create("Ext.util.ClickRepeater",e,{preventDefault:true,handler:function(b,a){g.onTriggerWrapClick(a)}})}else{g.mon(g.triggerWrap,"click",g.onTriggerWrapClick,g)}d.addClsOnOver(g.triggerBaseCls+"-over");d.each(function(b,a,c){b.addClsOnOver(g["trigger"+(c+1)+"Cls"]+"-over")});d.addClsOnClick(g.triggerBaseCls+"-click");d.each(function(b,a,c){b.addClsOnClick(g["trigger"+(c+1)+"Cls"]+"-click")})},onDestroy:function(){var b=this;Ext.destroyMembers(b,"triggerRepeater","triggerWrap","triggerEl");delete b.doc;b.callParent()},onFocus:function(){var b=this;b.callParent();if(!b.mimicing){b.bodyEl.addCls(b.wrapFocusCls);b.mimicing=true;b.mon(b.doc,"mousedown",b.mimicBlur,b,{delay:10});if(b.monitorTab){b.on("specialkey",b.checkTab,b)}}},checkTab:function(d,c){if(!this.ignoreMonitorTab&&c.getKey()==c.TAB){this.triggerBlur()}},onBlur:Ext.emptyFn,mimicBlur:function(b){if(!this.isDestroyed&&!this.bodyEl.contains(b.target)&&this.validateBlur(b)){this.triggerBlur()}},triggerBlur:function(){var b=this;b.mimicing=false;b.mun(b.doc,"mousedown",b.mimicBlur,b);if(b.monitorTab&&b.inputEl){b.un("specialkey",b.checkTab,b)}Ext.form.field.Trigger.superclass.onBlur.call(b);if(b.bodyEl){b.bodyEl.removeCls(b.wrapFocusCls)}},beforeBlur:Ext.emptyFn,validateBlur:function(b){return true},onTriggerWrapClick:function(j){var k=this,l=j&&j.getTarget("."+Ext.baseCSSPrefix+"form-trigger",null),m=l&&l.className.match(k.triggerIndexRe),i,e;if(m&&!k.readOnly){i=parseInt(m[1],10);e=k["onTrigger"+(i+1)+"Click"]||k.onTriggerClick;if(e){e.call(k,j)}}},onTriggerClick:Ext.emptyFn});Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Trigger",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:true,initComponent:function(){this.callParent();this.addEvents("expand","collapse","select")},initEvents:function(){var b=this;b.callParent();b.keyNav=Ext.create("Ext.util.KeyNav",b.inputEl,{down:function(){if(!b.isExpanded){b.onTriggerClick()}},esc:b.collapse,scope:b,forceKeyDown:true});if(!b.editable){b.mon(b.inputEl,"click",b.onTriggerClick,b)}if(Ext.isGecko){b.inputEl.dom.setAttribute("autocomplete","off")}},expand:function(){var i=this,g,e,h;if(i.rendered&&!i.isExpanded&&!i.isDestroyed){g=i.bodyEl;e=i.getPicker();h=i.collapseIf;e.show();i.isExpanded=true;i.alignPicker();g.addCls(i.openCls);i.mon(Ext.getDoc(),{mousewheel:h,mousedown:h,scope:i});
Ext.EventManager.onWindowResize(i.alignPicker,i);i.fireEvent("expand",i);i.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){var c=this,d;if(c.isExpanded){d=c.getPicker();if(c.matchFieldWidth){d.setSize(c.bodyEl.getWidth(),d.store&&d.store.getCount()?null:0)}if(d.isFloating()){c.doAlign()}}},doAlign:function(){var h=this,i=h.picker,g="-above",e;h.picker.alignTo(h.inputEl,h.pickerAlign,h.pickerOffset);e=i.el.getY()<h.inputEl.getY();h.bodyEl[e?"addCls":"removeCls"](h.openCls+g);i[e?"addCls":"removeCls"](i.baseCls+g)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var l=this,m=l.openCls,h=l.picker,k=Ext.getDoc(),j=l.collapseIf,i="-above";h.hide();l.isExpanded=false;l.bodyEl.removeCls([m,m+i]);h.el.removeCls(h.baseCls+i);k.un("mousewheel",j,l);k.un("mousedown",j,l);Ext.EventManager.removeResizeListener(l.alignPicker,l);l.fireEvent("collapse",l);l.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(c){var d=this;if(!d.isDestroyed&&!c.within(d.bodyEl,false,true)&&!c.within(d.picker.el,false,true)){d.collapse()}},getPicker:function(){var b=this;return b.picker||(b.picker=b.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var b=this;if(!b.readOnly&&!b.disabled){if(b.isExpanded){b.collapse()}else{b.expand()}b.inputEl.focus()}},mimicBlur:function(g){var d=this,e=d.picker;if(!e||!g.within(e.el,false,true)){d.callParent(arguments)}},onDestroy:function(){var c=this,d=c.picker;Ext.EventManager.removeResizeListener(c.alignPicker,c);Ext.destroy(c.keyNav);if(d){delete d.pickerField;d.destroy()}c.callParent()}});Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Trigger",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.util.KeyNav"],trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,initComponent:function(){this.callParent();this.addEvents("spin","spinup","spindown")},onRender:function(){var c=this,d;c.callParent(arguments);d=c.triggerEl;c.spinUpEl=d.item(0);c.spinDownEl=d.item(1);c.setSpinUpEnabled(c.spinUpEnabled);c.setSpinDownEnabled(c.spinDownEnabled);if(c.keyNavEnabled){c.spinnerKeyNav=Ext.create("Ext.util.KeyNav",c.inputEl,{scope:c,up:c.spinUp,down:c.spinDown})}if(c.mouseWheelEnabled){c.mon(c.bodyEl,"mousewheel",c.onMouseWheel,c)}},getTriggerWidth:function(){return this.hideTrigger||this.readOnly?0:this.spinUpEl.getWidth()+this.triggerWrap.getFrameWidth("lr")},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},spinUp:function(){var b=this;if(b.spinUpEnabled&&!b.disabled){b.fireEvent("spin",b,"up");b.fireEvent("spinup",b);b.onSpinUp()}},spinDown:function(){var b=this;if(b.spinDownEnabled&&!b.disabled){b.fireEvent("spin",b,"down");b.fireEvent("spindown",b);b.onSpinDown()}},setSpinUpEnabled:function(e){var d=this,g=d.spinUpEnabled;d.spinUpEnabled=e;if(g!==e&&d.rendered){d.spinUpEl[e?"removeCls":"addCls"](d.trigger1Cls+"-disabled")}},setSpinDownEnabled:function(e){var d=this,g=d.spinDownEnabled;d.spinDownEnabled=e;if(g!==e&&d.rendered){d.spinDownEl[e?"removeCls":"addCls"](d.trigger2Cls+"-disabled")}},onMouseWheel:function(d){var e=this,g;if(e.hasFocus){g=d.getWheelDelta();if(g>0){e.spinUp()}else{if(g<0){e.spinDown()}}d.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl");this.callParent()}});Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowDecimals:true,decimalSeparator:".",decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var d=this,c;d.callParent();d.setMinValue(d.minValue);d.setMaxValue(d.maxValue);
if(d.disableKeyFilter!==true){c=d.baseChars+"";if(d.allowDecimals){c+=d.decimalSeparator}if(d.minValue<0){c+="-"}c=Ext.String.escapeRegex(c);d.maskRe=new RegExp("["+c+"]");if(d.autoStripChars){d.stripCharsRe=new RegExp("[^"+c+"]","gi")}}},getErrors:function(k){var g=this,i=g.callParent(arguments),j=Ext.String.format,h;k=Ext.isDefined(k)?k:this.processRawValue(this.getRawValue());if(k.length<1){return i}k=String(k).replace(g.decimalSeparator,".");if(isNaN(k)){i.push(j(g.nanText,k))}h=g.parseValue(k);if(g.minValue===0&&h<0){i.push(this.negativeText)}else{if(h<g.minValue){i.push(j(g.minText,g.minValue))}}if(h>g.maxValue){i.push(j(g.maxText,g.maxValue))}return i},rawToValue:function(c){var d=this.fixPrecision(this.parseValue(c));if(d===null){d=c||null}return d},valueToRaw:function(g){var d=this,e=d.decimalSeparator;g=d.parseValue(g);g=d.fixPrecision(g);g=Ext.isNumber(g)?g:parseFloat(String(g).replace(e,"."));g=isNaN(g)?"":String(g).replace(".",e);return g},onChange:function(){var d=this,g=d.getValue(),e=g===null;d.callParent(arguments);d.setSpinUpEnabled(e||g<d.maxValue);d.setSpinDownEnabled(e||g>d.minValue)},setMinValue:function(b){this.minValue=Ext.Number.from(b,Number.NEGATIVE_INFINITY)},setMaxValue:function(b){this.maxValue=Ext.Number.from(b,Number.MAX_VALUE)},parseValue:function(b){b=parseFloat(String(b).replace(this.decimalSeparator,"."));return isNaN(b)?null:b},fixPrecision:function(h){var i=this,e=isNaN(h),g=i.decimalPrecision;if(e||!h){return e?"":h}else{if(!i.allowDecimals||g<=0){g=0}}return parseFloat(Ext.Number.toFixed(parseFloat(h),g))},beforeBlur:function(){var c=this,d=c.parseValue(c.getRawValue());if(!Ext.isEmpty(d)){c.setValue(d)}},onSpinUp:function(){var b=this;if(!b.readOnly){b.setValue(Ext.Number.constrain(b.getValue()+b.step,b.minValue,b.maxValue))}},onSpinDown:function(){var b=this;if(!b.readOnly){b.setValue(Ext.Number.constrain(b.getValue()-b.step,b.minValue,b.maxValue))}}});Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var b=this;return[{itemId:"first",tooltip:b.firstText,overflowText:b.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:b.moveFirst,scope:b},{itemId:"prev",tooltip:b.prevText,overflowText:b.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:b.movePrevious,scope:b},"-",b.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,selectOnFocus:true,submitValue:false,width:b.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:b,keydown:b.onPagingKeyDown,blur:b.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(b.afterPageText,1)},"-",{itemId:"next",tooltip:b.nextText,overflowText:b.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:b.moveNext,scope:b},{itemId:"last",tooltip:b.lastText,overflowText:b.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:b.moveLast,scope:b},"-",{itemId:"refresh",tooltip:b.refreshText,overflowText:b.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:b.doRefresh,scope:b}]},initComponent:function(){var d=this,g=d.getPagingItems(),e=d.items||d.buttons||[];if(d.prependButtons){d.items=e.concat(g)}else{d.items=g.concat(e)}delete d.buttons;if(d.displayInfo){d.items.push("->");d.items.push({xtype:"tbtext",itemId:"displayItem"})}d.callParent();d.addEvents("change","beforechange");d.on("afterlayout",d.onLoad,d,{single:true});d.bindStore(d.store||"ext-empty-store",true)},updateInfo:function(){var k=this,m=k.child("#displayItem"),i=k.store,h=k.getPageData(),l,j;if(m){l=i.getCount();
if(l===0){j=k.emptyMsg}else{j=Ext.String.format(k.displayMsg,h.fromRecord,h.toRecord,h.total)}m.setText(j);k.doComponentLayout()}},onLoad:function(){var i=this,j,g,k,h;if(!i.rendered){return}j=i.getPageData();g=j.currentPage;k=j.pageCount;h=Ext.String.format(i.afterPageText,isNaN(k)?1:k);i.child("#afterTextItem").setText(h);i.child("#inputItem").setValue(g);i.child("#first").setDisabled(g===1);i.child("#prev").setDisabled(g===1);i.child("#next").setDisabled(g===k);i.child("#last").setDisabled(g===k);i.child("#refresh").enable();i.updateInfo();i.fireEvent("change",i,j)},getPageData:function(){var c=this.store,d=c.getTotalCount();return{total:d,currentPage:c.currentPage,pageCount:Math.ceil(d/c.pageSize),fromRecord:((c.currentPage-1)*c.pageSize)+1,toRecord:Math.min(c.currentPage*c.pageSize,d)}},onLoadError:function(){if(!this.rendered){return}this.child("#refresh").enable()},readPageFromInput:function(d){var e=this.child("#inputItem").getValue(),g=parseInt(e,10);if(!e||isNaN(g)){this.child("#inputItem").setValue(d.currentPage);return false}return g},onPagingFocus:function(){this.child("#inputItem").select()},onPagingBlur:function(c){var d=this.getPageData().currentPage;this.child("#inputItem").setValue(d)},onPagingKeyDown:function(k,l){var n=this,e=l.getKey(),p=n.getPageData(),j=l.shiftKey?10:1,m;if(e==l.RETURN){l.stopEvent();m=n.readPageFromInput(p);if(m!==false){m=Math.min(Math.max(1,m),p.pageCount);if(n.fireEvent("beforechange",n,m)!==false){n.store.loadPage(m)}}}else{if(e==l.HOME||e==l.END){l.stopEvent();m=e==l.HOME?1:p.pageCount;k.setValue(m)}else{if(e==l.UP||e==l.PAGEUP||e==l.DOWN||e==l.PAGEDOWN){l.stopEvent();m=n.readPageFromInput(p);if(m){if(e==l.DOWN||e==l.PAGEDOWN){j*=-1}m+=j;if(m>=1&&m<=p.pages){k.setValue(m)}}}}}},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable()}},doLoad:function(b){if(this.fireEvent("beforechange",this,o)!==false){this.store.load()}},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1)}},movePrevious:function(){var c=this,d=c.store.currentPage-1;if(d>0){if(c.fireEvent("beforechange",c,d)!==false){c.store.previousPage()}}},moveNext:function(){var g=this,d=g.getPageData().pageCount,e=g.store.currentPage+1;if(e<=d){if(g.fireEvent("beforechange",g,e)!==false){g.store.nextPage()}}},moveLast:function(){var c=this,d=c.getPageData().pageCount;if(c.fireEvent("beforechange",c,d)!==false){c.store.loadPage(d)}},doRefresh:function(){var d=this,c=d.store.currentPage;if(d.fireEvent("beforechange",d,c)!==false){d.store.loadPage(c)}},bindStore:function(e,d){var g=this;if(!d&&g.store){if(e!==g.store&&g.store.autoDestroy){g.store.destroyStore()}else{g.store.un("beforeload",g.beforeLoad,g);g.store.un("load",g.onLoad,g);g.store.un("exception",g.onLoadError,g)}if(!e){g.store=null}}if(e){e=Ext.data.StoreManager.lookup(e);e.on({scope:g,beforeload:g.beforeLoad,load:g.onLoad,exception:g.onLoadError})}g.store=e},unbind:function(b){this.bindStore(null)},bind:function(b){this.bindStore(b)},onDestroy:function(){this.bindStore(null);this.callParent()}});Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],pageSize:0,autoScroll:true,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,refreshed:0,ariaRole:"listbox",componentLayout:"boundlist",renderTpl:['<div id="{id}-listEl" class="list-ct"></div>'],initComponent:function(){var d=this,e=d.baseCls,g=d.itemCls;d.selectedItemCls=e+"-selected";d.overItemCls=e+"-item-over";d.itemSelector="."+g;if(d.floating){d.addCls(e+"-floating")}if(!d.tpl){d.tpl=Ext.create("Ext.XTemplate",'<ul><tpl for=".">','<li role="option" class="'+g+'">'+d.getInnerTpl(d.displayField)+"</li>","</tpl></ul>")}else{if(Ext.isString(d.tpl)){d.tpl=Ext.create("Ext.XTemplate",d.tpl)}}if(d.pageSize){d.pagingToolbar=d.createPagingToolbar()}d.callParent();d.addChildEls("listEl")},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{pageSize:this.pageSize,store:this.store,border:false})
},onRender:function(){var c=this,d=c.pagingToolbar;c.callParent(arguments);if(d){d.render(c.el)}},bindStore:function(g,e){var h=this,i=h.pagingToolbar;h.callParent(arguments);if(i){i.bindStore(g,e)}},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(b){return"{"+b+"}"},refresh:function(){var b=this;b.callParent();if(b.isVisible()){b.refreshed++;b.doComponentLayout();b.refreshed--}},initAria:function(){this.callParent();var e=this.getSelectionModel(),g=e.getSelectionMode(),d=this.getActionEl();if(g!=="SINGLE"){d.dom.setAttribute("aria-multiselectable",true)}},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl");this.callParent()}});Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.util.KeyNav",requires:"Ext.view.BoundList",constructor:function(d,e){var g=this;g.boundList=e.boundList;g.callParent([d,Ext.apply({},e,g.defaultHandlers)])},defaultHandlers:{up:function(){var k=this,h=k.boundList,l=h.all,j=h.highlightedItem,m=j?h.indexOf(j):-1,i=m>0?m-1:l.getCount()-1;k.highlightAt(i)},down:function(){var k=this,h=k.boundList,l=h.all,j=h.highlightedItem,m=j?h.indexOf(j):-1,i=m<l.getCount()-1?m+1:0;k.highlightAt(i)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var b=this;b.highlightAt(b.boundList.all.getCount()-1)},enter:function(b){this.selectHighlighted(b)}},highlightAt:function(d){var e=this.boundList,g=e.all.item(d);if(g){g=g.dom;e.highlightItem(g);e.getTargetEl().scrollChildIntoView(g,false)}},selectHighlighted:function(i){var j=this,e=j.boundList,k=e.highlightedItem,h=e.getSelectionModel();if(k){h.selectWithEvent(e.getRecord(k),i)}}});Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.EventObject","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" ','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','class="{fieldCls} {typeCls}" autocomplete="off" />','<div id="{cmpId}-triggerWrap" class="{triggerWrapCls}" role="presentation">',"{triggerEl}",'<div class="{clearCls}" role="presentation"></div>',"</div>",{compiled:true,disableFormats:true}],getSubTplData:function(){var b=this;Ext.applyIf(b.subTplData,{hiddenDataCls:b.hiddenDataCls});return b.callParent(arguments)},afterRender:function(){var b=this;b.callParent(arguments);b.setHiddenValue(b.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,pageSize:0,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,defaultListConfig:{emptyText:"",loadingText:"Loading...",loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,initComponent:function(){var k=this,m=Ext.isDefined,h=k.store,l=k.transform,i,j;Ext.applyIf(k.renderSelectors,{hiddenDataEl:"."+k.hiddenDataCls.split(" ").join(".")});this.addEvents("beforequery","select","beforeselect","beforedeselect");if(l){i=Ext.getDom(l);if(i){h=Ext.Array.map(Ext.Array.from(i.options),function(a){return[a.value,a.text]});if(!k.name){k.name=i.name}if(!("value" in k)){k.value=i.value}}}k.bindStore(h||"ext-empty-store",true);h=k.store;if(h.autoCreated){k.queryMode="local";k.valueField=k.displayField="field1";if(!h.expanded){k.displayField="field2"}}if(!m(k.valueField)){k.valueField=k.displayField}j=k.queryMode==="local";if(!m(k.queryDelay)){k.queryDelay=j?10:500}if(!m(k.minChars)){k.minChars=j?0:4}if(!k.displayTpl){k.displayTpl=Ext.create("Ext.XTemplate",'<tpl for=".">{[typeof values === "string" ? values : values["'+k.displayField+'"]]}<tpl if="xindex < xcount">'+k.delimiter+"</tpl></tpl>")}else{if(Ext.isString(k.displayTpl)){k.displayTpl=Ext.create("Ext.XTemplate",k.displayTpl)}}k.callParent();
k.doQueryTask=Ext.create("Ext.util.DelayedTask",k.doRawQuery,k);if(k.store.getCount()>0){k.setValue(k.value)}if(i){k.render(i.parentNode,i);Ext.removeNode(i);delete k.renderTo}},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel();this.assertValue()},assertValue:function(){var e=this,d=e.getRawValue(),g;if(e.forceSelection){if(e.multiSelect){if(d!==e.getDisplayValue()){e.setValue(e.lastSelection)}}else{g=e.findRecordByDisplay(d);if(g){e.select(g)}else{e.setValue(e.lastSelection)}}}e.collapse()},onTypeAhead:function(){var m=this,n=m.displayField,i=m.store.findRecord(n,m.getRawValue()),p=m.getPicker(),l,j,k;if(i){l=i.get(n);j=l.length;k=m.getRawValue().length;p.highlightItem(p.getNode(i));if(k!==0&&k!==j){m.setRawValue(l);m.selectText(k,l.length)}}},resetToDefault:function(){},bindStore:function(g,e){var i=this,h=i.store;if(h&&!e){if(h!==g&&h.autoDestroy){h.destroyStore()}else{h.un({scope:i,load:i.onLoad,exception:i.collapse})}if(!g){i.store=null;if(i.picker){i.picker.bindStore(null)}}}if(g){if(!e){i.resetToDefault()}i.store=Ext.data.StoreManager.lookup(g);i.store.on({scope:i,load:i.onLoad,exception:i.collapse});if(i.picker){i.picker.bindStore(g)}}},onLoad:function(){var d=this,c=d.value;if(d.rawQuery){d.rawQuery=false;d.syncSelection();if(d.picker&&!d.picker.getSelectionModel().hasSelection()){d.doAutoSelect()}}else{if(d.value){d.setValue(d.value)}else{if(d.store.getCount()){d.doAutoSelect()}else{d.setValue("")}}}},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(k,p,m){k=k||"";var n=this,i={query:k,forceAll:p,combo:n,cancel:false},j=n.store,l=n.queryMode==="local";if(n.fireEvent("beforequery",i)===false||i.cancel){return false}k=i.query;p=i.forceAll;if(p||(k.length>=n.minChars)){n.expand();if(!n.queryCaching||n.lastQuery!==k){n.lastQuery=k;if(l){if(p){j.clearFilter()}else{j.clearFilter(true);j.filter(n.displayField,k)}}else{n.rawQuery=m;if(n.pageSize){n.loadPage(1)}else{j.load({params:n.getParams(k)})}}}if(n.getRawValue()!==n.getDisplayValue()){n.ignoreSelection++;n.picker.getSelectionModel().deselectAll();n.ignoreSelection--}if(l){n.doAutoSelect()}if(n.typeAhead){n.doTypeAhead()}}return true},loadPage:function(b){this.store.loadPage(b,{params:this.getParams(this.lastQuery)})},onPageChange:function(c,d){this.loadPage(d);return false},getParams:function(g){var d={},e=this.queryParam;if(e){d[e]=g}return d},doAutoSelect:function(){var e=this,g=e.picker,i,h;if(g&&e.autoSelect&&e.store.getCount()>0){i=g.getSelectionModel().lastSelected;h=g.getNode(i||0);if(h){g.highlightItem(h);g.listEl.scrollChildIntoView(h,false)}}},doTypeAhead:function(){if(!this.typeAheadTask){this.typeAheadTask=Ext.create("Ext.util.DelayedTask",this.onTypeAhead,this)}if(this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.typeAheadTask.delay(this.typeAheadDelay)}},onTriggerClick:function(){var b=this;if(!b.readOnly&&!b.disabled){if(b.isExpanded){b.collapse()}else{b.onFocus({});if(b.triggerAction==="all"){b.doQuery(b.allQuery,true)}else{b.doQuery(b.getRawValue(),false,true)}}b.inputEl.focus()}},onKeyUp:function(h,e){var i=this,g=h.getKey();if(!i.readOnly&&!i.disabled&&i.editable){i.lastKey=g;if(!h.isSpecialKey()||g==h.BACKSPACE||g==h.DELETE){i.doQueryTask.delay(i.queryDelay)}}if(i.enableKeyEvents){i.callParent(arguments)}},initEvents:function(){var b=this;b.callParent();if(!b.enableKeyEvents){b.mon(b.inputEl,"keyup",b.onKeyUp,b)}},onDestroy:function(){this.bindStore(null);this.callParent()},createPicker:function(){var i=this,g,h=Ext.baseCSSPrefix+"menu",e=Ext.apply({pickerField:i,selModel:{mode:i.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,ownerCt:i.ownerCt,cls:i.el.up("."+h)?h:"",store:i.store,displayField:i.displayField,focusOnToFront:false,pageSize:i.pageSize,tpl:i.tpl},i.listConfig,i.defaultListConfig);g=i.picker=Ext.create("Ext.view.BoundList",e);if(i.pageSize){g.pagingToolbar.on("beforechange",i.onPageChange,i)}i.mon(g,{itemclick:i.onItemClick,refresh:i.onListRefresh,scope:i});i.mon(g.getSelectionModel(),{beforeselect:i.onBeforeSelect,beforedeselect:i.onBeforeDeselect,selectionchange:i.onListSelectionChange,scope:i});
return g},alignPicker:function(){var g=this,h=g.picker,i=g.getPosition()[1]-Ext.getBody().getScroll().top,j=Ext.Element.getViewHeight()-i-g.getHeight(),k=Math.max(i,j);g.callParent();if(h.getHeight()>k){h.setHeight(k-5);g.doAlign()}},onListRefresh:function(){this.alignPicker();this.syncSelection()},onItemClick:function(l,i){var j=this,h=j.lastSelection,m=j.valueField,k;if(!j.multiSelect&&h){k=h[0];if(k&&(i.get(m)===k.get(m))){j.displayTplData=[i.data];j.setRawValue(j.getDisplayValue());j.collapse()}}},onBeforeSelect:function(c,d){return this.fireEvent("beforeselect",this,d,d.index)},onBeforeDeselect:function(c,d){return this.fireEvent("beforedeselect",this,d,d.index)},onListSelectionChange:function(g,j){var h=this,i=h.multiSelect,k=j.length>0;if(!h.ignoreSelection&&h.isExpanded){if(!i){Ext.defer(h.collapse,1,h)}if(i||k){h.setValue(j,false)}if(k){h.fireEvent("select",h,j)}h.inputEl.focus()}},onExpand:function(){var h=this,g=h.listKeyNav,i=h.selectOnTab,e=h.getPicker();if(g){g.enable()}else{g=h.listKeyNav=Ext.create("Ext.view.BoundListKeyNav",this.inputEl,{boundList:e,forceKeyDown:true,tab:function(a){if(i){this.selectHighlighted(a);h.triggerBlur()}return true}})}if(i){h.ignoreMonitorTab=true}Ext.defer(g.enable,1,g);h.inputEl.focus()},onCollapse:function(){var c=this,d=c.listKeyNav;if(d){d.disable();c.ignoreMonitorTab=false}},select:function(b){this.setValue(b,true)},findRecord:function(h,i){var e=this.store,g=e.findExact(h,i);return g!==-1?e.getAt(g):false},findRecordByValue:function(b){return this.findRecord(this.valueField,b)},findRecordByDisplay:function(b){return this.findRecord(this.displayField,b)},setValue:function(n,t){var p=this,v=p.valueNotFoundText,i=p.inputEl,s,q,r,w=[],x=[],u=[];if(p.store.loading){p.value=n;p.setHiddenValue(p.value);return p}n=Ext.Array.from(n);for(s=0,q=n.length;s<q;s++){r=n[s];if(!r||!r.isModel){r=p.findRecordByValue(r)}if(r){w.push(r);x.push(r.data);u.push(r.get(p.valueField))}else{if(!p.forceSelection){x.push(n[s]);u.push(n[s])}else{if(Ext.isDefined(v)){x.push(v)}}}}p.setHiddenValue(u);p.value=p.multiSelect?u:u[0];if(!Ext.isDefined(p.value)){p.value=null}p.displayTplData=x;p.lastSelection=p.valueModels=w;if(i&&p.emptyText&&!Ext.isEmpty(n)){i.removeCls(p.emptyCls)}p.setRawValue(p.getDisplayValue());p.checkChange();if(t!==false){p.syncSelection()}p.applyEmptyText();return p},setHiddenValue:function(r){var n=this,p;if(!n.hiddenDataEl){return}r=Ext.Array.from(r);var l=n.hiddenDataEl.dom,m=l.childNodes,i=m[0],k=r.length,q=m.length;if(!i&&k>0){n.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:n.name}));q=1;i=l.firstChild}while(q>k){l.removeChild(m[0]);--q}while(q<k){l.appendChild(i.cloneNode(true));++q}for(p=0;p<k;p++){m[p].value=r[p]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var e=this,g=e.picker,h=e.getRawValue(),i=e.value;if(e.getDisplayValue()!==h){i=h;e.value=e.displayTplData=e.valueModels=null;if(g){e.ignoreSelection++;g.getSelectionModel().deselectAll();e.ignoreSelection--}}return i},getSubmitValue:function(){return this.getValue()},isEqual:function(i,j){var g=Ext.Array.from,k,h;i=g(i);j=g(j);h=i.length;if(h!==j.length){return false}for(k=0;k<h;k++){if(j[k]!==i[k]){return false}}return true},clearValue:function(){this.setValue([])},syncSelection:function(){var j=this,i=Ext.Array,g=j.picker,k,h;if(g){k=[];i.forEach(j.valueModels||[],function(a){if(a&&a.isModel&&j.store.indexOf(a)>=0){k.push(a)}});j.ignoreSelection++;h=g.getSelectionModel();h.deselectAll();if(k.length){h.select(k)}j.ignoreSelection--}}});Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month"><a href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<button id="{id}-prevEl" class="{baseCls}-yearnav-prev"></button>','<button id="{id}-nextEl" class="{baseCls}-yearnav-next"></button>',"</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year"><a href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons"></div>',"</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:true,width:178,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var b=this;
b.selectedCls=b.baseCls+"-selected";b.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick");if(b.small){b.addCls(b.smallCls)}b.setValue(b.value);b.activeYear=b.getYear(new Date().getFullYear()-4,-4);this.callParent()},onRender:function(m,p){var k=this,n=0,i=[],j=Ext.Date.getShortMonthName,l=k.monthOffset;for(;n<l;++n){i.push(j(n),j(n+l))}Ext.apply(k.renderData,{months:i,years:k.getYears(),showButtons:k.showButtons});k.addChildEls("bodyEl","prevEl","nextEl","buttonsEl");k.callParent(arguments)},afterRender:function(){var d=this,e=d.bodyEl,g=d.buttonsEl;d.callParent();d.mon(e,"click",d.onBodyClick,d);d.mon(e,"dblclick",d.onBodyClick,d);d.years=e.select("."+d.baseCls+"-year a");d.months=e.select("."+d.baseCls+"-month a");if(d.showButtons){d.okBtn=Ext.create("Ext.button.Button",{text:d.okText,renderTo:g,handler:d.onOkClick,scope:d});d.cancelBtn=Ext.create("Ext.button.Button",{text:d.cancelText,renderTo:g,handler:d.onCancelClick,scope:d})}d.backRepeater=Ext.create("Ext.util.ClickRepeater",d.prevEl,{handler:Ext.Function.bind(d.adjustYear,d,[-d.totalYears])});d.prevEl.addClsOnOver(d.baseCls+"-yearnav-prev-over");d.nextRepeater=Ext.create("Ext.util.ClickRepeater",d.nextEl,{handler:Ext.Function.bind(d.adjustYear,d,[d.totalYears])});d.nextEl.addClsOnOver(d.baseCls+"-yearnav-next-over");d.updateBody()},setValue:function(l){var m=this,k=m.activeYear,j=m.monthOffset,h,i;if(!l){m.value=[null,null]}else{if(Ext.isDate(l)){m.value=[l.getMonth(),l.getFullYear()]}else{m.value=[l[0],l[1]]}}if(m.rendered){h=m.value[1];if(h!==null){if((h<k||h>k+m.yearOffset)){m.activeYear=h-m.yearOffset+1}}m.updateBody()}return m},getValue:function(){return this.value},hasSelection:function(){var b=this.value;return b[0]!==null&&b[1]!==null},getYears:function(){var l=this,k=l.yearOffset,j=l.activeYear,i=j+k,m=j,h=[];for(;m<i;++m){h.push(m,m+k)}return h},updateBody:function(){var p=this,s=p.years,t=p.months,l=p.getYears(),k=p.selectedCls,n=p.getYear(null),r=p.value[0],m=p.monthOffset,q;if(p.rendered){s.removeCls(k);t.removeCls(k);s.each(function(a,b,c){q=l[c];a.dom.innerHTML=q;if(q==n){a.dom.className=k}});if(r!==null){if(r<m){r=r*2}else{r=(r-m)*2+1}t.item(r).addCls(k)}}},getYear:function(e,g){var d=this.value[1];g=g||0;return d===null?e:d+g},onBodyClick:function(h,e){var i=this,g=h.type=="dblclick";if(h.getTarget("."+i.baseCls+"-month")){h.stopEvent();i.onMonthClick(e,g)}else{if(h.getTarget("."+i.baseCls+"-year")){h.stopEvent();i.onYearClick(e,g)}}},adjustYear:function(b){if(typeof b!="number"){b=this.totalYears}this.activeYear+=b;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(g,e){var d=this;d.value[0]=d.resolveOffset(d.months.indexOf(g),d.monthOffset);d.updateBody();d.fireEvent("month"+(e?"dbl":"")+"click",d,d.value);d.fireEvent("select",d,d.value)},onYearClick:function(g,e){var d=this;d.value[1]=d.activeYear+d.resolveOffset(d.years.indexOf(g),d.yearOffset);d.updateBody();d.fireEvent("year"+(e?"dbl":"")+"click",d,d.value);d.fireEvent("select",d,d.value)},resolveOffset:function(d,c){if(d%2===0){return(d/2)}else{return c+Math.floor(d/2)}},beforeDestroy:function(){var b=this;b.years=b.months=null;Ext.destroyMembers(b,"backRepeater","nextRepeater","okBtn","cancelBtn");b.callParent()}});Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.EventObject","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",renderTpl:['<div class="{cls}" id="{id}" role="grid" title="{ariaTitle} {value:this.longDay}">','<div role="presentation" class="{baseCls}-header">','<div class="{baseCls}-prev"><a id="{id}-prevEl" href="#" role="button" title="{prevText}"></a></div>','<div class="{baseCls}-month" id="{id}-middleBtnEl"></div>','<div class="{baseCls}-next"><a id="{id}-nextEl" href="#" role="button" title="{nextText}"></a></div>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="presentation">','<thead role="presentation"><tr role="presentation">','<tpl for="dayNames">','<th role="columnheader" title="{.}"><span>{.:this.firstInitial}</span></th>',"</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="presentation">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" href="#" hidefocus="on" class="{parent.baseCls}-date" tabIndex="1">','<em role="presentation"><span role="presentation"></span></em>',"</a>","</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer"></div>',"</tpl>","</div>",{firstInitial:function(b){return b.substr(0,1)
},isEndOfWeek:function(c){c--;var d=c%7===0&&c!==0;return d?'</tr><tr role="row">':""},longDay:function(b){return Ext.Date.format(b,this.longDayFormat)}}],ariaTitle:"Date Picker",todayText:"Today",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,disableAnim:false,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:false,focusOnSelect:true,width:178,initHour:12,numDays:42,initComponent:function(){var c=this,d=Ext.Date.clearTime;c.selectedCls=c.baseCls+"-selected";c.disabledCellCls=c.baseCls+"-disabled";c.prevCls=c.baseCls+"-prevday";c.activeCls=c.baseCls+"-active";c.nextCls=c.baseCls+"-prevday";c.todayCls=c.baseCls+"-today";c.dayNames=c.dayNames.slice(c.startDay).concat(c.dayNames.slice(0,c.startDay));this.callParent();c.value=c.value?d(c.value,true):d(new Date());c.addEvents("select");c.initDisabledDays()},onRender:function(g,h){var j=this,i=new Array(j.numDays),k=Ext.Date.format(new Date(),j.format);Ext.applyIf(j,{renderData:{}});Ext.apply(j.renderData,{dayNames:j.dayNames,ariaTitle:j.ariaTitle,value:j.value,showToday:j.showToday,prevText:j.prevText,nextText:j.nextText,days:i});j.getTpl("renderTpl").longDayFormat=j.longDayFormat;j.addChildEls("eventEl","prevEl","nextEl","middleBtnEl","footerEl");this.callParent(arguments);j.el.unselectable();j.cells=j.eventEl.select("tbody td");j.textNodes=j.eventEl.query("tbody td span");j.monthBtn=Ext.create("Ext.button.Split",{text:"",tooltip:j.monthYearText,renderTo:j.middleBtnEl});j.todayBtn=Ext.create("Ext.button.Button",{renderTo:j.footerEl,text:Ext.String.format(j.todayText,k),tooltip:Ext.String.format(j.todayTip,k),handler:j.selectToday,scope:j})},initEvents:function(){var g=this,e=Ext.Date,d=e.DAY;this.callParent();g.prevRepeater=Ext.create("Ext.util.ClickRepeater",g.prevEl,{handler:g.showPrevMonth,scope:g,preventDefault:true,stopDefault:true});g.nextRepeater=Ext.create("Ext.util.ClickRepeater",g.nextEl,{handler:g.showNextMonth,scope:g,preventDefault:true,stopDefault:true});g.keyNav=Ext.create("Ext.util.KeyNav",g.eventEl,Ext.apply({scope:g,left:function(a){if(a.ctrlKey){g.showPrevMonth()}else{g.update(e.add(g.activeDate,d,-1))}},right:function(a){if(a.ctrlKey){g.showNextMonth()}else{g.update(e.add(g.activeDate,d,1))}},up:function(a){if(a.ctrlKey){g.showNextYear()}else{g.update(e.add(g.activeDate,d,-7))}},down:function(a){if(a.ctrlKey){g.showPrevYear()}else{g.update(e.add(g.activeDate,d,7))}},pageUp:g.showNextMonth,pageDown:g.showPrevMonth,enter:function(a){a.stopPropagation();return true}},g.keyNavConfig));if(g.showToday){g.todayKeyListener=g.eventEl.addKeyListener(Ext.EventObject.SPACE,g.selectToday,g)}g.mon(g.eventEl,"mousewheel",g.handleMouseWheel,g);g.mon(g.eventEl,"click",g.handleDateClick,g,{delegate:"a."+g.baseCls+"-date"});g.mon(g.monthBtn,"click",g.showMonthPicker,g);g.mon(g.monthBtn,"arrowclick",g.showMonthPicker,g);g.update(g.value)},initDisabledDays:function(){var h=this,e=h.disabledDates,i="(?:",g;if(!h.disabledDatesRE&&e){g=e.length-1;Ext.each(e,function(a,b){i+=Ext.isDate(a)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(a,h.format))+"$":e[b];if(b!=g){i+="|"}},h);h.disabledDatesRE=new RegExp(i+")")}},setDisabledDates:function(d){var c=this;if(Ext.isArray(d)){c.disabledDates=d;c.disabledDatesRE=null}else{c.disabledDatesRE=d}c.initDisabledDays();c.update(c.value,true);return c},setDisabledDays:function(b){this.disabledDays=b;return this.update(this.value,true)},setMinDate:function(b){this.minDate=b;return this.update(this.value,true)},setMaxDate:function(b){this.maxDate=b;return this.update(this.value,true)},setValue:function(b){this.value=Ext.Date.clearTime(b,true);return this.update(this.value)},getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent();this.setDisabledStatus(false);this.update(this.activeDate)
},onDisable:function(){this.callParent();this.setDisabledStatus(true)},setDisabledStatus:function(d){var c=this;c.keyNav.setDisabled(d);c.prevRepeater.setDisabled(d);c.nextRepeater.setDisabled(d);if(c.showToday){c.todayKeyListener.setDisabled(d);c.todayBtn.setDisabled(d)}},getActive:function(){return this.activeDate||this.value},runAnimation:function(g){var d=this.monthPicker,e={duration:200,callback:function(){if(g){d.hide()}else{d.show()}}};if(g){d.el.slideOut("t",e)}else{d.el.slideIn("t",e)}},hideMonthPicker:function(e){var g=this,d=g.monthPicker;if(d){if(g.shouldAnimate(e)){g.runAnimation(true)}else{d.hide()}}return g},showMonthPicker:function(e){var g=this,d;if(g.rendered&&!g.disabled){d=g.createMonthPicker();d.setValue(g.getActive());d.setSize(g.getSize());d.setPosition(-1,-1);if(g.shouldAnimate(e)){g.runAnimation(false)}else{d.show()}}return g},shouldAnimate:function(b){return Ext.isDefined(b)?b:!this.disableAnim},createMonthPicker:function(){var c=this,d=c.monthPicker;if(!d){c.monthPicker=d=Ext.create("Ext.picker.Month",{renderTo:c.el,floating:true,shadow:false,small:c.showToday===false,listeners:{scope:c,cancelclick:c.onCancelClick,okclick:c.onOkClick,yeardblclick:c.onOkClick,monthdblclick:c.onOkClick}});if(!c.disableAnim){d.el.setStyle("display","none")}c.on("beforehide",Ext.Function.bind(c.hideMonthPicker,c,[false]))}return d},onOkClick:function(h,k){var l=this,j=k[0],m=k[1],i=new Date(m,j,l.getActive().getDate());if(i.getMonth()!==j){i=new Date(m,j,1).getLastDateOfMonth()}l.update(i);l.hideMonthPicker()},onCancelClick:function(){this.hideMonthPicker()},showPrevMonth:function(b){return this.update(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(b){return this.update(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){this.update(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){this.update(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(d){d.stopEvent();if(!this.disabled){var c=d.getWheelDelta();if(c>0){this.showPrevMonth()}else{if(c<0){this.showNextMonth()}}}},handleDateClick:function(h,g){var i=this,e=i.handler;h.stopEvent();if(!i.disabled&&g.dateValue&&!Ext.fly(g.parentNode).hasCls(i.disabledCellCls)){i.cancelFocus=i.focusOnSelect===false;i.setValue(new Date(g.dateValue));delete i.cancelFocus;i.fireEvent("select",i,i.value);if(e){e.call(i.scope||i,i,i.value)}i.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var g=this,e=g.todayBtn,d=g.handler;if(e&&!e.disabled){g.setValue(Ext.Date.clearTime(new Date()));g.fireEvent("select",g,g.value);if(d){d.call(g.scope||g,g,g.value)}g.onSelect()}return g},selectedUpdate:function(m,j){var k=this,l=m.getTime(),h=k.cells,i=k.selectedCls;h.removeCls(i);h.each(function(a){if(a.dom.firstChild.dateValue==l){k.el.dom.setAttribute("aria-activedescendent",a.dom.id);a.addCls(i);if(k.isVisible()&&!k.cancelFocus){Ext.fly(a.dom.firstChild).focus(50)}return false}},this)},fullUpdate:function(X,af){var Q=this,ak=Q.cells.elements,am=Q.textNodes,M=Q.disabledCellCls,ad=Ext.Date,L=0,S=0,al=Q.isVisible(),P=+ad.clearTime(X,true),ab=+ad.clearTime(new Date()),R=Q.minDate?ad.clearTime(Q.minDate,true):Number.NEGATIVE_INFINITY,N=Q.maxDate?ad.clearTime(Q.maxDate,true):Number.POSITIVE_INFINITY,V=Q.disabledDatesRE,T=Q.disabledDatesText,K=Q.disabledDays?Q.disabledDays.join(""):false,Z=Q.disabledDaysText,i=Q.format,ag=ad.getDaysInMonth(X),Y=ad.getFirstDateOfMonth(X),aj=Y.getDay()-Q.startDay,ac=ad.add(X,ad.MONTH,-1),ao=Q.longDayFormat,ah,W,ap,O,ae,aa,an,ai,U;if(aj<0){aj+=7}ag+=aj;ah=ad.getDaysInMonth(ac)-aj;W=new Date(ac.getFullYear(),ac.getMonth(),ah,Q.initHour);if(Q.showToday){O=ad.clearTime(new Date());ap=(O<R||O>N||(V&&i&&V.test(ad.dateFormat(O,i)))||(K&&K.indexOf(O.getDay())!=-1));if(!Q.disabled){Q.todayBtn.setDisabled(ap);Q.todayKeyListener.setDisabled(ap)}}ae=function(a){U=+ad.clearTime(W,true);a.title=ad.format(W,ao);a.firstChild.dateValue=U;if(U==ab){a.className+=" "+Q.todayCls;a.title=Q.todayText}if(U==P){a.className+=" "+Q.selectedCls;Q.el.dom.setAttribute("aria-activedescendant",a.id);
if(al&&Q.floating){Ext.fly(a.firstChild).focus(50)}}if(U<R){a.className=M;a.title=Q.minText;return}if(U>N){a.className=M;a.title=Q.maxText;return}if(K){if(K.indexOf(W.getDay())!=-1){a.title=Z;a.className=M}}if(V&&i){ai=ad.dateFormat(W,i);if(V.test(ai)){a.title=T.replace("%0",ai);a.className=M}}};for(;L<Q.numDays;++L){if(L<aj){aa=(++ah);an=Q.prevCls}else{if(L>=ag){aa=(++S);an=Q.nextCls}else{aa=L-aj+1;an=Q.activeCls}}am[L].innerHTML=aa;ak[L].className=an;W.setDate(W.getDate()+1);ae(ak[L])}Q.monthBtn.setText(Q.monthNames[X.getMonth()]+" "+X.getFullYear())},update:function(g,h){var e=this,i=e.activeDate;if(e.rendered){e.activeDate=g;if(!h&&i&&e.el&&i.getMonth()==g.getMonth()&&i.getFullYear()==g.getFullYear()){e.selectedUpdate(g,i)}else{e.fullUpdate(g,i)}}return e},beforeDestroy:function(){var b=this;if(b.rendered){Ext.destroy(b.todayKeyListener,b.keyNav,b.monthPicker,b.monthBtn,b.nextRepeater,b.prevRepeater,b.todayBtn);delete b.textNodes;delete b.cells.elements}b.callParent()},onShow:function(){this.callParent(arguments);if(this.focusOnShow){this.focus()}}},function(){var b=this.prototype;b.monthNames=Ext.Date.monthNames;b.dayNames=Ext.Date.dayNames;b.format=Ext.Date.defaultFormat});Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:true,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,initComponent:function(){var h=this,e=Ext.isString,i,g;i=h.minValue;g=h.maxValue;if(e(i)){h.minValue=h.parseDate(i)}if(e(g)){h.maxValue=h.parseDate(g)}h.disabledDatesRE=null;h.initDisabledDays();h.callParent()},initValue:function(){var d=this,c=d.value;if(Ext.isString(c)){d.value=d.rawToValue(c)}d.callParent()},initDisabledDays:function(){if(this.disabledDates){var d=this.disabledDates,e=d.length-1,g="(?:";Ext.each(d,function(a,b){g+=Ext.isDate(a)?"^"+Ext.String.escapeRegex(a.dateFormat(this.format))+"$":d[b];if(b!==e){g+="|"}},this);this.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(e){var g=this,d=g.picker;g.disabledDates=e;g.initDisabledDays();if(d){d.setDisabledDates(g.disabledDatesRE)}},setDisabledDays:function(d){var c=this.picker;this.disabledDays=d;if(c){c.setDisabledDays(d)}},setMinValue:function(i){var e=this,g=e.picker,h=(Ext.isString(i)?e.parseDate(i):i);e.minValue=h;if(g){g.minText=Ext.String.format(e.minText,e.formatDate(e.minValue));g.setMinDate(h)}},setMaxValue:function(i){var e=this,g=e.picker,h=(Ext.isString(i)?e.parseDate(i):i);e.maxValue=h;if(g){g.maxText=Ext.String.format(e.maxText,e.formatDate(e.maxValue));g.setMaxDate(h)}},getErrors:function(i){var y=this,s=Ext.String.format,x=Ext.Date.clearTime,t=y.callParent(arguments),u=y.disabledDays,C=y.disabledDatesRE,v=y.minValue,z=y.maxValue,A=u?u.length:0,B=0,F,E,w,D;i=y.formatDate(i||y.processRawValue(y.getRawValue()));if(i===null||i.length<1){return t}F=i;i=y.parseDate(i);if(!i){t.push(s(y.invalidText,F,y.format));return t}D=i.getTime();if(v&&D<x(v).getTime()){t.push(s(y.minText,y.formatDate(v)))}if(z&&D>x(z).getTime()){t.push(s(y.maxText,y.formatDate(z)))}if(u){w=i.getDay();for(;B<A;B++){if(w===u[B]){t.push(y.disabledDaysText);break}}}E=y.formatDate(i);if(C&&C.test(E)){t.push(s(y.disabledDatesText,E))}return t},rawToValue:function(b){return this.parseDate(b)||b||null},valueToRaw:function(b){return this.formatDate(this.parseDate(b))},safeParse:function(k,j){var l=this,h=Ext.Date,m,i=null;if(h.formatContainsHourInfo(j)){i=h.parse(k,j)}else{m=h.parse(k+" "+l.initTime,j+" "+l.initTimeFormat);if(m){i=h.clearTime(m)}}return i},getSubmitValue:function(){var c=this.submitFormat||this.format,d=this.getValue();
return d?Ext.Date.format(d,c):""},parseDate:function(m){if(!m||Ext.isDate(m)){return m}var n=this,k=n.safeParse(m,n.format),i=n.altFormats,l=n.altFormatsArray,p=0,j;if(!k&&i){l=l||i.split("|");j=l.length;for(;p<j&&!k;++p){k=n.safeParse(m,l[p])}}return k},formatDate:function(b){return Ext.isDate(b)?Ext.Date.dateFormat(b,this.format):b},createPicker:function(){var d=this,c=Ext.String.format;return Ext.create("Ext.picker.Date",{pickerField:d,ownerCt:d.ownerCt,renderTo:document.body,floating:true,hidden:true,focusOnShow:true,minDate:d.minValue,maxDate:d.maxValue,disabledDatesRE:d.disabledDatesRE,disabledDatesText:d.disabledDatesText,disabledDays:d.disabledDays,disabledDaysText:d.disabledDaysText,format:d.format,showToday:d.showToday,startDay:d.startDay,minText:c(d.minText,d.formatDate(d.minValue)),maxText:c(d.maxText,d.formatDate(d.maxValue)),listeners:{scope:d,select:d.onSelect},keyNavConfig:{esc:function(){d.collapse()}}})},onSelect:function(e,g){var d=this;d.setValue(g);d.fireEvent("select",d,g);d.collapse()},onExpand:function(){var b=this.getValue();this.picker.setValue(Ext.isDate(b)?b:new Date())},onCollapse:function(){this.focus(false,60)},beforeBlur:function(){var g=this,e=g.parseDate(g.getRawValue()),d=g.focusTask;if(d){d.cancel()}if(e){g.setValue(e)}}});Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" class="{fieldCls}"></div>',{compiled:true,disableFormats:true}],fieldCls:Ext.baseCSSPrefix+"form-display-field",htmlEncode:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,isValid:function(){return true},validate:function(){return true},getRawValue:function(){return this.rawValue},setRawValue:function(c){var d=this;c=Ext.value(c,"");d.rawValue=c;if(d.rendered){d.inputEl.dom.innerHTML=d.htmlEncode?Ext.util.Format.htmlEncode(c):c}return c},getContentTarget:function(){return this.inputEl}});Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Text",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],uses:["Ext.button.Button","Ext.layout.component.field.File"],buttonText:"Browse...",buttonOnly:false,buttonMargin:3,fieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:true,componentLayout:"filefield",onRender:function(){var d=this,c;d.callParent(arguments);d.createButton();d.createFileInput();if(d.disabled){d.disableItems()}c=d.inputEl;c.dom.removeAttribute("name");if(d.buttonOnly){c.setDisplayed(false)}},createButton:function(){var b=this;b.button=Ext.widget("button",Ext.apply({ui:b.ui,renderTo:b.bodyEl,text:b.buttonText,cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:false,style:b.buttonOnly?"":"margin-left:"+b.buttonMargin+"px"},b.buttonConfig))},createFileInput:function(){var b=this;b.fileInputEl=b.button.el.createChild({name:b.getName(),cls:Ext.baseCSSPrefix+"form-file-input",tag:"input",type:"file",size:1}).on("change",b.onFileChange,b)},onFileChange:function(){this.lastValue=null;Ext.form.field.File.superclass.setValue.call(this,this.fileInputEl.dom.value)},setValue:Ext.emptyFn,reset:function(){var b=this;if(b.rendered){b.fileInputEl.remove();b.createFileInput();b.inputEl.dom.value=""}b.callParent()},onDisable:function(){this.callParent();this.disableItems()},disableItems:function(){var c=this.fileInputEl,d=this.button;if(c){c.dom.disabled=true}if(d){d.disable()}},onEnable:function(){var b=this;b.callParent();b.fileInputEl.dom.disabled=false;b.button.enable()},isFileUpload:function(){return true},extractFileInput:function(){var b=this.fileInputEl.dom;this.reset();return b},onDestroy:function(){Ext.destroyMembers(this,"fileInputEl","button");this.callParent()}});Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:true,initComponent:function(){this.formItemCls+="-hidden";this.callParent()},isEqual:function(c,d){return this.isEqualAsString(c,d)
},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.}" hidefocus="on">','<em><span style="background:#{.}" unselectable="on">&#160;</span></em>',"</a>","</tpl>"],initComponent:function(){var b=this;b.callParent(arguments);b.addEvents("select");if(b.handler){b.on("select",b.handler,b.scope,true)}},onRender:function(i,e){var h=this,g=h.clickEvent;Ext.apply(h.renderData,{itemCls:h.itemCls,colors:h.colors});h.callParent(arguments);h.mon(h.el,g,h.handleClick,h,{delegate:"a"});if(g!="click"){h.mon(h.el,"click",Ext.emptyFn,h,{delegate:"a",stopEvent:true})}},afterRender:function(){var d=this,c;d.callParent(arguments);if(d.value){c=d.value;d.value=null;d.select(c,true)}},handleClick:function(i,h){var e=this,g;i.stopEvent();if(!e.disabled){g=h.className.match(e.colorRe)[1];e.select(g.toUpperCase())}},select:function(h,i){var l=this,j=l.selectedCls,k=l.value,m;h=h.replace("#","");if(!l.rendered){l.value=h;return}if(h!=k||l.allowReselect){m=l.el;if(l.value){m.down("a.color-"+k).removeCls(j)}m.down("a.color-"+h).addCls(j);l.value=h;if(i!==true){l.fireEvent("select",l,h)}}},getValue:function(){return this.value||null}});Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.Field",alias:["layout.htmleditor"],type:"htmleditor",sizeBodyContents:function(t,l){var p=this,s=p.owner,k=s.bodyEl,n=s.getToolbar(),m=s.textareaEl,r=s.iframeEl,q;if(Ext.isNumber(t)){t-=k.getFrameWidth("lr")}n.setWidth(t);m.setWidth(t);r.setWidth(t);if(Ext.isNumber(l)){q=l-n.getHeight()-k.getFrameWidth("tb");m.setHeight(q);r.setHeight(q)}}});Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],fieldSubTpl:['<div id="{cmpId}-toolbarWrap" class="{toolbarWrapCls}"></div>','<textarea id="{cmpId}-textareaEl" name="{name}" tabIndex="-1" class="{textareaCls}" ','style="{size}" autocomplete="off"></textarea>','<iframe id="{cmpId}-iframeEl" name="{iframeName}" frameBorder="0" style="overflow:auto;{size}" src="{iframeSrc}"></iframe>',{compiled:true,disableFormats:true}],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:(Ext.isOpera||Ext.isIE6)?"&#160;":"&#8203;",fieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",componentLayout:"htmleditor",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,initComponent:function(){var b=this;b.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");b.callParent(arguments);b.initLabelable();b.initField()},createToolbar:function(p){var m=this,n=[],k=Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.isEnabled(),q=Ext.baseCSSPrefix,r,l,s;function t(a,c,b){return{itemId:a,cls:q+"btn-icon",iconCls:q+"edit-"+a,enableToggle:c!==false,scope:p,handler:b||p.relayBtnCmd,clickEvent:"mousedown",tooltip:k?p.buttonTips[a]||s:s,overflowText:p.buttonTips[a].title||s,tabIndex:-1}
}if(m.enableFont&&!Ext.isSafari2){r=Ext.widget("component",{renderTpl:['<select id="{id}-selectEl" class="{cls}">','<tpl for="fonts">','<option value="{[values.toLowerCase()]}" style="font-family:{.}"<tpl if="values.toLowerCase()==parent.defaultFont"> selected</tpl>>{.}</option>',"</tpl>","</select>"],renderData:{cls:q+"font-select",fonts:m.fontFamilies,defaultFont:m.defaultFont},childEls:["selectEl"],onDisable:function(){var a=this.selectEl;if(a){a.dom.disabled=true}Ext.Component.superclass.onDisable.apply(this,arguments)},onEnable:function(){var a=this.selectEl;if(a){a.dom.disabled=false}Ext.Component.superclass.onEnable.apply(this,arguments)}});n.push(r,"-")}if(m.enableFormat){n.push(t("bold"),t("italic"),t("underline"))}if(m.enableFontSize){n.push("-",t("increasefontsize",false,m.adjustFont),t("decreasefontsize",false,m.adjustFont))}if(m.enableColors){n.push("-",{itemId:"forecolor",cls:q+"btn-icon",iconCls:q+"edit-forecolor",overflowText:p.buttonTips.forecolor.title,tooltip:k?p.buttonTips.forecolor||s:s,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(a,b){m.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+b:b);m.deferFocus();this.up("menu").hide()}}]})},{itemId:"backcolor",cls:q+"btn-icon",iconCls:q+"edit-backcolor",overflowText:p.buttonTips.backcolor.title,tooltip:k?p.buttonTips.backcolor||s:s,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(a,b){if(Ext.isGecko){m.execCmd("useCSS",false);m.execCmd("hilitecolor",b);m.execCmd("useCSS",true);m.deferFocus()}else{m.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+b:b);m.deferFocus()}this.up("menu").hide()}}]})})}if(m.enableAlignments){n.push("-",t("justifyleft"),t("justifycenter"),t("justifyright"))}if(!Ext.isSafari2){if(m.enableLinks){n.push("-",t("createlink",false,m.createLink))}if(m.enableLists){n.push("-",t("insertorderedlist"),t("insertunorderedlist"))}if(m.enableSourceEdit){n.push("-",t("sourceedit",true,function(a){m.toggleSourceEdit(!m.sourceEditMode)}))}}l=Ext.widget("toolbar",{renderTo:m.toolbarWrap,enableOverflow:true,items:n});if(r){m.fontSelect=r.selectEl;m.mon(m.fontSelect,"change",function(){m.relayCmd("fontname",m.fontSelect.dom.value);m.deferFocus()})}m.mon(l.el,"click",function(a){a.preventDefault()});m.toolbar=l},onDisable:function(){this.bodyEl.mask();this.callParent(arguments)},onEnable:function(){this.bodyEl.unmask();this.callParent(arguments)},setReadOnly:function(i){var j=this,k=j.textareaEl,g=j.iframeEl,h;j.readOnly=i;if(k){k.dom.readOnly=i}if(j.initialized){h=j.getEditorBody();if(Ext.isIE){g.setDisplayed(false);h.contentEditable=!i;g.setDisplayed(true)}else{j.setDesignMode(!i)}if(h){h.style.cursor=i?"default":"text"}j.disableItems(i)}},getDocMarkup:function(){var c=this,d=c.iframeEl.getHeight()-c.iframePad*2;return Ext.String.format('<html><head><style type="text/css">body{border:0;margin:0;padding:{0}px;height:{1}px;box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;cursor:text}</style></head><body></body></html>',c.iframePad,d)},getEditorBody:function(){var b=this.getDoc();return b.body||b.documentElement},getDoc:function(){return(!Ext.isIE&&this.iframeEl.dom.contentDocument)||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},onRender:function(){var b=this;b.onLabelableRender();b.addChildEls("toolbarWrap","iframeEl","textareaEl");b.callParent(arguments);b.textareaEl.dom.value=b.value||"";b.monitorTask=Ext.TaskManager.start({run:b.checkDesignMode,scope:b,interval:100});b.createToolbar(b);b.disableItems(true)},initRenderTpl:function(){var b=this;if(!b.hasOwnProperty("renderTpl")){b.renderTpl=b.getTpl("labelableRenderTpl")}return b.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getSubTplData:function(){var b=Ext.baseCSSPrefix;
return{cmpId:this.id,id:this.getInputId(),toolbarWrapCls:b+"html-editor-tb",textareaCls:b+"hidden",iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,size:"height:100px;"}},getSubTplMarkup:function(){var b=this.getSubTplData();return this.getTpl("fieldSubTpl").apply(b)},getBodyNaturalWidth:function(){return 565},initFrameDoc:function(){var d=this,g,e;Ext.TaskManager.stop(d.monitorTask);g=d.getDoc();d.win=d.getWin();g.open();g.write(d.getDocMarkup());g.close();e={run:function(){var a=d.getDoc();if(a.body||a.readyState==="complete"){Ext.TaskManager.stop(e);d.setDesignMode(true);Ext.defer(d.initEditor,10,d)}},interval:10,duration:10000,scope:d};Ext.TaskManager.start(e)},checkDesignMode:function(){var d=this,c=d.getDoc();if(c&&(!c.editorInitialized||d.getDesignMode()!=="on")){d.initFrameDoc()}},setDesignMode:function(g){var e=this,d=e.getDoc();if(d){if(e.readOnly){g=false}d.designMode=(/on|true/i).test(String(g).toLowerCase())?"on":"off"}},getDesignMode:function(){var b=this.getDoc();return !b?"":String(b.designMode).toLowerCase()},disableItems:function(b){this.getToolbar().items.each(function(a){if(a.getItemId()!=="sourceedit"){a.setDisabled(b)}})},toggleSourceEdit:function(h){var j=this,l=j.iframeEl,i=j.textareaEl,k=Ext.baseCSSPrefix+"hidden",m=j.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(h)){h=!j.sourceEditMode}j.sourceEditMode=h;if(m.pressed!==h){m.toggle(h)}if(h){j.disableItems(true);j.syncValue();l.addCls(k);i.removeCls(k);i.dom.removeAttribute("tabIndex");i.focus()}else{if(j.initialized){j.disableItems(j.readOnly)}j.pushValue();l.removeCls(k);i.addCls(k);i.dom.setAttribute("tabIndex",-1);j.deferFocus()}j.fireEvent("editmodechange",j,h);j.doComponentLayout()},createLink:function(){var b=prompt(this.createLinkText,this.defaultLinkValue);if(b&&b!=="http://"){this.relayCmd("createlink",b)}},clearInvalid:Ext.emptyFn,setValue:function(g){var d=this,e=d.textareaEl;d.mixins.field.setValue.call(d,g);if(g===null||g===undefined){g=""}if(e){e.dom.value=g}d.pushValue();return this},cleanHtml:function(b){b=String(b);if(Ext.isWebKit){b=b.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")}if(b.charCodeAt(0)===this.defaultValue.replace(/\D/g,"")){b=b.substring(1)}return b},syncValue:function(){var i=this,g,j,h,k;if(i.initialized){g=i.getEditorBody();j=g.innerHTML;if(Ext.isWebKit){h=g.getAttribute("style");k=h.match(/text-align:(.*?);/i);if(k&&k[1]){j='<div style="'+k[0]+'">'+j+"</div>"}}j=i.cleanHtml(j);if(i.fireEvent("beforesync",i,j)!==false){i.textareaEl.dom.value=j;i.fireEvent("sync",i,j)}}},getValue:function(){var d=this,c;if(!d.sourceEditMode){d.syncValue()}c=d.rendered?d.textareaEl.dom.value:d.value;d.value=c;return c},pushValue:function(){var c=this,d;if(c.initialized){d=c.textareaEl.dom.value||"";if(!c.activated&&d.length<1){d=c.defaultValue}if(c.fireEvent("beforepush",c,d)!==false){c.getEditorBody().innerHTML=d;if(Ext.isGecko){c.setDesignMode(false);c.setDesignMode(true)}c.fireEvent("push",c,d)}}},deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var d=this,c=d.win;return c&&!d.sourceEditMode?c:d.textareaEl},initEditor:function(){try{var m=this,n=m.getEditorBody(),e=m.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),k,p;e["background-attachment"]="fixed";n.bgProperties="fixed";Ext.DomHelper.applyStyles(n,e);k=m.getDoc();if(k){try{Ext.EventManager.removeAll(k)}catch(l){}}p=Ext.Function.bind(m.onEditorEvent,m);Ext.EventManager.on(k,{mousedown:p,dblclick:p,click:p,keyup:p,buffer:100});p=m.onRelayedEvent;Ext.EventManager.on(k,{mousedown:p,mousemove:p,mouseup:p,click:p,dblclick:p,scope:m});if(Ext.isGecko){Ext.EventManager.on(k,"keypress",m.applyCommand,m)}if(m.fixKeys){Ext.EventManager.on(k,"keydown",m.fixKeys,m)}Ext.EventManager.on(window,"unload",m.beforeDestroy,m);k.editorInitialized=true;m.initialized=true;m.pushValue();m.setReadOnly(m.readOnly);m.fireEvent("initialize",m)}catch(j){}},beforeDestroy:function(){var h=this,j=h.monitorTask,k,i;if(j){Ext.TaskManager.stop(j)}if(h.rendered){try{k=h.getDoc();if(k){Ext.EventManager.removeAll(k);
for(i in k){if(k.hasOwnProperty(i)){delete k[i]}}}}catch(e){}Ext.destroyMembers(h,"tb","toolbarWrap","iframeEl","textareaEl")}h.callParent()},onRelayedEvent:function(i){var e=this.iframeEl,h=e.getXY(),g=i.getXY();i.xy=[h[0]+g[0],h[1]+g[1]];i.injectEvent(e);i.xy=g},onFirstFocus:function(){var i=this,e,g;i.activated=true;i.disableItems(i.readOnly);if(Ext.isGecko){i.win.focus();e=i.win.getSelection();if(!e.focusNode||e.focusNode.nodeType!==3){g=e.getRangeAt(0);g.selectNodeContents(i.getEditorBody());g.collapse(true);i.deferFocus()}try{i.execCmd("useCSS",true);i.execCmd("styleWithCSS",false)}catch(h){}}i.fireEvent("activate",i)},adjustFont:function(j){var i=j.getItemId()==="increasefontsize"?1:-1,k=this.getDoc().queryCommandValue("FontSize")||"2",h=Ext.isString(k)&&k.indexOf("px")!==-1,g;k=parseInt(k,10);if(h){if(k<=10){k=1+i}else{if(k<=13){k=2+i}else{if(k<=16){k=3+i}else{if(k<=18){k=4+i}else{if(k<=24){k=5+i}else{k=6+i}}}}}k=Ext.Number.constrain(k,1,6)}else{g=Ext.isSafari;if(g){i*=2}k=Math.max(1,k+i)+(g?"px":0)}this.execCmd("FontSize",k)},onEditorEvent:function(b){this.updateToolbar()},updateToolbar:function(){var k=this,l,j,i,m;if(k.readOnly){return}if(!k.activated){k.onFirstFocus();return}l=k.getToolbar().items.map;j=k.getDoc();if(k.enableFont&&!Ext.isSafari2){i=(j.queryCommandValue("FontName")||k.defaultFont).toLowerCase();m=k.fontSelect.dom;if(i!==m.value){m.value=i}}function h(){Ext.Array.forEach(Ext.Array.toArray(arguments),function(a){l[a].toggle(j.queryCommandState(a))})}if(k.enableFormat){h("bold","italic","underline")}if(k.enableAlignments){h("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&k.enableLists){h("insertorderedlist","insertunorderedlist")}Ext.menu.Manager.hideAll();k.syncValue()},relayBtnCmd:function(b){this.relayCmd(b.getItemId())},relayCmd:function(c,d){Ext.defer(function(){var a=this;a.focus();a.execCmd(c,d);a.updateToolbar()},10,this)},execCmd:function(j,k){var g=this,i=g.getDoc(),h;i.execCommand(j,false,k===h?null:k);g.syncValue()},applyCommand:function(i){if(i.ctrlKey){var e=this,h=i.getCharCode(),c;if(h>0){h=String.fromCharCode(h);switch(h){case"b":c="bold";break;case"i":c="italic";break;case"u":c="underline";break}if(c){e.win.focus();e.execCmd(c);e.deferFocus();i.preventDefault()}}}},insertAtCursor:function(g){var d=this,e;if(d.activated){d.win.focus();if(Ext.isIE){e=d.getDoc().selection.createRange();if(e){e.pasteHTML(g);d.syncValue();d.deferFocus()}}else{d.execCmd("InsertHTML",g);d.deferFocus()}}},fixKeys:function(){if(Ext.isIE){return function(j){var m=this,e=j.getKey(),k=m.getDoc(),i,l;if(e===j.TAB){j.stopEvent();i=k.selection.createRange();if(i){i.collapse(true);i.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");m.deferFocus()}}else{if(e===j.ENTER){i=k.selection.createRange();if(i){l=i.parentElement();if(!l||l.tagName.toLowerCase()!=="li"){j.stopEvent();i.pasteHTML("<br />");i.collapse(false);i.select()}}}}}}if(Ext.isOpera){return function(c){var d=this;if(c.getKey()===c.TAB){c.stopEvent();d.win.focus();d.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");d.deferFocus()}}}if(Ext.isWebKit){return function(g){var d=this,e=g.getKey();if(e===g.TAB){g.stopEvent();d.execCmd("InsertText","\t");d.deferFocus()}else{if(e===g.ENTER){g.stopEvent();d.execCmd("InsertHtml","<br /><br />");d.deferFocus()}}}}return null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}});
Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:true,inputType:"radio",ariaRole:"radio",getGroupValue:function(){var b=this.getManager().getChecked(this.name);return b?b.inputValue:null},onBoxClick:function(c){var d=this;if(!d.disabled&&!d.readOnly){this.setValue(true)}},setValue:function(e){var d=this,g;if(Ext.isBoolean(e)){d.callParent(arguments)}else{g=d.getManager().getWithValue(d.name,e).getAt(0);if(g){g.setValue(true)}}return d},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(d,e){var g=this;g.callParent(arguments);if(d){this.getManager().getByName(g.name).each(function(a){if(a!==g){a.setValue(false)}},g)}},getManager:function(){return Ext.form.RadioManager}});Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:false,initComponent:function(){var i=this,g=Ext.Date,e=g.clearTime,h=i.initDate;i.absMin=e(new Date(h[0],h[1],h[2]));i.absMax=g.add(e(new Date(h[0],h[1],h[2])),"mi",(24*60)-1);i.store=i.createStore();i.updateList();i.callParent()},setMinValue:function(b){this.minValue=b;this.updateList()},setMaxValue:function(b){this.maxValue=b;this.updateList()},normalizeDate:function(d){var c=this.initDate;d.setFullYear(c[0],c[1],c[2]);return d},updateList:function(){var g=this,d=g.normalizeDate(g.minValue||g.absMin),e=g.normalizeDate(g.maxValue||g.absMax);g.store.filterBy(function(b){var a=b.get("date");return a>=d&&a<=e})},createStore:function(){var j=this,k=Ext.Date,i=[],g=j.absMin,h=j.absMax;while(g<=h){i.push({disp:k.dateFormat(g,j.format),date:g});g=k.add(g,"mi",j.increment)}return Ext.create("Ext.data.Store",{fields:["disp","date"],data:i})}});Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.Picker",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:true,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){var g=this,d=g.minValue,e=g.maxValue;if(d){g.setMinValue(d)}if(e){g.setMaxValue(e)}this.callParent()},initValue:function(){var d=this,c=d.value;if(Ext.isString(c)){d.value=d.rawToValue(c)}d.callParent()},setMinValue:function(g){var d=this,e=d.picker;d.setLimit(g,true);if(e){e.setMinValue(d.minValue)}},setMaxValue:function(g){var d=this,e=d.picker;d.setLimit(g,false);if(e){e.setMaxValue(d.maxValue)}},setLimit:function(d,i){var h=this,j,k;if(Ext.isString(d)){j=h.parseDate(d)}else{if(Ext.isDate(d)){j=d}}if(j){k=Ext.Date.clearTime(new Date(h.initDate));k.setHours(j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds());h[i?"minValue":"maxValue"]=k}},rawToValue:function(b){return this.parseDate(b)||b||null},valueToRaw:function(b){return this.formatDate(this.parseDate(b))},getErrors:function(n){var i=this,l=Ext.String.format,k=i.callParent(arguments),p=i.minValue,m=i.maxValue,j;n=i.formatDate(n||i.processRawValue(i.getRawValue()));if(n===null||n.length<1){return k}j=i.parseDate(n);if(!j){k.push(l(i.invalidText,n,i.format));return k}if(p&&j<p){k.push(l(i.minText,i.formatDate(p)))}if(m&&j>m){k.push(l(i.maxText,i.formatDate(m)))}return k},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(m){if(!m||Ext.isDate(m)){return m}var n=this,k=n.safeParse(m,n.format),i=n.altFormats,l=n.altFormatsArray,p=0,j;if(!k&&i){l=l||i.split("|");
j=l.length;for(;p<j&&!k;++p){k=n.safeParse(m,l[p])}}return k},safeParse:function(k,j){var l=this,h=Ext.Date,m,i=null;if(h.formatContainsDateInfo(j)){i=h.parse(k,j)}else{m=h.parse(l.initDate+" "+k,l.initDateFormat+" "+j);if(m){i=m}}return i},getSubmitValue:function(){var e=this,g=e.submitFormat||e.format,d=e.getValue();return d?Ext.Date.format(d,g):null},createPicker:function(){var c=this,d=Ext.create("Ext.picker.Time",{pickerField:c,selModel:{mode:"SINGLE"},floating:true,hidden:true,minValue:c.minValue,maxValue:c.maxValue,increment:c.increment,format:c.format,ownerCt:this.ownerCt,renderTo:document.body,maxHeight:c.pickerMaxHeight,focusOnToFront:false});c.mon(d.getSelectionModel(),{selectionchange:c.onListSelect,scope:c});return d},onExpand:function(){var l=this,i=l.pickerKeyNav,m=l.selectOnTab,h=l.getPicker(),k=h.getSelectionModel().lastSelected,j;if(!i){i=l.pickerKeyNav=Ext.create("Ext.view.BoundListKeyNav",this.inputEl,{boundList:h,forceKeyDown:true,tab:function(a){if(m){if(l.picker.highlightedItem){this.selectHighlighted(a)}else{l.collapse()}l.triggerBlur()}return true}});if(m){l.ignoreMonitorTab=true}}Ext.defer(i.enable,1,i);if(k){j=h.getNode(k);if(j){h.highlightItem(j);h.el.scrollChildIntoView(j,false)}}},onCollapse:function(){var c=this,d=c.pickerKeyNav;if(d){d.disable();c.ignoreMonitorTab=false}},onChange:function(){var c=this,d=c.picker;c.callParent(arguments);if(d){d.clearHighlight()}},onListSelect:function(k,i){var g=this,h=i[0],j=h?h.get("date"):null;g.setValue(j);g.fireEvent("select",g,j);g.picker.clearHighlight();g.collapse();g.inputEl.focus()}});Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",constructor:function(b){b=Ext.apply({},b);if(b.field){b.field.monitorTab=false}if(!Ext.isDefined(b.autoSize)){b.autoSize={width:"boundEl"}}this.callParent([b])},onShow:function(){var b=this.boundEl.first();if(b){b.hide()}this.callParent(arguments)},onHide:function(){var b=this.boundEl.first();if(b){b.show()}this.callParent(arguments)},afterRender:function(){this.callParent(arguments);var b=this.field;if(b.isXType("checkboxfield")){b.mon(b.inputEl,"mousedown",this.onCheckBoxMouseDown,this);b.mon(b.inputEl,"click",this.onCheckBoxClick,this)}},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},alignment:"tl-tl",hideEl:false,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor",shim:false,shadow:false});Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"column",reserveOffset:false,shrinkToFit:false,clearInnerCtOnLayout:true,beforeLayout:function(){var k=this,p=0,i=k.getLayoutItems(),j=i.length,l,m,n;if(!Ext.isDefined(k.availableSpaceOffset)){n=k.owner.up("tablepanel").verticalScroller;k.availableSpaceOffset=n?n.width-1:0}m=k.callParent(arguments);k.innerCt.setHeight(23);for(;p<j;p++){l=i[p];l.el.setStyle({height:"auto"});l.titleContainer.setStyle({height:"auto",paddingTop:"0"});if(l.componentLayout&&l.componentLayout.lastComponentSize){l.componentLayout.lastComponentSize.height=l.el.dom.offsetHeight}}return m},calculateChildBoxes:function(i,t){var n=this,u=n.callParent(arguments),q=u.boxes,v=u.meta,p=q.length,s=0,r,m;if(t.width&&!n.isHeader){if(n.owner.forceFit){for(;s<p;s++){r=q[s];m=r.component;m.minWidth=Ext.grid.plugin.HeaderResizer.prototype.minColWidth;m.flex=r.width}u=n.callParent(arguments)}else{if(v.tooNarrow){t.width=v.desiredSize}}}return u},afterLayout:function(){var p=this,z=p.owner,q,i,t,y,u,x,v=0,r,s,w;p.callParent(arguments);if(!p.owner.hideHeaders){if(z.lockableInjected){q=z.up("tablepanel").up("tablepanel");i=q.query("headercontainer:not([isHeader])");t=(i[0]===z)?i[1]:i[0];if(!t.rendered){return}u=t.layout.getRenderTarget().getViewSize().height;if(!u){return}y=this.getRenderTarget().getViewSize().height;if(!y){return}q.componentLayout.layoutBusy=true;w=y;if(y>u){t.layout.align="stretch";t.setCalculatedSize(t.getWidth(),z.getHeight(),t.ownerCt);delete t.layout.align;x=t.up("tablepanel")}else{if(u>y){w=u;this.align="stretch";z.setCalculatedSize(z.getWidth(),t.getHeight(),z.ownerCt);
delete this.align;x=z.up("tablepanel")}}q.componentLayout.layoutBusy=false;r=i[0].layout.getLayoutItems().concat(i[1].layout.getLayoutItems())}else{w=this.getRenderTarget().getViewSize().height;r=p.getLayoutItems()}s=r.length;for(;v<s;v++){r[v].setPadding(w)}if(x){setTimeout(function(){x.doLayout()},1)}}},updateInnerCtSize:function(e,h){var i=this,g;if(!i.isHeader){i.tooNarrow=h.meta.tooNarrow;g=(i.reserveOffset?i.availableSpaceOffset:0);if(h.meta.tooNarrow){e.width=h.meta.desiredSize+g}else{e.width+=g}}return i.callParent(arguments)},doOwnerCtLayouts:function(){var b=this.owner.ownerCt;if(!b.componentLayout.layoutBusy){b.doComponentLayout()}}});Ext.define("Ext.grid.LockingView",{mixins:{observable:"Ext.util.Observable"},eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell)/,constructor:function(r){var n=this,l=[],k=n.eventRelayRe,j=r.locked.getView(),m=r.normal.getView(),q,p;Ext.apply(n,{lockedView:j,normalView:m,lockedGrid:r.locked,normalGrid:r.normal,panel:r.panel});n.mixins.observable.constructor.call(n,r);q=j.events;for(p in q){if(q.hasOwnProperty(p)&&k.test(p)){l.push(p)}}n.relayEvents(j,l);n.relayEvents(m,l);m.on({scope:n,itemmouseleave:n.onItemMouseLeave,itemmouseenter:n.onItemMouseEnter});j.on({scope:n,itemmouseleave:n.onItemMouseLeave,itemmouseenter:n.onItemMouseEnter})},getGridColumns:function(){var b=this.lockedGrid.headerCt.getGridColumns();return b.concat(this.normalGrid.headerCt.getGridColumns())},getEl:function(b){return this.getViewForColumn(b).getEl()},getViewForColumn:function(d){var e=this.lockedView,g;e.headerCt.cascade(function(a){if(a===d){g=true;return false}});return g?e:this.normalView},onItemMouseEnter:function(m,h){var j=this,l=j.lockedView,i=j.normalView,k;if(m.trackOver){if(m!==l){i=l}k=i.getNode(h);i.highlightItem(k)}},onItemMouseLeave:function(k,g){var i=this,j=i.lockedView,h=i.normalView;if(k.trackOver){if(k!==j){h=j}h.clearHighlight()}},relayFn:function(g,d){d=d||[];var e=this.lockedView;e[g].apply(e,d||[]);e=this.normalView;e[g].apply(e,d||[])},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(b){return this.normalView.getNode(b)},getCell:function(e,i){var g=this.getViewForColumn(i),h;h=g.getNode(e);return Ext.fly(h).down(i.getCellSelector())},getRecord:function(c){var d=this.lockedView.getRecord(c);if(!c){d=this.normalView.getRecord(c)}return d},addElListener:function(e,g,d){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)}});Ext.define("Ext.grid.Lockable",{requires:["Ext.grid.LockingView"],syncRowHeight:true,spacerHidden:true,headerCounter:0,unlockText:"Unlock",lockText:"Lock",determineXTypeToCreate:function(){var m=this,j;if(m.subGridXType){j=m.subGridXType}else{var l=this.getXTypes().split("/"),h=l.length,k=l[h-1],i=l[h-2];if(i!=="tablepanel"){j=i}else{j=k}}return j},injectLockable:function(){this.lockable=true;this.hasView=true;var i=this,t=i.determineXTypeToCreate(),m=i.getSelectionModel(),s={xtype:t,enableAnimations:false,scroll:false,scrollerOwner:false,selModel:m,border:false,cls:Ext.baseCSSPrefix+"grid-inner-locked"},l={xtype:t,enableAnimations:false,scrollerOwner:false,selModel:m,border:false},p=0,q,r,n;i.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(l,i,i.normalCfgCopy);Ext.copyTo(s,i,i.lockedCfgCopy);for(;p<i.normalCfgCopy.length;p++){delete i[i.normalCfgCopy[p]]}for(p=0;p<i.lockedCfgCopy.length;p++){delete i[i.lockedCfgCopy[p]]}i.addEvents("lockcolumn","unlockcolumn");i.addStateEvents(["lockcolumn","unlockcolumn"]);i.lockedHeights=[];i.normalHeights=[];q=i.processColumns(i.columns);s.width=q.lockedWidth+Ext.num(m.headerWidth,0);s.columns=q.locked;l.columns=q.normal;i.store=Ext.StoreManager.lookup(i.store);s.store=i.store;l.store=i.store;l.flex=1;s.viewConfig=i.lockedViewConfig||{};s.viewConfig.loadingUseMsg=false;
l.viewConfig=i.normalViewConfig||{};Ext.applyIf(s.viewConfig,i.viewConfig);Ext.applyIf(l.viewConfig,i.viewConfig);i.normalGrid=Ext.ComponentManager.create(l);i.lockedGrid=Ext.ComponentManager.create(s);i.view=Ext.create("Ext.grid.LockingView",{locked:i.lockedGrid,normal:i.normalGrid,panel:i});if(i.syncRowHeight){i.lockedGrid.getView().on({refresh:i.onLockedGridAfterRefresh,itemupdate:i.onLockedGridAfterUpdate,scope:i});i.normalGrid.getView().on({refresh:i.onNormalGridAfterRefresh,itemupdate:i.onNormalGridAfterUpdate,scope:i})}r=i.lockedGrid.headerCt;n=i.normalGrid.headerCt;r.lockedCt=true;r.lockableInjected=true;n.lockableInjected=true;r.on({columnshow:i.onLockedHeaderShow,columnhide:i.onLockedHeaderHide,columnmove:i.onLockedHeaderMove,sortchange:i.onLockedHeaderSortChange,columnresize:i.onLockedHeaderResize,scope:i});n.on({columnmove:i.onNormalHeaderMove,sortchange:i.onNormalHeaderSortChange,scope:i});i.normalGrid.on({scrollershow:i.onScrollerShow,scrollerhide:i.onScrollerHide,scope:i});i.lockedGrid.on("afterlayout",i.onLockedGridAfterLayout,i,{single:true});i.modifyHeaderCt();i.items=[i.lockedGrid,i.normalGrid];i.relayHeaderCtEvents(r);i.relayHeaderCtEvents(n);i.layout={type:"hbox",align:"stretch"}},processColumns:function(l){var m=0,j=l.length,i=1,n=[],p=[],k;for(;m<j;++m){k=l[m];k.processed=true;if(k.locked){if(!k.hidden){i+=k.width||Ext.grid.header.Container.prototype.defaultWidth}n.push(k)}else{p.push(k)}if(!k.headerId){k.headerId=(k.initialConfig||k).id||("L"+(++this.headerCounter))}}return{lockedWidth:i,locked:n,normal:p}},onLockedGridAfterLayout:function(){var c=this,d=c.lockedGrid.getView();d.on({beforerefresh:c.destroySpacer,scope:c})},onLockedHeaderMove:function(){if(this.syncRowHeight){this.onNormalGridAfterRefresh()}},onNormalHeaderMove:function(){if(this.syncRowHeight){this.onLockedGridAfterRefresh()}},getSpacerEl:function(){var h=this,e,g,i;if(!h.spacerEl){e=Ext.getScrollBarWidth()+(Ext.isIE?2:0);g=h.lockedGrid.getView();i=g.el;h.spacerEl=Ext.DomHelper.append(i,{cls:h.spacerHidden?(Ext.baseCSSPrefix+"hidden"):"",style:"height: "+e+"px;"},true)}return h.spacerEl},destroySpacer:function(){var b=this;if(b.spacerEl){b.spacerEl.destroy();delete b.spacerEl}},onLockedGridAfterRefresh:function(){var k=this,i=k.lockedGrid.getView(),m=i.el,j=m.query(i.getItemSelector()),l=j.length,h=0;k.lockedHeights=[];for(;h<l;h++){k.lockedHeights[h]=j[h].clientHeight}k.syncRowHeights()},onNormalGridAfterRefresh:function(){var k=this,i=k.normalGrid.getView(),m=i.el,j=m.query(i.getItemSelector()),l=j.length,h=0;k.normalHeights=[];for(;h<l;h++){k.normalHeights[h]=j[h].clientHeight}k.syncRowHeights()},onLockedGridAfterUpdate:function(e,d,g){this.lockedHeights[d]=g.clientHeight;this.syncRowHeights()},onNormalGridAfterUpdate:function(e,d,g){this.normalHeights[d]=g.clientHeight;this.syncRowHeights()},syncRowHeights:function(){var q=this,y=q.lockedHeights,p=q.normalHeights,z=[],r=y.length,t=0,i,w,v,s,u=q.getVerticalScroller(),x;if(y.length&&p.length){i=q.lockedGrid.getView();w=q.normalGrid.getView();v=i.el.query(i.getItemSelector());s=w.el.query(w.getItemSelector());for(;t<r;t++){if(!isNaN(y[t])&&!isNaN(p[t])){if(y[t]>p[t]){Ext.fly(s[t]).setHeight(y[t])}else{if(y[t]<p[t]){Ext.fly(v[t]).setHeight(p[t])}}}}q.normalGrid.invalidateScroller();if(u&&u.setViewScrollTop){u.setViewScrollTop(q.virtualScrollTop)}else{x=w.el.dom.scrollTop;w.el.dom.scrollTop=x;i.el.dom.scrollTop=x}q.lockedHeights=[];q.normalHeights=[]}},onScrollerShow:function(d,c){if(c==="horizontal"){this.spacerHidden=false;this.getSpacerEl().removeCls(Ext.baseCSSPrefix+"hidden")}},onScrollerHide:function(d,c){if(c==="horizontal"){this.spacerHidden=true;if(this.spacerEl){this.spacerEl.addCls(Ext.baseCSSPrefix+"hidden")}}},modifyHeaderCt:function(){var b=this;b.lockedGrid.headerCt.getMenuItems=b.getMenuItems(true);b.normalGrid.headerCt.getMenuItems=b.getMenuItems(false)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},getMenuItems:function(j){var n=this,m=n.unlockText,l=n.lockText,r=Ext.baseCSSPrefix+"hmenu-unlock",p=Ext.baseCSSPrefix+"hmenu-lock",k=Ext.Function.bind(n.onUnlockMenuClick,n),q=Ext.Function.bind(n.onLockMenuClick,n);
return function(){var a=Ext.grid.header.Container.prototype.getMenuItems.call(this);a.push("-",{cls:r,text:m,handler:k,disabled:!j});a.push({cls:p,text:l,handler:q,disabled:j});return a}},lock:function(j,n){var p=this,m=p.normalGrid,k=p.lockedGrid,l=m.headerCt,i=k.headerCt;j=j||l.getMenu().activeHeader;if(j.flex){j.width=j.getWidth();delete j.flex}l.remove(j,false);i.suspendLayout=true;j.locked=true;if(Ext.isDefined(n)){i.insert(n,j)}else{i.add(j)}i.suspendLayout=false;p.syncLockedSection();p.fireEvent("lockcolumn",p,j)},syncLockedSection:function(){var b=this;b.syncLockedWidth();b.lockedGrid.getView().refresh();b.normalGrid.getView().refresh()},syncLockedWidth:function(){var c=this,d=c.lockedGrid.headerCt.getFullWidth(true);c.lockedGrid.setWidth(d+1);c.doComponentLayout()},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(d,g,e){if(e){this.normalGrid.headerCt.clearOtherSortStates(null,true)}},onNormalHeaderSortChange:function(d,g,e){if(e){this.lockedGrid.headerCt.clearOtherSortStates(null,true)}},unlock:function(j,n){var p=this,m=p.normalGrid,k=p.lockedGrid,l=m.headerCt,i=k.headerCt;if(!Ext.isDefined(n)){n=0}j=j||i.getMenu().activeHeader;i.remove(j,false);p.syncLockedWidth();p.lockedGrid.getView().refresh();j.locked=false;l.insert(n,j);p.normalGrid.getView().refresh();p.fireEvent("unlockcolumn",p,j)},applyColumnsState:function(v){var p=this,x=p.lockedGrid,w=x.headerCt,r=p.normalGrid.headerCt,n=w.items,u=r.items,z,s=[],q=[],y,t=1;Ext.each(v,function(b){function a(c){return c.headerId==b.id}y=true;if(!(z=n.findBy(a))){z=u.findBy(a);y=false}if(z){if(z.applyColumnState){z.applyColumnState(b)}if(!Ext.isDefined(z.locked)){z.locked=y}if(z.locked){s.push(z);if(!z.hidden&&Ext.isNumber(z.width)){t+=z.width}}else{q.push(z)}}});if(s.length+q.length==n.getCount()+u.getCount()){w.removeAll(false);r.removeAll(false);w.add(s);r.add(q);x.setWidth(t)}},getColumnsState:function(){var d=this,e=d.lockedGrid.headerCt.getColumnsState(),g=d.normalGrid.headerCt.getColumnsState();return e.concat(g)},reconfigureLockable:function(h,g){var k=this,i=k.lockedGrid,j=k.normalGrid;if(g){i.headerCt.suspendLayout=true;j.headerCt.suspendLayout=true;i.headerCt.removeAll();j.headerCt.removeAll();g=k.processColumns(g);i.setWidth(g.lockedWidth);i.headerCt.add(g.locked);j.headerCt.add(g.normal)}if(h){h=Ext.data.StoreManager.lookup(h);k.store=h;i.bindStore(h);j.bindStore(h)}else{i.getView().refresh();j.getView().refresh()}if(g){i.headerCt.suspendLayout=false;j.headerCt.suspendLayout=false;i.headerCt.forceComponentLayout();j.headerCt.forceComponentLayout()}}});Ext.define("Ext.grid.Scroller",{extend:"Ext.Component",alias:"widget.gridscroller",weight:110,baseCls:Ext.baseCSSPrefix+"scroller",focusable:false,reservedSpace:0,renderTpl:['<div class="'+Ext.baseCSSPrefix+'scroller-ct" id="{baseId}_ct">','<div class="'+Ext.baseCSSPrefix+'stretcher" id="{baseId}_stretch"></div>',"</div>"],initComponent:function(){var g=this,d=g.dock,e=Ext.baseCSSPrefix+"scroller-vertical";g.offsets={bottom:0};g.scrollProp="scrollTop";g.vertical=true;g.sizeProp="width";if(d==="top"||d==="bottom"){e=Ext.baseCSSPrefix+"scroller-horizontal";g.sizeProp="height";g.scrollProp="scrollLeft";g.vertical=false;g.weight+=5}g.cls+=(" "+e);Ext.applyIf(g.renderSelectors,{stretchEl:"."+Ext.baseCSSPrefix+"stretcher",scrollEl:"."+Ext.baseCSSPrefix+"scroller-ct"});g.callParent()},ensureDimension:function(){var d=this,c=d.sizeProp;d[c]=d.scrollerSize=Ext.getScrollbarSize()[c]},initRenderData:function(){var c=this,d=c.callParent(arguments)||{};d.baseId=c.id;return d},afterRender:function(){var b=this;b.callParent();b.mon(b.scrollEl,"scroll",b.onElScroll,b);Ext.cache[b.el.id].skipGarbageCollection=true},onAdded:function(b){this.ownerGrid=b;this.callParent(arguments)},getSizeCalculation:function(){var m=this,r=m.getPanel(),n=1,j=1,q,l;if(!m.vertical){var p=r.query("tableview"),k=p[1]||p[0];if(!k){return false}n=k.headerCt.getFullWidth();if(Ext.isIEQuirks){n--}}else{q=r.down("tableview:not([lockableInjected])");
if(!q||!q.el){return false}l=q.el.child("table",true);if(!l){return false}j=l.offsetHeight}if(isNaN(n)){n=1}if(isNaN(j)){j=1}return{width:n,height:j}},invalidate:function(q){var n=this,p=n.stretchEl;if(!p||!n.ownerCt){return}var k=n.getSizeCalculation(),l=n.scrollEl,s=l.dom,r=n.reservedSpace,m,t=5;if(k){p.setSize(k);k=n.el.getSize(true);if(n.vertical){k.width+=t;k.height-=r;m="left"}else{k.width-=r;k.height+=t;m="top"}l.setSize(k);s.style[m]=(-t)+"px";s.scrollTop=s.scrollTop}},afterComponentLayout:function(){this.callParent(arguments);this.invalidate()},restoreScrollPos:function(){var g=this,d=this.scrollEl,e=d&&d.dom;if(g._scrollPos!==null&&e){e[g.scrollProp]=g._scrollPos;g._scrollPos=null}},setReservedSpace:function(c){var d=this;if(d.reservedSpace!==c){d.reservedSpace=c;d.invalidate()}},saveScrollPos:function(){var g=this,d=this.scrollEl,e=d&&d.dom;g._scrollPos=e?e[g.scrollProp]:null},setScrollTop:function(g){var d=this.scrollEl,e=d&&d.dom;if(e){return e.scrollTop=Ext.Number.constrain(g,0,e.scrollHeight-e.clientHeight)}},setScrollLeft:function(g){var d=this.scrollEl,e=d&&d.dom;if(e){return e.scrollLeft=Ext.Number.constrain(g,0,e.scrollWidth-e.clientWidth)}},scrollByDeltaY:function(g){var d=this.scrollEl,e=d&&d.dom;if(e){return this.setScrollTop(e.scrollTop+g)}},scrollByDeltaX:function(g){var d=this.scrollEl,e=d&&d.dom;if(e){return this.setScrollLeft(e.scrollLeft+g)}},scrollToTop:function(){this.setScrollTop(0)},onElScroll:function(d,c){this.fireEvent("bodyscroll",d,c)},getPanel:function(){var b=this;if(!b.panel){b.panel=this.up("[scrollerOwner]")}return b.panel}});Ext.define("Ext.grid.PagingScroller",{extend:"Ext.grid.Scroller",alias:"widget.paginggridscroller",percentageFromEdge:0.35,scrollToLoadBuffer:200,activePrefetch:true,chunkSize:50,snapIncrement:25,syncScroll:true,initComponent:function(){var d=this,c=d.store;c.on("guaranteedrange",d.onGuaranteedRange,d);d.callParent(arguments)},onGuaranteedRange:function(m,j,i){var l=this,k=l.store,h;if(m.length&&l.visibleStart<m[0].index){return}k.loadRecords(m);if(!l.firstLoad){if(l.rendered){l.invalidate()}else{l.on("afterrender",l.invalidate,l,{single:true})}l.firstLoad=true}else{if(l.scrollEl&&l.scrollEl.dom&&l.scrollEl.dom.scrollHeight){l.syncTo()}}},syncTo:function(){var n=this,u=n.getPanel(),m=u.store,p=this.scrollEl.dom,s=n.visibleStart-m.guaranteedStart,t=s*n.rowHeight,l=p.scrollHeight,r=p.clientHeight,v=p.scrollTop,q;if(Ext.isIE9&&Ext.isStrict){r=p.offsetHeight+2}q=(l-r-v<=0);this.setViewScrollTop(t,q)},getPageData:function(){var d=this.getPanel(),g=d.store,e=g.getTotalCount();return{total:e,currentPage:g.currentPage,pageCount:Math.ceil(e/g.pageSize),fromRecord:((g.currentPage-1)*g.pageSize)+1,toRecord:Math.min(g.currentPage*g.pageSize,e)}},onElScroll:function(t,N){var L=this,P=L.getPanel(),S=P.store,e=S.pageSize,V=S.guaranteedStart,D=S.guaranteedEnd,E=S.getTotalCount(),Q=Math.ceil(L.percentageFromEdge*e),J=N.scrollTop,T=Math.floor(J/L.rowHeight),O=P.down("tableview"),R=O.el,M=R.getHeight(),W=Math.ceil(M/L.rowHeight),X=T+W,U=Math.floor(T/e),G=Math.floor(X/e)+2,C=Math.ceil(E/e),K=L.snapIncrement,F=Math.floor(T/K)*K,I=F+e-1,H=L.activePrefetch;L.visibleStart=T;L.visibleEnd=X;L.syncScroll=true;if(E>=e){if(I>E-1){L.cancelLoad();if(S.rangeSatisfied(E-e,E-1)){L.syncScroll=true}S.guaranteeRange(E-e,E-1)}else{if(T<=V||X>D){if(T<=V){F-=K;I-=K;if(F<0){F=0;I=e}}if(S.rangeSatisfied(F,I)){L.cancelLoad();S.guaranteeRange(F,I)}else{S.mask();L.attemptLoad(F,I)}L.syncScroll=false}else{if(H&&T<(V+Q)&&U>0){L.syncScroll=true;S.prefetchPage(U)}else{if(H&&X>(D-Q)&&G<C){L.syncScroll=true;S.prefetchPage(G)}}}}}if(L.syncScroll){L.syncTo()}},getSizeCalculation:function(){var l=this,j=l.ownerGrid,q=j.getView(),p=l.store,m=l.dock,r=l.el.dom,n=1,k=1;if(!l.rowHeight){l.rowHeight=q.el.down(q.getItemSelector()).getHeight(false,true)}k=p[(!p.remoteFilter&&p.isFiltered())?"getCount":"getTotalCount"]()*l.rowHeight;if(isNaN(n)){n=1}if(isNaN(k)){k=1}return{width:n,height:k}},attemptLoad:function(g,e){var d=this;if(!d.loadTask){d.loadTask=Ext.create("Ext.util.DelayedTask",d.doAttemptLoad,d,[])}d.loadTask.delay(d.scrollToLoadBuffer,d.doAttemptLoad,d,[g,e])
},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(g,e){var d=this.getPanel().store;d.guaranteeRange(g,e)},setViewScrollTop:function(x,w){var i=this,y=i.getPanel(),p=y.query("tableview"),u=0,s=p.length,z,v,t,q,r=i.el.dom;y.virtualScrollTop=x;z=p[1]||p[0];v=z.el.dom;q=((y.store.pageSize*i.rowHeight)-v.clientHeight);t=(x%((y.store.pageSize*i.rowHeight)+1));if(w){t=q}if(t>q){return}for(;u<s;u++){p[u].el.dom.scrollTop=t}}});Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",uses:["Ext.selection.RowModel","Ext.grid.Scroller","Ext.grid.header.Container","Ext.grid.Lockable"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:false,viewType:null,selType:"rowmodel",scrollDelta:40,scroll:true,deferRowRender:true,sortableColumns:true,enableLocking:false,verticalScrollDock:"right",verticalScrollerType:"gridscroller",horizontalScrollerPresentCls:Ext.baseCSSPrefix+"horizontal-scroller-present",verticalScrollerPresentCls:Ext.baseCSSPrefix+"vertical-scroller-present",scrollerOwner:true,invalidateScrollerOnRefresh:true,enableColumnMove:true,enableColumnResize:true,enableColumnHide:true,initComponent:function(){var m=this,k=m.scroll,q=false,r=false,l=m.columns||m.colModel,n=0,i,p=m.border;if(m.hideHeaders){p=false}m.store=Ext.data.StoreManager.lookup(m.store||"ext-empty-store");if(l instanceof Ext.grid.header.Container){m.headerCt=l;m.headerCt.border=p;m.columns=m.headerCt.items.items}else{if(Ext.isArray(l)){l={items:l,border:p}}Ext.apply(l,{forceFit:m.forceFit,sortable:m.sortableColumns,enableColumnMove:m.enableColumnMove,enableColumnResize:m.enableColumnResize,enableColumnHide:m.enableColumnHide,border:p});m.columns=l.items;if(m.enableLocking||Ext.ComponentQuery.query("{locked !== undefined}{processed != true}",m.columns).length){m.self.mixin("lockable",Ext.grid.Lockable);m.injectLockable()}}m.addEvents("reconfigure","viewready","scrollerhide","scrollershow");m.bodyCls=m.bodyCls||"";m.bodyCls+=(" "+m.extraBodyCls);m.cls=m.cls||"";m.cls+=(" "+m.extraBaseCls);delete m.autoScroll;if(!m.hasView){if(!m.headerCt){m.headerCt=Ext.create("Ext.grid.header.Container",l)}m.columns=m.headerCt.items.items;if(m.hideHeaders){m.headerCt.height=0;m.headerCt.border=false;m.headerCt.addCls(Ext.baseCSSPrefix+"grid-header-ct-hidden");m.addCls(Ext.baseCSSPrefix+"grid-header-hidden");if(Ext.isIEQuirks){m.headerCt.style={display:"none"}}}if(k===true||k==="both"){q=r=true}else{if(k==="horizontal"){r=true}else{if(k==="vertical"){q=true}else{m.headerCt.availableSpaceOffset=0}}}if(q){m.verticalScroller=Ext.ComponentManager.create(m.initVerticalScroller());m.mon(m.verticalScroller,{bodyscroll:m.onVerticalScroll,scope:m})}if(r){m.horizontalScroller=Ext.ComponentManager.create(m.initHorizontalScroller());m.mon(m.horizontalScroller,{bodyscroll:m.onHorizontalScroll,scope:m})}m.headerCt.on("resize",m.onHeaderResize,m);m.relayHeaderCtEvents(m.headerCt);m.features=m.features||[];if(!Ext.isArray(m.features)){m.features=[m.features]}m.dockedItems=m.dockedItems||[];m.dockedItems.unshift(m.headerCt);m.viewConfig=m.viewConfig||{};m.viewConfig.invalidateScrollerOnRefresh=m.invalidateScrollerOnRefresh;i=m.getView();i.on({afterrender:function(){i.el.scroll=Ext.Function.bind(m.elScroll,m);m.mon(i.el,{mousewheel:m.onMouseWheel,scope:m})},single:true});m.items=[i];m.hasView=true;m.mon(i.store,{load:m.onStoreLoad,scope:m});m.mon(i,{viewReady:m.onViewReady,resize:m.onViewResize,refresh:{fn:m.onViewRefresh,scope:m,buffer:50},scope:m});this.relayEvents(i,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"])
}m.callParent(arguments)},onRender:function(){var d=this.verticalScroller,c=this.horizontalScroller;if(d){d.ensureDimension()}if(c){c.ensureDimension()}this.callParent(arguments)},initStateEvents:function(){var b=this.stateEvents;Ext.each(["columnresize","columnmove","columnhide","columnshow","sortchange"],function(a){if(Ext.Array.indexOf(b,a)){b.push(a)}});this.callParent()},initHorizontalScroller:function(){var c=this,d={xtype:"gridscroller",dock:"bottom",section:c,store:c.store};return d},initVerticalScroller:function(){var c=this,d=c.verticalScroller||{};Ext.applyIf(d,{xtype:c.verticalScrollerType,dock:c.verticalScrollDock,store:c.store});return d},relayHeaderCtEvents:function(b){this.relayEvents(b,["columnresize","columnmove","columnhide","columnshow","sortchange"])},getState:function(){var e=this,d=e.callParent(),g=e.store.sorters.first();d.columns=(e.headerCt||e).getColumnsState();if(g){d.sort={property:g.property,direction:g.direction}}return d},applyState:function(j){var k=this,i=j.sort,h=k.store,g=j.columns;delete j.columns;k.callParent(arguments);if(g){(k.headerCt||k).applyColumnsState(g)}if(i){if(h.remoteSort){h.sorters.add(Ext.create("Ext.util.Sorter",{property:i.property,direction:i.direction}))}else{h.sort(i.property,i.direction)}}},getStore:function(){return this.store},getView:function(){var d=this,c;if(!d.view){c=d.getSelectionModel();d.view=d.createComponent(Ext.apply({},d.viewConfig,{deferInitialRefresh:d.deferRowRender,xtype:d.viewType,store:d.store,headerCt:d.headerCt,selModel:c,features:d.features,panel:d}));d.mon(d.view,{uievent:d.processEvent,scope:d});c.view=d.view;d.headerCt.view=d.view;d.relayEvents(d.view,["cellclick","celldblclick"])}return d.view},setAutoScroll:Ext.emptyFn,elScroll:function(j,i,g){var k=this,h;if(j==="up"||j==="left"){i=-i}if(j==="down"||j==="up"){h=k.getVerticalScroller();if(h){h.scrollByDeltaY(i)}}else{h=k.getHorizontalScroller();if(h){h.scrollByDeltaX(i)}}},processEvent:function(p,e,k,r,q,m){var n=this,l;if(q!==-1){l=n.headerCt.getGridColumns()[q];return l.processEvent.apply(l,arguments)}},determineScrollbars:function(){if(this.determineScrollbarsRunning){return}this.determineScrollbarsRunning=true;var s=this,r=s.view,w,z,v,q,n,u,t=s.verticalScroller,x=s.horizontalScroller,p=(t&&t.ownerCt===s?1:0)|(x&&x.ownerCt===s?2:0),y=0;if(!s.collapsed&&r&&r.viewReady){w=r.el.getSize();q=w.width+((p&1)?t.width:0);u=w.height+((p&2)?x.height:0);v=(s.headerCt.query("[flex]").length&&!s.headerCt.layout.tooNarrow)?0:s.headerCt.getFullWidth();if(t&&t.el){n=t.getSizeCalculation().height}else{z=r.el.child("table",true);n=z?z.offsetHeight:0}if(n>u){y=1;if(x&&((q-v)<t.width)){y=3}}else{if(v>q){y=2;if(t&&((u-n)<x.height)){y=3}}}if(y!==p){s.suspendLayout=true;if(y&1){s.showVerticalScroller()}else{s.hideVerticalScroller()}if(y&2){s.showHorizontalScroller()}else{s.hideHorizontalScroller()}s.suspendLayout=false;s.doComponentLayout();s.getLayout().layout()}}delete s.determineScrollbarsRunning},onViewResize:function(){this.determineScrollbars()},afterComponentLayout:function(){this.callParent(arguments);this.determineScrollbars();this.invalidateScroller()},onHeaderResize:function(){if(!this.componentLayout.layoutBusy&&this.view&&this.view.rendered){this.determineScrollbars();this.invalidateScroller()}},afterCollapse:function(){var b=this;if(b.verticalScroller){b.verticalScroller.saveScrollPos()}if(b.horizontalScroller){b.horizontalScroller.saveScrollPos()}b.callParent(arguments)},afterExpand:function(){var b=this;b.callParent(arguments);if(b.verticalScroller){b.verticalScroller.restoreScrollPos()}if(b.horizontalScroller){b.horizontalScroller.restoreScrollPos()}},hideHorizontalScroller:function(){var b=this;if(b.horizontalScroller&&b.horizontalScroller.ownerCt===b){b.verticalScroller.setReservedSpace(0);b.removeDocked(b.horizontalScroller,false);b.removeCls(b.horizontalScrollerPresentCls);b.fireEvent("scrollerhide",b.horizontalScroller,"horizontal")}},showHorizontalScroller:function(){var b=this;if(b.verticalScroller){b.verticalScroller.setReservedSpace(Ext.getScrollbarSize().height-1)}if(b.horizontalScroller&&b.horizontalScroller.ownerCt!==b){b.addDocked(b.horizontalScroller);
b.addCls(b.horizontalScrollerPresentCls);b.fireEvent("scrollershow",b.horizontalScroller,"horizontal")}},hideVerticalScroller:function(){var b=this;b.setHeaderReserveOffset(false);if(b.verticalScroller&&b.verticalScroller.ownerCt===b){b.removeDocked(b.verticalScroller,false);b.removeCls(b.verticalScrollerPresentCls);b.fireEvent("scrollerhide",b.verticalScroller,"vertical")}},showVerticalScroller:function(){var b=this;b.setHeaderReserveOffset(true);if(b.verticalScroller&&b.verticalScroller.ownerCt!==b){b.addDocked(b.verticalScroller);b.addCls(b.verticalScrollerPresentCls);b.fireEvent("scrollershow",b.verticalScroller,"vertical")}},setHeaderReserveOffset:function(e){var g=this.headerCt,d=g.layout;if(d&&d.reserveOffset!==e){d.reserveOffset=e;if(!this.suspendLayout){g.doLayout()}}},invalidateScroller:function(){var d=this,e=d.verticalScroller,g=d.horizontalScroller;if(e){e.invalidate()}if(g){g.invalidate()}},onHeaderMove:function(i,h,g,e){this.view.refresh()},onHeaderHide:function(d,c){this.invalidateScroller()},onHeaderShow:function(d,c){this.invalidateScroller()},getVerticalScroller:function(){return this.getScrollerOwner().down("gridscroller[dock="+this.verticalScrollDock+"]")},getHorizontalScroller:function(){return this.getScrollerOwner().down("gridscroller[dock=bottom]")},onMouseWheel:function(v){var u=this,y=u.getVerticalScroller(),t=u.getHorizontalScroller(),F=-u.scrollDelta,E=v.getWheelDeltas(),A=F*E.x,B=F*E.y,w,e,G,H,D,z,x,C;if(t){e=t.scrollEl;if(e){H=e.dom;z=H.scrollLeft!==H.scrollWidth-H.clientWidth;D=H.scrollLeft!==0}}if(y){w=y.scrollEl;if(w){G=w.dom;x=G.scrollTop!==G.scrollHeight-G.clientHeight;C=G.scrollTop!==0}}if(t){if((A<0&&D)||(A>0&&z)){v.stopEvent();t.scrollByDeltaX(A)}}if(y){if((B<0&&C)||(B>0&&x)){v.stopEvent();y.scrollByDeltaY(B)}}},onViewReady:function(){var b=this;b.fireEvent("viewready",b);if(b.deferRowRender){b.determineScrollbars();b.invalidateScroller()}},onViewRefresh:function(){var b=this;if(!b.rendering){this.determineScrollbars();if(this.invalidateScrollerOnRefresh){this.invalidateScroller()}}},setScrollTop:function(h){var i=this,e=i.getScrollerOwner(),g=i.getVerticalScroller();e.virtualScrollTop=h;if(g){g.setScrollTop(h)}},getScrollerOwner:function(){var b=this;if(!this.scrollerOwner){b=this.up("[scrollerOwner]")}return b},scrollByDeltaY:function(d){var c=this.getVerticalScroller();if(c){c.scrollByDeltaY(d)}},scrollByDeltaX:function(d){var c=this.getHorizontalScroller();if(c){c.scrollByDeltaX(d)}},getLhsMarker:function(){var b=this;if(!b.lhsMarker){b.lhsMarker=Ext.DomHelper.append(b.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},true)}return b.lhsMarker},getRhsMarker:function(){var b=this;if(!b.rhsMarker){b.rhsMarker=Ext.DomHelper.append(b.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},true)}return b.rhsMarker},getSelectionModel:function(){if(!this.selModel){this.selModel={}}var c="SINGLE",d;if(this.simpleSelect){c="SIMPLE"}else{if(this.multiSelect){c="MULTI"}}Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:c});if(!this.selModel.events){d=this.selModel.selType||this.selType;this.selModel=Ext.create("selection."+d,this.selModel)}if(!this.selModel.hasRelaySetup){this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect"]);this.selModel.hasRelaySetup=true}if(this.disableSelection){this.selModel.locked=true}return this.selModel},onVerticalScroll:function(k,j){var h=this.getScrollerOwner(),m=h.query("tableview"),l=0,i=m.length;for(;l<i;l++){m[l].el.dom.scrollTop=j.scrollTop}},onHorizontalScroll:function(j,i){var g=this.getScrollerOwner(),k=g.query("tableview"),h=k[1]||k[0];h.el.dom.scrollLeft=i.scrollLeft;this.headerCt.el.dom.scrollLeft=i.scrollLeft},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(d){var c=this;c.store=d;c.getView().bindStore(d)},beforeDestroy:function(){Ext.destroy(this.horizontalScroller,this.verticalScroller);this.callParent()},reconfigure:function(g,e){var i=this,h=i.headerCt;if(i.lockable){i.reconfigureLockable(g,e)}else{if(e){h.suspendLayout=true;h.removeAll();h.add(e)}if(g){g=Ext.StoreManager.lookup(g);
i.bindStore(g)}else{i.getView().refresh()}if(e){h.suspendLayout=false;i.forceComponentLayout()}}i.fireEvent("reconfigure",i)}});Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",uses:["Ext.view.TableChunker","Ext.util.DelayedTask","Ext.util.MixedCollection"],baseCls:Ext.baseCSSPrefix+"grid-view",itemSelector:"."+Ext.baseCSSPrefix+"grid-row",cellSelector:"."+Ext.baseCSSPrefix+"grid-cell",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",overItemCls:Ext.baseCSSPrefix+"grid-row-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",rowClsRe:/(?:^|\s*)grid-row-(first|last|alt)(?:\s+|$)/g,cellRe:new RegExp("x-grid-cell-([^\\s]+) ",""),trackOver:true,getRowClass:null,initComponent:function(){var b=this;b.scrollState={};b.selModel.view=b;b.headerCt.view=b;b.initFeatures();b.tpl="<div></div>";b.callParent();b.mon(b.store,{load:b.onStoreLoad,scope:b})},onStoreLoad:function(){var b=this;if(b.invalidateScrollerOnRefresh){if(Ext.isGecko){if(!b.scrollToTopTask){b.scrollToTopTask=Ext.create("Ext.util.DelayedTask",b.scrollToTop,b)}b.scrollToTopTask.delay(1)}else{b.scrollToTop()}}},scrollToTop:Ext.emptyFn,addElListener:function(e,g,d){this.mon(this,e,g,d,{element:"el"})},getGridColumns:function(){return this.headerCt.getGridColumns()},getHeaderAtIndex:function(b){return this.headerCt.getHeaderAtIndex(b)},getCell:function(e,d){var g=this.getNode(e);return Ext.fly(g).down(d.getCellSelector())},getFeature:function(c){var d=this.featuresMC;if(d){return d.get(c)}},initFeatures:function(){var h=this,e=0,i,g;h.features=h.features||[];i=h.features;g=i.length;h.featuresMC=Ext.create("Ext.util.MixedCollection");for(;e<g;e++){if(!i[e].isFeature){i[e]=Ext.create("feature."+i[e].ftype,i[e])}i[e].view=h;h.featuresMC.add(i[e])}},attachEventsForFeatures:function(){var d=this.features,g=d.length,e=0;for(;e<g;e++){if(d[e].isFeature){d[e].attachEvents()}}},afterRender:function(){var b=this;b.callParent();b.mon(b.el,{scroll:b.fireBodyScroll,scope:b});b.el.unselectable();b.attachEventsForFeatures()},fireBodyScroll:function(c,d){this.fireEvent("bodyscroll",c,d)},prepareData:function(t,m,r){var p=this,n=p.headerCt.prepareData(t,m,r,p,p.ownerCt),v=p.features,q=v.length,s=0,u,i;for(;s<q;s++){i=v[s];if(i.isFeature){Ext.apply(n,i.getAdditionalData(t,m,r,n,p))}}return n},collectData:function(y,r){var j=this.callParent(arguments),z=this.headerCt,s=z.getFullWidth(),A=this.features,u=A.length,B={rows:j,fullWidth:s},w=0,i,x=0,t,v;t=j.length;if(this.getRowClass){for(;x<t;x++){v={};j[x]["rowCls"]=this.getRowClass(y[x],x,v,this.store)}}for(;w<u;w++){i=A[w];if(i.isFeature&&i.collectData&&!i.disabled){B=i.collectData(y,j,r,s,B);break}}return B},onHeaderResize:function(i,h,j){var k=this,g=k.el;if(g){k.saveScrollState();if(Ext.isIE6||Ext.isIE7){if(i.el.hasCls(Ext.baseCSSPrefix+"column-header-first")){h+=1}}g.select("."+Ext.baseCSSPrefix+"grid-col-resizer-"+i.id).setWidth(h);g.select("."+Ext.baseCSSPrefix+"grid-table-resizer").setWidth(k.headerCt.getFullWidth());k.restoreScrollState();if(!k.ignoreTemplate){k.setNewTemplate()}if(!j){k.el.focus()}}},onHeaderShow:function(i,h,e){var g=this;g.ignoreTemplate=true;if(h.oldWidth){g.onHeaderResize(h,h.oldWidth,e);delete h.oldWidth}else{if(h.width&&!h.flex){g.onHeaderResize(h,h.width,e)}}delete g.ignoreTemplate;g.setNewTemplate()},onHeaderHide:function(d,g,e){this.onHeaderResize(g,0,e)},setNewTemplate:function(){var c=this,d=c.headerCt.getColumnsForTpl(true);c.tpl=c.getTableChunker().getTableTpl({columns:d,features:c.features})},getTableChunker:function(){return this.chunker||Ext.view.TableChunker},addRowCls:function(d,e){var g=this.getNode(d);if(g){Ext.fly(g).addCls(e)}},removeRowCls:function(d,e){var g=this.getNode(d);if(g){Ext.fly(g).removeCls(e)}},onRowSelect:function(b){this.addRowCls(b,this.selectedItemCls)},onRowDeselect:function(c){var d=this;d.removeRowCls(c,d.selectedItemCls);d.removeRowCls(c,d.focusedItemCls)},onCellSelect:function(c){var d=this.getCellByPosition(c);if(d){d.addCls(this.selectedCellCls)
}},onCellDeselect:function(c){var d=this.getCellByPosition(c);if(d){d.removeCls(this.selectedCellCls)}},onCellFocus:function(b){this.focusCell(b)},getCellByPosition:function(j){var m=j.row,p=j.column,q=this.store,n=this.getNode(m),l=this.headerCt.getHeaderAtIndex(p),r,k=false;if(l&&n){r=l.getCellSelector();k=Ext.fly(n).down(r)}return k},onRowFocus:function(j,g,h){var k=this,i=k.getNode(j);if(g){k.addRowCls(j,k.focusedItemCls);if(!h){k.focusRow(j)}}else{k.removeRowCls(j,k.focusedItemCls)}},focusRow:function(s){var n=this,k=n.getNode(s),r=n.el,m=0,t=n.ownerCt,l,q,p;if(k&&r){q=r.getRegion();l=Ext.fly(k).getRegion();if(l.top<q.top){m=l.top-q.top}else{if(l.bottom>q.bottom){m=l.bottom-q.bottom}}p=n.getRecord(k);s=n.store.indexOf(p);if(m){t.scrollByDeltaY(m)}n.fireEvent("rowfocus",p,k,s)}},focusCell:function(p){var m=this,l=m.getCellByPosition(p),u=m.el,s=0,r=0,t=u.getRegion(),v=m.ownerCt,n,q;if(l){n=l.getRegion();if(n.top<t.top){s=n.top-t.top}else{if(n.bottom>t.bottom){s=n.bottom-t.bottom}}if(n.left<t.left){r=n.left-t.left}else{if(n.right>t.right){r=n.right-t.right}}if(s){v.scrollByDeltaY(s)}if(r){v.scrollByDeltaX(r)}u.focus();m.fireEvent("cellfocus",q,l,p)}},scrollByDelta:function(g,d){d=d||"scrollTop";var e=this.el.dom;e[d]=(e[d]+=g)},onUpdate:function(c,d){this.callParent(arguments)},saveScrollState:function(){if(this.rendered){var c=this.el.dom,d=this.scrollState;d.left=c.scrollLeft;d.top=c.scrollTop}},restoreScrollState:function(){if(this.rendered){var d=this.el.dom,e=this.scrollState,g=this.headerCt.el.dom;g.scrollLeft=d.scrollLeft=e.left;d.scrollTop=e.top}},refresh:function(){this.setNewTemplate();this.callParent(arguments)},processItemEvent:function(w,e,q,u){var s=this,p=u.getTarget(s.cellSelector,e),r=p?p.cellIndex:-1,x=s.statics().EventMap,v=s.getSelectionModel(),t=u.type,n;if(t=="keydown"&&!p&&v.getCurrentPosition){p=s.getCellByPosition(v.getCurrentPosition());if(p){p=p.dom;r=p.cellIndex}}n=s.fireEvent("uievent",t,s,p,q,r,u);if(n===false||s.callParent(arguments)===false){return false}if(t=="mouseover"||t=="mouseout"){return true}return !((s["onBeforeCell"+x[t]](p,r,w,e,q,u)===false)||(s.fireEvent("beforecell"+t,s,p,r,w,e,q,u)===false)||(s["onCell"+x[t]](p,r,w,e,q,u)===false)||(s.fireEvent("cell"+t,s,p,r,w,e,q,u)===false))},processSpecialEvent:function(u){var r=this,A=r.statics().EventMap,y=r.features,s=y.length,i=u.type,x,e,w,v,z,t,B=r.ownerCt;r.callParent(arguments);if(i=="mouseover"||i=="mouseout"){return}for(x=0;x<s;x++){e=y[x];if(e.hasFeatureEvent){v=u.getTarget(e.eventSelector,r.getTargetEl());if(v){w=e.eventPrefix;z=e.getFireEventArgs("before"+w+i,r,v,u);t=e.getFireEventArgs(w+i,r,v,u);if((r.fireEvent.apply(r,z)===false)||(B.fireEvent.apply(B,z)===false)||(r.fireEvent.apply(r,t)===false)||(B.fireEvent.apply(B,t)===false)){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(c){if(c){var d=this.getMaxContentWidth(c);delete c.flex;c.setWidth(d)}},getMaxContentWidth:function(k){var j=k.getCellInnerSelector(),p=this.el.query(j),n=0,l=p.length,m=k.el.dom.scrollWidth,i;for(;n<l;n++){i=p[n].scrollWidth;if(i>m){m=i}}return m},getPositionByEvent:function(k){var l=this,e=k.getTarget(l.cellSelector),m=k.getTarget(l.itemSelector),i=l.getRecord(m),j=l.getHeaderByCell(e);return l.getPosition(i,j)},getHeaderByCell:function(c){if(c){var d=c.className.match(this.cellRe);if(d&&d[1]){return Ext.getCmp(d[1])}}return false},walkCells:function(u,t,y,s,D,r){var w=this,e=u.row,A=u.column,v=w.store.getCount(),z=w.getFirstVisibleColumnIndex(),C=w.getLastVisibleColumnIndex(),x={row:e,column:A},B=w.headerCt.getHeaderAtIndex(A);if(!B||B.hidden){return false}y=y||{};t=t.toLowerCase();switch(t){case"right":if(A===C){if(s||e===v-1){return false}if(!y.ctrlKey){x.row=e+1;x.column=z}}else{if(!y.ctrlKey){x.column=A+w.getRightGap(B)
}else{x.column=C}}break;case"left":if(A===z){if(s||e===0){return false}if(!y.ctrlKey){x.row=e-1;x.column=C}}else{if(!y.ctrlKey){x.column=A+w.getLeftGap(B)}else{x.column=z}}break;case"up":if(e===0){return false}else{if(!y.ctrlKey){x.row=e-1}else{x.row=0}}break;case"down":if(e===v-1){return false}else{if(!y.ctrlKey){x.row=e+1}else{x.row=v-1}}break}if(D&&D.call(r||window,x)!==true){return false}else{return x}},getFirstVisibleColumnIndex:function(){var i=this.getHeaderCt(),g=i.getGridColumns(),h=Ext.ComponentQuery.query(":not([hidden])",g),e=h[0];return i.getHeaderIndex(e)},getLastVisibleColumnIndex:function(){var i=this.getHeaderCt(),g=i.getGridColumns(),h=Ext.ComponentQuery.query(":not([hidden])",g),e=h[h.length-1];return i.getHeaderIndex(e)},getHeaderCt:function(){return this.headerCt},getPosition:function(h,i){var j=this,g=j.store,k=j.headerCt.getGridColumns();return{row:g.indexOf(h),column:Ext.Array.indexOf(k,i)}},getRightGap:function(i){var j=this.getHeaderCt(),k=j.getGridColumns(),h=Ext.Array.indexOf(k,i),m=h+1,l;for(;m<=k.length;m++){if(!k[m].hidden){l=m;break}}return l-h},beforeDestroy:function(){if(this.rendered){this.el.removeAllListeners()}this.callParent(arguments)},getLeftGap:function(i){var j=this.getHeaderCt(),k=j.getGridColumns(),m=Ext.Array.indexOf(k,i),l=m-1,h;for(;l>=0;l--){if(!k[l].hidden){h=l;break}}return h-m}});Ext.define("Ext.grid.View",{extend:"Ext.view.Table",alias:"widget.gridview",stripeRows:true,invalidateScrollerOnRefresh:true,scrollToTop:function(){if(this.rendered){var c=this.ownerCt,d=c.verticalScroller;if(d){d.scrollToTop()}}},onAdd:function(g,e,d){this.callParent(arguments);this.doStripeRows(d)},onRemove:function(g,e,d){this.callParent(arguments);this.doStripeRows(d)},onUpdate:function(h,g,e){var i=h.indexOf(g);this.callParent(arguments);this.doStripeRows(i,i)},doStripeRows:function(h,i){if(this.stripeRows){var l=this.getNodes(h,i),j=l.length,m=0,k;for(;m<j;m++){k=l[m];k.className=k.className.replace(this.rowClsRe," ");h++;if(h%2===0){k.className+=(" "+this.altRowCls)}}}},refresh:function(c){this.callParent(arguments);this.doStripeRows(0);var d=this.up("gridpanel");if(d&&this.invalidateScrollerOnRefresh){d.invalidateScroller()}}});Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.grid.View"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:false,normalCfgCopy:["invalidateScrollerOnRefresh","verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:["invalidateScrollerOnRefresh"],initComponent:function(){var b=this;if(b.columnLines){b.setColumnLines(b.columnLines)}b.callParent()},setColumnLines:function(e){var d=this,g=(e)?"addClsWithUI":"removeClsWithUI";d[g]("with-col-lines")}});Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",requires:["Ext.tip.ToolTip","Ext.util.HashMap","Ext.util.KeyNav"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:false,hideMode:"offsets",initComponent:function(){var c=this,d;c.cls=Ext.baseCSSPrefix+"grid-row-editor";c.layout={type:"hbox",align:"middle"};c.columns=Ext.create("Ext.util.HashMap");c.columns.getKey=function(a){var b;if(a.getEditor){b=a.getEditor();if(b){return b.id}}return a.id};c.mon(c.columns,{add:c.onFieldAdd,remove:c.onFieldRemove,replace:c.onFieldReplace,scope:c});c.callParent(arguments);if(c.fields){c.setField(c.fields);delete c.fields}d=c.getForm();d.trackResetOnLoad=true},onFieldChange:function(){var g=this,d=g.getForm(),e=d.isValid();if(g.errorSummary&&g.isVisible()){g[e?"hideToolTip":"showToolTip"]()}if(g.floatingButtons){g.floatingButtons.child("#update").setDisabled(!e)}g.isValid=e},afterRender:function(){var c=this,d=c.editingPlugin;c.callParent(arguments);c.mon(c.renderTo,"scroll",c.onCtScroll,c,{buffer:100});c.mon(c.el,{click:Ext.emptyFn,stopPropagation:true});c.el.swallowEvent(["keypress","keydown"]);c.keyNav=Ext.create("Ext.util.KeyNav",c.el,{enter:d.completeEdit,esc:d.onEscKey,scope:d});
c.mon(d.view,{beforerefresh:c.onBeforeViewRefresh,refresh:c.onViewRefresh,scope:c})},onBeforeViewRefresh:function(d){var g=this,e=d.el.dom;if(g.el.dom.parentNode===e){e.removeChild(g.el.dom)}},onViewRefresh:function(k){var i=this,g=k.el.dom,j=i.context,h;g.appendChild(i.el.dom);if(j&&(h=j.store.indexOf(j.record))>=0){j.row=k.getNode(h);i.reposition();if(i.tooltip&&i.tooltip.isVisible()){i.tooltip.setTarget(j.row)}}else{i.editingPlugin.cancelEdit()}},onCtScroll:function(j,k){var h=this,e=k.scrollTop,i=k.scrollLeft;if(e!==h.lastScrollTop){h.lastScrollTop=e;if((h.tooltip&&h.tooltip.isVisible())||h.hiddenTip){h.repositionTip()}}if(i!==h.lastScrollLeft){h.lastScrollLeft=i;h.reposition()}},onColumnAdd:function(b){this.setField(b)},onColumnRemove:function(b){this.columns.remove(b)},onColumnResize:function(c,d){c.getEditor().setWidth(d-2);if(this.isVisible()){this.reposition()}},onColumnHide:function(b){b.getEditor().hide();if(this.isVisible()){this.reposition()}},onColumnShow:function(d){var c=d.getEditor();c.setWidth(d.getWidth()-2).show();if(this.isVisible()){this.reposition()}},onColumnMove:function(e,g,i){var h=e.getEditor();if(this.items.indexOf(h)!=i){this.move(g,i)}},onFieldAdd:function(k,i,h){var m=this,j=m.editingPlugin.grid.headerCt.getHeaderIndex(h),l=h.getEditor({xtype:"displayfield"});m.insert(j,l)},onFieldRemove:function(j,i,h){var m=this,k=h.getEditor(),l=k.el;m.remove(k,false);if(l){l.remove()}},onFieldReplace:function(i,h,k,g){var j=this;j.onFieldRemove(i,h,g)},clearFields:function(){var d=this,c=d.columns;c.each(function(a){c.removeAtKey(a)})},getFloatingButtons:function(){var j=this,i=Ext.baseCSSPrefix,k=i+"grid-row-editor-buttons",g=j.editingPlugin,h;if(!j.floatingButtons){h=j.floatingButtons=Ext.create("Ext.Container",{renderTpl:['<div class="{baseCls}-ml"></div>','<div class="{baseCls}-mr"></div>','<div class="{baseCls}-bl"></div>','<div class="{baseCls}-br"></div>','<div class="{baseCls}-bc"></div>'],renderTo:j.el,baseCls:k,layout:{type:"hbox",align:"middle"},defaults:{margins:"0 1 0 1"},items:[{itemId:"update",flex:1,xtype:"button",handler:g.completeEdit,scope:g,text:j.saveBtnText,disabled:!j.isValid},{flex:1,xtype:"button",handler:g.cancelEdit,scope:g,text:j.cancelBtnText}]});j.mon(h.el,{mousedown:Ext.emptyFn,click:Ext.emptyFn,stopEvent:true})}return j.floatingButtons},reposition:function(z){var x=this,N=x.context,L=N&&Ext.get(N.row),B=x.getFloatingButtons(),A=B.el,P=x.editingPlugin.grid,K=P.view.el,y=P.verticalScroller,C=P.headerCt.getFullWidth(),w=P.getWidth(),F=Math.min(C,w),D=P.view.el.dom.scrollLeft,I=B.getWidth(),M=(F-I)/2+D,H,J,E,G=function(){if(y){y.invalidate();A.scrollIntoView(K,false)}if(z&&z.callback){z.callback.call(z.scope||x)}};if(L&&Ext.isElement(L.dom)){L.scrollIntoView(K,false);H=L.getXY()[1]-5;J=L.getHeight();E=J+10;if(Ext.isIE){E+=2}if(x.getHeight()!=E){x.setHeight(E);x.el.setLeft(0)}if(z){var O={to:{y:H},duration:z.duration||125,listeners:{afteranimate:function(){G();H=L.getXY()[1]-5;x.el.setY(H)}}};x.animate(O)}else{x.el.setY(H);G()}}if(x.getWidth()!=C){x.setWidth(C)}A.setLeft(M)},getEditor:function(d){var c=this;if(Ext.isNumber(d)){return c.query(">[isFormField]")[d]}else{if(d instanceof Ext.grid.column.Column){return d.getEditor()}}},removeField:function(c){var d=this;c=d.getEditor(c);d.mun(c,"validitychange",d.onValidityChange,d);d.columns.removeKey(c.id)},setField:function(e){var d=this,g;if(Ext.isArray(e)){Ext.Array.forEach(e,d.setField,d);return}g=e.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}});g.margins="0 0 0 2";g.setWidth(e.getDesiredWidth()-2);d.mon(g,"change",d.onFieldChange,d);d.columns.add(g.id,e);if(e.hidden){d.onColumnHide(e)}if(d.isVisible()&&d.context){d.renderColumnData(g,d.context.record)}},loadRecord:function(e){var g=this,d=g.getForm();d.loadRecord(e);if(d.isValid()){g.hideToolTip()}else{g.showToolTip()}Ext.Array.forEach(g.query(">displayfield"),function(a){g.renderColumnData(a,e)},g)},renderColumnData:function(q,t){var s=this,z=s.editingPlugin.grid,w=z.headerCt,r=z.view,n=r.store,v=s.columns.get(q.id),p=t.get(v.dataIndex);if(v.renderer){var y={tdCls:"",style:""},x=n.indexOf(t),u=w.getHeaderIndex(v);
p=v.renderer.call(v.scope||w.ownerCt,p,y,t,x,u,n,r)}q.setRawValue(p);q.resetOriginalValue()},beforeEdit:function(){var b=this;if(b.isVisible()&&!b.autoCancel&&b.isDirty()){b.showToolTip();return false}},startEdit:function(i,k){var l=this,m=l.editingPlugin.grid,j=m.getView(),p=m.store,n=l.context=Ext.apply(l.editingPlugin.context,{view:m.getView(),store:p});n.grid.getSelectionModel().select(i);l.loadRecord(i);if(!l.isVisible()){l.show();l.focusContextCell()}else{l.reposition({callback:this.focusContextCell})}},focusContextCell:function(){var b=this.getEditor(this.context.colIdx);if(b&&b.focus){b.focus()}},cancelEdit:function(){var c=this,d=c.getForm();c.hide();d.clearInvalid();d.reset()},completeEdit:function(){var c=this,d=c.getForm();if(!d.isValid()){return}d.updateRecord(c.context.record);c.hide();return true},onShow:function(){var b=this;b.callParent(arguments);b.reposition()},onHide:function(){var b=this;b.callParent(arguments);b.hideToolTip();b.invalidateScroller();if(b.context){b.context.view.focus();b.context=null}},isDirty:function(){var c=this,d=c.getForm();return d.isDirty()},getToolTip:function(){var d=this,c;if(!d.tooltip){c=d.tooltip=Ext.createWidget("tooltip",{cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:d.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left"})}return d.tooltip},hideToolTip:function(){var d=this,c=d.getToolTip();if(c.rendered){c.disable()}d.hiddenTip=false},showToolTip:function(){var k=this,j=k.getToolTip(),h=k.context,i=Ext.get(h.row),g=h.grid.view.el;j.setTarget(i);j.showAt([-10000,-10000]);j.body.update(k.getErrors());j.mouseOffset=[g.getWidth()-i.getWidth()+k.lastScrollLeft+15,0];k.repositionTip();j.doLayout();j.enable()},repositionTip:function(){var q=this,p=q.getToolTip(),v=q.context,m=Ext.get(v.row),n=v.grid.view.el,t=n.getHeight(),s=q.lastScrollTop,r=s+t,w=m.getHeight(),x=m.dom.offsetTop,u=x+w;if(u>s&&x<r){p.show();q.hiddenTip=false}else{p.hide();q.hiddenTip=true}},getErrors:function(){var e=this,d=!e.autoCancel&&e.isDirty()?e.dirtyText+"<br />":"",g=[];Ext.Array.forEach(e.query(">[isFormField]"),function(a){g=g.concat(Ext.Array.map(a.getErrors(),function(b){return"<li>"+b+"</li>"}))},e);return d+"<ul>"+g.join("")+"</ul>"},invalidateScroller:function(){var g=this,d=g.context,e=d.grid.verticalScroller;if(e){e.invalidate()}}});Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",uses:["Ext.grid.ColumnLayout","Ext.grid.column.Column","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],border:true,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",triStateSort:false,ddLock:false,dragging:false,sortable:true,initComponent:function(){var b=this;b.headerCounter=0;b.plugins=b.plugins||[];if(!b.isHeader){b.resizer=Ext.create("Ext.grid.plugin.HeaderResizer");b.reorderer=Ext.create("Ext.grid.plugin.HeaderReorderer");if(!b.enableColumnResize){b.resizer.disable()}if(!b.enableColumnMove){b.reorderer.disable()}b.plugins.push(b.reorderer,b.resizer)}if(b.isHeader&&!b.items){b.layout="auto"}else{b.layout={type:"gridcolumn",availableSpaceOffset:b.availableSpaceOffset,align:"stretchmax",resetStretch:true}}b.defaults=b.defaults||{};Ext.applyIf(b.defaults,{width:b.defaultWidth,triStateSort:b.triStateSort,sortable:b.sortable});b.callParent();b.addEvents("columnresize","headerclick","headertriggerclick","columnmove","columnhide","columnshow","sortchange","menucreate")},onDestroy:function(){Ext.destroy(this.resizer,this.reorderer);this.callParent()},applyDefaults:function(b){if(b&&!b.isComponent&&b.xtype=="rownumberer"){return b}return this.callParent([b])},applyColumnsState:function(j){if(!j||!j.length){return}var i=this,k=0,g,h;Ext.each(j,function(a){h=i.down("gridcolumn[headerId="+a.id+"]");
if(h){g=i.items.indexOf(h);if(k!==g){i.moveHeader(g,k)}if(h.applyColumnState){h.applyColumnState(a)}++k}})},getColumnsState:function(){var d=this,e=[],g;d.items.each(function(a){g=a.getColumnState&&a.getColumnState();if(g){e.push(g)}});return e},onAdd:function(c){var d=this;if(!c.headerId){c.headerId=c.initialConfig.id||("h"+(++d.headerCounter))}d.callParent(arguments);d.purgeCache()},onRemove:function(c){var d=this;d.callParent(arguments);d.purgeCache()},afterRender:function(){this.callParent();var g=this.up("[store]").store,i=g.sorters,h=i.first(),e;if(h){e=this.down("gridcolumn[dataIndex="+h.property+"]");if(e){e.setSortState(h.direction,false,true)}}},afterLayout:function(){if(!this.isHeader){var i=this,j=i.query(">gridcolumn:not([hidden])"),k,g,h;i.callParent(arguments);if(j.length){g=j[0].el;if(g!==i.pastFirstHeaderEl){if(i.pastFirstHeaderEl){i.pastFirstHeaderEl.removeCls(i.firstHeaderCls)}g.addCls(i.firstHeaderCls);i.pastFirstHeaderEl=g}h=j[j.length-1].el;if(h!==i.pastLastHeaderEl){if(i.pastLastHeaderEl){i.pastLastHeaderEl.removeCls(i.lastHeaderCls)}h.addCls(i.lastHeaderCls);i.pastLastHeaderEl=h}}}},onHeaderShow:function(r,w){var n=this,i=n.ownerCt,u=n.getMenu(),t,v,q,x,p,s;if(u){q=u.down("menucheckitem[headerId="+r.id+"]");if(q){q.setChecked(true,true)}t=u.query("#columnItem>menucheckitem[checked]");v=t.length;if((n.getVisibleGridColumns().length>1)&&n.disabledMenuItems&&n.disabledMenuItems.length){if(v==1){Ext.Array.remove(n.disabledMenuItems,t[0])}for(s=0,p=n.disabledMenuItems.length;s<p;s++){x=n.disabledMenuItems[s];if(!x.isDestroyed){x[x.menu?"enableCheckChange":"enable"]()}}if(v==1){n.disabledMenuItems=t}else{n.disabledMenuItems=[]}}}if(!r.isGroupHeader){if(n.view){n.view.onHeaderShow(n,r,true)}if(i){i.onHeaderShow(n,r)}}n.fireEvent("columnshow",n,r);if(w!==true){n.doLayout()}},doComponentLayout:function(){var b=this;if(b.view&&b.view.saveScrollState){b.view.saveScrollState()}b.callParent(arguments);if(b.view&&b.view.restoreScrollState){b.view.restoreScrollState()}},onHeaderHide:function(j,m){var h=this,i=h.ownerCt,k=h.getMenu(),l;if(k){l=k.down("menucheckitem[headerId="+j.id+"]");if(l){l.setChecked(false,true)}h.setDisabledItems()}if(!j.isGroupHeader){if(h.view){h.view.onHeaderHide(h,j,true)}if(i){i.onHeaderHide(h,j)}if(!m){h.doLayout()}}h.fireEvent("columnhide",h,j)},setDisabledItems:function(){var l=this,j=l.getMenu(),h=0,i,k,m;k=j.query("#columnItem>menucheckitem[checked]");if((k.length===1)){if(!l.disabledMenuItems){l.disabledMenuItems=[]}if((l.getVisibleGridColumns().length===1)&&k[0].menu){k=k.concat(k[0].menu.query("menucheckitem[checked]"))}i=k.length;for(h=0;h<i;h++){m=k[h];if(!Ext.Array.contains(l.disabledMenuItems,m)){m.disabled=false;m[m.menu?"disableCheckChange":"disable"]();l.disabledMenuItems.push(m)}}}},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=false},200,this)},onHeaderResize:function(g,e,d){this.tempLock();if(this.view&&this.view.rendered){this.view.onHeaderResize(g,e,d)}},onHeaderClick:function(g,d,e){this.fireEvent("headerclick",this,g,d,e)},onHeaderTriggerClick:function(g,d,e){if(this.fireEvent("headertriggerclick",this,g,d,e)!==false){this.showMenuBy(e,g)}},showMenuBy:function(h,j){var l=this.getMenu(),k=l.down("#ascItem"),m=l.down("#descItem"),i;l.activeHeader=l.ownerCt=j;l.setFloatParent(j);j.titleContainer.addCls(this.headerOpenCls);i=j.sortable?"enable":"disable";if(k){k[i]()}if(m){m[i]()}l.showBy(h)},onMenuDeactivate:function(){var b=this.getMenu();b.activeHeader.titleContainer.removeCls(this.headerOpenCls)},moveHeader:function(d,c){this.tempLock();this.onHeaderMoved(this.move(d,c),d,c)},purgeCache:function(){var b=this;delete b.gridDataColumns;delete b.hideableColumns;if(b.menu){b.menu.destroy();delete b.menu}},onHeaderMoved:function(i,g,j){var k=this,h=k.ownerCt;if(h&&h.onHeaderMove){h.onHeaderMove(k,i,g,j)}k.fireEvent("columnmove",k,i,g,j)},getMenu:function(){var b=this;if(!b.menu){b.menu=Ext.create("Ext.menu.Menu",{hideOnParentHide:false,items:b.getMenuItems(),listeners:{deactivate:b.onMenuDeactivate,scope:b}});b.setDisabledItems();b.fireEvent("menucreate",b,b.menu)
}return b.menu},getMenuItems:function(){var g=this,d=[],e=g.enableColumnHide?g.getColumnMenu(g):null;if(g.sortable){d=[{itemId:"ascItem",text:g.sortAscText,cls:Ext.baseCSSPrefix+"hmenu-sort-asc",handler:g.onSortAscClick,scope:g},{itemId:"descItem",text:g.sortDescText,cls:Ext.baseCSSPrefix+"hmenu-sort-desc",handler:g.onSortDescClick,scope:g}]}if(e&&e.length){d.push("-",{itemId:"columnItem",text:g.columnsText,cls:Ext.baseCSSPrefix+"cols-icon",menu:e})}return d},onSortAscClick:function(){var c=this.getMenu(),d=c.activeHeader;d.setSortState("ASC")},onSortDescClick:function(){var c=this.getMenu(),d=c.activeHeader;d.setSortState("DESC")},getColumnMenu:function(l){var p=[],i=0,m,j=l.query(">gridcolumn[hideable]"),k=j.length,n;for(;i<k;i++){m=j[i];n=Ext.create("Ext.menu.CheckItem",{text:m.text,checked:!m.hidden,hideOnClick:false,headerId:m.id,menu:m.isGroupHeader?this.getColumnMenu(m):undefined,checkHandler:this.onColumnCheckChange,scope:this});if(k===1){n.disabled=true}p.push(n);m.on({destroy:Ext.Function.bind(n.destroy,n)})}return p},onColumnCheckChange:function(e,d){var g=Ext.getCmp(e.headerId);g[d?"show":"hide"]()},getColumnsForTpl:function(m){var p=[],n=this.getGridColumns(m),k=n.length,j=0,l,i;for(;j<k;j++){l=n[j];if(l.hidden||l.up("headercontainer[hidden=true]")){i=0}else{i=l.getDesiredWidth();if((j===0)&&(Ext.isIE6||Ext.isIE7)){i+=1}}p.push({dataIndex:l.dataIndex,align:l.align,width:i,id:l.id,cls:l.tdCls,columnId:l.getItemId()})}return p},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(j){var k=0,g=this.getVisibleGridColumns(j),i=g.length,h=0;for(;h<i;h++){if(!isNaN(g[h].width)){if(g[h].getDesiredWidth){k+=g[h].getDesiredWidth()}else{k+=g[h].getWidth()}}}return k},clearOtherSortStates:function(h){var k=this.getGridColumns(),i=k.length,g=0,j;for(;g<i;g++){if(k[g]!==h){j=k[g].sortState;k[g].setSortState(null,true)}}},getVisibleGridColumns:function(b){return Ext.ComponentQuery.query(":not([hidden])",this.getGridColumns(b))},getGridColumns:function(d){var g=this,e=d?null:g.gridDataColumns;if(!e){g.gridDataColumns=e=[];g.cascade(function(a){if((a!==g)&&!a.isGroupHeader){e.push(a)}})}return e},getHideableColumns:function(d){var g=this,e=d?null:g.hideableColumns;if(!e){e=g.hideableColumns=g.query("[hideable]")}return e},getHeaderIndex:function(c){var d=this.getGridColumns();return Ext.Array.indexOf(d,c)},getHeaderAtIndex:function(d){var c=this.getGridColumns();return c[d]},prepareData:function(y,D,w,u,F){var z={},C=this.gridDataColumns||this.getGridColumns(),B=C.length,A=0,x,r,v,s,E,t=F.store;for(;A<B;A++){E={tdCls:"",style:""};x=C[A];r=x.id;v=x.renderer;s=y[x.dataIndex];if(typeof v==="string"){x.renderer=v=Ext.util.Format[v]}if(typeof v==="function"){s=v.call(x.scope||this.ownerCt,s,E,w,D,A,t,u)}z[r+"-modified"]=w.isModified(x.dataIndex)?Ext.baseCSSPrefix+"grid-dirty-cell":"";z[r+"-tdCls"]=E.tdCls;z[r+"-tdAttr"]=E.tdAttr;z[r+"-style"]=E.style;if(s===undefined||s===null||s===""){s="&#160;"}z[r]=s}return z},expandToFit:function(b){if(this.view){this.view.expandToFit(b)}}});Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",alias:"widget.gridcolumn",requires:["Ext.util.KeyNav"],alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header "+Ext.baseCSSPrefix+"unselectable",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:5,sortState:null,possibleSortStates:["ASC","DESC"],renderTpl:'<div id="{id}-titleContainer" class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text">{text}</span><tpl if="!values.menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger"></div></tpl></div>',dataIndex:null,text:"&#160;",sortable:true,hideable:true,menuDisabled:false,renderer:false,align:"left",draggable:true,initDraggable:Ext.emptyFn,isHeader:true,initComponent:function(){var h=this,e,g,i;if(Ext.isDefined(h.header)){h.text=h.header;delete h.header}if(h.flex){h.minWidth=h.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}else{h.minWidth=h.width}if(!h.triStateSort){h.possibleSortStates.length=2
}if(Ext.isDefined(h.columns)){h.isGroupHeader=true;h.items=h.columns;delete h.columns;delete h.flex;h.width=0;for(e=0,g=h.items.length;e<g;e++){i=h.items[e];if(!i.hidden){h.width+=i.width||Ext.grid.header.Container.prototype.defaultWidth}}h.minWidth=h.width;h.cls=(h.cls||"")+" "+Ext.baseCSSPrefix+"group-header";h.sortable=false;h.resizable=false;h.align="center"}h.addChildEls("titleContainer","triggerEl","textEl");h.callParent(arguments)},onAdd:function(b){b.isSubHeader=true;b.addCls(Ext.baseCSSPrefix+"group-sub-header");this.callParent(arguments)},onRemove:function(b){b.isSubHeader=false;b.removeCls(Ext.baseCSSPrefix+"group-sub-header");this.callParent(arguments)},initRenderData:function(){var b=this;Ext.applyIf(b.renderData,{text:b.text,menuDisabled:b.menuDisabled});return b.callParent(arguments)},applyColumnState:function(d){var e=this,g=Ext.isDefined;e.applyColumnsState(d.columns);if(g(d.hidden)){e.hidden=d.hidden}if(g(d.locked)){e.locked=d.locked}if(g(d.sortable)){e.sortable=d.sortable}if(g(d.width)){delete e.flex;e.width=d.width}else{if(g(d.flex)){delete e.width;e.flex=d.flex}}},getColumnState:function(){var d=this,e=[],g={id:d.headerId};d.savePropsToState(["hidden","sortable","locked","flex","width"],g);if(d.isGroupHeader){d.items.each(function(a){e.push(a.getColumnState())});if(e.length){g.columns=e}}else{if(d.isSubHeader&&d.ownerCt.hidden){delete d.hidden}}if("width" in g){delete g.flex}return g},setText:function(b){this.text=b;if(this.rendered){this.textEl.update(b)}},getOwnerHeaderCt:function(){return this.up(":not([isHeader])")},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},onRender:function(){var c=this,d=c.up("tablepanel");if(d&&(!c.sortable||d.sortableColumns===false)&&!c.groupable&&!c.lockable&&(d.enableColumnHide===false||!c.getOwnerHeaderCt().getHideableColumns().length)){c.menuDisabled=true}c.callParent(arguments)},afterRender:function(){var c=this,d=c.el;c.callParent(arguments);d.addCls(Ext.baseCSSPrefix+"column-header-align-"+c.align).addClsOnOver(c.overCls);c.mon(d,{click:c.onElClick,dblclick:c.onElDblClick,scope:c});if(!Ext.isIE8||!Ext.isStrict){c.mon(c.getFocusEl(),{focus:c.onTitleMouseOver,blur:c.onTitleMouseOut,scope:c})}c.mon(c.titleContainer,{mouseenter:c.onTitleMouseOver,mouseleave:c.onTitleMouseOut,scope:c});c.keyNav=Ext.create("Ext.util.KeyNav",d,{enter:c.onEnterKey,down:c.onDownKey,scope:c})},setWidth:function(u,v){var n=this,t=n.ownerCt,m,p,q,s=n.getWidth(),r=0,i;if(u!==s){n.oldWidth=s;n.minWidth=n.width=u;if(t.isGroupHeader){m=t.items.items;p=m.length;for(q=0;q<p;q++){i=m[q];if(!i.hidden){r+=(i===n)?u:i.getWidth()}}t.setWidth(r,v)}else{if(v!==false){t.doLayout()}}}},afterComponentLayout:function(i,g){var h=this,e=this.getOwnerHeaderCt();h.callParent(arguments);if(i&&!h.isGroupHeader&&e){e.onHeaderResize(h,i,true)}if(h.oldWidth&&(i!==h.oldWidth)){e.fireEvent("columnresize",e,this,i)}delete h.oldWidth},setPadding:function(e){var g=this,d=Ext.util.TextMetrics.measure(g.textEl.dom,g.text).height;if(!g.isGroupHeader){if(g.titleContainer.getHeight()<e){g.titleContainer.dom.style.height=e+"px"}}e=g.titleContainer.getViewSize().height;if(d){g.titleContainer.setStyle({paddingTop:Math.max(((e-d)/2),0)+"px"})}if(Ext.isIE&&g.triggerEl){g.triggerEl.setHeight(e)}},onDestroy:function(){var b=this;Ext.destroy(b.textEl,b.keyNav);delete b.keyNav;b.callParent(arguments)},onTitleMouseOver:function(){this.titleContainer.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleContainer.removeCls(this.hoverCls)},onDownKey:function(b){if(this.triggerEl){this.onElClick(b,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(b){this.onElClick(b,this.el.dom)},onElDblClick:function(h,g){var i=this,e=i.ownerCt;if(e&&Ext.Array.indexOf(e.items,i)!==0&&i.isOnLeftEdge(h)){e.expandToFit(i.previousSibling("gridcolumn"))}},onElClick:function(h,e){var i=this,g=i.getOwnerHeaderCt();if(g&&!g.ddLock){if(i.triggerEl&&(h.target===i.triggerEl.dom||e===i.triggerEl.dom||h.within(i.triggerEl))){g.onHeaderTriggerClick(i,h,e)}else{if(h.getKey()||(!i.isOnLeftEdge(h)&&!i.isOnRightEdge(h))){i.toggleSortState();
g.onHeaderClick(i,h,e)}}}},processEvent:function(k,e,i,m,l,j){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var d=this,e,g;if(d.sortable){e=Ext.Array.indexOf(d.possibleSortStates,d.sortState);g=(e+1)%d.possibleSortStates.length;d.setSortState(d.possibleSortStates[g])}},doSort:function(c){var d=this.up("tablepanel").store;d.sort({property:this.getSortParam(),direction:c})},getSortParam:function(){return this.dataIndex},setSortState:function(v,l,q){var p=this,n=Ext.baseCSSPrefix+"column-header-sort-",m=n+"ASC",t=n+"DESC",u=n+"null",r=p.getOwnerHeaderCt(),s=p.sortState;if(s!==v&&p.getSortParam()){p.addCls(n+v);if(v&&!q){p.doSort(v)}switch(v){case"DESC":p.removeCls([m,u]);break;case"ASC":p.removeCls([t,u]);break;case null:p.removeCls([m,t]);break}if(r&&!p.triStateSort&&!l){r.clearOtherSortStates(p)}p.sortState=v;r.fireEvent("sortchange",r,p,v)}},hide:function(){var l=this,p,j,n,k,m=0,i=l.getOwnerHeaderCt();l.oldWidth=l.getWidth();if(l.isGroupHeader){p=l.items.items;l.callParent(arguments);i.onHeaderHide(l);for(n=0,j=p.length;n<j;n++){p[n].hidden=true;i.onHeaderHide(p[n],true)}return}k=l.ownerCt.componentLayout.layoutBusy;l.ownerCt.componentLayout.layoutBusy=true;l.callParent(arguments);l.ownerCt.componentLayout.layoutBusy=k;i.onHeaderHide(l);if(l.ownerCt.isGroupHeader){p=l.ownerCt.query(">:not([hidden])");if(!p.length){l.ownerCt.hide()}else{for(n=0,j=p.length;n<j;n++){m+=p[n].getWidth()}l.ownerCt.minWidth=m;l.ownerCt.setWidth(m)}}},show:function(){var n=this,w=n.ownerCt,s=w.componentLayout,v=s.layoutBusy,x=w.layout,r=x.layoutBusy,p,q,t,i,u=0;s.layoutBusy=x.layoutBusy=true;n.callParent(arguments);s.layoutBusy=v;x.layoutBusy=r;if(n.isSubHeader){if(!w.isVisible()){w.show()}}if(n.isGroupHeader&&!n.query(":not([hidden])").length){p=n.query(">*");for(t=0,q=p.length;t<q;t++){i=p[t];i.preventLayout=true;i.show();u+=i.getWidth();delete i.preventLayout}n.setWidth(u)}if(w.isGroupHeader&&n.preventLayout!==true){p=w.query(">:not([hidden])");for(t=0,q=p.length;t<q;t++){u+=p[t].getWidth()}w.minWidth=u;w.setWidth(u)}w=n.getOwnerHeaderCt();if(w){w.onHeaderShow(n,n.preventLayout)}},getDesiredWidth:function(){var b=this;if(b.rendered&&b.componentLayout&&b.componentLayout.lastComponentSize){return b.componentLayout.lastComponentSize.width}else{if(b.flex){return b.width}else{return b.width}}},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(b){return(b.getXY()[0]-this.el.getLeft()<=this.handleWidth)},isOnRightEdge:function(b){return(this.el.getRight()-b.getXY()[0]<=this.handleWidth)}});Ext.define("Ext.grid.RowNumberer",{extend:"Ext.grid.column.Column",alias:"widget.rownumberer",text:"&#160",width:23,sortable:false,align:"right",constructor:function(b){this.callParent(arguments);if(this.rowspan){this.renderer=Ext.Function.bind(this.renderer,this)}},resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",rowspan:undefined,renderer:function(k,h,i,l,j,m){if(this.rowspan){h.cellAttr='rowspan="'+this.rowspan+'"'}h.tdCls=Ext.baseCSSPrefix+"grid-cell-special";return m.indexOfTotal(i)+1}});Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorHtml:'<div class="x-grid-drop-indicator-left"></div><div class="x-grid-drop-indicator-right"></div>',indicatorCls:"x-grid-drop-indicator",constructor:function(d){var c=this;Ext.apply(c,d);if(!c.ddGroup){c.ddGroup="view-dd-zone-"+c.view.id}c.callParent([c.view.el])},fireViewEvent:function(){var c=this,d;c.lock();d=c.view.fireEvent.apply(c.view,arguments);c.unlock();return d},getTargetFromEvent:function(l){var m=l.getTarget(this.view.getItemSelector()),q,r,e,p,i,n;if(!m){q=l.getPageY();for(p=0,r=this.view.getNodes(),i=r.length;p<i;p++){e=r[p];n=Ext.fly(e).getBox();if(q<=n.bottom){return e}}}return m},getIndicator:function(){var b=this;if(!b.indicator){b.indicator=Ext.createWidget("component",{html:b.indicatorHtml,cls:b.indicatorCls,ownerCt:b.view,floating:true,shadow:false})}return b.indicator
},getPosition:function(k,h){var i=k.getXY()[1],e=Ext.fly(h).getRegion(),j;if((e.bottom-i)>=(e.bottom-e.top)/2){j="before"}else{j="after"}return j},containsRecordAtOffset:function(n,i,l){if(!i){return false}var j=this.view,p=j.indexOf(i),m=j.getNode(p+l),k=m?j.getRecord(m):null;return k&&Ext.Array.contains(n,k)},positionIndicator:function(u,t,s){var r=this,p=r.view,q=r.getPosition(s,u),e=p.getRecord(u),v=t.records,n,m;if(!Ext.Array.contains(v,e)&&(q=="before"&&!r.containsRecordAtOffset(v,e,-1)||q=="after"&&!r.containsRecordAtOffset(v,e,1))){r.valid=true;if(r.overRecord!=e||r.currentPosition!=q){m=Ext.fly(u).getY()-p.el.getY()-1;if(q=="after"){m+=Ext.fly(u).getHeight()}r.getIndicator().setWidth(Ext.fly(p.el).getWidth()).showAt(0,m);r.overRecord=e;r.currentPosition=q}}else{r.invalidateDrop()}},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(k,h,i,j){var e=this;if(!Ext.Array.contains(j.records,e.view.getRecord(k))){e.positionIndicator(k,j,i)}return e.valid?e.dropAllowed:e.dropNotAllowed},notifyOut:function(k,h,i,j){var e=this;e.callParent(arguments);delete e.overRecord;delete e.currentPosition;if(e.indicator){e.indicator.hide()}},onContainerOver:function(i,j,k){var l=this,e=l.view,m=e.store.getCount();if(m){l.positionIndicator(e.getNode(m-1),k,j)}else{delete l.overRecord;delete l.currentPosition;l.getIndicator().setWidth(Ext.fly(e.el).getWidth()).showAt(0,0);l.valid=true}return l.dropAllowed},onContainerDrop:function(e,g,d){return this.onNodeDrop(e,null,g,d)},onNodeDrop:function(q,k,n,p){var r=this,l=false,e=function(){r.invalidateDrop();r.handleNodeDrop(p,r.overRecord,r.currentPosition);l=true;r.fireViewEvent("drop",q,p,r.overRecord,r.currentPosition)},m=false;if(r.valid){m=r.fireViewEvent("beforedrop",q,p,r.overRecord,r.currentPosition,e);if(m!==false){if(!l){e()}}}return m},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;this.callParent()}});Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="x-grid-drop-indicator-left"></div><div class="x-grid-drop-indicator-right"></div>',indicatorCls:"x-grid-drop-indicator",handleNodeDrop:function(s,q,p){var l=this.view,i=l.getStore(),m,t,r,n;if(s.copy){t=s.records;s.records=[];for(r=0,n=t.length;r<n;r++){s.records.push(t[r].copy(t[r].getId()))}}else{s.view.store.remove(s.records,s.view===l)}m=i.indexOf(q);if(p!=="before"){m++}i.insert(m,s.records);l.getSelectionModel().select(s.records)}});Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",header:"&#160;",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",sortable:false,constructor:function(n){var k=this,i=Ext.apply({},n),p=i.items||[k],j=p.length,m,l;delete i.items;k.callParent([i]);k.items=p;k.renderer=function(b,a){b=Ext.isFunction(i.renderer)?i.renderer.apply(this,arguments)||"":"";a.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(m=0;m<j;m++){l=p[m];l.disable=Ext.Function.bind(k.disableAction,k,[m]);l.enable=Ext.Function.bind(k.enableAction,k,[m]);b+='<img alt="'+(l.altText||k.altText)+'" src="'+(l.icon||Ext.BLANK_IMAGE_URL)+'" class="'+Ext.baseCSSPrefix+"action-col-icon "+Ext.baseCSSPrefix+"action-col-"+String(m)+" "+(l.disabled?Ext.baseCSSPrefix+"item-disabled":" ")+(l.iconCls||"")+" "+(Ext.isFunction(l.getClass)?l.getClass.apply(l.scope||k.scope||k,arguments):(k.iconCls||""))+'"'+((l.tooltip)?' data-qtip="'+l.tooltip+'"':"")+" />"}return b}},enableAction:function(d){var c=this;if(!d){d=0}else{if(!Ext.isNumber(d)){d=Ext.Array.indexOf(c.items,d)}}c.items[d].disabled=false;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+d).removeCls(c.disabledCls)},disableAction:function(d){var c=this;if(!d){d=0}else{if(!Ext.isNumber(d)){d=Ext.Array.indexOf(c.items,d)}}c.items[d].disabled=true;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+d).addCls(c.disabledCls)},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(r,n,m,v,q,t){var s=this,u=t.getTarget().className.match(s.actionIdRe),e,p;
if(u){e=s.items[parseInt(u[1],10)];if(e){if(r=="click"){p=e.handler||s.handler;if(p&&!e.disabled){p.call(e.scope||s.scope||s,n,v,q,e,t)}}else{if(r=="mousedown"&&e.stopSelection!==false){return false}}}}return s.callParent(arguments)},cascade:function(c,d){c.call(d||this,this)},getRefItems:function(){return[]}});Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(g){this.callParent(arguments);var e=this.trueText,i=this.falseText,h=this.undefinedText;this.renderer=function(a){if(a===undefined){return h}if(!a||a==="false"){return i}return e}}});Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){var b=this;b.callParent(arguments);if(!b.format){b.format=Ext.Date.defaultFormat}b.renderer=Ext.util.Format.dateRenderer(b.format)}});Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",constructor:function(b){this.callParent(arguments);this.renderer=Ext.util.Format.numberRenderer(this.format)}});Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",constructor:function(e){var g=this,d;g.callParent(arguments);d=g.tpl=(!Ext.isPrimitive(g.tpl)&&g.tpl.compile)?g.tpl:Ext.create("Ext.XTemplate",g.tpl);g.renderer=function(b,a,i){var c=Ext.apply({},i.data,i.getAssociatedData());return d.apply(c)}}});Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",isFeature:true,disabled:false,hasFeatureEvent:true,eventPrefix:null,eventSelector:null,view:null,grid:null,collectData:false,getFeatureTpl:function(){return""},getFireEventArgs:function(e,g,i,h){return[e,g,i,h]},attachEvents:function(){},getFragmentTpl:function(){return},mutateMetaRowTpl:function(b){},getMetaRowTplFragments:function(){return{}},getTableFragments:function(){return{}},getAdditionalData:function(i,g,e,h){return{}},enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",showSummaryRow:true,nestedIdRe:/\{\{id\}([\w\-]*)\}/g,toggleSummaryRow:function(b){this.showSummaryRow=!!b},getSummaryFragments:function(){var b={};if(this.showSummaryRow){Ext.apply(b,{printSummaryRow:Ext.bind(this.printSummaryRow,this)})}return b},printSummaryRow:function(d){var e=this.view.getTableChunker().metaRowTpl.join(""),g=Ext.baseCSSPrefix;e=e.replace(g+"grid-row",g+"grid-row-summary");e=e.replace("{{id}}","{gridSummaryValue}");e=e.replace(this.nestedIdRe,"{id$1}");e=e.replace("{[this.embedRowCls()]}","{rowCls}");e=e.replace("{[this.embedRowAttr()]}","{rowAttr}");e=Ext.create("Ext.XTemplate",e,{firstOrLastCls:Ext.view.TableChunker.firstOrLastCls});return e.applyTemplate({columns:this.getPrintData(d)})},getColumnValue:function(k,h){var g=Ext.getCmp(k.id),i=h[k.id],j=g.summaryRenderer;if(j){i=j.call(g.scope||this,i,h,k.dataIndex)}return i},getSummary:function(g,e,h,i){if(e){if(Ext.isFunction(e)){return g.aggregate(e,null,i)}switch(e){case"count":return g.count(i);case"min":return g.min(h,i);case"max":return g.max(h,i);case"sum":return g.sum(h,i);case"average":return g.average(h,i);default:return i?{}:""}}}});Ext.define("Ext.grid.feature.Chunking",{extend:"Ext.grid.feature.Feature",alias:"feature.chunking",chunkSize:20,rowHeight:Ext.isIE?27:26,visibleChunk:0,hasFeatureEvent:false,attachEvents:function(){var c=this.view.up("gridpanel"),d=c.down("gridscroller[dock=right]");d.el.on("scroll",this.onBodyScroll,this,{buffer:300})},onBodyScroll:function(i,k){var e=this.view,j=k.scrollTop,h=Math.floor(j/this.rowHeight/this.chunkSize);if(h!==this.visibleChunk){this.visibleChunk=h;e.refresh();e.el.dom.scrollTop=j;
e.el.dom.scrollTop=j}},collectData:function(y,r,s,t,u){var z={fullWidth:u.fullWidth,chunks:[]},x=u.rows.length,A=0,w=0,B=this.visibleChunk,v,i,q;for(;A<x;A+=this.chunkSize,w++){if(A+this.chunkSize>x){q=x-A}else{q=this.chunkSize}if(w>=B-1&&w<=B+1){i=u.rows.slice(A,A+this.chunkSize)}else{i=[]}z.chunks.push({rows:i,fullWidth:t,chunkHeight:q*this.rowHeight})}return z},getTableFragments:function(){return{openTableWrap:function(){return'<tpl for="chunks"><div class="'+Ext.baseCSSPrefix+'grid-chunk" style="height: {chunkHeight}px;">'},closeTableWrap:function(){return"</div></tpl>"}}}});Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",constructor:function(){var b=this;b.collapsedState={};b.callParent(arguments)},groupHeaderTpl:"Group: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedHeader:false,startCollapsed:false,enableGroupingMenu:true,enableNoGroups:true,enable:function(){var i=this,g=i.view,e=g.store,h;i.lastGroupField=i.getGroupField();if(i.lastGroupIndex){e.group(i.lastGroupIndex)}i.callParent();h=i.view.headerCt.getMenu().down("#groupToggleMenuItem");h.setChecked(true,true);i.refreshIf()},disable:function(){var l=this,i=l.view,h=i.store,j=h.remoteGroup,k,m;m=h.groupers.first();if(m){l.lastGroupIndex=m.property;l.block();h.clearGrouping();l.unblock()}l.callParent();k=l.view.headerCt.getMenu().down("#groupToggleMenuItem");k.setChecked(true,true);k.setChecked(false,true);if(!j){i.refresh()}},refreshIf:function(){if(this.blockRefresh!==true){this.view.refresh()}},getFeatureTpl:function(g,k,h,i){var j=this;return["<tpl if=\"typeof rows !== 'undefined'\">",'<tr class="'+Ext.baseCSSPrefix+"grid-group-hd "+(j.startCollapsed?j.hdCollapsedCls:"")+' {hdCollapsedCls}"><td class="'+Ext.baseCSSPrefix+'grid-cell" colspan="'+k.columns.length+'" {[this.indentByDepth(values)]}><div class="'+Ext.baseCSSPrefix+'grid-cell-inner"><div class="'+Ext.baseCSSPrefix+'grid-group-title">{collapsed}'+j.groupHeaderTpl+"</div></div></td></tr>",'<tr id="{viewId}-gp-{name}" class="'+Ext.baseCSSPrefix+"grid-group-body "+(j.startCollapsed?j.collapsedCls:"")+' {collapsedCls}"><td colspan="'+k.columns.length+'">{[this.recurse(values)]}</td></tr>',"</tpl>"].join("")},getFragmentTpl:function(){return{indentByDepth:this.indentByDepth,depthToIndent:this.depthToIndent}},indentByDepth:function(d){var c=d.depth||0;return'style="padding-left:'+c*this.depthToIndent+'px;"'},destroy:function(){var b=this;delete b.view;delete b.prunedHeader},attachEvents:function(){var c=this,d=c.view;d.on({scope:c,groupclick:c.onGroupClick,rowfocus:c.onRowFocus});d.store.on("groupchange",c.onGroupChange,c);c.pruneGroupedHeader();if(c.enableGroupingMenu){c.injectGroupingMenu()}c.lastGroupField=c.getGroupField();c.block();c.onGroupChange();c.unblock()},injectGroupingMenu:function(){var d=this,e=d.view,g=e.headerCt;g.showMenuBy=d.showMenuBy;g.getMenuItems=d.getMenuItems()},showMenuBy:function(g,i){var j=this.getMenu(),k=j.down("#groupMenuItem"),h=i.groupable===false?"disable":"enable";k[h]();Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var m=this,i=m.groupByText,n=m.disabled,j=m.showGroupsText,p=m.enableNoGroups,k=Ext.Function.bind(m.onGroupMenuItemClick,m),l=Ext.Function.bind(m.onGroupToggleMenuItemClick,m);return function(){var a=Ext.grid.header.Container.prototype.getMenuItems.call(this);a.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:i,handler:k});if(p){a.push({itemId:"groupToggleMenuItem",text:j,checked:!n,checkHandler:l})}return a}},onGroupMenuItemClick:function(r,n){var q=this,m=r.parentMenu,l=m.activeHeader,k=q.view,e=k.store,p=e.remoteGroup;delete q.lastGroupIndex;q.block();q.enable();e.group(l.dataIndex);q.pruneGroupedHeader();q.unblock();if(!p){k.refresh()}},block:function(){this.blockRefresh=this.view.blockRefresh=true
},unblock:function(){this.blockRefresh=this.view.blockRefresh=false},onGroupToggleMenuItemClick:function(d,c){this[c?"enable":"disable"]()},pruneGroupedHeader:function(){var l=this,h=l.view,m=h.store,i=l.getGroupField(),k=h.headerCt,j=k.down("header[dataIndex="+i+"]");if(j){if(l.prunedHeader){l.prunedHeader.show()}l.prunedHeader=j;j.hide()}},getGroupField:function(){var b=this.view.store.groupers.first();if(b){return b.property}return""},onRowFocus:function(g){var d=this.view.getNode(g),e=Ext.fly(d).up("."+this.collapsedCls);if(e){this.expand(e)}},expand:function(k){var i=this,g=i.view,j=g.up("gridpanel"),h=Ext.getDom(k);i.collapsedState[h.id]=false;k.removeCls(i.collapsedCls);k.prev().removeCls(i.hdCollapsedCls);j.determineScrollbars();j.invalidateScroller();g.fireEvent("groupexpand")},collapse:function(k){var i=this,g=i.view,j=g.up("gridpanel"),h=Ext.getDom(k);i.collapsedState[h.id]=true;k.addCls(i.collapsedCls);k.prev().addCls(i.hdCollapsedCls);j.determineScrollbars();j.invalidateScroller();g.fireEvent("groupcollapse")},onGroupChange:function(){var d=this,g=d.getGroupField(),e;if(d.hideGroupedHeader){if(d.lastGroupField){e=d.getMenuItem(d.lastGroupField);if(e){e.setChecked(true)}}if(g){e=d.getMenuItem(g);if(e){e.setChecked(false)}}}if(d.blockRefresh!==true){d.view.refresh()}d.lastGroupField=g},getMenuItem:function(e){var g=this.view,h=g.headerCt.down("gridcolumn[dataIndex="+e+"]"),i=g.headerCt.getMenu();return i.down("menuitem[headerId="+h.id+"]")},onGroupClick:function(r,m,k,l,n){var p=this,q=p.toggleCls,e=Ext.fly(m.nextSibling,"_grouping");if(e.hasCls(p.collapsedCls)){p.expand(e)}else{p.collapse(e)}},getMetaRowTplFragments:function(){return{isRow:this.isRow,closeRow:this.closeRow}},isRow:function(){return"<tpl if=\"typeof rows === 'undefined'\">"},closeRow:function(){return"</tpl>"},mutateMetaRowTpl:function(b){b.unshift("{[this.isRow()]}");b.push("{[this.closeRow()]}")},getAdditionalData:function(p,k,n,l){var m=this.view,q=m.headerCt,r=q.items.getAt(0),s={},t=r.id+"-tdAttr";s[t]=this.indentByDepth(p)+" "+(l[t]?l[t]:"");s.collapsed="true";return s},getGroupRows:function(m,r,j,l){var p=this,q=m.children,n=m.rows=[],k=p.view;m.viewId=k.id;Ext.Array.each(r,function(a,b){if(Ext.Array.indexOf(q,a)!=-1){n.push(Ext.apply(j[b],{depth:1}))}});delete m.children;m.fullWidth=l;if(p.collapsedState[k.id+"-gp-"+m.name]){m.collapsedCls=p.collapsedCls;m.hdCollapsedCls=p.hdCollapsedCls}return m},collectData:function(q,r,l,m,n){var p=this,j=p.view.store,k;if(!p.disabled&&j.isGrouped()){k=j.getGroups();Ext.Array.each(k,function(a,b){p.getGroupRows(a,q,r,m)},p);return{rows:k,fullWidth:m}}return n},getFireEventArgs:function(p,n,q,r){var l=[p,n,q],m=Ext.fly(q.nextSibling,"_grouping"),t=Ext.getDom(m).id,s=n.id+"-gp-",e=t.substr(s.length);l.push(e,r);return l}});Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",mixins:{summary:"Ext.grid.feature.AbstractSummary"},getFeatureTpl:function(){var b=this.callParent(arguments);if(this.showSummaryRow){b=b.replace("</tpl>","");b+="{[this.printSummaryRow(xindex)]}</tpl>"}return b},getFragmentTpl:function(){var c=this,d=c.callParent();Ext.apply(d,c.getSummaryFragments());if(c.showSummaryRow){c.summaryGroups=c.view.store.getGroups();c.summaryData=c.generateSummaryData()}return d},getPrintData:function(l){var i=this,p=i.view.headerCt.getColumnsForTpl(),m=0,s=p.length,n=[],t=i.summaryGroups[l-1].name,q=i.summaryData[t],r;for(;m<s;++m){r=p[m];r.gridSummaryValue=this.getColumnValue(r,q);n.push(r)}return n},generateSummaryData:function(){var v=this,y={},t={},s=v.view.store,F=this.getGroupField(),w=s.proxy.reader,C=v.summaryGroups,A=v.view.headerCt.getColumnsForTpl(),E,z,D,B,u,i,x;for(z=0,D=C.length;z<D;++z){y[C[z].name]={}}if(v.remoteRoot&&w.rawData){u=w.root;w.root=v.remoteRoot;w.buildExtractors(true);Ext.Array.each(w.getRoot(w.rawData),function(a){t[a[F]]=a});w.root=u;w.buildExtractors(true)}for(z=0,D=A.length;z<D;++z){x=Ext.getCmp(A[z].id);B=v.getSummary(s,x.summaryType,x.dataIndex,true);for(i in B){if(B.hasOwnProperty(i)){y[i][x.id]=B[i]}}for(i in t){if(t.hasOwnProperty(i)){E=t[i][x.dataIndex];
if(E!==undefined&&y[i]!==undefined){y[i][x.id]=E}}}}return y}});Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTrCls:Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyTdCls:Ext.baseCSSPrefix+"grid-cell-rowbody",rowBodyDivCls:Ext.baseCSSPrefix+"grid-rowbody",eventPrefix:"rowbody",eventSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",getRowBody:function(b){return['<tr class="'+this.rowBodyTrCls+' {rowBodyCls}">','<td class="'+this.rowBodyTdCls+'" colspan="{rowBodyColspan}">','<div class="'+this.rowBodyDivCls+'">{rowBody}</div>',"</td>","</tr>"].join("")},getMetaRowTplFragments:function(){return{getRowBody:this.getRowBody,rowBodyTrCls:this.rowBodyTrCls,rowBodyTdCls:this.rowBodyTdCls,rowBodyDivCls:this.rowBodyDivCls}},mutateMetaRowTpl:function(b){b.push("{[this.getRowBody(values)]}")},getAdditionalData:function(m,i,h,j){var l=this.view.headerCt,k=l.getColumnCount();return{rowBody:"",rowBodyCls:this.rowBodyCls,rowBodyColspan:k}}});Ext.define("Ext.grid.feature.RowWrap",{extend:"Ext.grid.feature.Feature",alias:"feature.rowwrap",hasFeatureEvent:false,mutateMetaRowTpl:function(b){b[0]=b[0].replace(Ext.baseCSSPrefix+"grid-row","");b[0]=b[0].replace("{[this.embedRowCls()]}","");b.unshift('<table class="'+Ext.baseCSSPrefix+"grid-table "+Ext.baseCSSPrefix+'grid-table-resizer" style="width: {[this.embedFullWidth()]}px;">');b.unshift('<tr class="'+Ext.baseCSSPrefix+'grid-row {[this.embedRowCls()]}"><td colspan="{[this.embedColSpan()]}"><div class="'+Ext.baseCSSPrefix+'grid-rowwrap-div">');b.push("</table>");b.push("</div></td></tr>")},embedColSpan:function(){return"{colspan}"},embedFullWidth:function(){return"{fullWidth}"},getAdditionalData:function(x,r,v,t){var A=this.view.headerCt,B=A.getColumnCount(),s=A.getFullWidth(),u=A.query("gridcolumn"),i=u.length,y=0,C={colspan:B,fullWidth:s},D,w,z;for(;y<i;y++){D=u[y].id;w=D+"-tdCls";z=Ext.baseCSSPrefix+"grid-col-resizer-"+D;C[w]=z+" "+(t[w]?t[w]:"");C[D+"-tdAttr"]=' style="width: '+(u[y].hidden?0:u[y].getDesiredWidth())+'px;" ';if(t[D+"-tdAttr"]){C[D+"-tdAttr"]+=t[D+"-tdAttr"]}}return C},getMetaRowTplFragments:function(){return{embedFullWidth:this.embedFullWidth,embedColSpan:this.embedColSpan}}});Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",getFragmentTpl:function(){this.summaryData=this.generateSummaryData();return this.getSummaryFragments()},getTableFragments:function(){if(this.showSummaryRow){return{closeRows:this.closeRows}}},closeRows:function(){return"</tpl>{[this.printSummaryRow()]}"},getPrintData:function(k){var n=this,r=n.view.headerCt.getColumnsForTpl(),i=0,p=r.length,m=[],l=n.summaryData,q;for(;i<p;++i){q=r[i];q.gridSummaryValue=this.getColumnValue(q,l);m.push(q)}return m},generateSummaryData:function(){var m=this,q={},l=m.view.store,r=m.view.headerCt.getColumnsForTpl(),p=0,t=r.length,s,i,n;for(p=0,t=r.length;p<t;++p){n=Ext.getCmp(r[p].id);q[n.id]=m.getSummary(l,n.summaryType,n.dataIndex,false)}return q}});Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",maxProxyWidth:120,constructor:function(b){this.headerCt=b;this.ddGroup=this.getDDGroup();this.callParent([b.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){var h=e.getTarget("."+this.colHeaderCls),g;if(h){g=Ext.getCmp(h.id);if(!this.headerCt.dragging&&g.draggable&&!(g.isOnLeftEdge(e)||g.isOnRightEdge(e))){var i=document.createElement("div");i.innerHTML=Ext.getCmp(h.id).text;return{ddel:i,header:g}}}return false},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true
},enable:function(){this.disabled=false}});Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(b){this.headerCt=b;this.ddGroup=this.getDDGroup();this.callParent([b.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(b){return b.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},true)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},true)}return this.bottomIndicator},getLocation:function(l,e){var i=l.getXY()[0],m=Ext.fly(e).getRegion(),j,k;if((m.right-i)<=(m.right-m.left)/2){j="after"}else{j="before"}return{pos:j,header:Ext.getCmp(e.id),node:e}},positionIndicator:function(i,H,B){var T=this.getLocation(B,H),F=T.header,O=T.pos,P=i.nextSibling("gridcolumn:not([hidden])"),C=i.previousSibling("gridcolumn:not([hidden])"),Q,K,E,D,S,R,L,J,e,A;if(!F.draggable&&F.getIndex()==0){return false}this.lastLocation=T;if((i!==F)&&((O==="before"&&P!==F)||(O==="after"&&C!==F))&&!F.isDescendantOf(i)){var I=Ext.dd.DragDropManager.getRelated(this),M=I.length,G=0,N;for(;G<M;G++){N=I[G];if(N!==this&&N.invalidateDrop){N.invalidateDrop()}}this.valid=true;K=this.getTopIndicator();E=this.getBottomIndicator();if(O==="before"){D="tl";S="bl"}else{D="tr";S="br"}R=F.el.getAnchorXY(D);L=F.el.getAnchorXY(S);J=this.headerCt.el;e=J.getLeft();A=J.getRight();R[0]=Ext.Number.constrain(R[0],e,A);L[0]=Ext.Number.constrain(L[0],e,A);R[0]-=4;R[1]-=9;L[0]-=4;K.setXY(R);E.setXY(L);K.show();E.show()}else{this.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(e,g,h,i){if(i.header.el.dom!==e){this.positionIndicator(i.header,e,h)}return this.valid?this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide()},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(y,s,t,x){if(this.valid){this.invalidateDrop();var v=x.header,w=this.lastLocation,q=v.ownerCt,B=q.items.indexOf(v),u=w.header.ownerCt,e=u.items.indexOf(w.header),z=this.headerCt,r,A;if(w.pos==="after"){e++}if(q!==u&&q.lockableInjected&&u.lockableInjected&&u.lockedCt){A=q.up("[scrollerOwner]");A.lock(v,e)}else{if(q!==u&&q.lockableInjected&&u.lockableInjected&&q.lockedCt){A=q.up("[scrollerOwner]");A.unlock(v,e)}else{if((q===u)&&(e>q.items.indexOf(v))){e--}if(q!==u){q.suspendLayout=true;q.remove(v,false);q.suspendLayout=false}if(q.isGroupHeader){if(!q.items.getCount()){r=q.ownerCt;r.suspendLayout=true;r.remove(q,false);q.el.dom.parentNode.removeChild(q.el.dom);r.suspendLayout=false}else{q.minWidth=q.getWidth()-v.getWidth();q.setWidth(q.minWidth)}}u.suspendLayout=true;if(q===u){u.move(B,e)}else{u.insert(e,v)}u.suspendLayout=false;if(u.isGroupHeader){v.savedFlex=v.flex;delete v.flex;v.width=v.getWidth();u.minWidth=u.getWidth()+v.getWidth()-(v.savedFlex?1:0);u.setWidth(u.minWidth)}else{if(v.savedFlex){v.flex=v.savedFlex;delete v.width}}z.purgeCache();z.doLayout();z.onHeaderMoved(v,B,e);if(!q.items.getCount()){q.destroy()}}}}}});Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",requires:["Ext.grid.column.Column","Ext.util.KeyNav"],mixins:{observable:"Ext.util.Observable"},clicksToEdit:2,defaultFieldXType:"textfield",editStyle:"",constructor:function(d){var c=this;Ext.apply(c,d);c.addEvents("beforeedit","edit","validateedit");c.mixins.observable.constructor.call(c);c.relayEvents(c,["afteredit"],"after")},init:function(d){var c=this;c.grid=d;c.view=d.view;c.initEvents();c.mon(d,"reconfigure",c.onReconfigure,c);c.onReconfigure();d.relayEvents(c,["beforeedit","edit","validateedit"]);d.isEditable=true;d.editingPlugin=d.view.editingPlugin=c},onReconfigure:function(){this.initFieldAccessors(this.view.getGridColumns())},destroy:function(){var i=this,e=i.grid,h=e.headerCt,g=e.events;
Ext.destroy(i.keyNav);i.removeFieldAccessors(e.getView().getGridColumns());i.clearListeners();delete i.grid.editingPlugin;delete i.grid.view.editingPlugin;delete i.grid;delete i.view;delete i.editor;delete i.keyNav},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(d){var c=this;if(Ext.isArray(d)){Ext.Array.forEach(d,c.initFieldAccessors,c);return}Ext.applyIf(d,{getEditor:function(b,a){return c.getColumnField(this,a)},setEditor:function(a){c.setColumnField(this,a)}})},removeFieldAccessors:function(d){var c=this;if(Ext.isArray(d)){Ext.Array.forEach(d,c.removeFieldAccessors,c);return}delete d.getEditor;delete d.setEditor},getColumnField:function(d,e){var g=d.field;if(!g&&d.editor){g=d.editor;delete d.editor}if(!g&&e){g=e}if(g){if(Ext.isString(g)){g={xtype:g}}if(Ext.isObject(g)&&!g.isFormField){g=Ext.ComponentManager.create(g,this.defaultFieldXType);d.field=g}Ext.apply(g,{name:d.dataIndex});return g}},setColumnField:function(d,c){if(Ext.isObject(c)&&!c.isFormField){c=Ext.ComponentManager.create(c,this.defaultFieldXType)}d.field=c},initEvents:function(){var b=this;b.initEditTriggers();b.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var g=this,d=g.view,e=g.clicksToEdit===1?"click":"dblclick";g.mon(d,"cell"+e,g.startEditByClick,g);d.on("render",function(){g.keyNav=Ext.create("Ext.util.KeyNav",d.el,{enter:g.onEnterKey,esc:g.onEscKey,scope:g})},g,{single:true})},onEnterKey:function(j){var l=this,m=l.grid,e=m.getSelectionModel(),i,k=m.headerCt.getHeaderAtIndex(0);if(e.getCurrentPosition){pos=e.getCurrentPosition();i=m.store.getAt(pos.row);k=m.headerCt.getHeaderAtIndex(pos.column)}else{i=e.getLastSelected()}l.startEdit(i,k)},onEscKey:function(b){this.cancelEdit()},startEditByClick:function(p,j,k,e,l,n,m){this.startEdit(e,p.getHeaderAtIndex(k))},beforeEdit:Ext.emptyFn,startEdit:function(g,h){var i=this,e=i.getEditingContext(g,h);if(i.beforeEdit(e)===false||i.fireEvent("beforeedit",e)===false||e.cancel){return false}i.context=e;i.editing=true},getEditingContext:function(p,r){var n=this,t=n.grid,k=t.store,s,q,m=t.getView(),l;if(Ext.isNumber(p)){s=p;p=k.getAt(s)}else{s=k.indexOf(p)}if(Ext.isNumber(r)){q=r;r=t.headerCt.getHeaderAtIndex(q)}else{q=r.getIndex()}l=p.get(r.dataIndex);return{grid:t,record:p,field:r.dataIndex,value:l,row:m.getNode(s),column:r,rowIdx:s,colIdx:q}},cancelEdit:function(){this.editing=false},completeEdit:function(){var b=this;if(b.editing&&b.validateEdit()){b.fireEvent("edit",b.context)}delete b.context;b.editing=false},validateEdit:function(){var c=this,d=c.context;return c.fireEvent("validateedit",c,d)!==false&&!d.cancel}});Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],constructor:function(){this.callParent(arguments);this.editors=Ext.create("Ext.util.MixedCollection",false,function(b){return b.editorId});this.editTask=Ext.create("Ext.util.DelayedTask")},onReconfigure:function(){this.editors.clear();this.callParent()},destroy:function(){var b=this;b.editTask.cancel();b.editors.each(Ext.destroy,Ext);b.editors.clear();b.callParent(arguments)},onBodyScroll:function(){var b=this.getActiveEditor();if(b&&b.field){if(b.field.triggerBlur){b.field.triggerBlur()}else{b.field.blur()}}},initCancelTriggers:function(){var g=this,d=g.grid,e=d.view;e.addElListener("mousewheel",g.cancelEdit,g);g.mon(e,"bodyscroll",g.onBodyScroll,g);g.mon(d,{columnresize:g.cancelEdit,columnmove:g.cancelEdit,scope:g})},startEdit:function(i,j){var l=this,k=i.get(j.dataIndex),m=l.getEditingContext(i,j),h;i=m.record;j=m.column;l.completeEdit();m.originalValue=m.value=k;if(l.beforeEdit(m)===false||l.fireEvent("beforeedit",m)===false||m.cancel){return false}if(j&&!j.getEditor(i)){return false}h=l.getEditor(i,j);if(h){l.context=m;l.setActiveEditor(h);l.setActiveRecord(i);l.setActiveColumn(j);l.editTask.delay(15,h.startEdit,h,[l.getCell(i,j),k])}else{l.grid.getView().getEl(j).focus((Ext.isWebKit||Ext.isIE)?10:false)}},completeEdit:function(){var b=this.getActiveEditor();if(b){b.completeEdit()
}},setActiveEditor:function(b){this.activeEditor=b},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(b){this.activeColumn=b},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(b){this.activeRecord=b},getActiveRecord:function(){return this.activeRecord},getEditor:function(i,l){var j=this,k=j.editors,m=l.getItemId(),h=k.getByKey(m);if(h){return h}else{h=l.getEditor(i);if(!h){return false}if(!(h instanceof Ext.grid.CellEditor)){h=Ext.create("Ext.grid.CellEditor",{editorId:m,field:h})}h.parentEl=j.grid.getEditorParent();h.on({scope:j,specialkey:j.onSpecialKey,complete:j.onEditComplete,canceledit:j.cancelEdit});k.add(h);return h}},setColumnField:function(d,g){var e=this.editors.getByKey(d.getItemId());Ext.destroy(e,d.field);this.editors.removeAtKey(d.getItemId());this.callParent(arguments)},getCell:function(d,c){return this.grid.getView().getCell(d,c)},onSpecialKey:function(h,j,k){var e=this.grid,i;if(k.getKey()===k.TAB){k.stopEvent();i=e.getSelectionModel();if(i.onEditorTab){i.onEditorTab(this,k)}}},onEditComplete:function(j,m,k){var n=this,q=n.grid,l=q.getSelectionModel(),p=n.getActiveColumn(),r;if(p){r=p.dataIndex;n.setActiveEditor(null);n.setActiveColumn(null);n.setActiveRecord(null);delete l.wasEditing;if(!n.validateEdit()){return}if(m!==k){n.context.record.set(r,m)}else{q.getView().getEl(p).focus()}n.context.value=m;n.fireEvent("edit",n,n.context)}},cancelEdit:function(){var g=this,d=g.getActiveEditor(),e=g.grid.getView().getEl(g.getActiveColumn());g.setActiveEditor(null);g.setActiveColumn(null);g.setActiveRecord(null);if(d){d.cancelEdit();e.focus()}},startEditByPosition:function(i){var l=this,m=l.grid,j=m.getSelectionModel(),h=m.store.getAt(i.row),k=m.headerCt.getHeaderAtIndex(i.column);if(j.selectByPosition){j.selectByPosition(i)}l.startEdit(h,k)}});Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,init:function(b){b.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var b=this;if(b.dragZone){b.dragZone.unlock()}if(b.dropZone){b.dropZone.unlock()}b.callParent()},disable:function(){var b=this;if(b.dragZone){b.dragZone.lock()}if(b.dropZone){b.dropZone.lock()}b.callParent()},onViewRender:function(d){var c=this;if(c.enableDrag){c.dragZone=Ext.create("Ext.view.DragZone",{view:d,ddGroup:c.dragGroup||c.ddGroup,dragText:c.dragText})}if(c.enableDrop){c.dropZone=Ext.create("Ext.grid.ViewDropZone",{view:d,ddGroup:c.dropGroup||c.ddGroup})}}});Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.util.Observable",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(b){this.headerCt=b;b.on("render",this.onHeaderCtRender,this)},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){this.dragZone=Ext.create("Ext.grid.header.DragZone",this.headerCt);this.dropZone=Ext.create("Ext.grid.header.DropZone",this.headerCt);if(this.disabled){this.dragZone.disable()}},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}});Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.util.Observable",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:false,configs:{dynamic:true},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1000,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(b){this.headerCt=b;b.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){if(this.tracker){this.tracker.destroy()}},afterHeaderRender:function(){var c=this.headerCt,d=c.el;c.mon(d,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=Ext.create("Ext.dd.DragTracker",{disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:d})
},onHeaderCtMouseMove:function(k,h){if(this.headerCt.dragging){if(this.activeHd){this.activeHd.el.dom.style.cursor="";delete this.activeHd}}else{var i=k.getTarget("."+this.colHeaderCls,3,true),e,j;if(i){e=Ext.getCmp(i.id);if(e.isOnLeftEdge(k)){j=e.previousNode("gridcolumn:not([hidden])")}else{if(e.isOnRightEdge(k)){j=e}else{j=null}}if(j){if(j.isGroupHeader){j=j.down(":not([isGroupHeader]):not([hidden]):last")}if(j&&!(j.fixed||(j.resizable===false)||this.disabled)){this.activeHd=j;e.el.dom.style.cursor=this.eResizeCursor}}else{e.el.dom.style.cursor="";delete this.activeHd}}}},onBeforeStart:function(c){var d=c.getTarget();this.dragHd=this.activeHd;if(!!this.dragHd&&!Ext.fly(d).hasCls("x-column-header-trigger")&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}else{this.headerCt.dragging=false;return false}},getConstrainRegion:function(){var d=this.dragHd.el,c=Ext.util.Region.getRegion(d);return c.adjust(0,this.maxColWidth-d.getWidth(),0,this.minColWidth)},onStart:function(t){var e=this,I=e.dragHd,M=I.el,B=M.getWidth(),G=e.headerCt,E=t.getTarget();if(e.dragHd&&!Ext.fly(E).hasCls("x-column-header-trigger")){G.dragging=true}e.origWidth=B;if(!e.dynamic){var K=M.getXY(),y=G.up("[scrollerOwner]"),J=e.dragHd.up(":not([isGroupHeader])"),F=J.up(),L=y.getLhsMarker(),C=y.getRhsMarker(),N=C.parent(),H=N.getLeft(true),x=N.getTop(true),z=N.translatePoints(K),A=F.body.getHeight()+G.getHeight(),D=z.top-x;L.setTop(D);C.setTop(D);L.setHeight(A);C.setHeight(A);L.setLeft(z.left-H);C.setLeft(z.left+B-H)}},onDrag:function(l){if(!this.dynamic){var m=this.tracker.getXY("point"),j=this.headerCt.up("[scrollerOwner]"),k=j.getRhsMarker(),p=k.parent(),e=p.translatePoints(m),n=p.getLeft(true);k.setLeft(e.left-n)}else{this.doResize()}},onEnd:function(n){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var p=this.dragHd,r=this.headerCt.up("[scrollerOwner]"),q=r.getLhsMarker(),l=r.getRhsMarker(),k=p.getWidth(),m=this.tracker.getOffset("point"),e=-9999;q.setLeft(e);l.setLeft(e)}this.doResize()}},doResize:function(){if(this.dragHd){var d=this.dragHd,e,g=this.tracker.getOffset("point");if(d.flex){delete d.flex}this.headerCt.suspendLayout=true;d.setWidth(this.origWidth+g[0],false);if(this.headerCt.forceFit){e=d.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(e){delete e.flex;e.setWidth(e.getWidth()-g[0],false)}}this.headerCt.suspendLayout=false;this.headerCt.doComponentLayout(this.headerCt.getFullWidth())}},disable:function(){this.disabled=true;if(this.tracker){this.tracker.disable()}},enable:function(){this.disabled=false;if(this.tracker){this.tracker.enable()}}});Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],editStyle:"row",autoCancel:true,errorSummary:true,constructor:function(){var b=this;b.callParent(arguments);if(!b.clicksToMoveEditor){b.clicksToMoveEditor=b.clicksToEdit}b.autoCancel=!!b.autoCancel},destroy:function(){var b=this;Ext.destroy(b.editor);b.callParent(arguments)},startEdit:function(g,h){var i=this,e=i.getEditor();if(i.callParent(arguments)===false){return false}if(e.beforeEdit()!==false){e.startEdit(i.context.record,i.context.column)}},cancelEdit:function(){var b=this;if(b.editing){b.getEditor().cancelEdit();b.callParent(arguments);b.fireEvent("canceledit",b.context)}},completeEdit:function(){var b=this;if(b.editing&&b.validateEdit()){b.editing=false;b.fireEvent("edit",b.context)}},validateEdit:function(){var l=this,m=l.editor,n=l.context,j=n.record,p={},k={},i;m.items.each(function(a){i=a.name;p[i]=a.getValue();k[i]=j.get(i)});Ext.apply(n,{newValues:p,originalValues:k});return l.callParent(arguments)&&l.getEditor().completeEdit()},getEditor:function(){var b=this;if(!b.editor){b.editor=b.initEditor()}return b.editor},initEditor:function(){var i=this,e=i.grid,g=i.view,h=e.headerCt;return Ext.create("Ext.grid.RowEditor",{autoCancel:i.autoCancel,errorSummary:i.errorSummary,fields:h.getGridColumns(),hidden:true,editingPlugin:i,renderTo:g.el})},initEditTriggers:function(){var k=this,g=k.grid,h=k.view,i=g.headerCt,j=k.clicksToMoveEditor===1?"click":"dblclick";
k.callParent(arguments);if(k.clicksToMoveEditor!==k.clicksToEdit){k.mon(h,"cell"+j,k.moveEditorByClick,k)}h.on("render",function(){k.mon(i,{add:k.onColumnAdd,remove:k.onColumnRemove,columnresize:k.onColumnResize,columnhide:k.onColumnHide,columnshow:k.onColumnShow,columnmove:k.onColumnMove,scope:k})},k,{single:true})},startEditByClick:function(){var b=this;if(!b.editing||b.clicksToMoveEditor===b.clicksToEdit){b.callParent(arguments)}},moveEditorByClick:function(){var b=this;if(b.editing){b.superclass.startEditByClick.apply(b,arguments)}},onColumnAdd:function(g,i){if(i.isHeader){var h=this,e;h.initFieldAccessors(i);e=h.getEditor();if(e&&e.onColumnAdd){e.onColumnAdd(i)}}},onColumnRemove:function(g,i){if(i.isHeader){var h=this,e=h.getEditor();if(e&&e.onColumnRemove){e.onColumnRemove(i)}h.removeFieldAccessors(i)}},onColumnResize:function(h,j,k){if(j.isHeader){var i=this,g=i.getEditor();if(g&&g.onColumnResize){g.onColumnResize(j,k)}}},onColumnHide:function(g,i){var h=this,e=h.getEditor();if(e&&e.onColumnHide){e.onColumnHide(i)}},onColumnShow:function(g,i){var h=this,e=h.getEditor();if(e&&e.onColumnShow){e.onColumnShow(i)}},onColumnMove:function(i,l,m,j){var k=this,h=k.getEditor();if(h&&h.onColumnMove){h.onColumnMove(l,m,j)}},setColumnField:function(e,g){var d=this;d.callParent(arguments);d.getEditor().setField(e.field,e)}});Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number"],valueField:"value",nameField:"name",enableColumnMove:false,columnLines:true,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,initComponent:function(){var b=this;b.addCls(Ext.baseCSSPrefix+"property-grid");b.plugins=b.plugins||[];b.plugins.push(Ext.create("Ext.grid.plugin.CellEditing",{clicksToEdit:b.clicksToEdit,startEdit:function(a,d){return this.self.prototype.startEdit.call(this,a,b.headerCt.child("#"+b.valueField))}}));b.selModel={selType:"cellmodel",onCellSelect:function(a){if(a.column!=1){a.column=1}return this.self.prototype.onCellSelect.call(this,a)}};b.customRenderers=b.customRenderers||{};b.customEditors=b.customEditors||{};if(!b.store){b.propStore=b.store=Ext.create("Ext.grid.property.Store",b,b.source)}b.store.sort("name","ASC");b.columns=Ext.create("Ext.grid.property.HeaderContainer",b,b.store);b.addEvents("beforepropertychange","propertychange");b.callParent();b.getView().walkCells=this.walkCells;b.editors={date:Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Date",{selectOnFocus:true})}),string:Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Text",{selectOnFocus:true})}),number:Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.Number",{selectOnFocus:true})}),"boolean":Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.field.ComboBox",{editable:false,store:[[true,b.headerCt.trueText],[false,b.headerCt.falseText]]})})};b.store.on("update",b.onUpdate,b)},onUpdate:function(l,i,m){var j=this,h,k;if(m==Ext.data.Model.EDIT){h=i.get(j.valueField);k=i.modified.value;if(j.fireEvent("beforepropertychange",j.source,i.getId(),h,k)!==false){if(j.source){j.source[i.getId()]=h}i.commit();j.fireEvent("propertychange",j.source,i.getId(),h,k)}else{i.reject()}}},walkCells:function(j,k,l,m,i,e){if(k=="left"){k="up"}else{if(k=="right"){k="down"}}j=Ext.view.Table.prototype.walkCells.call(this,j,k,l,m,i,e);if(!j.column){j.column=1}return j},getCellEditor:function(i,m){var l=this,k=i.get(l.nameField),j=i.get(l.valueField),h=l.customEditors[k];if(h){if(!(h instanceof Ext.grid.CellEditor)){if(!(h instanceof Ext.form.field.Base)){h=Ext.ComponentManager.create(h,"textfield")}h=l.customEditors[k]=Ext.create("Ext.grid.CellEditor",{field:h})}}else{if(Ext.isDate(j)){h=l.editors.date}else{if(Ext.isNumber(j)){h=l.editors.number}else{if(Ext.isBoolean(j)){h=l.editors["boolean"]}else{h=l.editors.string}}}}h.editorId=k;
return h},beforeDestroy:function(){var b=this;b.callParent();b.destroyEditors(b.editors);b.destroyEditors(b.customEditors);delete b.source},destroyEditors:function(c){for(var d in c){if(c.hasOwnProperty(d)){Ext.destroy(c[d])}}},setSource:function(b){this.source=b;this.propStore.setSource(b)},getSource:function(){return this.propStore.getSource()},setProperty:function(g,d,e){this.propStore.setValue(g,d,e)},removeProperty:function(b){this.propStore.remove(b)}});Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",constructor:function(d,e){var g=this;g.grid=d;g.store=e;g.callParent([{items:[{header:g.nameText,width:d.nameColumnWidth||g.nameWidth,sortable:true,dataIndex:d.nameField,renderer:Ext.Function.bind(g.renderProp,g),itemId:d.nameField,menuDisabled:true,tdCls:g.nameColumnCls},{header:g.valueText,renderer:Ext.Function.bind(g.renderCell,g),getEditor:Ext.Function.bind(g.getCellEditor,g),flex:1,fixed:true,dataIndex:d.valueField,itemId:d.valueField,menuDisabled:true}]}])},getCellEditor:function(b){return this.grid.getCellEditor(b,this)},renderProp:function(b){return this.getPropertyName(b)},renderCell:function(j,l,k){var h=this,m=h.grid.customRenderers[k.get(h.grid.nameField)],i=j;if(m){return m.apply(h,arguments)}if(Ext.isDate(j)){i=h.renderDate(j)}else{if(Ext.isBoolean(j)){i=h.renderBool(j)}}return Ext.util.Format.htmlEncode(i)},renderDate:Ext.util.Format.date,renderBool:function(b){return this[b?"trueText":"falseText"]},getPropertyName:function(c){var d=this.grid.propertyNames;return d&&d[c]?d[c]:c}});Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"});Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",uses:["Ext.data.reader.Reader","Ext.data.proxy.Proxy","Ext.data.ResultSet","Ext.grid.property.Property"],constructor:function(e,g){var d=this;d.grid=e;d.source=g;d.callParent([{data:g,model:Ext.grid.property.Property,proxy:d.getProxy()}])},getProxy:function(){if(!this.proxy){Ext.grid.property.Store.prototype.proxy=Ext.create("Ext.data.proxy.Memory",{model:Ext.grid.property.Property,reader:this.getReader()})}return this.proxy},getReader:function(){if(!this.reader){Ext.grid.property.Store.prototype.reader=Ext.create("Ext.data.reader.Reader",{model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(b){return this.readRecords(b)},readRecords:function(e){var h,i,g={records:[],success:true};for(i in e){if(e.hasOwnProperty(i)){h=e[i];if(this.isEditableValue(h)){g.records.push(new Ext.grid.property.Property({name:i,value:h},i))}}}g.total=g.count=g.records.length;return Ext.create("Ext.data.ResultSet",g)},isEditableValue:function(b){return Ext.isPrimitive(b)||Ext.isDate(b)}})}return this.reader},setSource:function(d){var c=this;c.source=d;c.suspendEvents();c.removeAll();c.proxy.data=d;c.load();c.resumeEvents();c.fireEvent("datachanged",c)},getProperty:function(b){return Ext.isNumber(b)?this.getAt(b):this.getById(b)},setValue:function(i,k,h){var g=this,j=g.getRec(i);if(j){j.set("value",k);g.source[i]=k}else{if(h){g.source[i]=k;j=new Ext.grid.property.Property({name:i,value:k},i);g.add(j)}}},remove:function(c){var d=this.getRec(c);if(d){this.callParent([d]);delete this.source[c]}},getRec:function(b){return this.getById(b)},getSource:function(){return this.source}});Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Component",uses:["Ext.layout.container.Container"],type:"body",onLayout:function(i,e){var h=this,g=h.owner;h.setTargetSize(i,e);h.setBodySize.apply(h,arguments);if(g&&g.layout&&g.layout.isLayout){if(!Ext.isNumber(g.height)||!Ext.isNumber(g.width)){g.layout.bindToOwnerCtComponent=true}else{g.layout.bindToOwnerCtComponent=false}}h.callParent(arguments)},setBodySize:function(k,h){var j=this,i=j.owner,m=i.frameSize,l=Ext.isNumber;
if(l(k)){k-=i.el.getFrameWidth("lr")-m.left-m.right}if(l(h)){h-=i.el.getFrameWidth("tb")-m.top-m.bottom}j.setElementSize(i.body,k,h)}});Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",doContainerLayout:function(){if(!this.owner.collapsed){this.callParent()}}});Ext.define("Ext.layout.component.Tab",{alias:["layout.tab"],extend:"Ext.layout.component.Button",beforeLayout:function(){var c=this,d=c.lastClosable!==c.owner.closable;if(d){delete c.adjWidth}return this.callParent(arguments)||d},onLayout:function(){var b=this;b.callParent(arguments);b.lastClosable=b.owner.closable}});Ext.define("Ext.layout.component.field.File",{alias:["layout.filefield"],extend:"Ext.layout.component.field.Field",type:"filefield",sizeBodyContents:function(i,e){var h=this,g=h.owner;if(!g.buttonOnly){h.setElementSize(g.inputEl,Ext.isNumber(i)?i-g.button.getWidth()-g.buttonMargin:i)}}});Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:"Ext.layout.component.field.Field",type:"sliderfield",sizeBodyContents:function(t,i){var s=this.owner,n=s.thumbs,r=n.length,l=s.inputEl,m=s.innerEl,p=s.endEl,q=0;for(;q<r;++q){n[q].el.stopAnimation()}if(s.vertical){l.setHeight(i);m.setHeight(Ext.isNumber(i)?i-l.getPadding("t")-p.getPadding("b"):i)}else{l.setWidth(t);m.setWidth(Ext.isNumber(t)?t-l.getPadding("l")-p.getPadding("r"):t)}s.syncThumbs()}});Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",itemCls:Ext.baseCSSPrefix+"abs-layout-item",type:"absolute",onLayout:function(){var d=this,g=d.getTarget(),e=g.dom===document.body;if(!e){g.position()}d.paddingLeft=g.getPadding("l");d.paddingTop=g.getPadding("t");d.callParent(arguments)},adjustWidthAnchor:function(c,d){return c?c-d.getPosition(true)[0]:c},adjustHeightAnchor:function(c,d){return c?c-d.getPosition(true)[1]:c}});Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",itemCls:Ext.baseCSSPrefix+"box-item "+Ext.baseCSSPrefix+"accordion-item",align:"stretch",fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:true,activeOnTop:false,multi:false,constructor:function(){var b=this;b.callParent(arguments);b.initialAnimate=b.animate;b.animate=false;if(b.fill===false){b.itemCls=Ext.baseCSSPrefix+"accordion-item"}},beforeLayout:function(){var b=this;b.callParent(arguments);if(b.fill){if(!(b.owner.el.dom.style.height||b.getLayoutTargetSize().height)){return false}}else{b.owner.componentLayout.monitorChildren=false;b.autoSize=true;b.owner.setAutoScroll(true)}},renderItems:function(r,l){var m=this,n=r.length,q=0,i,p=m.getLayoutTargetSize(),k=[];for(;q<n;q++){i=r[q];if(!i.rendered){k.push(i);if(m.collapseFirst){i.collapseFirst=m.collapseFirst}if(m.hideCollapseTool){i.hideCollapseTool=m.hideCollapseTool;i.titleCollapse=true}else{if(m.titleCollapse){i.titleCollapse=m.titleCollapse}}delete i.hideHeader;i.collapsible=true;i.title=i.title||"&#160;";i.width=p.width;if(m.fill){delete i.height;delete i.flex;if(m.expandedItem!==undefined){i.collapsed=true}else{if(i.hasOwnProperty("collapsed")&&i.collapsed===false){i.flex=1;m.expandedItem=q}else{i.collapsed=true}}m.owner.mon(i,{show:m.onComponentShow,beforeexpand:m.onComponentExpand,beforecollapse:m.onComponentCollapse,scope:m})}else{delete i.flex;i.animCollapse=m.initialAnimate;i.autoHeight=true;i.autoScroll=false}i.border=i.collapsed}}if(n&&m.expandedItem===undefined){m.expandedItem=0;i=r[0];i.collapsed=i.border=false;if(m.fill){i.flex=1}}m.callParent(arguments);n=k.length;for(q=0;q<n;q++){i=k[q];delete i.width;i.header.addCls(Ext.baseCSSPrefix+"accordion-hd");i.body.addCls(Ext.baseCSSPrefix+"accordion-body")}},onLayout:function(){var j=this;if(j.fill){j.callParent(arguments)}else{var k=j.getLayoutTargetSize(),m=j.getVisibleItems(),i=m.length,l=0,h;for(;l<i;l++){h=m[l];if(h.collapsed){m[l].setWidth(k.width)}else{m[l].setSize(null,null)}}}j.updatePanelClasses();
return j},updatePanelClasses:function(){var k=this.getLayoutItems(),j=k.length,h=true,g,i;for(g=0;g<j;g++){i=k[g];if(Ext.isWindows){i.el.dom.scrollTop=0}if(h){i.header.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded")}else{i.header.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded")}if(g+1==j&&i.collapsed){i.header.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed")}else{i.header.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed")}h=i.collapsed}},animCallback:function(){Ext.Array.forEach(this.toCollapse,function(b){b.fireEvent("collapse",b)});Ext.Array.forEach(this.toExpand,function(b){b.fireEvent("expand",b)})},setupEvents:function(){this.toCollapse=[];this.toExpand=[]},onComponentExpand:function(j){var k=this,l=k.owner.items.items,i=l.length,m=0,h;k.setupEvents();for(;m<i;m++){h=l[m];if(h===j&&h.collapsed){k.setExpanded(h)}else{if(!k.multi&&(h.rendered&&h.header.rendered&&h!==j&&!h.collapsed)){k.setCollapsed(h)}}}k.animate=k.initialAnimate;if(k.activeOnTop){k.owner.insert(0,j)}else{k.layout()}k.animate=false;return false},onComponentCollapse:function(e){var i=this,h=e.next()||e.prev(),g=i.multi?i.owner.query(">panel:not([collapsed])"):[];i.setupEvents();if(i.multi){i.setCollapsed(e);if(g.length===1&&g[0]===e){i.setExpanded(h)}i.animate=i.initialAnimate;i.layout();i.animate=false}else{if(h){i.onComponentExpand(h)}}return false},onComponentShow:function(b){this.onComponentExpand(b)},setCollapsed:function(g){var i=g.getDockedItems(),j,h=i.length,k=0;g.hiddenDocked=[];for(;k<h;k++){j=i[k];if((j!==g.header)&&!j.hidden){j.hidden=true;g.hiddenDocked.push(j)}}g.addCls(g.collapsedCls);g.header.addCls(g.collapsedHeaderCls);g.height=g.header.getHeight();g.el.setHeight(g.height);g.collapsed=true;delete g.flex;if(this.initialAnimate){this.toCollapse.push(g)}else{g.fireEvent("collapse",g)}if(g.collapseTool){g.collapseTool.setType("expand-"+g.getOppositeDirection(g.collapseDirection))}},setExpanded:function(e){var h=e.hiddenDocked,g=h?h.length:0,i=0;for(;i<g;i++){h[i].show()}if(!e.body.isVisible()){e.body.show()}delete e.collapsed;delete e.height;delete e.componentLayout.lastComponentSize;e.suspendLayout=false;e.flex=1;e.removeCls(e.collapsedCls);e.header.removeCls(e.collapsedHeaderCls);if(this.initialAnimate){this.toExpand.push(e)}else{e.fireEvent("expand",e)}if(e.collapseTool){e.collapseTool.setType("collapse-"+e.collapseDirection)}e.setAutoScroll(e.initialConfig.autoScroll)}});Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],alias:"widget.splitter",renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}">&nbsp;</div>',"</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",collapsible:false,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,width:5,height:5,collapseTarget:"next",onRender:function(){var e=this,d=e.getCollapseTarget(),g=e.getCollapseDirection();Ext.applyIf(e.renderData,{collapseDir:g,collapsible:e.collapsible||d.collapsible});e.addChildEls("collapseEl");this.callParent(arguments);if(e.performCollapse!==false){if(e.renderData.collapsible){e.mon(e.collapseEl,"click",e.toggleTargetCmp,e)}if(e.collapseOnDblClick){e.mon(e.el,"dblclick",e.toggleTargetCmp,e)}}e.mon(d,"collapse",e.onTargetCollapse,e);e.mon(d,"expand",e.onTargetExpand,e);e.el.addCls(e.baseCls+"-"+e.orientation);e.el.unselectable();e.tracker=Ext.create("Ext.resizer.SplitterTracker",{el:e.el});e.relayEvents(e.tracker,["beforedragstart","dragstart","dragend"])},getCollapseDirection:function(){var g=this,e,d=g.ownerCt.layout.type;if(g.collapseTarget.isComponent){e=Number(g.ownerCt.items.indexOf(g.collapseTarget)==g.ownerCt.items.indexOf(g)-1)<<1|Number(d=="hbox")}else{e=Number(g.collapseTarget=="prev")<<1|Number(d=="hbox")}g.orientation=["horizontal","vertical"][e&1];return["bottom","right","top","left"][e]},getCollapseTarget:function(){var b=this;return b.collapseTarget.isComponent?b.collapseTarget:b.collapseTarget=="prev"?b.previousSibling():b.nextSibling()
},onTargetCollapse:function(b){this.el.addCls([this.collapsedClsInternal,this.collapsedCls])},onTargetExpand:function(b){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls])},toggleTargetCmp:function(g,e){var d=this.getCollapseTarget();if(d.isVisible()){if(d.collapsed){d.expand(d.animCollapse)}else{d.collapse(this.renderData.collapseDir,d.animCollapse)}}},setSize:function(){var b=this;b.callParent(arguments);if(Ext.isIE){b.el.repaint()}}});Ext.define("Ext.layout.container.Border",{alias:["layout.border"],extend:"Ext.layout.container.Container",requires:["Ext.resizer.Splitter","Ext.container.Container","Ext.fx.Anim"],alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:Ext.baseCSSPrefix+"border-item",bindToOwnerCtContainer:true,percentageRe:/(\d+)%/,slideDirection:{north:"t",south:"b",west:"l",east:"r"},constructor:function(b){this.initialConfig=b;this.callParent(arguments)},onLayout:function(){var b=this;if(!b.borderLayoutInitialized){b.initializeBorderLayout()}b.fixHeightConstraints();b.shadowLayout.onLayout();if(b.embeddedContainer){b.embeddedContainer.layout.onLayout()}if(!b.initialCollapsedComplete){Ext.iterate(b.regions,function(a,d){if(d.borderCollapse){b.onBeforeRegionCollapse(d,d.collapseDirection,false,0)}});b.initialCollapsedComplete=true}},isValidParent:function(d,g,e){if(!this.borderLayoutInitialized){this.initializeBorderLayout()}return this.shadowLayout.isValidParent(d,g,e)},beforeLayout:function(){if(!this.borderLayoutInitialized){this.initializeBorderLayout()}this.shadowLayout.beforeLayout()},renderItems:function(d,c){},renderItem:function(b){},renderChildren:function(){if(!this.borderLayoutInitialized){this.initializeBorderLayout()}this.shadowLayout.renderChildren()},getVisibleItems:function(){return Ext.ComponentQuery.query(":not([slideOutAnim])",this.callParent(arguments))},initializeBorderLayout:function(){var p=this,v=0,q=p.getLayoutItems(),r=q.length,w=(p.regions={}),t=[],s=[],x=0,i=0,u,n;p.splitters={};for(;v<r;v++){u=q[v];w[u.region]=u;if(u.region!="center"&&u.collapsible&&u.collapseMode!="header"){u.borderCollapse=u.collapsed;u.collapsed=false;u.on({beforecollapse:p.onBeforeRegionCollapse,beforeexpand:p.onBeforeRegionExpand,destroy:p.onRegionDestroy,scope:p});p.setupState(u)}}u=w.center;if(!u.flex){u.flex=1}delete u.width;u.maintainFlex=true;u=w.west;if(u){u.collapseDirection=Ext.Component.DIRECTION_LEFT;s.push(u);if(u.split){s.push(p.splitters.west=p.createSplitter(u))}n=Ext.isString(u.width)&&u.width.match(p.percentageRe);if(n){x+=(u.flex=parseInt(n[1],10)/100);delete u.width}}u=w.north;if(u){u.collapseDirection=Ext.Component.DIRECTION_TOP;t.push(u);if(u.split){t.push(p.splitters.north=p.createSplitter(u))}n=Ext.isString(u.height)&&u.height.match(p.percentageRe);if(n){i+=(u.flex=parseInt(n[1],10)/100);delete u.height}}if(w.north||w.south){if(w.east||w.west){t.push(p.embeddedContainer=Ext.create("Ext.container.Container",{xtype:"container",region:"center",id:p.owner.id+"-embedded-center",cls:Ext.baseCSSPrefix+"border-item",flex:w.center.flex,maintainFlex:true,layout:{type:"hbox",align:"stretch",getVisibleItems:p.getVisibleItems}}));s.push(w.center)}else{t.push(w.center)}}else{s.push(w.center)}u=w.south;if(u){u.collapseDirection=Ext.Component.DIRECTION_BOTTOM;if(u.split){t.push(p.splitters.south=p.createSplitter(u))}n=Ext.isString(u.height)&&u.height.match(p.percentageRe);if(n){i+=(u.flex=parseInt(n[1],10)/100);delete u.height}t.push(u)}u=w.east;if(u){u.collapseDirection=Ext.Component.DIRECTION_RIGHT;if(u.split){s.push(p.splitters.east=p.createSplitter(u))}n=Ext.isString(u.width)&&u.width.match(p.percentageRe);if(n){x+=(u.flex=parseInt(n[1],10)/100);delete u.width}s.push(u)}if(w.north||w.south){p.shadowContainer=Ext.create("Ext.container.Container",{ownerCt:p.owner,el:p.getTarget(),layout:Ext.applyIf({type:"vbox",align:"stretch",getVisibleItems:p.getVisibleItems},p.initialConfig)});p.createItems(p.shadowContainer,t);if(p.splitters.north){p.splitters.north.ownerCt=p.shadowContainer}if(p.splitters.south){p.splitters.south.ownerCt=p.shadowContainer
}if(p.embeddedContainer){p.embeddedContainer.ownerCt=p.shadowContainer;p.createItems(p.embeddedContainer,s);if(p.splitters.east){p.splitters.east.ownerCt=p.embeddedContainer}if(p.splitters.west){p.splitters.west.ownerCt=p.embeddedContainer}Ext.each([p.splitters.north,p.splitters.south],function(a){if(a){a.on("beforedragstart",p.fixHeightConstraints,p)}});if(x){w.center.flex-=x}if(i){p.embeddedContainer.flex-=i}}else{if(i){w.center.flex-=i}}}else{p.shadowContainer=Ext.create("Ext.container.Container",{ownerCt:p.owner,el:p.getTarget(),layout:Ext.applyIf({type:(s.length==1)?"fit":"hbox",align:"stretch"},p.initialConfig)});p.createItems(p.shadowContainer,s);if(p.splitters.east){p.splitters.east.ownerCt=p.shadowContainer}if(p.splitters.west){p.splitters.west.ownerCt=p.shadowContainer}if(x){w.center.flex-=i}}for(v=0,q=p.shadowContainer.items.items,r=q.length;v<r;v++){q[v].shadowOwnerCt=p.shadowContainer}if(p.embeddedContainer){for(v=0,q=p.embeddedContainer.items.items,r=q.length;v<r;v++){q[v].shadowOwnerCt=p.embeddedContainer}}p.shadowLayout=p.shadowContainer.getLayout();p.borderLayoutInitialized=true},setupState:function(c){var d=c.getState;c.getState=function(){var b=d.call(c)||{},a=c.region;b.collapsed=!!c.collapsed;if(a=="west"||a=="east"){b.width=c.getWidth()}else{b.height=c.getHeight()}return b};c.addStateEvents(["collapse","expand","resize"])},createItems:function(d,c){delete d.items;d.initItems();d.items.addAll(c)},createSplitter:function(g){var e=this,i=(g.collapseMode!="header"),h;h=Ext.create("Ext.resizer.Splitter",{hidden:!!g.hidden,collapseTarget:g,performCollapse:!i,listeners:i?{click:{fn:Ext.Function.bind(e.onSplitterCollapseClick,e,[g]),element:"collapseEl"}}:null});if(g.collapseMode=="mini"){g.placeholder=h;h.collapsedCls=g.collapsedCls}g.on({hide:e.onRegionVisibilityChange,show:e.onRegionVisibilityChange,scope:e});return h},fixHeightConstraints:function(){var i=this,g=i.embeddedContainer,e=1e+99,h=-1;if(!g){return}g.items.each(function(a){if(Ext.isNumber(a.maxHeight)){e=Math.max(e,a.maxHeight)}if(Ext.isNumber(a.minHeight)){h=Math.max(h,a.minHeight)}});g.maxHeight=e;g.minHeight=h},onRegionVisibilityChange:function(b){this.splitters[b.region][b.hidden?"hide":"show"]();this.layout()},onSplitterCollapseClick:function(b){if(b.collapsed){this.onPlaceHolderToolClick(null,null,null,{client:b})}else{b.collapse()}},getPlaceholder:function(p){var n=this,l=p.placeholder,i=p.shadowOwnerCt,m=i.layout,j=Ext.panel.Panel.prototype.getOppositeDirection(p.collapseDirection),k=(p.region=="north"||p.region=="south");if(p.collapseMode=="header"){return}if(!l){if(p.collapseMode=="mini"){l=Ext.create("Ext.resizer.Splitter",{id:"collapse-placeholder-"+p.id,collapseTarget:p,performCollapse:false,listeners:{click:{fn:Ext.Function.bind(n.onSplitterCollapseClick,n,[p]),element:"collapseEl"}}});l.addCls(l.collapsedCls)}else{l={id:"collapse-placeholder-"+p.id,margins:p.initialConfig.margins||Ext.getClass(p).prototype.margins,xtype:"header",orientation:k?"horizontal":"vertical",title:p.title,textCls:p.headerTextCls,iconCls:p.iconCls,baseCls:p.baseCls+"-header",ui:p.ui,indicateDrag:p.draggable,cls:Ext.baseCSSPrefix+"region-collapsed-placeholder "+Ext.baseCSSPrefix+"region-collapsed-"+p.collapseDirection+"-placeholder "+p.collapsedCls,listeners:p.floatable?{click:{fn:function(a){n.floatCollapsedPanel(a,p)},element:"el"}}:null};if((Ext.isIE6||Ext.isIE7||(Ext.isIEQuirks))&&!k){l.width=25}if(!p.hideCollapseTool){l[k?"tools":"items"]=[{xtype:"tool",client:p,type:"expand-"+j,handler:n.onPlaceHolderToolClick,scope:n}]}}l=n.owner.createComponent(l);if(p.isXType("panel")){p.on({titlechange:n.onRegionTitleChange,iconchange:n.onRegionIconChange,scope:n})}}p.placeholder=l;l.comp=p;return l},onRegionTitleChange:function(d,c){d.placeholder.setTitle(c)},onRegionIconChange:function(c,d){c.placeholder.setIconCls(d)},calculateChildBox:function(d){var c=this;if(c.shadowContainer.items.contains(d)){return c.shadowContainer.layout.calculateChildBox(d)}else{if(c.embeddedContainer&&c.embeddedContainer.items.contains(d)){return c.embeddedContainer.layout.calculateChildBox(d)
}}},onBeforeRegionCollapse:function(x,u,A){if(x.collapsedChangingLayout){return false}x.collapsedChangingLayout=true;var v=this,q=x.el,B,C=x.collapseMode=="mini",w=x.shadowOwnerCt,D=w.layout,s=x.placeholder,y=v.owner.suspendLayout,t=w.suspendLayout,r=(x.region=="north"||x.region=="west");v.owner.suspendLayout=true;w.suspendLayout=true;D.layoutBusy=true;if(w.componentLayout){w.componentLayout.layoutBusy=true}v.shadowContainer.layout.layoutBusy=true;v.layoutBusy=true;v.owner.componentLayout.layoutBusy=true;if(!s){s=v.getPlaceholder(x)}if(s.shadowOwnerCt===w){s.show()}else{w.insert(w.items.indexOf(x)+(r?0:1),s);s.shadowOwnerCt=w;s.ownerCt=v.owner}x.hidden=true;if(!s.rendered){D.renderItem(s,D.innerCt);if(x.region=="north"||x.region=="south"){s.setCalculatedSize(x.getWidth())}else{s.setCalculatedSize(undefined,x.getHeight())}}function z(){v.owner.suspendLayout=y;w.suspendLayout=t;delete D.layoutBusy;if(w.componentLayout){delete w.componentLayout.layoutBusy}delete v.shadowContainer.layout.layoutBusy;delete v.layoutBusy;delete v.owner.componentLayout.layoutBusy;delete x.collapsedChangingLayout;x.collapsed=true;x.fireEvent("collapse",x)}if(x.animCollapse&&v.initialCollapsedComplete){D.layout();q.dom.style.zIndex=100;if(!C){s.el.hide()}q.slideOut(v.slideDirection[x.region],{duration:Ext.Number.from(x.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){q.show().setLeftTop(-10000,-10000);q.dom.style.zIndex="";if(!C){s.el.slideIn(v.slideDirection[x.region],{easing:"linear",duration:100})}z()}}})}else{q.setLeftTop(-10000,-10000);D.layout();z()}return false},onBeforeRegionExpand:function(c,d){this.onPlaceHolderToolClick(null,null,null,{client:c,shouldFireBeforeexpand:false});return false},onPlaceHolderToolClick:function(A,e,L,J){var v=this,y=J.client,F=(y.collapseMode!="mini")||!y.split,w=y.el,D,I=y.placeholder,C=I.el,x=y.shadowOwnerCt,K=x.layout,E,z=v.owner.suspendLayout,B=x.suspendLayout,G;if(y.collapsedChangingLayout){return false}if(J.shouldFireBeforeexpand!==false&&y.fireEvent("beforeexpand",y,true)===false){return false}y.collapsedChangingLayout=true;if(y.getActiveAnimation()){y.stopAnimation()}if(y.slideOutAnim){w.un(y.panelMouseMon);C.un(y.placeholderMouseMon);delete y.slideOutAnim;delete y.panelMouseMon;delete y.placeholderMouseMon;G=true}v.owner.suspendLayout=true;x.suspendLayout=true;K.layoutBusy=true;if(x.componentLayout){x.componentLayout.layoutBusy=true}v.shadowContainer.layout.layoutBusy=true;v.layoutBusy=true;v.owner.componentLayout.layoutBusy=true;y.hidden=false;y.collapsed=false;if(F){I.hidden=true}D=K.calculateChildBox(y);if(y.collapseTool){y.collapseTool.show()}if(y.animCollapse&&!G){w.setStyle("visibility","hidden")}w.setLeftTop(D.left,D.top);E=y.getSize();if(E.height!=D.height||E.width!=D.width){v.setItemSize(y,D.width,D.height)}function H(){v.owner.suspendLayout=z;x.suspendLayout=B;delete K.layoutBusy;if(x.componentLayout){delete x.componentLayout.layoutBusy}delete v.shadowContainer.layout.layoutBusy;delete v.layoutBusy;delete v.owner.componentLayout.layoutBusy;delete y.collapsedChangingLayout;y.removeCls(Ext.baseCSSPrefix+"border-region-slide-in");y.fireEvent("expand",y)}if(F){I.el.hide()}if(y.animCollapse&&!G){w.dom.style.zIndex=100;w.slideIn(v.slideDirection[y.region],{duration:Ext.Number.from(y.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){w.dom.style.zIndex="";y.hidden=false;K.onLayout();H()}}})}else{K.onLayout();H()}},floatCollapsedPanel:function(w,y){if(y.floatable===false){return}var v=this,e=y.el,s=y.placeholder,r=s.el,x=y.shadowOwnerCt,C=x.layout,z=C.getChildBox(s),t=x.suspendLayout,D,A,u;if(w.getTarget("."+Ext.baseCSSPrefix+"tool")){return}if(e.getActiveAnimation()){return}if(y.slideOutAnim){v.slideOutFloatedComponent(y);return}function B(a){var b=e.getRegion().union(r.getRegion()).adjust(1,-1,-1,1);if(!b.contains(a.getPoint())){v.slideOutFloatedComponent(y)}}y.placeholderMouseMon=r.monitorMouseLeave(500,B);x.suspendLayout=true;v.layoutBusy=true;v.owner.componentLayout.layoutBusy=true;if(y.collapseTool){y.collapseTool.hide()}y.hidden=false;
y.collapsed=false;s.hidden=true;A=C.calculateChildBox(y);s.hidden=false;if(y.region=="north"||y.region=="west"){A[C.parallelBefore]+=z[C.parallelPrefix]-1}else{A[C.parallelBefore]-=(z[C.parallelPrefix]-1)}e.setStyle("visibility","hidden");e.setLeftTop(A.left,A.top);D=y.getSize();if(D.height!=A.height||D.width!=A.width){v.setItemSize(y,A.width,A.height)}u={listeners:{afteranimate:function(){x.suspendLayout=t;delete v.layoutBusy;delete v.owner.componentLayout.layoutBusy;u.listeners={afterAnimate:function(){e.show().removeCls(Ext.baseCSSPrefix+"border-region-slide-in").setLeftTop(-10000,-10000);y.hidden=true;y.collapsed=true;delete y.slideOutAnim;delete y.panelMouseMon;delete y.placeholderMouseMon}};y.slideOutAnim=u}},duration:500};e.addCls(Ext.baseCSSPrefix+"border-region-slide-in");e.slideIn(v.slideDirection[y.region],u);y.panelMouseMon=e.monitorMouseLeave(500,B)},slideOutFloatedComponent:function(e){var g=e.el,d;g.un(e.panelMouseMon);e.placeholder.el.un(e.placeholderMouseMon);g.slideOut(this.slideDirection[e.region],e.slideOutAnim);delete e.slideOutAnim;delete e.panelMouseMon;delete e.placeholderMouseMon},onRegionDestroy:function(d){var c=d.placeholder;if(c){delete c.ownerCt;c.destroy()}},onDestroy:function(){var d=this,e=d.shadowContainer,g=d.embeddedContainer;if(e){delete e.ownerCt;Ext.destroy(e)}if(g){delete g.ownerCt;Ext.destroy(g)}delete d.regions;delete d.splitters;delete d.shadowContainer;delete d.embeddedContainer;d.callParent(arguments)}});Ext.define("Ext.layout.container.Card",{alias:["layout.card"],alternateClassName:"Ext.layout.CardLayout",extend:"Ext.layout.container.AbstractCard",setActiveItem:function(g){var i=this,h=i.owner,j=i.activeItem,k;g=i.parseActiveItem(g);k=h.items.indexOf(g);if(k==-1){k=h.items.items.length;h.add(g)}if(g&&j!=g){if(!g.rendered){i.renderItem(g,i.getRenderTarget(),h.items.length);i.configureItem(g,0)}i.activeItem=g;if(g.fireEvent("beforeactivate",g,j)===false){return false}if(j&&j.fireEvent("beforedeactivate",j,g)===false){return false}if(i.sizeAllCards){i.onLayout()}else{i.setItemBox(g,i.getTargetBox())}i.owner.suspendLayout=true;if(j){if(i.hideInactive){j.hide()}j.fireEvent("deactivate",j,g)}i.owner.suspendLayout=false;if(g.hidden){g.show()}else{i.onLayout()}g.fireEvent("activate",g,j);return g}return false},configureItem:function(b){b.layoutManagedHeight=0;b.layoutManagedWidth=0;this.callParent(arguments)}});Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Auto",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",scrollOffset:0,bindToOwnerCtComponent:false,getRenderTarget:function(){if(!this.innerCt){this.innerCt=this.getTarget().createChild({cls:Ext.baseCSSPrefix+"column-inner"});this.clearEl=this.innerCt.createChild({cls:Ext.baseCSSPrefix+"clear",role:"presentation"})}return this.innerCt},onLayout:function(){var r=this,t=r.getTarget(),s=r.getLayoutItems(),u=s.length,p,v,n=[],w,i,q,x;i=r.getLayoutTargetSize();if(i.width<u*10){return}if(r.adjustmentPass){if(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks){i.width=r.adjustedWidth}}else{v=t.getStyle("overflow");if(v&&v!="hidden"){r.autoScroll=true;if(!(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)){t.setStyle("overflow","hidden");i=r.getLayoutTargetSize()}}}q=i.width-r.scrollOffset;r.innerCt.setWidth(q);for(v=0;v<u;v++){p=s[v];w=n[v]=p.getEl().getMargin("lr");if(!p.columnWidth){q-=(p.getWidth()+w)}}q=q<0?0:q;for(v=0;v<u;v++){p=s[v];if(p.columnWidth){x=Math.floor(p.columnWidth*q)-n[v];r.setItemSize(p,x,p.height)}else{r.layoutItem(p)}}if(!r.adjustmentPass&&r.autoScroll){t.setStyle("overflow","auto");r.adjustmentPass=(t.dom.scrollHeight>i.height);if(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks){r.adjustedWidth=i.width-Ext.getScrollBarWidth()}else{t.setStyle("overflow","auto")}if(r.adjustmentPass){r.onLayout()}}delete r.adjustmentPass},configureItem:function(b){this.callParent(arguments);if(b.columnWidth){b.layoutManagedWidth=1}}});Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.TableLayout",monitorResize:false,type:"table",autoSize:true,clearEl:true,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,renderItems:function(v){var x=this.getTable().tBodies[0],i=x.rows,y=0,w=v.length,q,s,z,B,r,t,u,A;
q=this.calculateCells(v);for(;y<w;y++){s=q[y];z=s.rowIdx;B=s.cellIdx;r=v[y];t=i[z];if(!t){t=x.insertRow(z);if(this.trAttrs){t.set(this.trAttrs)}}A=u=Ext.get(t.cells[B]||t.insertCell(B));if(this.needsDivWrap()){A=u.first()||u.createChild({tag:"div"});A.setWidth(null)}if(!r.rendered){this.renderItem(r,A,0)}else{if(!this.isValidParent(r,A,0)){this.moveItem(r,A,0)}}if(this.tdAttrs){u.set(this.tdAttrs)}u.set({colSpan:r.colspan||1,rowSpan:r.rowspan||1,id:r.cellId||"",cls:this.cellCls+" "+(r.cellCls||"")});if(!q[y+1]||q[y+1].rowIdx!==z){B++;while(t.cells[B]){t.deleteCell(B)}}}z++;while(x.rows[z]){x.deleteRow(z)}},afterLayout:function(){this.callParent();if(this.needsDivWrap()){Ext.Array.forEach(this.getLayoutItems(),function(b){Ext.fly(b.el.dom.parentNode).setWidth(b.getWidth())})}},calculateCells:function(q){var j=[],w=0,u=0,x=0,r=this.columns||Infinity,i=[],t=0,v,s=q.length,p;for(;t<s;t++){p=q[t];while(u>=r||i[u]>0){if(u>=r){u=0;x=0;w++;for(v=0;v<r;v++){if(i[v]>0){i[v]--}}}else{u++}}j.push({rowIdx:w,cellIdx:x});for(v=p.colspan||1;v;--v){i[u]=p.rowspan||1;++u}++x}return j},getTable:function(){var b=this.table;if(!b){b=this.table=this.getTarget().createChild(Ext.apply({tag:"table",role:"presentation",cls:this.tableCls,cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}return b},needsDivWrap:function(){return Ext.isOpera10_5}});Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:1,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,isMenuItem:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,renderTpl:['<tpl if="plain">',"{text}","</tpl>",'<tpl if="!plain">','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="menu">style="margin-right: 17px;"</tpl> >{text}</span>','<tpl if="menu">','<img id="{id}-arrowEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-arrow" />',"</tpl>","</a>","</tpl>"],maskOnDisable:false,activate:function(){var b=this;if(!b.activated&&b.canActivate&&b.rendered&&!b.isDisabled()&&b.isVisible()){b.el.addCls(b.activeCls);b.focus();b.activated=true;b.fireEvent("activate",b)}},blur:function(){this.$focused=false;this.callParent(arguments)},deactivate:function(){var b=this;if(b.activated){b.el.removeCls(b.activeCls);b.blur();b.hideMenu();b.activated=false;b.fireEvent("deactivate",b)}},deferExpandMenu:function(){var b=this;if(!b.menu.rendered||!b.menu.isVisible()){b.parentMenu.activeChild=b.menu;b.menu.parentItem=b;b.menu.parentMenu=b.menu.ownerCt=b.parentMenu;b.menu.showBy(b,b.menuAlign)}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},deferHideParentMenus:function(){Ext.menu.Manager.hideAll()},expandMenu:function(d){var c=this;if(c.menu){clearTimeout(c.hideMenuTimer);if(d===0){c.deferExpandMenu()}else{c.expandMenuTimer=Ext.defer(c.deferExpandMenu,Ext.isNumber(d)?d:c.menuExpandDelay,c)}}},focus:function(){this.$focused=true;this.callParent(arguments)},getRefItems:function(e){var g=this.menu,d;if(g){d=g.getRefItems(e);d.unshift(g)}return d||[]},hideMenu:function(d){var c=this;if(c.menu){clearTimeout(c.expandMenuTimer);c.hideMenuTimer=Ext.defer(c.deferHideMenu,Ext.isNumber(d)?d:c.menuHideDelay,c)}},initComponent:function(){var d=this,g=Ext.baseCSSPrefix,e=[g+"menu-item"];d.addEvents("activate","click","deactivate");if(d.plain){e.push(g+"menu-item-plain")}if(d.cls){e.push(d.cls)}d.cls=e.join(" ");if(d.menu){d.menu=Ext.menu.Manager.get(d.menu)}d.callParent(arguments)},onClick:function(c){var d=this;if(!d.href){c.stopEvent()}if(d.disabled){return}if(d.hideOnClick){d.deferHideParentMenusTimer=Ext.defer(d.deferHideParentMenus,d.clickHideDelay,d)}Ext.callback(d.handler,d.scope||d,[d,c]);d.fireEvent("click",d,c);
if(!d.hideOnClick){d.focus()}},onDestroy:function(){var b=this;clearTimeout(b.expandMenuTimer);clearTimeout(b.hideMenuTimer);clearTimeout(b.deferHideParentMenusTimer);if(b.menu){delete b.menu.parentItem;delete b.menu.parentMenu;delete b.menu.ownerCt;if(b.destroyMenu!==false){b.menu.destroy()}}b.callParent(arguments)},onRender:function(g,h){var e=this,i=Ext.BLANK_IMAGE_URL;Ext.applyIf(e.renderData,{href:e.href||"#",hrefTarget:e.hrefTarget,icon:e.icon||i,iconCls:e.iconCls+(e.checkChangeDisabled?" "+e.disabledCls:""),menu:Ext.isDefined(e.menu),plain:e.plain,text:e.text,blank:i});e.addChildEls("itemEl","iconEl","textEl","arrowEl");e.callParent(arguments)},setHandler:function(c,d){this.handler=c||null;this.scope=d},setIconCls:function(d){var c=this;if(c.iconEl){if(c.iconCls){c.iconEl.removeCls(c.iconCls)}if(d){c.iconEl.addCls(d)}}c.iconCls=d},setText:function(g){var d=this,e=d.textEl||d.el;d.text=g;if(d.rendered){e.update(g||"");d.ownerCt.redoComponentLayout()}}});Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,afterRender:function(){var b=this;this.callParent();b.checked=!b.checked;b.setChecked(!b.checked,true)},initComponent:function(){var b=this;b.addEvents("beforecheckchange","checkchange");b.callParent(arguments);Ext.menu.Manager.registerCheckable(b);if(b.group){if(!b.iconCls){b.iconCls=b.groupCls}if(b.initialConfig.hideOnClick!==false){b.hideOnClick=true}}},disableCheckChange:function(){var b=this;if(b.iconEl){b.iconEl.addCls(b.disabledCls)}b.checkChangeDisabled=true},enableCheckChange:function(){var b=this;b.iconEl.removeCls(b.disabledCls);b.checkChangeDisabled=false},onClick:function(c){var d=this;if(!d.disabled&&!d.checkChangeDisabled&&!(d.checked&&d.group)){d.setChecked(!d.checked)}this.callParent([c])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(g,e){var d=this;if(d.checked!==g&&(e||d.fireEvent("beforecheckchange",d,g)!==false)){if(d.el){d.el[g?"addCls":"removeCls"](d.checkedCls)[!g?"addCls":"removeCls"](d.uncheckedCls)}d.checked=g;Ext.menu.Manager.onCheckChange(d,g);if(!e){Ext.callback(d.checkHandler,d.scope,[d,g]);d.fireEvent("checkchange",d,g)}}}});Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",requires:["Ext.FocusManager"],constructor:function(c){var d=this;d.menu=c;d.callParent([c.el,{down:d.down,enter:d.enter,esc:d.escape,left:d.left,right:d.right,space:d.enter,tab:d.tab,up:d.up}])},down:function(d){var e=this,g=e.menu.focusedItem;if(g&&d.getKey()==Ext.EventObject.DOWN&&e.isWhitelisted(g)){return true}e.focusNextItem(1)},enter:function(d){var g=this.menu,e=g.focusedItem;if(g.activeItem){g.onClick(d)}else{if(e&&e.isFormField){return true}}},escape:function(b){Ext.menu.Manager.hideAll()},focusNextItem:function(l){var k=this.menu,i=k.items,n=k.focusedItem,p=n?i.indexOf(n):-1,j=p+l;while(j!=p){if(j<0){j=i.length-1}else{if(j>=i.length){j=0}}var m=i.getAt(j);if(k.canActivateItem(m)){k.setActiveItem(m);break}j+=l}},isWhitelisted:function(b){return Ext.FocusManager.isWhitelisted(b)},left:function(e){var i=this.menu,h=i.focusedItem,g=i.activeItem;if(h&&this.isWhitelisted(h)){return true}i.hide();if(i.parentMenu){i.parentMenu.focus()}},right:function(k){var j=this.menu,i=j.focusedItem,h=j.activeItem,e;if(i&&this.isWhitelisted(i)){return true}if(h){e=j.activeItem.menu;if(e){h.expandMenu(0);Ext.defer(function(){e.setActiveItem(e.items.getAt(0))},25)}}},tab:function(c){var d=this;if(c.shiftKey){d.up(c)}else{d.down(c)}},up:function(d){var e=this,g=e.menu.focusedItem;if(g&&d.getKey()==Ext.EventObject.UP&&e.isWhitelisted(g)){return true}e.focusNextItem(-1)}});Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:false,focusable:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",onRender:function(e,h){var i=this,g=i.separatorCls;i.cls+=" "+g;i.callParent(arguments)
}});Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],allowOtherMenus:false,ariaRole:"menu",defaultAlign:"tl-bl?",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:120,initComponent:function(){var e=this,h=Ext.baseCSSPrefix,g=[h+"menu"],i=e.bodyCls?[e.bodyCls]:[];e.addEvents("click","mouseenter","mouseleave","mouseover");Ext.menu.Manager.register(e);if(e.plain){g.push(h+"menu-plain")}e.cls=g.join(" ");i.unshift(h+"menu-body");e.bodyCls=i.join(" ");e.layout={type:"vbox",align:"stretchmax",autoSize:true,clearInnerCtOnLayout:true,overflowHandler:"Scroller"};if(e.floating===false&&e.initialConfig.hidden!==true){e.hidden=false}e.callParent(arguments);e.on("beforeshow",function(){var a=!!e.items.length;if(a&&e.rendered){e.el.setStyle("visibility",null)}return a})},afterRender:function(g){var e=this,h=Ext.baseCSSPrefix,i="&#160;";e.callParent(arguments);if(e.showSeparator){e.iconSepEl=e.layout.getRenderTarget().insertFirst({cls:h+"menu-icon-separator",html:i})}e.focusEl=e.el.createChild({cls:h+"menu-focus",tabIndex:"-1",html:i});e.mon(e.el,{click:e.onClick,mouseover:e.onMouseOver,scope:e});e.mouseMonitor=e.el.monitorMouseLeave(100,e.onMouseLeave,e);if(e.showSeparator&&((!Ext.isStrict&&Ext.isIE)||Ext.isIE6)){e.iconSepEl.setHeight(e.el.getHeight())}e.keyNav=Ext.create("Ext.menu.KeyNav",e)},afterLayout:function(){var i=this;i.callParent(arguments);if((!Ext.isStrict&&Ext.isIE)||Ext.isIE6){var t=i.layout.getRenderTarget(),r=0,s=i.dockedItems,q=s.length,n=0,m,l,p;r=t.getWidth();p=r+i.body.getBorderWidth("lr")+i.body.getPadding("lr");i.body.setWidth(p);for(;n<q,m=s.getAt(n);n++){if(m.dock=="left"||m.dock=="right"){p+=m.getWidth()}}i.el.setWidth(p)}},getBubbleTarget:function(){return this.parentMenu||this.callParent()},canActivateItem:function(b){return b&&!b.isDisabled()&&b.isVisible()&&(b.canActivate||b.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(){var b=this;if(b.activeItem){b.activeItem.deactivate();if(!b.activeItem.activated){delete b.activeItem}}if(b.focusedItem&&!b.filtered){b.focusedItem.blur();if(!b.focusedItem.$focused){delete b.focusedItem}}},clearStretch:function(){if(this.rendered){this.items.each(function(b){if(b.componentLayout){delete b.componentLayout.lastComponentSize}if(b.el){b.el.setWidth(null)}})}},onAdd:function(){var b=this;b.clearStretch();b.callParent(arguments);if(Ext.isIE6||Ext.isIE7){Ext.Function.defer(b.doComponentLayout,10,b)}},onRemove:function(){this.clearStretch();this.callParent(arguments)},redoComponentLayout:function(){if(this.rendered){this.clearStretch();this.doComponentLayout()}},getFocusEl:function(){return this.focusEl},hide:function(){this.deactivateActiveItem();this.callParent(arguments)},getItemFromEvent:function(b){return this.getChildByElement(b.getTarget())},lookupComponent:function(c){var d=this;if(Ext.isString(c)){c=d.lookupItemFromString(c)}else{if(Ext.isObject(c)){c=d.lookupItemFromObject(c)}}c.minWidth=c.minWidth||d.minWidth;return c},lookupItemFromObject:function(k){var g=this,j=Ext.baseCSSPrefix,h,i;if(!k.isComponent){if(!k.xtype){k=Ext.create("Ext.menu."+(Ext.isBoolean(k.checked)?"Check":"")+"Item",k)}else{k=Ext.ComponentManager.create(k,k.xtype)}}if(k.isMenuItem){k.parentMenu=g}if(!k.isMenuItem&&!k.dock){h=[j+"menu-item",j+"menu-item-cmp"];i=Ext.Function.createInterceptor;k.focus=i(k.focus,function(){this.$focused=true},k);k.blur=i(k.blur,function(){this.$focused=false},k);if(!g.plain&&(k.indent===true||k.iconCls==="no-icon")){h.push(j+"menu-item-indent")}if(k.rendered){k.el.addCls(h)}else{k.cls=(k.cls?k.cls:"")+" "+h.join(" ")}k.isMenuItem=true}return k},lookupItemFromString:function(b){return(b=="separator"||b=="-")?Ext.createWidget("menuseparator"):Ext.createWidget("menuitem",{canActivate:false,hideOnClick:false,plain:true,text:b})},onClick:function(g){var d=this,e;if(d.disabled){g.stopEvent();return
}if((g.getTarget()==d.focusEl.dom)||g.within(d.layout.getRenderTarget())){e=d.getItemFromEvent(g)||d.activeItem;if(e){if(e.getXTypes().indexOf("menuitem")>=0){if(!e.menu||!d.ignoreParentClicks){e.onClick(g)}else{g.stopEvent()}}}d.fireEvent("click",d,e,g)}},onDestroy:function(){var b=this;Ext.menu.Manager.unregister(b);if(b.rendered){b.el.un(b.mouseMonitor);b.keyNav.destroy();delete b.keyNav}b.callParent(arguments)},onMouseLeave:function(c){var d=this;d.deactivateActiveItem();if(d.disabled){return}d.fireEvent("mouseleave",d,c)},onMouseOver:function(j){var k=this,i=j.getRelatedTarget(),h=!k.el.contains(i),e=k.getItemFromEvent(j);if(h&&k.parentMenu){k.parentMenu.setActiveItem(k.parentItem);k.parentMenu.mouseMonitor.mouseenter()}if(k.disabled){return}if(e){k.setActiveItem(e);if(e.activated&&e.expandMenu){e.expandMenu()}}if(h){k.fireEvent("mouseenter",k,j)}k.fireEvent("mouseover",k,e,j)},setActiveItem:function(c){var d=this;if(c&&(c!=d.activeItem&&c!=d.focusedItem)){d.deactivateActiveItem();if(d.canActivateItem(c)){if(c.activate){c.activate();if(c.activated){d.activeItem=c;d.focusedItem=c;d.focus()}}else{c.focus();d.focusedItem=c}}c.el.scrollIntoView(d.layout.getRenderTarget())}},showBy:function(h,j,k){var i=this,l,m;if(i.floating&&h){i.layout.autoSize=true;i.doAutoRender();delete i.needsLayout;h=h.el||h;l=i.el.getAlignToXY(h,j||i.defaultAlign,k);if(i.floatParent){m=i.floatParent.getTargetEl().getViewRegion();l[0]-=m.x;l[1]-=m.y}i.showAt(l)}return i},doConstrain:function(){var q=this,p=q.el.getY(),n,r,u,m=p,l,s,v,t;delete q.height;q.setSize();r=q.getHeight();if(q.floating){s=Ext.fly(q.el.getScopeParent());v=s.getScroll().top;t=s.getViewSize().height;l=p-v;n=q.maxHeight?q.maxHeight:t-l;if(r>t){n=t;m=p-l}else{if(n<r){m=p-(r-n);n=r}}}else{n=q.getHeight()}if(q.maxHeight){n=Math.min(q.maxHeight,n)}if(r>n&&n>0){q.layout.autoSize=false;q.setHeight(n);if(q.showSeparator){q.iconSepEl.setHeight(q.layout.getRenderTarget().dom.scrollHeight)}}u=q.getConstrainVector(q.el.getScopeParent());if(u){q.setPosition(q.getPosition()[0]+u[0])}q.el.setY(m)}});Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:true,pickerId:null,initComponent:function(){var c=this,d=Ext.apply({},c.initialConfig);delete d.listeners;Ext.apply(c,{plain:true,showSeparator:false,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:c.pickerId,xtype:"colorpicker"},d)});c.callParent(arguments);c.picker=c.down("colorpicker");c.relayEvents(c.picker,["select"]);if(c.hideOnClick){c.on("select",c.hidePickerOnSelect,c)}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],hideOnClick:true,pickerId:null,initComponent:function(){var b=this;Ext.apply(b,{showSeparator:false,plain:true,border:false,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:b.pickerId,xtype:"datepicker"},b.initialConfig)});b.callParent(arguments);b.picker=b.down("datepicker");b.relayEvents(b.picker,["select"]);if(b.hideOnClick){b.on("select",b.hidePickerOnSelect,b)}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTipManager"],alias:"widget.tool",baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-{type}" role="presentation"/>'],tooltipType:"qtip",stopEvent:true,initComponent:function(){var b=this;b.addEvents("click");b.type=b.type||b.id;Ext.applyIf(b.renderData,{baseCls:b.baseCls,blank:Ext.BLANK_IMAGE_URL,type:b.type});b.addChildEls("toolEl");b.tooltip=b.tooltip||b.qtip;b.callParent()},afterRender:function(){var c=this,d;c.callParent(arguments);if(c.tooltip){if(Ext.isObject(c.tooltip)){Ext.tip.QuickTipManager.register(Ext.apply({target:c.id},c.tooltip))}else{d=c.tooltipType=="qtip"?"data-qtip":"title";c.toolEl.dom.setAttribute(d,c.tooltip)
}}c.mon(c.toolEl,{click:c.onClick,mousedown:c.onMouseDown,mouseover:c.onMouseOver,mouseout:c.onMouseOut,scope:c})},setType:function(d){var c=this;c.type=d;if(c.rendered){c.toolEl.dom.className=c.baseCls+"-"+d}return c},bindTo:function(b){this.owner=b},onClick:function(h,i){var e=this,g;if(e.disabled){return false}g=e.owner||e.ownerCt;e.el.removeCls(e.toolPressedCls);e.el.removeCls(e.toolOverCls);if(e.stopEvent!==false){h.stopEvent()}Ext.callback(e.handler,e.scope||e,[h,i,g,e]);e.fireEvent("click",e,h);return true},onDestroy:function(){if(Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.id)}this.callParent()},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}});Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",onRender:function(){this.addCls(this.baseHandleCls,this.baseHandleCls+"-"+this.region,this.handleCls);this.callParent(arguments);this.el.unselectable()}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(x){var r=this,s,i,n=r.handles,w,p,t,v=0,q;this.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(x)||Ext.isElement(x)||x.dom){s=x;x=arguments[1]||{};x.target=s}r.mixins.observable.constructor.call(r,x);s=r.target;if(s){if(s.isComponent){r.el=s.getEl();if(s.minWidth){r.minWidth=s.minWidth}if(s.minHeight){r.minHeight=s.minHeight}if(s.maxWidth){r.maxWidth=s.maxWidth}if(s.maxHeight){r.maxHeight=s.maxHeight}if(s.floating){if(!this.hasOwnProperty("handles")){this.handles="n ne e se s sw w nw"}}}else{r.el=r.target=Ext.get(s)}}else{r.target=r.el=Ext.get(r.el)}i=r.el.dom.tagName;if(i=="TEXTAREA"||i=="IMG"){r.originalTarget=r.target;r.target=r.el=r.el.wrap({cls:r.wrapCls,id:r.el.id+"-rzwrap"});r.el.setPositioning(r.originalTarget.getPositioning());r.originalTarget.clearPositioning();var u=r.originalTarget.getBox();r.el.setBox(u)}r.el.position();if(r.pinned){r.el.addCls(r.pinnedCls)}r.resizeTracker=Ext.create("Ext.resizer.ResizeTracker",{disabled:r.disabled,target:r.target,constrainTo:r.constrainTo,overCls:r.overCls,throttle:r.throttle,originalTarget:r.originalTarget,delegate:"."+r.handleCls,dynamic:r.dynamic,preserveRatio:r.preserveRatio,heightIncrement:r.heightIncrement,widthIncrement:r.widthIncrement,minHeight:r.minHeight,maxHeight:r.maxHeight,minWidth:r.minWidth,maxWidth:r.maxWidth});r.resizeTracker.on("mousedown",r.onBeforeResize,r);r.resizeTracker.on("drag",r.onResize,r);r.resizeTracker.on("dragend",r.onResizeEnd,r);if(r.handles=="all"){r.handles="n s e w ne nw se sw"}n=r.handles=r.handles.split(/ |\s*?[,;]\s*?/);p=r.possiblePositions;t=n.length;w=r.handleCls+" "+(this.target.isComponent?(r.target.baseCls+"-handle "):"")+r.handleCls+"-";for(;v<t;v++){if(n[v]&&p[n[v]]){q=p[n[v]];r[q]=Ext.create("Ext.Component",{owner:this,region:q,cls:w+q,renderTo:r.el});r[q].el.unselectable();if(r.transparent){r[q].el.setOpacity(0)}}}if(Ext.isNumber(r.width)){r.width=Ext.Number.constrain(r.width,r.minWidth,r.maxWidth)}if(Ext.isNumber(r.height)){r.height=Ext.Number.constrain(r.height,r.minHeight,r.maxHeight)}if(r.width!=null||r.height!=null){if(r.originalTarget){r.originalTarget.setWidth(r.width);r.originalTarget.setHeight(r.height)}r.resizeTo(r.width,r.height)}r.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()
},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(g,e){var b=this.target.getBox();return this.fireEvent("beforeresize",this,b.width,b.height,e)},onResize:function(h,e){var i=this,b=i.target.getBox();i.forceHandlesHeight();return i.fireEvent("resizedrag",i,b.width,b.height,e)},onResizeEnd:function(h,e){var i=this,b=i.target.getBox();i.forceHandlesHeight();return i.fireEvent("resize",i,b.width,b.height,e)},resizeTo:function(c,d){this.target.setSize(c,d);this.fireEvent("resize",this,c,d,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var g;for(var d=0,e=this.handles.length;d<e;d++){g=this[this.possiblePositions[this.handles[d]]];delete g.owner;Ext.destroy(g)}},forceHandlesHeight:function(){var d=this,c;if(Ext.isIE6){c=d.east;if(c){c.setHeight(d.el.getHeight())}c=d.west;if(c){c.setHeight(d.el.getHeight())}d.el.repaint()}}});Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(g){var j=this;if(!g.el){if(g.target.isComponent){j.el=g.target.getEl()}else{j.el=g.target}}this.callParent(arguments);if(j.preserveRatio&&j.minWidth&&j.minHeight){var k=j.minWidth/j.el.getWidth(),h=j.minHeight/j.el.getHeight();if(h>k){j.minWidth=j.el.getWidth()*h}else{j.minHeight=j.el.getHeight()*k}}if(j.throttle){var i=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(j,arguments)},j.throttle);j.resize=function(b,a,c){if(c){Ext.resizer.ResizeTracker.prototype.resize.apply(j,arguments)}else{i.apply(null,arguments)}}}},onBeforeStart:function(b){this.startBox=this.el.getBox()},getDynamicTarget:function(){var d=this,c=d.target;if(d.dynamic){return c}else{if(!d.proxy){d.proxy=d.createProxy(c)}}d.proxy.show();return d.proxy},createProxy:function(i){var e,g=this.proxyCls,h;if(i.isComponent){e=i.getProxy().addCls(g)}else{h=Ext.getBody();if(Ext.scopeResetCSS){h=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"reset"})}e=i.createProxy({tag:"div",cls:g,id:i.id+"-rzproxy"},h)}e.removeCls(Ext.baseCSSPrefix+"proxy-el");return e},onStart:function(b){this.activeResizeHandle=Ext.getCmp(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox,{horizontal:"none",vertical:"none"})}},onDrag:function(b){if(this.dynamic||this.proxy){this.updateDimensions(b)}},updateDimensions:function(B,H){var A=this,P=A.activeResizeHandle.region,N=A.getOffset(A.constrainTo?"dragTarget":null),J=A.startBox,M,E=0,z=0,K,D,R=0,e=0,y,G=N[0]<0?"right":"left",C=N[1]<0?"down":"up",L,Q;switch(P){case"south":z=N[1];Q=2;break;case"north":z=-N[1];e=-z;Q=2;break;case"east":E=N[0];Q=1;break;case"west":E=-N[0];R=-E;Q=1;break;case"northeast":z=-N[1];e=-z;E=N[0];L=[J.x,J.y+J.height];Q=3;break;case"southeast":z=N[1];E=N[0];L=[J.x,J.y];Q=3;break;case"southwest":E=-N[0];R=-E;z=N[1];L=[J.x+J.width,J.y];Q=3;break;case"northwest":z=-N[1];e=-z;E=-N[0];R=-E;L=[J.x+J.width,J.y+J.height];Q=3;break}var O={width:J.width+E,height:J.height+z,x:J.x+R,y:J.y+e};K=Ext.Number.snap(O.width,A.widthIncrement);D=Ext.Number.snap(O.height,A.heightIncrement);if(K!=O.width||D!=O.height){switch(P){case"northeast":O.y-=D-O.height;break;case"north":O.y-=D-O.height;break;case"southwest":O.x-=K-O.width;break;case"west":O.x-=K-O.width;break;case"northwest":O.x-=K-O.width;O.y-=D-O.height}O.width=K;O.height=D}if(O.width<A.minWidth||O.width>A.maxWidth){O.width=Ext.Number.constrain(O.width,A.minWidth,A.maxWidth);if(R){O.x=J.x+(J.width-O.width)}}else{A.lastX=O.x}if(O.height<A.minHeight||O.height>A.maxHeight){O.height=Ext.Number.constrain(O.height,A.minHeight,A.maxHeight);if(e){O.y=J.y+(J.height-O.height)}}else{A.lastY=O.y}if(A.preserveRatio||B.shiftKey){var F,I;M=A.startBox.width/A.startBox.height;F=Math.min(Math.max(A.minHeight,O.width/M),A.maxHeight);I=Math.min(Math.max(A.minWidth,O.height*M),A.maxWidth);if(Q==1){O.height=F}else{if(Q==2){O.width=I}else{y=Math.abs(L[0]-this.lastXY[0])/Math.abs(L[1]-this.lastXY[1]);if(y>M){O.height=F}else{O.width=I}if(P=="northeast"){O.y=J.y-(O.height-J.height)
}else{if(P=="northwest"){O.y=J.y-(O.height-J.height);O.x=J.x-(O.width-J.width)}else{if(P=="southwest"){O.x=J.x-(O.width-J.width)}}}}}}if(z===0){C="none"}if(E===0){G="none"}A.resize(O,{horizontal:G,vertical:C},H)},getResizeTarget:function(b){return b?this.target:this.getDynamicTarget()},resize:function(e,h,g){var i=this.getResizeTarget(g);if(i.isComponent){if(i.floating){i.setPagePosition(e.x,e.y)}i.setSize(e.width,e.height)}else{i.setBox(e);if(this.originalTarget){this.originalTarget.setBox(e)}}},onEnd:function(b){this.updateDimensions(b,true);if(this.proxy){this.proxy.hide()}}});Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",getPrevCmp:function(){var b=this.getSplitter();return b.previousSibling()},getNextCmp:function(){var b=this.getSplitter();return b.nextSibling()},onBeforeStart:function(j){var l=this,k=l.getPrevCmp(),i=l.getNextCmp(),m=l.getSplitter().collapseEl,e;if(m&&(j.getTarget()===l.getSplitter().collapseEl.dom)){return false}if(i.collapsed||k.collapsed){return false}e=l.overlay=Ext.getBody().createChild({cls:l.overlayCls,html:"&#160;"});e.unselectable();e.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));e.show();l.prevBox=k.getEl().getBox();l.nextBox=i.getEl().getBox();l.constrainTo=l.calculateConstrainRegion()},onStart:function(c){var d=this.getSplitter();d.addCls(d.baseCls+"-active")},calculateConstrainRegion:function(){var s=this,x=s.getSplitter(),r=x.getWidth(),q=x.defaultSplitMin,w=x.orientation,u=s.prevBox,p=s.getPrevCmp(),v=s.nextBox,t=s.getNextCmp(),m,n;if(w==="vertical"){m=Ext.create("Ext.util.Region",u.y,(p.maxWidth?u.x+p.maxWidth:v.right-(t.minWidth||q))+r,u.bottom,u.x+(p.minWidth||q));n=Ext.create("Ext.util.Region",v.y,v.right-(t.minWidth||q),v.bottom,(t.maxWidth?v.right-t.maxWidth:u.x+(u.minWidth||q))-r)}else{m=Ext.create("Ext.util.Region",u.y+(p.minHeight||q),u.right,(p.maxHeight?u.y+p.maxHeight:v.bottom-(t.minHeight||q))+r,u.x);n=Ext.create("Ext.util.Region",(t.maxHeight?v.bottom-t.maxHeight:u.y+(p.minHeight||q))-r,v.right,v.bottom-(t.minHeight||q),v.x)}return m.intersect(n)},performResize:function(n){var l=this,r=l.getOffset("dragTarget"),t=l.getSplitter(),q=t.orientation,e=l.getPrevCmp(),m=l.getNextCmp(),s=t.ownerCt,p=s.getLayout();s.suspendLayout=true;if(q==="vertical"){if(e){if(!e.maintainFlex){delete e.flex;e.setSize(l.prevBox.width+r[0],e.getHeight())}}if(m){if(!m.maintainFlex){delete m.flex;m.setSize(l.nextBox.width-r[0],m.getHeight())}}}else{if(e){if(!e.maintainFlex){delete e.flex;e.setSize(e.getWidth(),l.prevBox.height+r[1])}}if(m){if(!m.maintainFlex){delete m.flex;m.setSize(e.getWidth(),l.nextBox.height-r[1])}}}delete s.suspendLayout;p.onLayout()},endDrag:function(){var b=this;if(b.overlay){b.overlay.remove();delete b.overlay}b.callParent(arguments)},onEnd:function(g){var e=this,d=e.getSplitter();d.removeCls(d.baseCls+"-active");e.performResize()},onDrag:function(k){var m=this,j=m.getOffset("dragTarget"),l=m.getSplitter(),e=l.getEl(),i=l.orientation;if(i==="vertical"){e.setX(m.startRegion.left+j[0])}else{e.setY(m.startRegion.top+j[1])}},getSplitter:function(){return Ext.getCmp(this.getDragCt().id)}});Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.util.KeyNav"],enableKeyNav:true,preventWrap:false,constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(d){var c=this;c.primaryView=d;c.views=c.views||[];c.views.push(d);c.bind(d.getStore(),true);d.on({cellmousedown:c.onMouseDown,refresh:c.onViewRefresh,scope:c});if(c.enableKeyNav){c.initKeyNav(d)}},initKeyNav:function(d){var c=this;if(!d.rendered){d.on("render",Ext.Function.bind(c.initKeyNav,c,[d],0),c,{single:true});return}d.el.set({tabIndex:-1});c.keyNav=Ext.create("Ext.util.KeyNav",d.el,{up:c.onKeyUp,down:c.onKeyDown,right:c.onKeyRight,left:c.onKeyLeft,tab:c.onKeyTab,scope:c})},getHeaderCt:function(){return this.primaryView.headerCt},onKeyUp:function(c,d){this.move("up",c)},onKeyDown:function(c,d){this.move("down",c)
},onKeyLeft:function(c,d){this.move("left",c)},onKeyRight:function(c,d){this.move("right",c)},move:function(g,i){var e=this,h=e.primaryView.walkCells(e.getCurrentPosition(),g,i,e.preventWrap);if(h){e.setCurrentPosition(h)}return h},getCurrentPosition:function(){return this.position},setCurrentPosition:function(c){var d=this;if(d.position){d.onCellDeselect(d.position)}if(c){d.onCellSelect(c)}d.position=c},onMouseDown:function(p,j,n,e,l,k,m){this.setCurrentPosition({row:k,column:n})},onCellSelect:function(g){var h=this,i=h.view.getStore(),e=i.getAt(g.row);h.doSelect(e);h.primaryView.onCellSelect(g);h.primaryView.onCellFocus(g);h.fireEvent("select",h,e,g.row,g.column)},onCellDeselect:function(g){var h=this,i=h.view.getStore(),e=i.getAt(g.row);h.doDeselect(e);h.primaryView.onCellDeselect(g);h.fireEvent("deselect",h,e,g.row,g.column)},onKeyTab:function(j,m){var l=this,k=j.shiftKey?"left":"right",e=l.view.editingPlugin,i=l.move(k,j);if(e&&i&&l.wasEditing){e.startEditByPosition(i)}delete l.wasEditing},onEditorTab:function(e,i){var k=this,j=i.shiftKey?"left":"right",h=k.move(j,i);if(h){e.startEditByPosition(h);k.wasEditing=true}},refresh:function(){var b=this.getCurrentPosition();if(b){this.onCellSelect(b)}},onViewRefresh:function(){var b=this.getCurrentPosition();if(b){this.onCellDeselect(b);this.setCurrentPosition(null)}},selectByPosition:function(b){this.setCurrentPosition(b)}});Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:true,ignoreRightMouseSelection:true,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(d){var c=this;c.views=c.views||[];c.views.push(d);c.bind(d.getStore(),true);d.on({itemmousedown:c.onRowMouseDown,scope:c});if(c.enableKeyNav){c.initKeyNav(d)}},initKeyNav:function(d){var c=this;if(!d.rendered){d.on("render",Ext.Function.bind(c.initKeyNav,c,[d],0),c,{single:true});return}d.el.set({tabIndex:-1});c.keyNav=new Ext.util.KeyNav(d.el,{up:c.onKeyUp,down:c.onKeyDown,right:c.onKeyRight,left:c.onKeyLeft,pageDown:c.onKeyPageDown,pageUp:c.onKeyPageUp,home:c.onKeyHome,end:c.onKeyEnd,scope:c});d.el.on(Ext.EventManager.getKeyEvent(),c.onKeyPress,c)},getRowsVisible:function(){var i=false,h=this.views[0],j=h.getNode(0),g,k;if(j){g=Ext.fly(j).getHeight();k=h.el.getHeight();i=Math.floor(k/g)}return i},onKeyEnd:function(h,g){var i=this,e=i.store.getAt(i.store.getCount()-1);if(e){if(h.shiftKey){i.selectRange(e,i.lastFocused||0);i.setLastFocused(e)}else{if(h.ctrlKey){i.setLastFocused(e)}else{i.doSelect(e)}}}},onKeyHome:function(i,g){var e=this,h=e.store.getAt(0);if(h){if(i.shiftKey){e.selectRange(h,e.lastFocused||0);e.setLastFocused(h)}else{if(i.ctrlKey){e.setLastFocused(h)}else{e.doSelect(h,false)}}}},onKeyPageUp:function(m,q){var n=this,l=n.getRowsVisible(),e,r,k,p;if(l){e=n.lastFocused?n.store.indexOf(n.lastFocused):0;r=e-l;if(r<0){r=0}k=n.store.getAt(r);if(m.shiftKey){p=n.store.getAt(e);n.selectRange(k,p,m.ctrlKey,"up");n.setLastFocused(k)}else{if(m.ctrlKey){m.preventDefault();n.setLastFocused(k)}else{n.doSelect(k)}}}},onKeyPageDown:function(m,e){var p=this,l=p.getRowsVisible(),k,n,q,r;if(l){k=p.lastFocused?p.store.indexOf(p.lastFocused):0;n=k+l;if(n>=p.store.getCount()){n=p.store.getCount()-1}q=p.store.getAt(n);if(m.shiftKey){r=p.store.getAt(k);p.selectRange(q,r,m.ctrlKey,"down");p.setLastFocused(q)}else{if(m.ctrlKey){m.preventDefault();p.setLastFocused(q)}else{p.doSelect(q)}}}},onKeyPress:function(h,e){if(h.getKey()===h.SPACE){h.stopEvent();var i=this,g=i.lastFocused;if(g){if(i.isSelected(g)){i.doDeselect(g,false)}else{i.doSelect(g,true)}}}},onKeyUp:function(j,l){var k=this,m=k.views[0],i=k.store.indexOf(k.lastFocused),e;if(i>0){e=k.store.getAt(i-1);if(j.shiftKey&&k.lastFocused){if(k.isSelected(k.lastFocused)&&k.isSelected(e)){k.doDeselect(k.lastFocused,true);k.setLastFocused(e)}else{if(!k.isSelected(k.lastFocused)){k.doSelect(k.lastFocused,true);k.doSelect(e,true)}else{k.doSelect(e,true)}}}else{if(j.ctrlKey){k.setLastFocused(e)}else{k.doSelect(e)
}}}},onKeyDown:function(j,l){var k=this,m=k.views[0],i=k.store.indexOf(k.lastFocused),e;if(i+1<k.store.getCount()){e=k.store.getAt(i+1);if(k.selected.getCount()===0){k.doSelect(e)}else{if(j.shiftKey&&k.lastFocused){if(k.isSelected(k.lastFocused)&&k.isSelected(e)){k.doDeselect(k.lastFocused,true);k.setLastFocused(e)}else{if(!k.isSelected(k.lastFocused)){k.doSelect(k.lastFocused,true);k.doSelect(e,true)}else{k.doSelect(e,true)}}}else{if(j.ctrlKey){k.setLastFocused(e)}else{k.doSelect(e)}}}}},scrollByDeltaX:function(h){var g=this.views[0],i=g.up(),e=i.horizontalScroller;if(e){e.scrollByDeltaX(h)}},onKeyLeft:function(c,d){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(c,d){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(e,h,j,k,i){e.el.focus();if(!this.allowRightMouseSelection(i)){return}this.selectWithEvent(h,i)},allowRightMouseSelection:function(d){var c=this.ignoreRightMouseSelection&&d.button!==0;if(c){c=this.hasSelection()}return !c},onSelectChange:function(s,v,n,x){var q=this,i=q.views,u=i.length,p=q.store,w=p.indexOf(s),r=v?"select":"deselect",t=0;if((n||q.fireEvent("before"+r,q,s,w))!==false&&x()!==false){for(;t<u;t++){if(v){i[t].onRowSelect(w,n)}else{i[t].onRowDeselect(w,n)}}if(!n){q.fireEvent(r,q,s,w)}}},onLastFocusChanged:function(l,q,i){var k=this.views,m=k.length,r=this.store,n,p=0;if(l){n=r.indexOf(l);if(n!=-1){for(;p<m;p++){k[p].onRowFocus(n,false)}}}if(q){n=r.indexOf(q);if(n!=-1){for(p=0;p<m;p++){k[p].onRowFocus(n,true,i)}}}},onEditorTab:function(m,p){var n=this,l=n.views[0],r=m.getActiveRecord(),s=m.getActiveColumn(),q=l.getPosition(r,s),e=p.shiftKey?"left":"right",t=l.walkCells(q,e,p,this.preventWrap);if(t){m.startEditByPosition(t)}},selectByPosition:function(d){var c=this.store.getAt(d.row);this.select(c)}});Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:false,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",bindComponent:function(d){var c=this;c.sortable=false;c.callParent(arguments);if(!c.hasLockedHeader()||d.headerCt.lockedCt){d.headerCt.on("headerclick",c.onHeaderClick,c);c.addCheckbox(true);c.mon(d.ownerCt,"reconfigure",c.addCheckbox,c)}},hasLockedHeader:function(){var b=false;Ext.each(this.views,function(a){if(a.headerCt.lockedCt){b=true;return false}});return b},addCheckbox:function(g){var k=this,j=k.injectCheckbox,h=k.views[0],i=h.headerCt;if(j!==false){if(j=="first"){j=0}else{if(j=="last"){j=i.getColumnCount()}}i.add(j,k.getHeaderConfig())}if(g!==true){h.refresh()}},toggleUiHeader:function(h){var g=this.views[0],i=g.headerCt,e=i.child("gridcolumn[isCheckerHd]");if(e){if(h){e.el.addCls(this.checkerOnCls)}else{e.el.removeCls(this.checkerOnCls)}}},onHeaderClick:function(e,h,g){if(h.isCheckerHd){g.stopEvent();var i=h.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");if(i){this.deselectAll(true)}else{this.selectAll(true)}}},getHeaderConfig:function(){var b=this;return{isCheckerHd:true,text:"&#160;",width:b.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:Ext.baseCSSPrefix+"column-header-checkbox ",renderer:Ext.Function.bind(b.renderer,b),locked:b.hasLockedHeader()}},renderer:function(l,p,i,k,m,n,j){p.tdCls=Ext.baseCSSPrefix+"grid-cell-special";return'<div class="'+Ext.baseCSSPrefix+'grid-row-checker">&#160;</div>'},onRowMouseDown:function(e,k,n,q,m){e.el.focus();var p=this,r=m.getTarget("."+Ext.baseCSSPrefix+"grid-row-checker");if(!p.allowRightMouseSelection(m)){return}if(p.checkOnly&&!r){return}if(r){var l=p.getSelectionMode();if(l!=="SINGLE"){p.setSelectionMode("SIMPLE")}p.selectWithEvent(k,m);p.setSelectionMode(l)}else{p.selectWithEvent(k,m)}},onSelectChange:function(){this.callParent(arguments);var b=this.selected.getCount()===this.store.getCount();this.toggleUiHeader(b)}});Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",pruneRemoved:false,onKeyRight:function(h,e){var i=this.getLastFocused(),g=this.view;if(i){if(i.isExpanded()){this.onKeyDown(h,e)}else{if(!i.isLeaf()){g.expand(i)
}}}},onKeyLeft:function(k,n){var l=this.getLastFocused(),p=this.view,e=p.getSelectionModel(),j,m;if(l){j=l.parentNode;if(l.isExpanded()){p.collapse(l)}else{if(j&&!j.isRoot()){if(k.shiftKey){e.selectRange(j,l,k.ctrlKey,"up");e.setLastFocused(j)}else{if(k.ctrlKey){e.setLastFocused(j)}else{e.select(j)}}}}}},onKeyPress:function(i,e){var h=i.getKey(),k,j;if(h===i.SPACE||h===i.ENTER){i.stopEvent();k=this.getLastSelected();if(k){this.view.onCheckChange(k)}}else{this.callParent(arguments)}}});Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],topZIndex:10000,constructor:function(d){var c=this;Ext.apply(c,d||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:false});c.callParent([d]);if(c.slider.vertical){Ext.apply(c,Ext.slider.Thumb.Vertical)}},render:function(){var b=this;b.el=b.slider.innerEl.insertFirst({cls:b.cls});if(b.disabled){b.disable()}b.initEvents()},move:function(c,d){if(!d){this.el.setLeft(c)}else{Ext.create("Ext.fx.Anim",{target:this.el,duration:350,to:{left:c}})}},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var b=this;b.disabled=false;if(b.el){b.el.removeCls(b.slider.disabledCls)}},disable:function(){var b=this;b.disabled=true;if(b.el){b.el.addCls(b.slider.disabledCls)}},initEvents:function(){var c=this,d=c.el;c.tracker=Ext.create("Ext.dd.DragTracker",{onBeforeStart:Ext.Function.bind(c.onBeforeDragStart,c),onStart:Ext.Function.bind(c.onDragStart,c),onDrag:Ext.Function.bind(c.onDrag,c),onEnd:Ext.Function.bind(c.onDragEnd,c),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"});c.tracker.initEl(d)},onBeforeDragStart:function(b){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(c){var d=this;d.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag");d.dragging=true;d.dragStartValue=d.value;d.slider.fireEvent("dragstart",d.slider,c,d)},onDrag:function(l){var n=this,p=n.slider,e=n.index,m=n.getNewValue(),j,k;if(n.constrain){j=p.thumbs[e+1];k=p.thumbs[e-1];if(k!==undefined&&m<=k.value){m=k.value}if(j!==undefined&&m>=j.value){m=j.value}}p.setValue(e,m,false);p.fireEvent("drag",p,l,n)},getNewValue:function(){var d=this.slider,c=d.innerEl.translatePoints(this.tracker.getXY());return Ext.util.Format.round(d.reverseValue(c.left),d.decimalPrecision)},onDragEnd:function(h){var e=this,g=e.slider,i=e.value;e.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag");e.dragging=false;g.fireEvent("dragend",g,h);if(e.dragStartValue!=i){g.fireEvent("changecomplete",g,i,e)}},destroy:function(){Ext.destroy(this.tracker)},statics:{Vertical:{getNewValue:function(){var e=this.slider,i=e.innerEl,h=i.translatePoints(this.tracker.getXY()),g=i.getHeight()-h.top;return Ext.util.Format.round(e.reverseValue(g),e.decimalPrecision)},move:function(c,d){if(!d){this.el.setBottom(c)}else{Ext.create("Ext.fx.Anim",{target:this.el,duration:350,to:{bottom:c}})}}}}});Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:[0,-10],isSliderTip:true,init:function(c){var d=this;c.on({scope:d,dragstart:d.onSlide,drag:d.onSlide,dragend:d.hide,destroy:d.destroy})},onSlide:function(i,h,g){var e=this;e.show();e.update(e.getText(g));e.doComponentLayout();e.el.alignTo(g.el,"b-t?",e.offsets)},getText:function(b){return String(b.value)}});Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template","Ext.layout.component.field.Slider"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+'slider {fieldCls} {vertical}" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">','<a id="{cmpId}-focusEl" class="'+Ext.baseCSSPrefix+'slider-focus" href="#" tabIndex="-1" hidefocus="on" role="presentation"></a>',"</div>","</div>","</div>",{disableFormats:true,compiled:true}],vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,componentLayout:"sliderfield",useTips:true,tipText:null,ariaRole:"slider",initValue:function(){var i=this,k=Ext.value,g=k(i.values,[k(i.value,k(i.minValue,0))]),j=0,h=g.length;
i.originalValue=g;for(;j<h;j++){i.addThumb(g[j])}},initComponent:function(){var g=this,e,d;g.thumbs=[];g.keyIncrement=Math.max(g.increment,g.keyIncrement);g.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(g.vertical){Ext.apply(g,Ext.slider.Multi.Vertical)}g.callParent();if(g.useTips){e=g.tipText?{getText:g.tipText}:{};g.plugins=g.plugins||[];Ext.each(g.plugins,function(a){if(a.isSliderTip){d=true;return false}});if(!d){g.plugins.push(Ext.create("Ext.slider.Tip",e))}}},addThumb:function(g){var d=this,e=Ext.create("Ext.slider.Thumb",{value:g,slider:d,index:d.thumbs.length,constrain:d.constrainThumbs});d.thumbs.push(e);if(d.rendered){e.render()}return e},promoteThumb:function(m){var i=this.thumbs,k=i.length,j,h,l;for(l=0;l<k;l++){h=i[l];if(h==m){h.bringToFront()}else{h.sendToBack()}}},onRender:function(){var i=this,j=0,g=i.thumbs,h=g.length,k;Ext.applyIf(i.subTplData,{vertical:i.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:i.minValue,maxValue:i.maxValue,value:i.value});i.addChildEls("endEl","innerEl","focusEl");i.callParent(arguments);for(;j<h;j++){g[j].render()}k=i.innerEl.down("."+Ext.baseCSSPrefix+"slider-thumb");i.halfThumb=(i.vertical?k.getHeight():k.getWidth())/2},onChange:function(c,d){this.setValue(d,undefined,true)},initEvents:function(){var b=this;b.mon(b.el,{scope:b,mousedown:b.onMouseDown,keydown:b.onKeyDown,change:b.onChange});b.focusEl.swallowEvent("click",true)},onMouseDown:function(k){var m=this,l=false,n=0,e=m.thumbs,i=e.length,p;if(m.disabled){return}for(;n<i;n++){l=l||k.target==e[n].el.dom}if(m.clickToChange&&!l){p=m.innerEl.translatePoints(k.getXY());m.onClickChange(p)}m.focus()},onClickChange:function(i){var h=this,g,e;if(i.top>h.clickRange[0]&&i.top<h.clickRange[1]){g=h.getNearest(i,"left");if(!g.disabled){e=g.index;h.setValue(e,Ext.util.Format.round(h.reverseValue(i.left),h.decimalPrecision),undefined,true)}}},getNearest:function(s,C){var u=this,i=C=="top"?u.innerEl.getHeight()-s[C]:s[C],w=u.reverseValue(i),t=(u.maxValue-u.minValue)+5,y=0,B=null,x=u.thumbs,A=0,z=x.length,D,r,v;for(;A<z;A++){D=u.thumbs[A];r=D.value;v=Math.abs(r-w);if(Math.abs(v<=t)){B=D;y=A;t=v}}return B},onKeyDown:function(i){var e=this,g,h;if(e.disabled||e.thumbs.length!==1){i.preventDefault();return}g=i.getKey();switch(g){case i.UP:case i.RIGHT:i.stopEvent();h=i.ctrlKey?e.maxValue:e.getValue(0)+e.keyIncrement;e.setValue(0,h,undefined,true);break;case i.DOWN:case i.LEFT:i.stopEvent();h=i.ctrlKey?e.minValue:e.getValue(0)-e.keyIncrement;e.setValue(0,h,undefined,true);break;default:i.preventDefault()}},afterRender:function(){var j=this,k=0,h=j.thumbs,i=h.length,l,m;j.callParent(arguments);for(;k<i;k++){l=h[k];if(l.value!==undefined){m=j.normalizeValue(l.value);if(m!==l.value){j.setValue(k,m,false)}else{l.move(j.translateValue(m),false)}}}},getRatio:function(){var d=this.innerEl.getWidth(),c=this.maxValue-this.minValue;return c===0?d:(d/c)},normalizeValue:function(d){var c=this;d=Ext.Number.snap(d,this.increment,this.minValue,this.maxValue);d=Ext.util.Format.round(d,c.decimalPrecision);d=Ext.Number.constrain(d,c.minValue,c.maxValue);return d},setMinValue:function(j){var k=this,l=0,h=k.thumbs,i=h.length,m;k.minValue=j;if(k.rendered){k.inputEl.dom.setAttribute("aria-valuemin",j)}for(;l<i;++l){m=h[l];m.value=m.value<j?j:m.value}k.syncThumbs()},setMaxValue:function(j){var k=this,l=0,h=k.thumbs,i=h.length,m;k.maxValue=j;if(k.rendered){k.inputEl.dom.setAttribute("aria-valuemax",j)}for(;l<i;++l){m=h[l];m.value=m.value>j?j:m.value}k.syncThumbs()},setValue:function(m,j,h,k){var l=this,i=l.thumbs[m];j=l.normalizeValue(j);if(j!==i.value&&l.fireEvent("beforechange",l,j,i.value,i)!==false){i.value=j;if(l.rendered){l.inputEl.set({"aria-valuenow":j,"aria-valuetext":j});i.move(l.translateValue(j),Ext.isDefined(h)?h!==false:l.animate);l.fireEvent("change",l,j,i);if(k){l.fireEvent("changecomplete",l,j,i)}}}},translateValue:function(d){var c=this.getRatio();return(d*c)-(this.minValue*c)-this.halfThumb},reverseValue:function(c){var d=this.getRatio();return(c+(this.minValue*d))/d},focus:function(){this.focusEl.focus(10)
},onDisable:function(){var l=this,n=0,i=l.thumbs,j=i.length,p,m,k;l.callParent();for(;n<j;n++){p=i[n];m=p.el;p.disable();if(Ext.isIE){k=m.getXY();m.hide();l.innerEl.addCls(l.disabledCls).dom.disabled=true;if(!l.thumbHolder){l.thumbHolder=l.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+l.disabledCls})}l.thumbHolder.show().setXY(k)}}},onEnable:function(){var j=this,l=0,h=j.thumbs,i=h.length,m,k;this.callParent();for(;l<i;l++){m=h[l];k=m.el;m.enable();if(Ext.isIE){j.innerEl.removeCls(j.disabledCls).dom.disabled=false;if(j.thumbHolder){j.thumbHolder.hide()}k.show();j.syncThumbs()}}},syncThumbs:function(){if(this.rendered){var e=this.thumbs,g=e.length,d=0;for(;d<g;d++){e[d].move(this.translateValue(e[d].value))}}},getValue:function(b){return Ext.isNumber(b)?this.thumbs[b].value:this.getValues()},getValues:function(){var i=[],h=0,e=this.thumbs,g=e.length;for(;h<g;h++){i.push(e[h].value)}return i},getSubmitValue:function(){var b=this;return(b.disabled||!b.submitValue)?null:b.getValue()},reset:function(){var c=this,d=Ext.Array;d.forEach(d.from(c.originalValue),function(a,b){c.setValue(b,a)});c.clearInvalid();delete c.wasValid},beforeDestroy:function(){var b=this;Ext.destroy(b.innerEl,b.endEl,b.focusEl);Ext.each(b.thumbs,function(a){Ext.destroy(a)},b);b.callParent()},statics:{Vertical:{getRatio:function(){var c=this.innerEl.getHeight(),d=this.maxValue-this.minValue;return c/d},onClickChange:function(j){var i=this,g,k,h;if(j.left>i.clickRange[0]&&j.left<i.clickRange[1]){g=i.getNearest(j,"top");if(!g.disabled){k=g.index;h=i.reverseValue(i.innerEl.getHeight()-j.top);i.setValue(k,Ext.util.Format.round(i.minValue+h,i.decimalPrecision),undefined,true)}}}}}});Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(h,e){var i=Ext.toArray(arguments),g=i.length;if(g==1||(g<=3&&typeof arguments[1]!="number")){i.unshift(0)}return this.callParent(i)},getNearest:function(){return this.thumbs[0]}});Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.layout.component.Tab","Ext.util.KeyNav"],componentLayout:"tab",isTab:true,baseCls:Ext.baseCSSPrefix+"tab",activeCls:"active",closableCls:"closable",closable:true,closeText:"Close Tab",active:false,scale:false,position:"top",initComponent:function(){var b=this;b.addEvents("activate","deactivate","beforeclose","close");b.callParent(arguments);if(b.card){b.setCard(b.card)}},onRender:function(){var d=this,e=d.up("tabbar"),g=d.up("tabpanel");d.addClsWithUI(d.position);d.syncClosableUI();if(!d.minWidth){d.minWidth=(e)?e.minTabWidth:d.minWidth;if(!d.minWidth&&g){d.minWidth=g.minTabWidth}if(d.minWidth&&d.iconCls){d.minWidth+=25}}if(!d.maxWidth){d.maxWidth=(e)?e.maxTabWidth:d.maxWidth;if(!d.maxWidth&&g){d.maxWidth=g.maxTabWidth}}d.callParent(arguments);if(d.active){d.activate(true)}d.syncClosableElements();d.keyNav=Ext.create("Ext.util.KeyNav",d.el,{enter:d.onEnterKey,del:d.onDeleteKey,scope:d})},enable:function(d){var c=this;c.callParent(arguments);c.removeClsWithUI(c.position+"-disabled");return c},disable:function(d){var c=this;c.callParent(arguments);c.addClsWithUI(c.position+"-disabled");return c},onDestroy:function(){var b=this;if(b.closeEl){b.closeEl.un("click",Ext.EventManager.preventDefault);b.closeEl=null}Ext.destroy(b.keyNav);delete b.keyNav;b.callParent(arguments)},setClosable:function(d){var c=this;d=(!arguments.length||!!d);if(c.closable!=d){c.closable=d;if(c.card){c.card.closable=d}c.syncClosableUI();if(c.rendered){c.syncClosableElements();c.doComponentLayout();if(c.ownerCt){c.ownerCt.doLayout()}}}},syncClosableElements:function(){var d=this;if(d.closable){if(!d.closeEl){d.closeEl=d.el.createChild({tag:"a",cls:d.baseCls+"-close-btn",href:"#",title:d.closeText}).on("click",Ext.EventManager.preventDefault)}}else{var c=d.closeEl;if(c){c.un("click",Ext.EventManager.preventDefault);c.remove();d.closeEl=null}}},syncClosableUI:function(){var c=this,d=[c.closableCls,c.closableCls+"-"+c.position];
if(c.closable){c.addClsWithUI(d)}else{c.removeClsWithUI(d)}},setCard:function(d){var c=this;c.card=d;c.setText(c.title||d.title);c.setIconCls(c.iconCls||d.iconCls)},onCloseClick:function(){var b=this;if(b.fireEvent("beforeclose",b)!==false){if(b.tabBar){if(b.tabBar.closeTab(b)===false){return}}else{b.fireEvent("close",b)}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(c){var d=this;if(d.tabBar){d.tabBar.onClick(c,d.el)}},onDeleteKey:function(c){var d=this;if(d.closable){d.onCloseClick()}},activate:function(c){var d=this;d.active=true;d.addClsWithUI([d.activeCls,d.position+"-"+d.activeCls]);if(c!==true){d.fireEvent("activate",d)}},deactivate:function(c){var d=this;d.active=false;d.removeClsWithUI([d.activeCls,d.position+"-"+d.activeCls]);if(c!==true){d.fireEvent("deactivate",d)}}});Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Header",alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab","Ext.FocusManager"],isTabBar:true,defaultType:"tab",plain:false,renderTpl:['<div id="{id}-body" class="{baseCls}-body <tpl if="bodyCls"> {bodyCls}</tpl> <tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>','<div id="{id}-strip" class="{baseCls}-strip<tpl if="ui"> {baseCls}-strip-{ui}<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl></tpl>"></div>'],initComponent:function(){var c=this,d;if(c.plain){c.setUI(c.ui+"-plain")}c.addClsWithUI(c.dock);c.addEvents("change");c.addChildEls("body","strip");c.callParent(arguments);c.layout.align=(c.orientation=="vertical")?"left":"top";c.layout.overflowHandler=Ext.create("Ext.layout.container.boxOverflow.Scroller",c.layout);c.remove(c.titleCmp);delete c.titleCmp;d=c.orientation=="vertical"?["up","down"]:["left","right"];Ext.FocusManager.subscribe(c,{keys:d});Ext.apply(c.renderData,{bodyCls:c.bodyCls})},onAdd:function(b){b.position=this.dock;this.callParent(arguments)},onRemove:function(d){var c=this;if(d===c.previousTab){c.previousTab=null}if(c.items.getCount()===0){c.activeTab=null}c.callParent(arguments)},afterRender:function(){var b=this;b.mon(b.el,{scope:b,click:b.onClick,delegate:"."+Ext.baseCSSPrefix+"tab"});b.callParent(arguments)},afterComponentLayout:function(){var b=this;b.callParent(arguments);b.strip.setWidth(b.el.getWidth())},onClick:function(i,e){var g=Ext.getCmp(e.id),h=this.tabPanel;e=i.getTarget();if(g&&g.isDisabled&&!g.isDisabled()){if(g.closable&&e===g.closeEl.dom){g.onCloseClick()}else{if(h){h.setActiveTab(g.card)}else{this.setActiveTab(g)}g.focus()}}},closeTab:function(k){var j=this,g=k.card,i=j.tabPanel,h;if(g&&g.fireEvent("beforeclose",g)===false){return false}if(k.active&&j.items.getCount()>1){h=j.previousTab||k.next("tab")||j.items.first();j.setActiveTab(h);if(i){i.setActiveTab(h.card)}}k.fireClose();j.remove(k);if(i&&g){g.fireEvent("close",g);i.remove(g)}if(h){h.focus()}},setActiveTab:function(d){if(d.disabled){return}var c=this;if(c.activeTab){c.previousTab=c.activeTab;c.activeTab.deactivate()}d.activate();if(c.rendered){c.layout.layout();d.el&&d.el.scrollIntoView(c.layout.getRenderTarget())}c.activeTab=d;c.fireEvent("change",c,d,d.card)}});Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],tabPosition:"top",removePanelHeader:true,plain:false,itemCls:"x-tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,initComponent:function(){var g=this,d=g.dockedItems||[],e=g.activeTab||0;g.layout=Ext.create("Ext.layout.container.Card",Ext.apply({owner:g,deferredRender:g.deferredRender,itemCls:g.itemCls},g.layout));g.tabBar=Ext.create("Ext.tab.Bar",Ext.apply({},g.tabBar,{dock:g.tabPosition,plain:g.plain,border:g.border,cardLayout:g.layout,tabPanel:g}));if(d&&!Ext.isArray(d)){d=[d]}d.push(g.tabBar);g.dockedItems=d;g.addEvents("beforetabchange","tabchange");g.callParent(arguments);g.setActiveTab(e);g.on("afterlayout",g.afterInitialLayout,g,{single:true})},afterInitialLayout:function(){var c=this,d=c.getComponent(c.activeTab);
if(d){c.layout.setActiveItem(d)}},setActiveTab:function(e){var g=this,d;e=g.getComponent(e);if(e){d=g.getActiveTab();if(d&&d!==e&&g.fireEvent("beforetabchange",g,e,d)===false){return false}g.tabBar.setActiveTab(e.tab);g.activeTab=e;if(g.rendered){g.layout.setActiveItem(e)}if(d&&d!==e){g.fireEvent("tabchange",g,e,d)}}},getActiveTab:function(){return this.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(i,k){var j=this,g=i.tabConfig||{},h={xtype:"tab",card:i,disabled:i.disabled,closable:i.closable,hidden:i.hidden,tabBar:j.tabBar};if(i.closeText){h.closeText=i.closeText}g=Ext.applyIf(g,h);i.tab=j.tabBar.insert(k,g);i.on({scope:j,enable:j.onItemEnable,disable:j.onItemDisable,beforeshow:j.onItemBeforeShow,iconchange:j.onItemIconChange,titlechange:j.onItemTitleChange});if(i.isPanel){if(j.removePanelHeader){i.preventHeader=true;if(i.rendered){i.updateHeader()}}if(i.isPanel&&j.border){i.setBorder(false)}}if(this.rendered&&j.items.getCount()===1){j.setActiveTab(0)}},onItemEnable:function(b){b.tab.enable()},onItemDisable:function(b){b.tab.disable()},onItemBeforeShow:function(b){if(b!==this.activeTab){this.setActiveTab(b);return false}},onItemIconChange:function(c,d){c.tab.setIconCls(d);this.getTabBar().doLayout()},onItemTitleChange:function(d,c){d.tab.setText(c);this.getTabBar().doLayout()},doRemove:function(j,g){var k=this,h=k.items,i=h.getCount()>1;if(k.destroying||!i){k.activeTab=null}else{if(j===k.activeTab){k.setActiveTab(j.next()||h.getAt(0))}}k.callParent(arguments);delete j.tab.card;delete j.tab},onRemove:function(g,e){var d=this;g.un({scope:d,enable:d.onItemEnable,disable:d.onItemDisable,beforeshow:d.onItemBeforeShow});if(!d.destroying&&g.tab.ownerCt==d.tabBar){d.tabBar.remove(g.tab)}}});Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:false});Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",initComponent:function(){var d=this.renderer||this.defaultRenderer,c=this.scope||window;this.renderer=function(E,C,L,M,F,J,G){var y=[],A=Ext.String.format,b=L.getDepth(),z=Ext.baseCSSPrefix+"tree-",K=z+"elbow-",D=z+"expander",H='<img src="{1}" class="{0}" />',a='<input type="button" role="checkbox" class="{0}" {1} />',I=d.apply(c,arguments),B=L.get("href"),x=L.get("hrefTarget"),N=L.get("cls");while(L){if(!L.isRoot()||(L.isRoot()&&G.rootVisible)){if(L.getDepth()===b){y.unshift(A(H,z+"icon "+z+"icon"+(L.get("icon")?"-inline ":(L.isLeaf()?"-leaf ":"-parent "))+(L.get("iconCls")||""),L.get("icon")||Ext.BLANK_IMAGE_URL));if(L.get("checked")!==null){y.unshift(A(a,(z+"checkbox")+(L.get("checked")?" "+z+"checkbox-checked":""),L.get("checked")?'aria-checked="true"':""));if(L.get("checked")){C.tdCls+=(" "+z+"checked")}}if(L.isLast()){if(L.isExpandable()){y.unshift(A(H,(K+"end-plus "+D),Ext.BLANK_IMAGE_URL))}else{y.unshift(A(H,(K+"end"),Ext.BLANK_IMAGE_URL))}}else{if(L.isExpandable()){y.unshift(A(H,(K+"plus "+D),Ext.BLANK_IMAGE_URL))}else{y.unshift(A(H,(z+"elbow"),Ext.BLANK_IMAGE_URL))}}}else{if(L.isLast()||L.getDepth()===0){y.unshift(A(H,(K+"empty"),Ext.BLANK_IMAGE_URL))}else{if(L.getDepth()!==0){y.unshift(A(H,(K+"line"),Ext.BLANK_IMAGE_URL))}}}}L=L.parentNode}if(B){y.push('<a href="',B,'" target="',x,'">',I,"</a>")}else{y.push(I)}if(N){C.tdCls+=" "+N}return y.join("")};this.callParent(arguments)},defaultRenderer:function(b){return b}});Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:true,rootVisible:true,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,initComponent:function(){var b=this;if(b.initialConfig.animate===undefined){b.animate=Ext.enableFx}b.store=Ext.create("Ext.data.NodeStore",{recursive:true,rootVisible:b.rootVisible,listeners:{beforeexpand:b.onBeforeExpand,expand:b.onExpand,beforecollapse:b.onBeforeCollapse,collapse:b.onCollapse,scope:b}});
if(b.node){b.setRootNode(b.node)}b.animQueue={};b.callParent(arguments)},processUIEvent:function(b){if(b.getTarget("."+this.nodeAnimWrapCls,this.el)){return false}return this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(c){var d=this;d.store.setNode(c);d.node=c;if(!d.rootVisible){c.expand()}},onRender:function(){var c=this,d;c.callParent(arguments);d=c.el;d.on({scope:c,delegate:c.expanderSelector,mouseover:c.onExpanderMouseOver,mouseout:c.onExpanderMouseOut});d.on({scope:c,delegate:c.checkboxSelector,click:c.onCheckboxChange})},onCheckboxChange:function(h,g){var i=this,e=h.getTarget(i.getItemSelector(),i.getTargetEl());if(e){i.onCheckChange(i.getRecord(e))}},onCheckChange:function(d){var c=d.get("checked");if(Ext.isBoolean(c)){c=!c;d.set("checked",c);this.fireEvent("checkchange",d,c)}},getChecked:function(){var b=[];this.node.cascadeBy(function(a){if(a.get("checked")){b.push(a)}});return b},isItemChecked:function(b){return b.get("checked")},createAnimWrap:function(q,p){var s="",t=this.panel.headerCt,w=t.getGridColumns(),r=0,n=w.length,i,u=this.getNode(q),x,v;for(;r<n;r++){i=w[r];s+='<th style="width: '+(i.hidden?0:i.getDesiredWidth())+'px; height: 0px;"></th>'}v=Ext.get(u);x=v.insertSibling({tag:"tr",html:['<td colspan="'+t.getColumnCount()+'">','<div class="'+this.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+'grid-table" style="width: '+t.getFullWidth()+'px;"><tbody>',s,"</tbody></table>","</div>","</td>"].join("")},"after");return{record:q,node:u,el:x,expanding:false,collapsing:false,animating:false,animateEl:x.down("div"),targetEl:x.down("tbody")}},getAnimWrap:function(b){if(!this.animate){return null}while(b){if(b.animWrap){return b.animWrap}b=b.parentNode}return null},doAdd:function(z,x,t){var s=this,v=x[0],q=v.parentNode,r=s.all.elements,a=0,w=s.getAnimWrap(q),p,y,u;if(!w||!w.expanding){s.resetScrollers();return s.callParent(arguments)}q=w.record;p=w.targetEl;y=p.dom.childNodes;u=y.length-1;a=t-s.indexOf(q)-1;if(!u||a>=u){p.appendChild(z)}else{Ext.fly(y[a+1]).insertSibling(z,"before",true)}Ext.Array.insert(r,t,z);if(w.isAnimating){s.onExpand(q)}},beginBulkUpdate:function(){this.bulkUpdate=true;this.ownerCt.changingScrollbars=true},endBulkUpdate:function(){var c=this,d=c.ownerCt;c.bulkUpdate=false;c.ownerCt.changingScrollbars=true;c.resetScrollers()},onRemove:function(i,h,g){var j=this,k=j.bulkUpdate;j.doRemove(h,g);if(!k){j.updateIndexes(g)}if(j.store.getCount()===0){j.refresh()}if(!k){j.fireEvent("itemremove",h,g)}},doRemove:function(j,p){var k=this,m=j.parentNode,n=k.all,i=k.getAnimWrap(j),l=n.item(p).dom;if(!i||!i.collapsing){k.resetScrollers();return k.callParent(arguments)}i.targetEl.appendChild(l);n.removeElement(p)},onBeforeExpand:function(j,g,k){var i=this,h;if(!i.rendered||!i.animate){return}if(i.getNode(j)){h=i.getAnimWrap(j);if(!h){h=j.animWrap=i.createAnimWrap(j);h.animateEl.setHeight(0)}else{if(h.collapsing){h.targetEl.select(i.itemSelector).remove()}}h.expanding=true;h.collapsing=false}},onExpand:function(r){var q=this,k=q.animQueue,l=r.getId(),j,p,n,m;if(q.singleExpand){q.ensureSingleExpand(r)}j=q.getAnimWrap(r);if(!j){q.resetScrollers();return}p=j.animateEl;n=j.targetEl;p.stopAnimation();k[l]=true;p.slideIn("t",{duration:q.expandDuration,listeners:{scope:q,lastframe:function(){j.el.insertSibling(n.query(q.itemSelector),"before");j.el.remove();q.resetScrollers();delete j.record.animWrap;delete k[l]}}});j.isAnimating=true},resetScrollers:function(){if(!this.bulkUpdate){var b=this.panel;b.determineScrollbars();b.invalidateScroller()}},onBeforeCollapse:function(j,g,k){var i=this,h;if(!i.rendered||!i.animate){return}if(i.getNode(j)){h=i.getAnimWrap(j);if(!h){h=j.animWrap=i.createAnimWrap(j,k)}else{if(h.expanding){h.targetEl.select(this.itemSelector).remove()}}h.expanding=false;h.collapsing=true}},onCollapse:function(p){var n=this,j=n.animQueue,k=p.getId(),i=n.getAnimWrap(p),m,l;if(!i){n.resetScrollers();return}m=i.animateEl;l=i.targetEl;j[k]=true;m.stopAnimation();m.slideOut("t",{duration:n.collapseDuration,listeners:{scope:n,lastframe:function(){i.el.remove();
delete i.record.animWrap;n.resetScrollers();delete j[k]}}});i.isAnimating=true},isAnimating:function(b){return !!this.animQueue[b.getId()]},collectData:function(p){var l=this.callParent(arguments),m=l.rows,j=m.length,n=0,k,i;for(;n<j;n++){k=m[n];i=p[n];if(i.get("qtip")){k.rowAttr='data-qtip="'+i.get("qtip")+'"';if(i.get("qtitle")){k.rowAttr+=' data-qtitle="'+i.get("qtitle")+'"'}}if(i.isExpanded()){k.rowCls=(k.rowCls||"")+" "+this.expandedCls}if(i.isLoading()){k.rowCls=(k.rowCls||"")+" "+this.loadingCls}}return l},expand:function(e,g,h,i){return e.expand(g,h,i)},collapse:function(e,g,h,i){return e.collapse(g,h,i)},toggle:function(b){this[b.isExpanded()?"collapse":"expand"](b)},onItemDblClick:function(e,g,d){this.callParent(arguments);if(this.toggleOnDblClick){this.toggle(e)}},onBeforeItemMouseDown:function(g,i,e,h){if(h.getTarget(this.expanderSelector,i)){return false}return this.callParent(arguments)},onItemClick:function(g,i,e,h){if(h.getTarget(this.expanderSelector,i)){this.toggle(g);return false}return this.callParent(arguments)},onExpanderMouseOver:function(c,d){c.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(c,d){c.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(c){var d=c.parentNode;if(d){d.eachChild(function(a){if(a!==c&&a.isExpanded()){a.collapse()}})}}});Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:false,lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],constructor:function(b){b=b||{};if(b.animate===undefined){b.animate=Ext.enableFx}this.enableAnimations=b.animate;delete b.animate;this.callParent([b])},initComponent:function(){var c=this,d=[c.treeCls];if(c.useArrows){d.push(Ext.baseCSSPrefix+"tree-arrows");c.lines=false}if(c.lines){d.push(Ext.baseCSSPrefix+"tree-lines")}else{if(!c.useArrows){d.push(Ext.baseCSSPrefix+"tree-no-lines")}}if(Ext.isString(c.store)){c.store=Ext.StoreMgr.lookup(c.store)}else{if(!c.store||Ext.isObject(c.store)&&!c.store.isStore){c.store=Ext.create("Ext.data.TreeStore",Ext.apply({},c.store||{},{root:c.root,fields:c.fields,model:c.model,folderSort:c.folderSort}))}else{if(c.root){c.store=Ext.data.StoreManager.lookup(c.store);c.store.setRootNode(c.root);if(c.folderSort!==undefined){c.store.folderSort=c.folderSort;c.store.sort()}}}}c.viewConfig=Ext.applyIf(c.viewConfig||{},{rootVisible:c.rootVisible,animate:c.enableAnimations,singleExpand:c.singleExpand,node:c.store.getRootNode(),hideHeaders:c.hideHeaders});c.mon(c.store,{scope:c,rootchange:c.onRootChange,clear:c.onClear});c.relayEvents(c.store,["beforeload","load"]);c.store.on({append:c.createRelayer("itemappend"),remove:c.createRelayer("itemremove"),move:c.createRelayer("itemmove"),insert:c.createRelayer("iteminsert"),beforeappend:c.createRelayer("beforeitemappend"),beforeremove:c.createRelayer("beforeitemremove"),beforemove:c.createRelayer("beforeitemmove"),beforeinsert:c.createRelayer("beforeiteminsert"),expand:c.createRelayer("itemexpand"),collapse:c.createRelayer("itemcollapse"),beforeexpand:c.createRelayer("beforeitemexpand"),beforecollapse:c.createRelayer("beforeitemcollapse")});if(!c.columns){if(c.initialConfig.hideHeaders===undefined){c.hideHeaders=true}c.columns=[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:c.displayField}]}if(c.cls){d.push(c.cls)}c.cls=d.join(" ");c.callParent();c.relayEvents(c.getView(),["checkchange"]);if(!c.getView().rootVisible&&!c.getRootNode()){c.setRootNode({expanded:true})}},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)
},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(b){this.view.setRootNode(b)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(b){return b.get("checked")},expandAll:function(i,j){var g=this.getRootNode(),k=this.enableAnimations,h=this.getView();if(g){if(!k){h.beginBulkUpdate()}g.expand(true,i,j);if(!k){h.endBulkUpdate()}}},collapseAll:function(i,j){var g=this.getRootNode(),k=this.enableAnimations,h=this.getView();if(g){if(!k){h.beginBulkUpdate()}if(h.rootVisible){g.collapse(true,i,j)}else{g.collapseChildren(true,i,j)}if(!k){h.endBulkUpdate()}}},expandPath:function(m,s,x,r,n){var u=this,v=u.getRootNode(),w=1,t=u.getView(),p,q;s=s||u.getRootNode().idProperty;x=x||"/";if(Ext.isEmpty(m)){Ext.callback(r,n||u,[false,null]);return}p=m.split(x);if(v.get(s)!=p[1]){Ext.callback(r,n||u,[false,v]);return}q=function(){if(++w===p.length){Ext.callback(r,n||u,[true,v]);return}var a=v.findChild(s,p[w]);if(!a){Ext.callback(r,n||u,[false,v]);return}v=a;v.expand(false,q)};v.expand(false,q)},selectPath:function(m,n,p,l,k){var q=this,r,j;n=n||q.getRootNode().idProperty;p=p||"/";r=m.split(p);j=r.pop();q.expandPath(r.join(p),n,p,function(a,b){var c=false;if(a&&b){b=b.findChild(n,j);if(b){q.getSelectionModel().select(b);Ext.callback(l,k||q,[true,b]);c=true}}else{if(b===q.getRootNode()){c=true}}Ext.callback(l,k||q,[c,b])},q)}});Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:false,constructor:function(d){var c=this;Ext.apply(c,d);if(!c.ddGroup){c.ddGroup="view-dd-zone-"+c.view.id}c.callParent([c.view.el.dom.parentNode]);c.ddel=Ext.get(document.createElement("div"));c.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(g,e,d){this.initTarget(g,e,d);this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onItemMouseDown:function(e,h,j,k,i){if(!this.isPreventDrag(i,h,j,k)){this.handleMouseDown(i);if(e.getSelectionModel().selectionMode=="MULTI"&&!i.ctrlKey&&e.getSelectionModel().isSelected(h)){return false}}},isPreventDrag:function(b){return false},getDragData:function(j){var m=this.view,k=j.getTarget(m.getItemSelector()),e,i,l;if(k){e=m.getRecord(k);i=m.getSelectionModel();l=i.getSelection();return{copy:this.view.copy||(this.view.allowCopy&&j.ctrlKey),event:new Ext.EventObjectImpl(j),view:m,ddel:this.ddel,item:k,records:l,fromPosition:Ext.fly(k).getXY()}}},onInitDrag:function(e,l){var p=this,n=p.dragData,q=n.view,k=q.getSelectionModel(),r=q.getRecord(n.item),m=n.event;if(!k.isSelected(r)||m.hasModifier()){k.selectWithEvent(r,m,true)}n.records=k.getSelection();p.ddel.update(p.getDragText());p.proxy.update(p.ddel.dom);p.onStartDrag(e,l);return true},getDragText:function(){var b=this.dragData.records.length;return Ext.String.format(this.dragText,b,b==1?"":"s")},getRepairXY:function(c,d){return d?d.fromPosition:false}});Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(c,d){return(d.get("allowDrag")===false)||!!c.getTarget(this.view.expanderSelector)},afterRepair:function(){var j=this,h=j.view,i=h.selectedItemCls,g=j.dragData.records,k=Ext.fly;if(Ext.enableFx&&j.repairHighlight){Ext.Array.forEach(g,function(b){var a=h.getNode(b);k(a.firstChild).highlight(j.repairHighlightColor,{listeners:{beforeanimate:function(){if(h.isSelected(a)){k(a).removeCls(i)}},afteranimate:function(){if(h.isSelected(a)){k(a).addCls(i)}}}})})}j.dragging=false}});Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,expandDelay:500,indicatorCls:"x-tree-ddindicator",expandNode:function(c){var d=this.view;if(!c.isLeaf()&&!c.isExpanded()){d.expand(c);this.expandProcId=false}},queueExpand:function(b){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[b])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},getPosition:function(p,s){var l=this.view,r=l.getRecord(s),n=p.getPageY(),e=r.isLeaf(),t=false,m=Ext.fly(s).getRegion(),q;if(r.isRoot()){return"append"}if(this.appendOnly){return e?false:"append"
}if(!this.allowParentInsert){t=r.hasChildNodes()&&r.isExpanded()}q=(m.bottom-m.top)/(e?2:3);if(n>=m.top&&n<(m.top+q)){return"before"}else{if(!t&&(e||(n>=(m.bottom-q)&&n<=m.bottom))){return"after"}else{return"append"}}},isValidDropPoint:function(y,t,i,s,v){if(!y||!v.item){return false}var e=this.view,r=e.getRecord(y),w=v.records,z=w.length,q=w.length,x,u;if(!(r&&t&&z)){return false}for(x=0;x<q;x++){u=w[x];if(u.isNode&&u.contains(r)){return false}}if(t==="append"&&r.get("allowDrop")===false){return false}else{if(t!="append"&&r.parentNode.get("allowDrop")===false){return false}}if(Ext.Array.contains(w,r)){return false}return true},onNodeOver:function(x,r,t,v){var u=this.getPosition(t,x),w=this.dropNotAllowed,q=this.view,s=q.getRecord(x),p=this.getIndicator(),e=0,n=0;this.cancelExpand();if(u=="append"&&!this.expandProcId&&!Ext.Array.contains(v.records,s)&&!s.isLeaf()&&!s.isExpanded()){this.queueExpand(s)}if(this.isValidDropPoint(x,u,r,t,v)){this.valid=true;this.currentPosition=u;this.overRecord=s;p.setWidth(Ext.fly(x).getWidth());n=Ext.fly(x).getY()-Ext.fly(q.el).getY()-1;if(u=="before"){w=s.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between";p.showAt(0,n);r.proxy.show()}else{if(u=="after"){w=s.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between";n+=Ext.fly(x).getHeight();p.showAt(0,n);r.proxy.show()}else{w=Ext.baseCSSPrefix+"tree-drop-ok-append";p.hide()}}}else{this.valid=false}this.currentCls=w;return w},onContainerOver:function(e,g,d){return g.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments);this.cancelExpand()},handleNodeDrop:function(D,x,C){var v=this,u=v.view,B=x.parentNode,t=u.getStore(),H=[],G,E,y,F,z,w,i,A;if(D.copy){G=D.records;D.records=[];for(E=0,y=G.length;E<y;E++){D.records.push(Ext.apply({},G[E].data))}}v.cancelExpand();if(C=="before"){F=B.insertBefore;z=[null,x];x=B}else{if(C=="after"){if(x.nextSibling){F=B.insertBefore;z=[null,x.nextSibling]}else{F=B.appendChild;z=[null]}x=B}else{if(!x.isExpanded()){w=true}F=x.appendChild;z=[null]}}i=function(){var a;for(E=0,y=D.records.length;E<y;E++){z[0]=D.records[E];a=F.apply(x,z);if(Ext.enableFx&&v.dropHighlight){H.push(u.getNode(a))}}if(Ext.enableFx&&v.dropHighlight){Ext.Array.forEach(H,function(b){if(b){Ext.fly(b.firstChild?b.firstChild:b).highlight(v.dropHighlightColor)}})}};if(w){x.expand(false,i)}else{i()}}});Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,ddGroup:"TreeDD",expandDelay:1000,enableDrop:true,enableDrag:true,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,init:function(b){b.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(d){var c=this;if(c.enableDrag){c.dragZone=Ext.create("Ext.tree.ViewDragZone",{view:d,ddGroup:c.dragGroup||c.ddGroup,dragText:c.dragText,repairHighlightColor:c.nodeHighlightColor,repairHighlight:c.nodeHighlightOnRepair})}if(c.enableDrop){c.dropZone=Ext.create("Ext.tree.ViewDropZone",{view:d,ddGroup:c.dropGroup||c.ddGroup,allowContainerDrops:c.allowContainerDrops,appendOnly:c.appendOnly,allowParentInserts:c.allowParentInserts,expandDelay:c.expandDelay,dropHighlightColor:c.nodeHighlightColor,dropHighlight:c.nodeHighlightOnDrop})}}});Ext.define("Ext.util.Cookies",{singleton:true,set:function(r,p){var k=arguments,l=arguments.length,j=(l>2)?k[2]:null,m=(l>3)?k[3]:"/",q=(l>4)?k[4]:null,n=(l>5)?k[5]:false;document.cookie=r+"="+escape(p)+((j===null)?"":("; expires="+j.toGMTString()))+((m===null)?"":("; path="+m))+((q===null)?"":("; domain="+q))+((n===true)?"; secure":"")},get:function(l){var h=l+"=",j=h.length,i=document.cookie.length,k=0,m=0;while(k<i){m=k+j;if(document.cookie.substring(k,m)==h){return this.getCookieVal(m)}k=document.cookie.indexOf(" ",k)+1;if(k===0){break
}}return null},clear:function(d,c){if(this.get(d)){c=c||"/";document.cookie=d+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+c}},getCookieVal:function(c){var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length}return unescape(document.cookie.substring(c,d))}});Ext.define("Ext.util.CSS",function(){var h=null;var i=document;var e=/(-[a-z])/gi;var g=function(b,a){return a.charAt(1).toUpperCase()};return{singleton:true,constructor:function(){this.rules={};this.initialized=false},createStyleSheet:function(d,a){var m,n=i.getElementsByTagName("head")[0],b=i.createElement("style");b.setAttribute("type","text/css");if(a){b.setAttribute("id",a)}if(Ext.isIE){n.appendChild(b);m=b.styleSheet;m.cssText=d}else{try{b.appendChild(i.createTextNode(d))}catch(c){b.cssText=d}n.appendChild(b);m=b.styleSheet?b.styleSheet:(b.sheet||i.styleSheets[i.styleSheets.length-1])}this.cacheStyleSheet(m);return m},removeStyleSheet:function(a){var b=document.getElementById(a);if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(a,d){var b=document;this.removeStyleSheet(a);var c=b.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("id",a);c.setAttribute("href",d);b.getElementsByTagName("head")[0].appendChild(c)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(b){if(!h){h={}}try{var q=b.cssRules||b.rules,a,c=q.length-1,j,d;for(;c>=0;--c){a=q[c].selectorText;if(a){a=a.split(",");d=a.length;for(j=0;j<d;j++){h[Ext.String.trim(a[j]).toLowerCase()]=q[c]}}}}catch(r){}},getRules:function(d){if(h===null||d){h={};var b=i.styleSheets,c=0,m=b.length;for(;c<m;c++){try{if(!b[c].disabled){this.cacheStyleSheet(b[c])}}catch(a){}}}return h},getRule:function(d,b){var c=this.getRules(b);if(!Ext.isArray(d)){return c[d.toLowerCase()]}for(var a=0;a<d.length;a++){if(c[d[a]]){return c[d[a].toLowerCase()]}}return null},updateRule:function(l,b,c){if(!Ext.isArray(l)){var a=this.getRule(l);if(a){a.style[b.replace(e,g)]=c;return true}}else{for(var d=0;d<l.length;d++){if(this.updateRule(l[d],b,c)){return true}}}return false}}}());Ext.define("Ext.util.History",{singleton:true,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},constructor:function(){var b=this;b.oldIEMode=Ext.isIE6||Ext.isIE7||!Ext.isStrict&&Ext.isIE8;b.iframe=null;b.hiddenField=null;b.ready=false;b.currentToken=null},getHash:function(){var d=window.location.href,c=d.indexOf("#");return c>=0?d.substr(c+1):null},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(b){this.currentToken=b;this.fireEvent("change",b)},updateIFrame:function(e){var g='<html><body><div id="state">'+Ext.util.Format.htmlEncode(e)+"</div></body></html>";try{var h=this.iframe.contentWindow.document;h.open();h.write(g);h.close();return true}catch(i){return false}},checkIFrame:function(){var l=this,h=l.iframe.contentWindow;if(!h||!h.document){Ext.Function.defer(this.checkIFrame,10,this);return}var k=h.document,m=k.getElementById("state"),i=m?m.innerText:null,j=l.getHash();Ext.TaskManager.start({run:function(){var a=h.document,b=a.getElementById("state"),d=b?b.innerText:null,c=l.getHash();if(d!==i){i=d;l.handleStateChange(d);window.top.location.hash=d;j=d;l.doSave()}else{if(c!==j){j=c;l.updateIFrame(c)}}},interval:50,scope:l});l.ready=true;l.fireEvent("ready",l)},startUp:function(){var d=this;d.currentToken=d.hiddenField.value||this.getHash();if(d.oldIEMode){d.checkIFrame()}else{var c=d.getHash();Ext.TaskManager.start({run:function(){var a=d.getHash();if(a!==c){c=a;d.handleStateChange(c);d.doSave()}},interval:50,scope:d});d.ready=true;d.fireEvent("ready",d)}},fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",init:function(g,e){var d=this;if(d.ready){Ext.callback(g,e,[d]);return}if(!Ext.isReady){Ext.onReady(function(){d.init(g,e)});return}d.hiddenField=Ext.getDom(d.fieldId);if(d.oldIEMode){d.iframe=Ext.getDom(d.iframeId)}d.addEvents("ready","change");if(g){d.on("ready",g,e,{single:true})}d.startUp()},add:function(e,g){var d=this;if(g!==false){if(d.getToken()===e){return true
}}if(d.oldIEMode){return d.updateIFrame(e)}else{window.top.location.hash=e;return true}},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});Ext.define("Ext.view.TableChunker",{singleton:true,requires:["Ext.XTemplate"],metaTableTpl:["{[this.openTableWrap()]}",'<table class="'+Ext.baseCSSPrefix+"grid-table "+Ext.baseCSSPrefix+'grid-table-resizer" border="0" cellspacing="0" cellpadding="0" {[this.embedFullWidth()]}>',"<tbody>",'<tr class="'+Ext.baseCSSPrefix+'grid-header-row">','<tpl for="columns">','<th class="'+Ext.baseCSSPrefix+'grid-col-resizer-{id}" style="width: {width}px; height: 0px;"></th>',"</tpl>","</tr>","{[this.openRows()]}","{row}",'<tpl for="features">',"{[this.embedFeature(values, parent, xindex, xcount)]}","</tpl>","{[this.closeRows()]}","</tbody>","</table>","{[this.closeTableWrap()]}"],constructor:function(){Ext.XTemplate.prototype.recurse=function(c,d){return this.apply(d?c[d]:c)}},embedFeature:function(g,j,h,i){var k="";if(!g.disabled){k=g.getFeatureTpl(g,j,h,i)}return k},embedFullWidth:function(){return'style="width: {fullWidth}px;"'},openRows:function(){return'<tpl for="rows">'},closeRows:function(){return"</tpl>"},metaRowTpl:['<tr class="'+Ext.baseCSSPrefix+'grid-row {addlSelector} {[this.embedRowCls()]}" {[this.embedRowAttr()]}>','<tpl for="columns">','<td class="{cls} '+Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+'grid-cell-{columnId} {{id}-modified} {{id}-tdCls} {[this.firstOrLastCls(xindex, xcount)]}" {{id}-tdAttr}><div unselectable="on" class="'+Ext.baseCSSPrefix+"grid-cell-inner "+Ext.baseCSSPrefix+'unselectable" style="{{id}-style}; text-align: {align};">{{id}}</div></td>',"</tpl>","</tr>"],firstOrLastCls:function(d,g){var e="";if(d===1){e=Ext.baseCSSPrefix+"grid-cell-first"}else{if(d===g){e=Ext.baseCSSPrefix+"grid-cell-last"}}return e},embedRowCls:function(){return"{rowCls}"},embedRowAttr:function(){return"{rowAttr}"},openTableWrap:function(){return""},closeTableWrap:function(){return""},getTableTpl:function(p,w){var q,r={openRows:this.openRows,closeRows:this.closeRows,embedFeature:this.embedFeature,embedFullWidth:this.embedFullWidth,openTableWrap:this.openTableWrap,closeTableWrap:this.closeTableWrap},s={},v=p.features||[],i=v.length,t=0,n={embedRowCls:this.embedRowCls,embedRowAttr:this.embedRowAttr,firstOrLastCls:this.firstOrLastCls},u=Array.prototype.slice.call(this.metaRowTpl,0),x;for(;t<i;t++){if(!v[t].disabled){v[t].mutateMetaRowTpl(u);Ext.apply(n,v[t].getMetaRowTplFragments());Ext.apply(s,v[t].getFragmentTpl());Ext.apply(r,v[t].getTableFragments())}}u=Ext.create("Ext.XTemplate",u.join(""),n);p.row=u.applyTemplate(p);x=Ext.create("Ext.XTemplate",this.metaTableTpl.join(""),r);q=x.applyTemplate(p);if(!w){q=Ext.create("Ext.XTemplate",q,s)}return q}});