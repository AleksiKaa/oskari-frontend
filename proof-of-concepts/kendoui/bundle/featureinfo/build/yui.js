/* This is a packed Oskari bundle (bundle script version Thu May 31 2012 11:28:45 GMT+0300 (Suomen kes√§aika)) */ 
Oskari.clazz.define("Oskari.poc.kendoui.bundle.FeatureInfoBundleInstance",function(){this.map=null;this.core=null;this.sandbox=null;this.mapmodule=null;this.started=false;this.plugins={}},{__name:"Oskari.poc.kendoui.bundle.FeatureInfoBundleInstance",getName:function(){return this.__name},getSandbox:function(){return this.sandbox},start:function(){if(this.started){return}this.started=true;var a=Oskari.$("sandbox");this.sandbox=a;a.register(this);for(p in this.eventHandlers){a.registerForEventByName(this,p)}var b=a.getRequestBuilder("userinterface.AddExtensionRequest")(this);a.request(this,b)},init:function(){return null},update:function(){},afterChangeMapLayerOpacityEvent:function(a){},onEvent:function(b){var a=this.eventHandlers[b.getName()];if(!a){return}return a.apply(this,[b])},eventHandlers:{AfterMapLayerAddEvent:function(a){this.plugins["Oskari.userinterface.Flyout"].refresh()},AfterMapLayerRemoveEvent:function(a){this.refresh()},AfterMapMoveEvent:function(a){},AfterChangeMapLayerOpacityEvent:function(a){if(this.sandbox.getObjectCreator(a)!=this.getName()){this.afterChangeMapLayerOpacityEvent(a)}}},stop:function(){var a=this.sandbox;for(p in this.eventHandlers){a.unregisterFromEventByName(this,p)}var b=a.getRequestBuilder("userinterface.RemoveExtensionRequest")(this);a.request(this,b);this.sandbox.unregister(this);this.started=false},setSandbox:function(a){this.sandbox=null},startExtension:function(){this.plugins["Oskari.userinterface.Flyout"]=Oskari.clazz.create("Oskari.poc.kendoui.featureinfo.Flyout",this);this.plugins["Oskari.userinterface.Tile"]=Oskari.clazz.create("Oskari.poc.kendoui.featureinfo.Tile",this)},stopExtension:function(){this.plugins["Oskari.userinterface.Flyout"]=null;this.plugins["Oskari.userinterface.Tile"]=null},getTitle:function(){return"Layer Selection"},getDescription:function(){return"Sample"},getPlugins:function(){return this.plugins}},{protocol:["Oskari.bundle.BundleInstance","Oskari.mapframework.module.Module","Oskari.userinterface.Extension"]});Oskari.clazz.define("Oskari.poc.kendoui.featureinfo.Flyout",function(a){this.instance=a;this.container=null;this.template=null;this.state=null},{getName:function(){return"Oskari.poc.kendoui.featureinfo.Flyout"},setEl:function(c,b,a){this.container=$(c)},startPlugin:function(){this.template=$('<div class="featureinfo"></div>');this.refresh()},stopPlugin:function(){this.container.empty()},getTitle:function(){return"Valitut karttatasot"},getDescription:function(){},getOptions:function(){},setState:function(a){this.state=a;console.log("Flyout.setState",this,a)},refresh:function(){var c=["Nancy","Andrew","Janet","Margaret","Steven","Michael","Robert","Laura","Anne","Nige"],g=["Davolio","Fuller","Leverling","Peacock","Buchanan","Suyama","King","Callahan","Dodsworth","White"],j=["Seattle","Tacoma","Kirkland","Redmond","London","Philadelphia","New York","Seattle","London","Boston"],e=["Accountant","Vice President, Sales","Sales Representative","Technical Support","Sales Manager","Web Designer","Software Developer","Inside Sales Coordinator","Chief Techical Officer","Chief Execute Officer"],m=[new Date("1948/12/08"),new Date("1952/02/19"),new Date("1963/08/30"),new Date("1937/09/19"),new Date("1955/03/04"),new Date("1963/07/02"),new Date("1960/05/29"),new Date("1958/01/09"),new Date("1966/01/27"),new Date("1966/03/27")];function n(u){var r=[],o=new Date();for(var s=0;s<u;s++){var x=c[Math.floor(Math.random()*c.length)],y=g[Math.floor(Math.random()*g.length)],q=j[Math.floor(Math.random()*j.length)],v=e[Math.floor(Math.random()*e.length)],t=m[Math.floor(Math.random()*m.length)],w=o.getFullYear()-t.getFullYear();r.push({Id:s+1,FirstName:x,LastName:y,City:q,Title:v,BirthDate:t,Age:w})}return r}var i=this;var l=i.instance;var h=this.container;var f=this.template;var k=l.getSandbox();var a=k.getRequestBuilder("ChangeMapLayerOpacityRequest");var d=k.findAllSelectedMapLayers();h.empty();var b=$(f).clone();b.appendTo(h);$(b).kendoGrid({dataSource:{data:n(100000),pageSize:50},height:280,scrollable:{virtual:true},columns:["Id","FirstName","LastName","City","Title"]})}},{protocol:["Oskari.userinterface.Flyout"]});
Oskari.clazz.define("Oskari.poc.kendoui.featureinfo.Tile",function(a){this.instance=a;this.container=null;this.template=null},{getName:function(){return"Oskari.poc.kendoui.featureinfo.Tile"},setEl:function(c,b,a){this.container=$(c)},startPlugin:function(){this.refresh()},stopPlugin:function(){this.container.empty()},getTitle:function(){return"Kohdetiedot"},getDescription:function(){},getOptions:function(){},setState:function(a){console.log("Tile.setState",this,a)},refresh:function(){var f=this;var a=f.instance;var e=this.container;var d=this.template;var c=a.getSandbox();var g=c.findAllSelectedMapLayers();var b=e.children(".oskari-tile-status")}},{protocol:["Oskari.userinterface.Tile"]});