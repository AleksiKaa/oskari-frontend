<div class="admin-add-group">
    <div class="add-group-wrapper">
        <div class="add-class-grouping" title="<%= instance.locale('admin.groupTitle') %>"><%= instance.locale('admin.groupTitle') %></div>

    <%
        var names = model.getNameLanguages();
        for (var i = 0; i < names.length; i++) {
            var lang = names[i] %>
            <div class="add-group-record">
                <div class="add-class-label-area">
                    <label for="add-class-<%= lang %>-name" class="add-class-label" title="<%= instance.locale('admin.'+lang+'.title') %>"><%= instance.locale('admin.'+lang).lang ? instance.locale('admin.'+lang).lang : instance.locale('admin.'+lang+'.lang') %></label>
                </div>
                <div  class="add-class-input-area">
                    <div class="input-controls">
                        <input type="text" id="add-group-<%= lang %>-name" class="add-class-input mid" placeholder="<%= instance.locale('admin.'+lang).placeholder ? instance.locale('admin.'+lang).placeholder : instance.locale('admin.generic.placeholder',{lang:lang}) %>" value="<%= model.getName(lang) %>" />
                        <div class="icon-close"></div>
                    </div>
                </div>
            </div>
    <% } %>

        <div class="add-layer-record">
            <div class="add-layer-label-area">
                <label for="select-dataprovider" class="add-layer-label"  title="<%= instance.locale('admin.addDataproviderDesc') %>"><%= instance.locale('admin.addDataprovider') %></label>
            </div>
            <div class="add-layer-input-area">
                <div class="input-controls">
                <select id="select-dataprovider" class="add-layer-input mid">
                    <% for(var i = 0; dataProviders != null && i < dataProviders.length; i++) { %>
                    <option value="<%= dataProviders[i].id %>" <% if(model.getOrganizationName() == dataProviders[i].name ) { %>selected<% } %> ><%= dataProviders[i].name %></option>
                    <% } %>
                </select>
                </div>
                <button id="add-dataprovider-button" class="add-dataprovider-button"><%= instance.locale('admin.addDataproviderButton') %></button>
            </div>
        </div>

        <div class="add-layer-record">
        <div class="add-layer-label-area">
            <%= instance.locale('admin.maplayerGroups') %>
        </div>
        <div class="add-layer-input-area">
                <div class="input-controls">
                    <div class="admin-maplayer-groups-list">
                        <% for(var i = 0; maplayerGroups != null && i < maplayerGroups.length; i++) { %>
                           <div class="admin-maplayer-group" data-group-id="<%= maplayerGroups[i].id %>"><%= maplayerGroups[i].name %></div>
                        <% } %>

                    </div>
                </div>
                <button id="select-maplayer-groups-button" class="select-maplayer-groups-button"><%= instance.locale('admin.selectMaplayerGroupsButton') %></button>
            </div>
        </div>

        <% if(model != null && !model.getId()) { %>
        <!-- roles -->
        <div class="add-class-record">
            <div class="add-class-label-area">
                <label for="" class="add-class-label" title="<%= instance.locale('admin.roles_for_admin') %>"><%= instance.locale('admin.viewingRightsRoles') %></label>
            </div>
            <div class="add-class-input-area adjacent">
                 <% for(var i = 0; i < roles.length; i++) { %>
                 <div class="input-controls">
                    <label><%= roles[i].name %> <input type="checkbox" class="add-class-input layer-view-role" data-role-id="<%= roles[i].id %>" placeholder="placeholder"  value="<%= roles[i].id %>" <%= roles[i].name === 'Admin' ? 'checked="checked"' : '' %> /></label>
                 </div>
                <% } %>
            </div>
        </div>
        <% } %>
        <div class="add-group-send">
            <div class="add-class-button-area">
                <div class="input-controls buttons">
                    <% if(!model.getId()) { %>
                    <button class="add-class-btn admin-add-group-ok" title="<%= groupTitle === 'baseName' ? instance.locale('admin.addNewBaseLayer') : instance.locale('admin.addNewGroupLayer') %>"><%= instance.locale('add') %></button>
                    <button class="add-class-btn admin-add-group-cancel" title="<%= instance.locale('cancel') %>"><%= instance.locale('cancel') %></button>
                    <% } else { %>
                    <button class="add-class-btn admin-remove-group" data-id="<%= model.getId() %>" title="<%= instance.locale('delete') %>"><%= instance.locale('delete') %></button
                    >
                    <button class="add-class-btn admin-add-group-cancel" title="<%= instance.locale('cancel') %>"><%= instance.locale('cancel') %></button>
                    <button class="add-class-btn admin-add-group-ok" title="<%= groupTitle === 'baseName' ? instance.locale('admin.addNewBaseLayer') : instance.locale('admin.addNewGroupLayer') %>"><%= instance.locale('save') %></button>
                    <% } %>

                </div>
            </div>
        </div>
        <!-- sublayers for groups that have been saved already -->
        <div class="add-group-record">
            <div class="add-class-grouping" title="<%= instance.locale('admin.subLayers') %>"><%= instance.locale('admin.subLayers') %> </div>
            <% for (var i = 0; i < subLayers.length; ++i) { %>
                <%= subLayerTemplate({subLayer: subLayers[i], index: i}) %>
            <% } %>
            <div class="add-sublayer-wrapper">
                <% if(model.getId()) { %>
                    <button class="add-class-btn admin-add-sublayer"><%= instance.locale('admin.addSubLayer') %></button>
                <% } else { %>
                Save collection layer first
                <% } %>
            </div>
        </div>


    </div>
</div>
