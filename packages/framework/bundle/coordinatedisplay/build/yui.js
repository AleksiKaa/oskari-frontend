/* This is a packed Oskari bundle (bundle script version Thu May 31 2012 12:23:19 GMT+0300 (Suomen kes√§aika)) */ 
Oskari.clazz.define("Oskari.framework.bundle.coordinatedisplay.CoordinateDisplayBundleInstance",function(){this.sandbox=null;this.started=false;this.plugins={};this.yuilibrary=null;this.mediator=null},{__name:"coordinatedisplay",getName:function(){var a=this;return a.__name},__title:"Coordinate Display",getTitle:function(){var a=this;return a.__title},__description:"Coordinate Display",getDescription:function(){var a=this;return a.__description},setSandbox:function(a){var b=this;b.sandbox=a},getSandbox:function(){var a=this;return a.sandbox},update:function(){var a=this},startExtension:function(){var b=this;var a=Oskari.clazz.create("Oskari.framework.bundle.coordinatedisplay.CoordinateDisplayDiv",b);a.setParent(jQuery("#mapdiv"));b.plugins["Oskari.userinterface.SimpleDiv"]=a},stopExtension:function(){var a=this;for(var b in a.plugins){if(b){a.plugins[b]=null}}},getPlugins:function(){var a=this;return a.plugins},start:function(){var c=this;if(c.started){return}c.started=true;var a=Oskari.$("sandbox");a.register(c);c.setSandbox(a);for(var d in c.eventHandlers){if(d){a.registerForEventByName(c,d)}}var b=a.getRequestBuilder("userinterface.AddExtensionRequest")(this);a.request(this,b);c.mediator.bundle.require(function(){c.draw()})},init:function(){var a=this;return null},onEvent:function(c){var b=this;var a=b.eventHandlers[c.getName()];if(!a){return}return a.apply(this,[c])},eventHandlers:{MouseHoverEvent:function(b){var a=this;a.plugins["Oskari.userinterface.SimpleDiv"].refresh({latlon:{lat:Math.floor(b.getLat()),lon:Math.floor(b.getLon())}})}},stop:function(){var c=this;var a=c.sandbox();for(var d in c.eventHandlers){if(d){a.unregisterFromEventByName(c,d)}}var b=a.getRequestBuilder("userinterface.RemoveExtensionRequest")(c);a.request(c,b);c.sandbox.unregister(c);c.started=false},draw:function(){var a=this;for(var b in a.plugins){if(b){a.plugins[b].draw()}}}},{protocol:["Oskari.bundle.BundleInstance","Oskari.mapframework.module.Module","Oskari.userinterface.Extension"]});Oskari.clazz.define("Oskari.framework.bundle.coordinatedisplay.CoordinateDisplayDiv",function(){this.__parent=null;this.__elements={};this.__templates={};this.__templates.latlondiv=jQuery('<div class="cbDiv"> <div class="cbSpansWrapper"> <div class="cbRow">  <span class="cbLabel" axis="lat">N: </span>  <span class="cbValue" axis="lat"></span> </div> <div class="cbRow">  <span class="cbLabel" axis="lon">E: </span>  <span class="cbValue" axis="lon"></span> </div> </div> <div class="cbSelection">  <div style="float:left">ETRS89</div>  <div class="cbArrowDown"></div>  <br clear="both"> </div></div>')},{__name:"Oskari.framework.bundle.coordinatedisplay.CoordinateDisplayDiv",getName:function(){var a=this;return a.__name},setParent:function(b){var a=this;if(a.__parent){a.__parent.detach(a.__elements.etrs89)}if(b){a.__parent=b;if(a.__elements.etrs89){a.__parent.append(a.__elements.etrs89)}}},getParent:function(){var a=this;return a.__parent},getElement:function(){var a=this;return a.__elements.etrs89},startPlugin:function(){var a=this},stopPlugin:function(){var a=this;a.setParent(null);a.__elements.etrs89=null},draw:function(){var a=this;if(!a.__parent){a.__parent=document}if(!a.__elements.etrs89){a.__elements.etrs89=a.__templates.latlondiv.clone()}jQuery(a.__parent).append(a.__elements.etrs89);jQuery(a.__elements.etrs89).show()},refresh:function(d){if(!(d.type==b)){throw ("CoordinateDisplay.refresh() can not find 'latlon' in args!")}var c=this;var b=d.latlon;var e=c.__elements.etrs89.find('.cbValue[axis="lat"]');var a=c.__elements.etrs89.find('.cbValue[axis="lon"]');if(e&&a){e.text(b.lat);a.text(b.lon)}else{throw ("CoordinateDisplay.refresh() could not find spans!")}}},{protocol:["Oskari.userinterface.SimpleDiv"]});